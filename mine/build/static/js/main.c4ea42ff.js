/*! For license information please see main.c4ea42ff.js.LICENSE.txt */
!function(){var e={8077:function(e){function t(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}e.exports=t,t.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),n=Math.floor(t*this.jitter*e);e=0==(1&Math.floor(10*t))?e-n:e+n}return 0|Math.min(e,this.max)},t.prototype.reset=function(){this.attempts=0},t.prototype.setMin=function(e){this.ms=e},t.prototype.setMax=function(e){this.max=e},t.prototype.setJitter=function(e){this.jitter=e}},934:function(e,t){!function(e){"use strict";t.encode=function(t){var n,r=new Uint8Array(t),i=r.length,a="";for(n=0;n<i;n+=3)a+=e[r[n]>>2],a+=e[(3&r[n])<<4|r[n+1]>>4],a+=e[(15&r[n+1])<<2|r[n+2]>>6],a+=e[63&r[n+2]];return i%3===2?a=a.substring(0,a.length-1)+"=":i%3===1&&(a=a.substring(0,a.length-2)+"=="),a},t.decode=function(t){var n,r,i,a,o,s=.75*t.length,l=t.length,c=0;"="===t[t.length-1]&&(s--,"="===t[t.length-2]&&s--);var u=new ArrayBuffer(s),d=new Uint8Array(u);for(n=0;n<l;n+=4)r=e.indexOf(t[n]),i=e.indexOf(t[n+1]),a=e.indexOf(t[n+2]),o=e.indexOf(t[n+3]),d[c++]=r<<2|i>>4,d[c++]=(15&i)<<4|a>>2,d[c++]=(3&a)<<6|63&o;return u}}("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/")},1694:function(e,t){var n;!function(){"use strict";var r={}.hasOwnProperty;function i(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var a=typeof n;if("string"===a||"number"===a)e.push(n);else if(Array.isArray(n)){if(n.length){var o=i.apply(null,n);o&&e.push(o)}}else if("object"===a){if(n.toString!==Object.prototype.toString&&!n.toString.toString().includes("[native code]")){e.push(n.toString());continue}for(var s in n)r.call(n,s)&&n[s]&&e.push(s)}}}return e.join(" ")}e.exports?(i.default=i,e.exports=i):void 0===(n=function(){return i}.apply(t,[]))||(e.exports=n)}()},9773:function(e){function t(e){if(e)return function(e){for(var n in t.prototype)e[n]=t.prototype[n];return e}(e)}e.exports=t,t.prototype.on=t.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this},t.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this},t.prototype.off=t.prototype.removeListener=t.prototype.removeAllListeners=t.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n,r=this._callbacks["$"+e];if(!r)return this;if(1==arguments.length)return delete this._callbacks["$"+e],this;for(var i=0;i<r.length;i++)if((n=r[i])===t||n.fn===t){r.splice(i,1);break}return 0===r.length&&delete this._callbacks["$"+e],this},t.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),n=this._callbacks["$"+e],r=1;r<arguments.length;r++)t[r-1]=arguments[r];if(n){r=0;for(var i=(n=n.slice(0)).length;r<i;++r)n[r].apply(this,t)}return this},t.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]},t.prototype.hasListeners=function(e){return!!this.listeners(e).length}},8392:function(e,t,n){t.formatArgs=function(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;var n="color: "+this.color;t.splice(1,0,n,"color: inherit");var r=0,i=0;t[0].replace(/%[a-zA-Z%]/g,(function(e){"%%"!==e&&(r++,"%c"===e&&(i=r))})),t.splice(i,0,n)},t.save=function(e){try{e?t.storage.setItem("debug",e):t.storage.removeItem("debug")}catch(n){}},t.load=function(){var e;try{e=t.storage.getItem("debug")}catch(n){}!e&&"undefined"!==typeof process&&"env"in process&&(e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.DEBUG);return e},t.useColors=function(){if("undefined"!==typeof window&&window.process&&("renderer"===window.process.type||window.process.__nwjs))return!0;if("undefined"!==typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;return"undefined"!==typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!==typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!==typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!==typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},t.storage=function(){try{return localStorage}catch(e){}}(),t.destroy=function(){var e=!1;return function(){e||(e=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}}(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],t.log=console.debug||console.log||function(){},e.exports=n(8472)(t),e.exports.formatters.j=function(e){try{return JSON.stringify(e)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}}},8472:function(e,t,n){var r=n(861).default;e.exports=function(e){function t(e){var n,r,a,o=null;function s(){for(var e=arguments.length,r=new Array(e),i=0;i<e;i++)r[i]=arguments[i];if(s.enabled){var a=s,o=Number(new Date),l=o-(n||o);a.diff=l,a.prev=n,a.curr=o,n=o,r[0]=t.coerce(r[0]),"string"!==typeof r[0]&&r.unshift("%O");var c=0;r[0]=r[0].replace(/%([a-zA-Z%])/g,(function(e,n){if("%%"===e)return"%";c++;var i=t.formatters[n];if("function"===typeof i){var o=r[c];e=i.call(a,o),r.splice(c,1),c--}return e})),t.formatArgs.call(a,r);var u=a.log||t.log;u.apply(a,r)}}return s.namespace=e,s.useColors=t.useColors(),s.color=t.selectColor(e),s.extend=i,s.destroy=t.destroy,Object.defineProperty(s,"enabled",{enumerable:!0,configurable:!1,get:function(){return null!==o?o:(r!==t.namespaces&&(r=t.namespaces,a=t.enabled(e)),a)},set:function(e){o=e}}),"function"===typeof t.init&&t.init(s),s}function i(e,n){var r=t(this.namespace+("undefined"===typeof n?":":n)+e);return r.log=this.log,r}function a(e){return e.toString().substring(2,e.toString().length-2).replace(/\.\*\?$/,"*")}return t.debug=t,t.default=t,t.coerce=function(e){if(e instanceof Error)return e.stack||e.message;return e},t.disable=function(){var e=[].concat(r(t.names.map(a)),r(t.skips.map(a).map((function(e){return"-"+e})))).join(",");return t.enable(""),e},t.enable=function(e){var n;t.save(e),t.namespaces=e,t.names=[],t.skips=[];var r=("string"===typeof e?e:"").split(/[\s,]+/),i=r.length;for(n=0;n<i;n++)r[n]&&("-"===(e=r[n].replace(/\*/g,".*?"))[0]?t.skips.push(new RegExp("^"+e.slice(1)+"$")):t.names.push(new RegExp("^"+e+"$")))},t.enabled=function(e){if("*"===e[e.length-1])return!0;var n,r;for(n=0,r=t.skips.length;n<r;n++)if(t.skips[n].test(e))return!1;for(n=0,r=t.names.length;n<r;n++)if(t.names[n].test(e))return!0;return!1},t.humanize=n(8193),t.destroy=function(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(e).forEach((function(n){t[n]=e[n]})),t.names=[],t.skips=[],t.formatters={},t.selectColor=function(e){for(var n=0,r=0;r<e.length;r++)n=(n<<5)-n+e.charCodeAt(r),n|=0;return t.colors[Math.abs(n)%t.colors.length]},t.enable(t.load()),t}},888:function(e){e.exports="undefined"!==typeof self?self:"undefined"!==typeof window?window:Function("return this")()},2370:function(e,t,n){var r=n(225);e.exports=function(e,t){return new r(e,t)},e.exports.Socket=r,e.exports.protocol=r.protocol,e.exports.Transport=n(1221),e.exports.transports=n(6624),e.exports.parser=n(5621)},225:function(e,t,n){var r=n(6690).default,i=n(9728).default,a=n(1655).default,o=n(6389).default,s=n(6624),l=n(9773),c=n(8392)("engine.io-client:socket"),u=n(5621),d=n(1176),f=n(5988),h=function(e){"use strict";a(n,e);var t=o(n);function n(e){var i,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return r(this,n),i=t.call(this),e&&"object"===typeof e&&(a=e,e=null),e?(e=d(e),a.hostname=e.host,a.secure="https"===e.protocol||"wss"===e.protocol,a.port=e.port,e.query&&(a.query=e.query)):a.host&&(a.hostname=d(a.host).host),i.secure=null!=a.secure?a.secure:"undefined"!==typeof location&&"https:"===location.protocol,a.hostname&&!a.port&&(a.port=i.secure?"443":"80"),i.hostname=a.hostname||("undefined"!==typeof location?location.hostname:"localhost"),i.port=a.port||("undefined"!==typeof location&&location.port?location.port:i.secure?443:80),i.transports=a.transports||["polling","websocket"],i.readyState="",i.writeBuffer=[],i.prevBufferLen=0,i.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,jsonp:!0,timestampParam:"t",rememberUpgrade:!1,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{}},a),i.opts.path=i.opts.path.replace(/\/$/,"")+"/","string"===typeof i.opts.query&&(i.opts.query=f.decode(i.opts.query)),i.id=null,i.upgrades=null,i.pingInterval=null,i.pingTimeout=null,i.pingTimeoutTimer=null,"function"===typeof addEventListener&&(addEventListener("beforeunload",(function(){i.transport&&(i.transport.removeAllListeners(),i.transport.close())}),!1),"localhost"!==i.hostname&&(i.offlineEventListener=function(){i.onClose("transport close")},addEventListener("offline",i.offlineEventListener,!1))),i.open(),i}return i(n,[{key:"createTransport",value:function(e){c('creating transport "%s"',e);var t=function(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}(this.opts.query);t.EIO=u.protocol,t.transport=e,this.id&&(t.sid=this.id);var n=Object.assign({},this.opts.transportOptions[e],this.opts,{query:t,socket:this,hostname:this.hostname,secure:this.secure,port:this.port});return c("options: %j",n),new s[e](n)}},{key:"open",value:function(){var e;if(this.opts.rememberUpgrade&&n.priorWebsocketSuccess&&-1!==this.transports.indexOf("websocket"))e="websocket";else{if(0===this.transports.length){var t=this;return void setTimeout((function(){t.emit("error","No transports available")}),0)}e=this.transports[0]}this.readyState="opening";try{e=this.createTransport(e)}catch(r){return c("error while creating transport: %s",r),this.transports.shift(),void this.open()}e.open(),this.setTransport(e)}},{key:"setTransport",value:function(e){c("setting transport %s",e.name);var t=this;this.transport&&(c("clearing existing transport %s",this.transport.name),this.transport.removeAllListeners()),this.transport=e,e.on("drain",(function(){t.onDrain()})).on("packet",(function(e){t.onPacket(e)})).on("error",(function(e){t.onError(e)})).on("close",(function(){t.onClose("transport close")}))}},{key:"probe",value:function(e){c('probing transport "%s"',e);var t=this.createTransport(e,{probe:1}),r=!1,i=this;function a(){if(i.onlyBinaryUpgrades){var a=!this.supportsBinary&&i.transport.supportsBinary;r=r||a}r||(c('probe transport "%s" opened',e),t.send([{type:"ping",data:"probe"}]),t.once("packet",(function(a){if(!r)if("pong"===a.type&&"probe"===a.data){if(c('probe transport "%s" pong',e),i.upgrading=!0,i.emit("upgrading",t),!t)return;n.priorWebsocketSuccess="websocket"===t.name,c('pausing current transport "%s"',i.transport.name),i.transport.pause((function(){r||"closed"!==i.readyState&&(c("changing transport and sending upgrade packet"),f(),i.setTransport(t),t.send([{type:"upgrade"}]),i.emit("upgrade",t),t=null,i.upgrading=!1,i.flush())}))}else{c('probe transport "%s" failed',e);var o=new Error("probe error");o.transport=t.name,i.emit("upgradeError",o)}})))}function o(){r||(r=!0,f(),t.close(),t=null)}function s(n){var r=new Error("probe error: "+n);r.transport=t.name,o(),c('probe transport "%s" failed because of error: %s',e,n),i.emit("upgradeError",r)}function l(){s("transport closed")}function u(){s("socket closed")}function d(e){t&&e.name!==t.name&&(c('"%s" works - aborting "%s"',e.name,t.name),o())}function f(){t.removeListener("open",a),t.removeListener("error",s),t.removeListener("close",l),i.removeListener("close",u),i.removeListener("upgrading",d)}n.priorWebsocketSuccess=!1,t.once("open",a),t.once("error",s),t.once("close",l),this.once("close",u),this.once("upgrading",d),t.open()}},{key:"onOpen",value:function(){if(c("socket open"),this.readyState="open",n.priorWebsocketSuccess="websocket"===this.transport.name,this.emit("open"),this.flush(),"open"===this.readyState&&this.opts.upgrade&&this.transport.pause){c("starting upgrade probes");for(var e=0,t=this.upgrades.length;e<t;e++)this.probe(this.upgrades[e])}}},{key:"onPacket",value:function(e){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)switch(c('socket receive: type "%s", data "%s"',e.type,e.data),this.emit("packet",e),this.emit("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this.resetPingTimeout(),this.sendPacket("pong"),this.emit("pong");break;case"error":var t=new Error("server error");t.code=e.data,this.onError(t);break;case"message":this.emit("data",e.data),this.emit("message",e.data)}else c('packet received with socket readyState "%s"',this.readyState)}},{key:"onHandshake",value:function(e){this.emit("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this.upgrades=this.filterUpgrades(e.upgrades),this.pingInterval=e.pingInterval,this.pingTimeout=e.pingTimeout,this.onOpen(),"closed"!==this.readyState&&this.resetPingTimeout()}},{key:"resetPingTimeout",value:function(){var e=this;clearTimeout(this.pingTimeoutTimer),this.pingTimeoutTimer=setTimeout((function(){e.onClose("ping timeout")}),this.pingInterval+this.pingTimeout),this.opts.autoUnref&&this.pingTimeoutTimer.unref()}},{key:"onDrain",value:function(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,0===this.writeBuffer.length?this.emit("drain"):this.flush()}},{key:"flush",value:function(){"closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length&&(c("flushing %d packets in socket",this.writeBuffer.length),this.transport.send(this.writeBuffer),this.prevBufferLen=this.writeBuffer.length,this.emit("flush"))}},{key:"write",value:function(e,t,n){return this.sendPacket("message",e,t,n),this}},{key:"send",value:function(e,t,n){return this.sendPacket("message",e,t,n),this}},{key:"sendPacket",value:function(e,t,n,r){if("function"===typeof t&&(r=t,t=void 0),"function"===typeof n&&(r=n,n=null),"closing"!==this.readyState&&"closed"!==this.readyState){(n=n||{}).compress=!1!==n.compress;var i={type:e,data:t,options:n};this.emit("packetCreate",i),this.writeBuffer.push(i),r&&this.once("flush",r),this.flush()}}},{key:"close",value:function(){var e=this;function t(){e.onClose("forced close"),c("socket closing - telling transport to close"),e.transport.close()}function n(){e.removeListener("upgrade",n),e.removeListener("upgradeError",n),t()}function r(){e.once("upgrade",n),e.once("upgradeError",n)}return"opening"!==this.readyState&&"open"!==this.readyState||(this.readyState="closing",this.writeBuffer.length?this.once("drain",(function(){this.upgrading?r():t()})):this.upgrading?r():t()),this}},{key:"onError",value:function(e){c("socket error %j",e),n.priorWebsocketSuccess=!1,this.emit("error",e),this.onClose("transport error",e)}},{key:"onClose",value:function(e,t){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState){c('socket close with reason: "%s"',e);clearTimeout(this.pingIntervalTimer),clearTimeout(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),"function"===typeof removeEventListener&&removeEventListener("offline",this.offlineEventListener,!1),this.readyState="closed",this.id=null,this.emit("close",e,t),this.writeBuffer=[],this.prevBufferLen=0}}},{key:"filterUpgrades",value:function(e){for(var t=[],n=0,r=e.length;n<r;n++)~this.transports.indexOf(e[n])&&t.push(e[n]);return t}}]),n}(l);h.priorWebsocketSuccess=!1,h.protocol=u.protocol,e.exports=h},1221:function(e,t,n){var r=n(6690).default,i=n(9728).default,a=n(1655).default,o=n(6389).default,s=n(5621),l=n(9773),c=n(8392)("engine.io-client:transport"),u=function(e){"use strict";a(n,e);var t=o(n);function n(e){var i;return r(this,n),(i=t.call(this)).opts=e,i.query=e.query,i.readyState="",i.socket=e.socket,i}return i(n,[{key:"onError",value:function(e,t){var n=new Error(e);return n.type="TransportError",n.description=t,this.emit("error",n),this}},{key:"open",value:function(){return"closed"!==this.readyState&&""!==this.readyState||(this.readyState="opening",this.doOpen()),this}},{key:"close",value:function(){return"opening"!==this.readyState&&"open"!==this.readyState||(this.doClose(),this.onClose()),this}},{key:"send",value:function(e){"open"===this.readyState?this.write(e):c("transport is not open, discarding packets")}},{key:"onOpen",value:function(){this.readyState="open",this.writable=!0,this.emit("open")}},{key:"onData",value:function(e){var t=s.decodePacket(e,this.socket.binaryType);this.onPacket(t)}},{key:"onPacket",value:function(e){this.emit("packet",e)}},{key:"onClose",value:function(){this.readyState="closed",this.emit("close")}}]),n}(l);e.exports=u},6624:function(e,t,n){var r=n(7536),i=n(9812),a=n(5479),o=n(9747);t.polling=function(e){var t=!1,n=!1,o=!1!==e.jsonp;if("undefined"!==typeof location){var s="https:"===location.protocol,l=location.port;l||(l=s?443:80),t=e.hostname!==location.hostname||l!==e.port,n=e.secure!==s}if(e.xdomain=t,e.xscheme=n,"open"in new r(e)&&!e.forceJSONP)return new i(e);if(!o)throw new Error("JSONP disabled");return new a(e)},t.websocket=o},5479:function(e,t,n){var r,i=n(6690).default,a=n(9728).default,o=n(6115).default,s=n(1588).default,l=n(3808).default,c=n(1655).default,u=n(6389).default,d=n(1857),f=n(888),h=/\n/g,p=/\\n/g,m=function(e){"use strict";c(n,e);var t=u(n);function n(e){var a;i(this,n),(a=t.call(this,e)).query=a.query||{},r||(r=f.___eio=f.___eio||[]),a.index=r.length;var s=o(a);return r.push((function(e){s.onData(e)})),a.query.j=a.index,a}return a(n,[{key:"supportsBinary",get:function(){return!1}},{key:"doClose",value:function(){this.script&&(this.script.onerror=function(){},this.script.parentNode.removeChild(this.script),this.script=null),this.form&&(this.form.parentNode.removeChild(this.form),this.form=null,this.iframe=null),s(l(n.prototype),"doClose",this).call(this)}},{key:"doPoll",value:function(){var e=this,t=document.createElement("script");this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),t.async=!0,t.src=this.uri(),t.onerror=function(t){e.onError("jsonp poll error",t)};var n=document.getElementsByTagName("script")[0];n?n.parentNode.insertBefore(t,n):(document.head||document.body).appendChild(t),this.script=t,"undefined"!==typeof navigator&&/gecko/i.test(navigator.userAgent)&&setTimeout((function(){var e=document.createElement("iframe");document.body.appendChild(e),document.body.removeChild(e)}),100)}},{key:"doWrite",value:function(e,t){var n,r=this;if(!this.form){var i=document.createElement("form"),a=document.createElement("textarea"),o=this.iframeId="eio_iframe_"+this.index;i.className="socketio",i.style.position="absolute",i.style.top="-1000px",i.style.left="-1000px",i.target=o,i.method="POST",i.setAttribute("accept-charset","utf-8"),a.name="d",i.appendChild(a),document.body.appendChild(i),this.form=i,this.area=a}function s(){l(),t()}function l(){if(r.iframe)try{r.form.removeChild(r.iframe)}catch(t){r.onError("jsonp polling iframe removal error",t)}try{var e='<iframe src="javascript:0" name="'+r.iframeId+'">';n=document.createElement(e)}catch(t){(n=document.createElement("iframe")).name=r.iframeId,n.src="javascript:0"}n.id=r.iframeId,r.form.appendChild(n),r.iframe=n}this.form.action=this.uri(),l(),e=e.replace(p,"\\\n"),this.area.value=e.replace(h,"\\n");try{this.form.submit()}catch(c){}this.iframe.attachEvent?this.iframe.onreadystatechange=function(){"complete"===r.iframe.readyState&&s()}:this.iframe.onload=s}}]),n}(d);e.exports=m},9812:function(e,t,n){var r=n(6690).default,i=n(9728).default,a=n(1655).default,o=n(6389).default,s=n(7536),l=n(1857),c=n(9773),u=n(4076).pick,d=n(888),f=n(8392)("engine.io-client:polling-xhr");function h(){}var p=null!=new s({xdomain:!1}).responseType,m=function(e){"use strict";a(n,e);var t=o(n);function n(e){var i;if(r(this,n),i=t.call(this,e),"undefined"!==typeof location){var a="https:"===location.protocol,o=location.port;o||(o=a?443:80),i.xd="undefined"!==typeof location&&e.hostname!==location.hostname||o!==e.port,i.xs=e.secure!==a}var s=e&&e.forceBase64;return i.supportsBinary=p&&!s,i}return i(n,[{key:"request",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.assign(e,{xd:this.xd,xs:this.xs},this.opts),new v(this.uri(),e)}},{key:"doWrite",value:function(e,t){var n=this.request({method:"POST",data:e}),r=this;n.on("success",t),n.on("error",(function(e){r.onError("xhr post error",e)}))}},{key:"doPoll",value:function(){f("xhr poll");var e=this.request(),t=this;e.on("data",(function(e){t.onData(e)})),e.on("error",(function(e){t.onError("xhr poll error",e)})),this.pollXhr=e}}]),n}(l),v=function(e){"use strict";a(n,e);var t=o(n);function n(e,i){var a;return r(this,n),(a=t.call(this)).opts=i,a.method=i.method||"GET",a.uri=e,a.async=!1!==i.async,a.data=void 0!==i.data?i.data:null,a.create(),a}return i(n,[{key:"create",value:function(){var e=u(this.opts,"agent","enablesXDR","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");e.xdomain=!!this.opts.xd,e.xscheme=!!this.opts.xs;var t=this.xhr=new s(e),r=this;try{f("xhr open %s: %s",this.method,this.uri),t.open(this.method,this.uri,this.async);try{if(this.opts.extraHeaders)for(var i in t.setDisableHeaderCheck&&t.setDisableHeaderCheck(!0),this.opts.extraHeaders)this.opts.extraHeaders.hasOwnProperty(i)&&t.setRequestHeader(i,this.opts.extraHeaders[i])}catch(a){}if("POST"===this.method)try{t.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(a){}try{t.setRequestHeader("Accept","*/*")}catch(a){}"withCredentials"in t&&(t.withCredentials=this.opts.withCredentials),this.opts.requestTimeout&&(t.timeout=this.opts.requestTimeout),this.hasXDR()?(t.onload=function(){r.onLoad()},t.onerror=function(){r.onError(t.responseText)}):t.onreadystatechange=function(){4===t.readyState&&(200===t.status||1223===t.status?r.onLoad():setTimeout((function(){r.onError("number"===typeof t.status?t.status:0)}),0))},f("xhr data %s",this.data),t.send(this.data)}catch(a){return void setTimeout((function(){r.onError(a)}),0)}"undefined"!==typeof document&&(this.index=n.requestsCount++,n.requests[this.index]=this)}},{key:"onSuccess",value:function(){this.emit("success"),this.cleanup()}},{key:"onData",value:function(e){this.emit("data",e),this.onSuccess()}},{key:"onError",value:function(e){this.emit("error",e),this.cleanup(!0)}},{key:"cleanup",value:function(e){if("undefined"!==typeof this.xhr&&null!==this.xhr){if(this.hasXDR()?this.xhr.onload=this.xhr.onerror=h:this.xhr.onreadystatechange=h,e)try{this.xhr.abort()}catch(t){}"undefined"!==typeof document&&delete n.requests[this.index],this.xhr=null}}},{key:"onLoad",value:function(){var e=this.xhr.responseText;null!==e&&this.onData(e)}},{key:"hasXDR",value:function(){return"undefined"!==typeof XDomainRequest&&!this.xs&&this.enablesXDR}},{key:"abort",value:function(){this.cleanup()}}]),n}(c);if(v.requestsCount=0,v.requests={},"undefined"!==typeof document)if("function"===typeof attachEvent)attachEvent("onunload",g);else if("function"===typeof addEventListener){addEventListener("onpagehide"in d?"pagehide":"unload",g,!1)}function g(){for(var e in v.requests)v.requests.hasOwnProperty(e)&&v.requests[e].abort()}e.exports=m,e.exports.Request=v},1857:function(e,t,n){var r=n(6690).default,i=n(9728).default,a=n(1655).default,o=n(6389).default,s=n(1221),l=n(5988),c=n(5621),u=n(5590),d=n(8392)("engine.io-client:polling"),f=function(e){"use strict";a(n,e);var t=o(n);function n(){return r(this,n),t.apply(this,arguments)}return i(n,[{key:"name",get:function(){return"polling"}},{key:"doOpen",value:function(){this.poll()}},{key:"pause",value:function(e){var t=this;function n(){d("paused"),t.readyState="paused",e()}if(this.readyState="pausing",this.polling||!this.writable){var r=0;this.polling&&(d("we are currently polling - waiting to pause"),r++,this.once("pollComplete",(function(){d("pre-pause polling complete"),--r||n()}))),this.writable||(d("we are currently writing - waiting to pause"),r++,this.once("drain",(function(){d("pre-pause writing complete"),--r||n()})))}else n()}},{key:"poll",value:function(){d("polling"),this.polling=!0,this.doPoll(),this.emit("poll")}},{key:"onData",value:function(e){var t=this;d("polling got data %s",e);c.decodePayload(e,this.socket.binaryType).forEach((function(e,n,r){if("opening"===t.readyState&&"open"===e.type&&t.onOpen(),"close"===e.type)return t.onClose(),!1;t.onPacket(e)})),"closed"!==this.readyState&&(this.polling=!1,this.emit("pollComplete"),"open"===this.readyState?this.poll():d('ignoring poll - transport state "%s"',this.readyState))}},{key:"doClose",value:function(){var e=this;function t(){d("writing close packet"),e.write([{type:"close"}])}"open"===this.readyState?(d("transport open - closing"),t()):(d("transport not open - deferring close"),this.once("open",t))}},{key:"write",value:function(e){var t=this;this.writable=!1,c.encodePayload(e,(function(e){t.doWrite(e,(function(){t.writable=!0,t.emit("drain")}))}))}},{key:"uri",value:function(){var e=this.query||{},t=this.opts.secure?"https":"http",n="";return!1!==this.opts.timestampRequests&&(e[this.opts.timestampParam]=u()),this.supportsBinary||e.sid||(e.b64=1),e=l.encode(e),this.opts.port&&("https"===t&&443!==Number(this.opts.port)||"http"===t&&80!==Number(this.opts.port))&&(n=":"+this.opts.port),e.length&&(e="?"+e),t+"://"+(-1!==this.opts.hostname.indexOf(":")?"["+this.opts.hostname+"]":this.opts.hostname)+n+this.opts.path+e}}]),n}(s);e.exports=f},3736:function(e,t,n){var r=n(888);e.exports={WebSocket:r.WebSocket||r.MozWebSocket,usingBrowserWebSocket:!0,defaultBinaryType:"arraybuffer"}},9747:function(e,t,n){var r=n(6690).default,i=n(9728).default,a=n(1655).default,o=n(6389).default,s=n(1221),l=n(5621),c=n(5988),u=n(5590),d=n(4076).pick,f=n(3736),h=f.WebSocket,p=f.usingBrowserWebSocket,m=f.defaultBinaryType,v=n(8392)("engine.io-client:websocket"),g="undefined"!==typeof navigator&&"string"===typeof navigator.product&&"reactnative"===navigator.product.toLowerCase(),y=function(e){"use strict";a(n,e);var t=o(n);function n(e){var i;return r(this,n),(i=t.call(this,e)).supportsBinary=!e.forceBase64,i}return i(n,[{key:"name",get:function(){return"websocket"}},{key:"doOpen",value:function(){if(this.check()){var e=this.uri(),t=this.opts.protocols,n=g?{}:d(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(n.headers=this.opts.extraHeaders);try{this.ws=p&&!g?t?new h(e,t):new h(e):new h(e,t,n)}catch(r){return this.emit("error",r)}this.ws.binaryType=this.socket.binaryType||m,this.addEventListeners()}}},{key:"addEventListeners",value:function(){var e=this;this.ws.onopen=function(){e.opts.autoUnref&&e.ws._socket.unref(),e.onOpen()},this.ws.onclose=this.onClose.bind(this),this.ws.onmessage=function(t){return e.onData(t.data)},this.ws.onerror=function(t){return e.onError("websocket error",t)}}},{key:"write",value:function(e){var t=this;this.writable=!1;for(var n=e.length,r=0,i=n;r<i;r++)!function(e){l.encodePacket(e,t.supportsBinary,(function(r){var i={};p||(e.options&&(i.compress=e.options.compress),t.opts.perMessageDeflate&&("string"===typeof r?Buffer.byteLength(r):r.length)<t.opts.perMessageDeflate.threshold&&(i.compress=!1));try{p?t.ws.send(r):t.ws.send(r,i)}catch(o){v("websocket closed before onclose event")}--n||a()}))}(e[r]);function a(){t.emit("flush"),setTimeout((function(){t.writable=!0,t.emit("drain")}),0)}}},{key:"onClose",value:function(){s.prototype.onClose.call(this)}},{key:"doClose",value:function(){"undefined"!==typeof this.ws&&(this.ws.close(),this.ws=null)}},{key:"uri",value:function(){var e=this.query||{},t=this.opts.secure?"wss":"ws",n="";return this.opts.port&&("wss"===t&&443!==Number(this.opts.port)||"ws"===t&&80!==Number(this.opts.port))&&(n=":"+this.opts.port),this.opts.timestampRequests&&(e[this.opts.timestampParam]=u()),this.supportsBinary||(e.b64=1),(e=c.encode(e)).length&&(e="?"+e),t+"://"+(-1!==this.opts.hostname.indexOf(":")?"["+this.opts.hostname+"]":this.opts.hostname)+n+this.opts.path+e}},{key:"check",value:function(){return!!h&&!("__initialize"in h&&this.name===n.prototype.name)}}]),n}(s);e.exports=y},4076:function(e){e.exports.pick=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return n.reduce((function(t,n){return e.hasOwnProperty(n)&&(t[n]=e[n]),t}),{})}},7536:function(e,t,n){var r=n(6421),i=n(888);e.exports=function(e){var t=e.xdomain,n=e.xscheme,a=e.enablesXDR;try{if("undefined"!==typeof XMLHttpRequest&&(!t||r))return new XMLHttpRequest}catch(o){}try{if("undefined"!==typeof XDomainRequest&&!n&&a)return new XDomainRequest}catch(o){}if(!t)try{return new(i[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch(o){}}},2352:function(e){var t=Object.create(null);t.open="0",t.close="1",t.ping="2",t.pong="3",t.message="4",t.upgrade="5",t.noop="6";var n=Object.create(null);Object.keys(t).forEach((function(e){n[t[e]]=e}));e.exports={PACKET_TYPES:t,PACKET_TYPES_REVERSE:n,ERROR_PACKET:{type:"error",data:"parser error"}}},2141:function(e,t,n){var r,i=n(2352),a=i.PACKET_TYPES_REVERSE,o=i.ERROR_PACKET;"function"===typeof ArrayBuffer&&(r=n(934));var s=function(e,t){if(r){var n=r.decode(e);return l(n,t)}return{base64:!0,data:e}},l=function(e,t){return"blob"===t&&e instanceof ArrayBuffer?new Blob([e]):e};e.exports=function(e,t){if("string"!==typeof e)return{type:"message",data:l(e,t)};var n=e.charAt(0);return"b"===n?{type:"message",data:s(e.substring(1),t)}:a[n]?e.length>1?{type:a[n],data:e.substring(1)}:{type:a[n]}:o}},7378:function(e,t,n){var r=n(2352).PACKET_TYPES,i="function"===typeof Blob||"undefined"!==typeof Blob&&"[object BlobConstructor]"===Object.prototype.toString.call(Blob),a="function"===typeof ArrayBuffer,o=function(e,t){var n=new FileReader;return n.onload=function(){var e=n.result.split(",")[1];t("b"+e)},n.readAsDataURL(e)};e.exports=function(e,t,n){var s,l=e.type,c=e.data;return i&&c instanceof Blob?t?n(c):o(c,n):a&&(c instanceof ArrayBuffer||(s=c,"function"===typeof ArrayBuffer.isView?ArrayBuffer.isView(s):s&&s.buffer instanceof ArrayBuffer))?t?n(c):o(new Blob([c]),n):n(r[l]+(c||""))}},5621:function(e,t,n){var r=n(7378),i=n(2141),a=String.fromCharCode(30);e.exports={protocol:4,encodePacket:r,encodePayload:function(e,t){var n=e.length,i=new Array(n),o=0;e.forEach((function(e,s){r(e,!1,(function(e){i[s]=e,++o===n&&t(i.join(a))}))}))},decodePacket:i,decodePayload:function(e,t){for(var n=e.split(a),r=[],o=0;o<n.length;o++){var s=i(n[o],t);if(r.push(s),"error"===s.type)break}return r}}},6421:function(e){try{e.exports="undefined"!==typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch(t){e.exports=!1}},2428:function(e){e.exports=function(){"use strict";function e(e){return"string"===typeof e||e instanceof String}var t=Number.isFinite||window.isFinite;function n(e){return t(e)}function r(e){return e}function i(e){var t={};return e.filter((function(e){return!t.hasOwnProperty(e)&&(t[e]=!0)}))}function a(e,t){if(t.length!==e.length)return!1;for(var n=0;n<e.length;n++){if(t[n].compareArray&&!t[n].compareArray(e[n]))return!1;if(t[n]!==e[n])return!1}return!0}function o(e,t){Object.keys(t).forEach((function(n){e[n]=t[n]}))}function s(){for(var e=1,t=0,n=0;n<arguments.length;n++){var r=arguments[n];t+=u(r),e*=r}return 0!==t?c(e,t):e}function l(e,t){if(0===t)throw new Error("Divide by zero");var n=Math.pow(10,u(t));return s(e,n/(n*t))}function c(e,t){return Math.round(e*Math.pow(10,t))/Math.pow(10,t)}function u(e){if(!isFinite(e))return 0;for(var t=0;e%1!==0;)e*=10,t++;return t}function d(){var e;if(!this)return e=Object.create(d.prototype),d.apply(e,arguments),e;e=Error.apply(this,arguments),this.name="QtyError",this.message=e.message,this.stack=e.stack}function f(e,t){throw new d("Incompatible units: "+e+" and "+t)}d.prototype=Object.create(Error.prototype,{constructor:{value:d}});var h={"<googol>":[["googol"],1e100,"prefix"],"<kibi>":[["Ki","Kibi","kibi"],Math.pow(2,10),"prefix"],"<mebi>":[["Mi","Mebi","mebi"],Math.pow(2,20),"prefix"],"<gibi>":[["Gi","Gibi","gibi"],Math.pow(2,30),"prefix"],"<tebi>":[["Ti","Tebi","tebi"],Math.pow(2,40),"prefix"],"<pebi>":[["Pi","Pebi","pebi"],Math.pow(2,50),"prefix"],"<exi>":[["Ei","Exi","exi"],Math.pow(2,60),"prefix"],"<zebi>":[["Zi","Zebi","zebi"],Math.pow(2,70),"prefix"],"<yebi>":[["Yi","Yebi","yebi"],Math.pow(2,80),"prefix"],"<yotta>":[["Y","Yotta","yotta"],1e24,"prefix"],"<zetta>":[["Z","Zetta","zetta"],1e21,"prefix"],"<exa>":[["E","Exa","exa"],1e18,"prefix"],"<peta>":[["P","Peta","peta"],1e15,"prefix"],"<tera>":[["T","Tera","tera"],1e12,"prefix"],"<giga>":[["G","Giga","giga"],1e9,"prefix"],"<mega>":[["M","Mega","mega"],1e6,"prefix"],"<kilo>":[["k","kilo"],1e3,"prefix"],"<hecto>":[["h","Hecto","hecto"],100,"prefix"],"<deca>":[["da","Deca","deca","deka"],10,"prefix"],"<deci>":[["d","Deci","deci"],.1,"prefix"],"<centi>":[["c","Centi","centi"],.01,"prefix"],"<milli>":[["m","Milli","milli"],.001,"prefix"],"<micro>":[["u","\u03bc","\xb5","Micro","mc","micro"],1e-6,"prefix"],"<nano>":[["n","Nano","nano"],1e-9,"prefix"],"<pico>":[["p","Pico","pico"],1e-12,"prefix"],"<femto>":[["f","Femto","femto"],1e-15,"prefix"],"<atto>":[["a","Atto","atto"],1e-18,"prefix"],"<zepto>":[["z","Zepto","zepto"],1e-21,"prefix"],"<yocto>":[["y","Yocto","yocto"],1e-24,"prefix"],"<1>":[["1","<1>"],1,""],"<meter>":[["m","meter","meters","metre","metres"],1,"length",["<meter>"]],"<inch>":[["in","inch","inches",'"'],.0254,"length",["<meter>"]],"<foot>":[["ft","foot","feet","'"],.3048,"length",["<meter>"]],"<yard>":[["yd","yard","yards"],.9144,"length",["<meter>"]],"<mile>":[["mi","mile","miles"],1609.344,"length",["<meter>"]],"<naut-mile>":[["nmi","naut-mile"],1852,"length",["<meter>"]],"<league>":[["league","leagues"],4828,"length",["<meter>"]],"<furlong>":[["furlong","furlongs"],201.2,"length",["<meter>"]],"<rod>":[["rd","rod","rods"],5.029,"length",["<meter>"]],"<mil>":[["mil","mils"],254e-7,"length",["<meter>"]],"<angstrom>":[["ang","angstrom","angstroms"],1e-10,"length",["<meter>"]],"<fathom>":[["fathom","fathoms"],1.829,"length",["<meter>"]],"<pica>":[["pica","picas"],.00423333333,"length",["<meter>"]],"<point>":[["pt","point","points"],.000352777778,"length",["<meter>"]],"<redshift>":[["z","red-shift","redshift"],1302773e20,"length",["<meter>"]],"<AU>":[["AU","astronomical-unit"],1495979e5,"length",["<meter>"]],"<light-second>":[["ls","light-second"],299792500,"length",["<meter>"]],"<light-minute>":[["lmin","light-minute"],1798755e4,"length",["<meter>"]],"<light-year>":[["ly","light-year"],9460528e9,"length",["<meter>"]],"<parsec>":[["pc","parsec","parsecs"],3085678e10,"length",["<meter>"]],"<datamile>":[["DM","datamile"],1828.8,"length",["<meter>"]],"<kilogram>":[["kg","kilogram","kilograms"],1,"mass",["<kilogram>"]],"<AMU>":[["u","AMU","amu"],1660538921e-36,"mass",["<kilogram>"]],"<dalton>":[["Da","Dalton","Daltons","dalton","daltons"],1660538921e-36,"mass",["<kilogram>"]],"<slug>":[["slug","slugs"],14.5939029,"mass",["<kilogram>"]],"<short-ton>":[["tn","ton","short-ton"],907.18474,"mass",["<kilogram>"]],"<metric-ton>":[["tonne","metric-ton"],1e3,"mass",["<kilogram>"]],"<carat>":[["ct","carat","carats"],2e-4,"mass",["<kilogram>"]],"<pound>":[["lbs","lb","pound","pounds","#"],.45359237,"mass",["<kilogram>"]],"<ounce>":[["oz","ounce","ounces"],.0283495231,"mass",["<kilogram>"]],"<gram>":[["g","gram","grams","gramme","grammes"],.001,"mass",["<kilogram>"]],"<grain>":[["grain","grains","gr"],6479891e-11,"mass",["<kilogram>"]],"<dram>":[["dram","drams","dr"],.0017718452,"mass",["<kilogram>"]],"<stone>":[["stone","stones","st"],6.35029318,"mass",["<kilogram>"]],"<hectare>":[["hectare"],1e4,"area",["<meter>","<meter>"]],"<acre>":[["acre","acres"],4046.85642,"area",["<meter>","<meter>"]],"<sqft>":[["sqft"],1,"area",["<foot>","<foot>"]],"<liter>":[["l","L","liter","liters","litre","litres"],.001,"volume",["<meter>","<meter>","<meter>"]],"<gallon>":[["gal","gallon","gallons"],.0037854118,"volume",["<meter>","<meter>","<meter>"]],"<gallon-imp>":[["galimp","gallon-imp","gallons-imp"],.00454609,"volume",["<meter>","<meter>","<meter>"]],"<quart>":[["qt","quart","quarts"],.00094635295,"volume",["<meter>","<meter>","<meter>"]],"<pint>":[["pt","pint","pints"],.000473176475,"volume",["<meter>","<meter>","<meter>"]],"<pint-imp>":[["ptimp","pint-imp","pints-imp"],.00056826125,"volume",["<meter>","<meter>","<meter>"]],"<cup>":[["cu","cup","cups"],.000236588238,"volume",["<meter>","<meter>","<meter>"]],"<fluid-ounce>":[["floz","fluid-ounce","fluid-ounces"],295735297e-13,"volume",["<meter>","<meter>","<meter>"]],"<fluid-ounce-imp>":[["flozimp","floz-imp","fluid-ounce-imp","fluid-ounces-imp"],284130625e-13,"volume",["<meter>","<meter>","<meter>"]],"<tablespoon>":[["tb","tbsp","tbs","tablespoon","tablespoons"],147867648e-13,"volume",["<meter>","<meter>","<meter>"]],"<teaspoon>":[["tsp","teaspoon","teaspoons"],492892161e-14,"volume",["<meter>","<meter>","<meter>"]],"<bushel>":[["bu","bsh","bushel","bushels"],.035239072,"volume",["<meter>","<meter>","<meter>"]],"<oilbarrel>":[["bbl","oilbarrel","oilbarrels","oil-barrel","oil-barrels"],.158987294928,"volume",["<meter>","<meter>","<meter>"]],"<beerbarrel>":[["bl","bl-us","beerbarrel","beerbarrels","beer-barrel","beer-barrels"],.1173477658,"volume",["<meter>","<meter>","<meter>"]],"<beerbarrel-imp>":[["blimp","bl-imp","beerbarrel-imp","beerbarrels-imp","beer-barrel-imp","beer-barrels-imp"],.16365924,"volume",["<meter>","<meter>","<meter>"]],"<kph>":[["kph"],.277777778,"speed",["<meter>"],["<second>"]],"<mph>":[["mph"],.44704,"speed",["<meter>"],["<second>"]],"<knot>":[["kt","kn","kts","knot","knots"],.514444444,"speed",["<meter>"],["<second>"]],"<fps>":[["fps"],.3048,"speed",["<meter>"],["<second>"]],"<gee>":[["gee"],9.80665,"acceleration",["<meter>"],["<second>","<second>"]],"<Gal>":[["Gal"],.01,"acceleration",["<meter>"],["<second>","<second>"]],"<kelvin>":[["degK","kelvin"],1,"temperature",["<kelvin>"]],"<celsius>":[["degC","celsius","celsius","centigrade"],1,"temperature",["<kelvin>"]],"<fahrenheit>":[["degF","fahrenheit"],5/9,"temperature",["<kelvin>"]],"<rankine>":[["degR","rankine"],5/9,"temperature",["<kelvin>"]],"<temp-K>":[["tempK","temp-K"],1,"temperature",["<temp-K>"]],"<temp-C>":[["tempC","temp-C"],1,"temperature",["<temp-K>"]],"<temp-F>":[["tempF","temp-F"],5/9,"temperature",["<temp-K>"]],"<temp-R>":[["tempR","temp-R"],5/9,"temperature",["<temp-K>"]],"<second>":[["s","sec","secs","second","seconds"],1,"time",["<second>"]],"<minute>":[["min","mins","minute","minutes"],60,"time",["<second>"]],"<hour>":[["h","hr","hrs","hour","hours"],3600,"time",["<second>"]],"<day>":[["d","day","days"],86400,"time",["<second>"]],"<week>":[["wk","week","weeks"],604800,"time",["<second>"]],"<fortnight>":[["fortnight","fortnights"],1209600,"time",["<second>"]],"<year>":[["y","yr","year","years","annum"],31556926,"time",["<second>"]],"<decade>":[["decade","decades"],315569260,"time",["<second>"]],"<century>":[["century","centuries"],3155692600,"time",["<second>"]],"<pascal>":[["Pa","pascal","Pascal"],1,"pressure",["<kilogram>"],["<meter>","<second>","<second>"]],"<bar>":[["bar","bars"],1e5,"pressure",["<kilogram>"],["<meter>","<second>","<second>"]],"<mmHg>":[["mmHg"],133.322368,"pressure",["<kilogram>"],["<meter>","<second>","<second>"]],"<inHg>":[["inHg"],3386.3881472,"pressure",["<kilogram>"],["<meter>","<second>","<second>"]],"<torr>":[["torr"],133.322368,"pressure",["<kilogram>"],["<meter>","<second>","<second>"]],"<atm>":[["atm","ATM","atmosphere","atmospheres"],101325,"pressure",["<kilogram>"],["<meter>","<second>","<second>"]],"<psi>":[["psi"],6894.76,"pressure",["<kilogram>"],["<meter>","<second>","<second>"]],"<cmh2o>":[["cmH2O","cmh2o"],98.0638,"pressure",["<kilogram>"],["<meter>","<second>","<second>"]],"<inh2o>":[["inH2O","inh2o"],249.082052,"pressure",["<kilogram>"],["<meter>","<second>","<second>"]],"<poise>":[["P","poise"],.1,"viscosity",["<kilogram>"],["<meter>","<second>"]],"<stokes>":[["St","stokes"],1e-4,"viscosity",["<meter>","<meter>"],["<second>"]],"<mole>":[["mol","mole"],1,"substance",["<mole>"]],"<molar>":[["M","molar"],1e3,"concentration",["<mole>"],["<meter>","<meter>","<meter>"]],"<wtpercent>":[["wt%","wtpercent"],10,"concentration",["<kilogram>"],["<meter>","<meter>","<meter>"]],"<katal>":[["kat","katal","Katal"],1,"activity",["<mole>"],["<second>"]],"<unit>":[["U","enzUnit","unit"],16667e-19,"activity",["<mole>"],["<second>"]],"<farad>":[["F","farad","Farad"],1,"capacitance",["<second>","<second>","<second>","<second>","<ampere>","<ampere>"],["<meter>","<meter>","<kilogram>"]],"<coulomb>":[["C","coulomb","Coulomb"],1,"charge",["<ampere>","<second>"]],"<Ah>":[["Ah"],3600,"charge",["<ampere>","<second>"]],"<ampere>":[["A","Ampere","ampere","amp","amps"],1,"current",["<ampere>"]],"<siemens>":[["S","Siemens","siemens"],1,"conductance",["<second>","<second>","<second>","<ampere>","<ampere>"],["<kilogram>","<meter>","<meter>"]],"<henry>":[["H","Henry","henry"],1,"inductance",["<meter>","<meter>","<kilogram>"],["<second>","<second>","<ampere>","<ampere>"]],"<volt>":[["V","Volt","volt","volts"],1,"potential",["<meter>","<meter>","<kilogram>"],["<second>","<second>","<second>","<ampere>"]],"<ohm>":[["Ohm","ohm","\u03a9","\u2126"],1,"resistance",["<meter>","<meter>","<kilogram>"],["<second>","<second>","<second>","<ampere>","<ampere>"]],"<weber>":[["Wb","weber","webers"],1,"magnetism",["<meter>","<meter>","<kilogram>"],["<second>","<second>","<ampere>"]],"<tesla>":[["T","tesla","teslas"],1,"magnetism",["<kilogram>"],["<second>","<second>","<ampere>"]],"<gauss>":[["G","gauss"],1e-4,"magnetism",["<kilogram>"],["<second>","<second>","<ampere>"]],"<maxwell>":[["Mx","maxwell","maxwells"],1e-8,"magnetism",["<meter>","<meter>","<kilogram>"],["<second>","<second>","<ampere>"]],"<oersted>":[["Oe","oersted","oersteds"],250/Math.PI,"magnetism",["<ampere>"],["<meter>"]],"<joule>":[["J","joule","Joule","joules"],1,"energy",["<meter>","<meter>","<kilogram>"],["<second>","<second>"]],"<erg>":[["erg","ergs"],1e-7,"energy",["<meter>","<meter>","<kilogram>"],["<second>","<second>"]],"<btu>":[["BTU","btu","BTUs"],1055.056,"energy",["<meter>","<meter>","<kilogram>"],["<second>","<second>"]],"<calorie>":[["cal","calorie","calories"],4.184,"energy",["<meter>","<meter>","<kilogram>"],["<second>","<second>"]],"<Calorie>":[["Cal","Calorie","Calories"],4184,"energy",["<meter>","<meter>","<kilogram>"],["<second>","<second>"]],"<therm-US>":[["th","therm","therms","Therm","therm-US"],105480400,"energy",["<meter>","<meter>","<kilogram>"],["<second>","<second>"]],"<Wh>":[["Wh"],3600,"energy",["<meter>","<meter>","<kilogram>"],["<second>","<second>"]],"<newton>":[["N","Newton","newton"],1,"force",["<kilogram>","<meter>"],["<second>","<second>"]],"<dyne>":[["dyn","dyne"],1e-5,"force",["<kilogram>","<meter>"],["<second>","<second>"]],"<pound-force>":[["lbf","pound-force"],4.448222,"force",["<kilogram>","<meter>"],["<second>","<second>"]],"<hertz>":[["Hz","hertz","Hertz"],1,"frequency",["<1>"],["<second>"]],"<radian>":[["rad","radian","radians"],1,"angle",["<radian>"]],"<degree>":[["deg","degree","degrees"],Math.PI/180,"angle",["<radian>"]],"<gradian>":[["gon","grad","gradian","grads"],Math.PI/200,"angle",["<radian>"]],"<steradian>":[["sr","steradian","steradians"],1,"solid_angle",["<steradian>"]],"<rotation>":[["rotation"],2*Math.PI,"angle",["<radian>"]],"<rpm>":[["rpm"],2*Math.PI/60,"angular_velocity",["<radian>"],["<second>"]],"<byte>":[["B","byte","bytes"],1,"information",["<byte>"]],"<bit>":[["b","bit","bits"],.125,"information",["<byte>"]],"<Bps>":[["Bps"],1,"information_rate",["<byte>"],["<second>"]],"<bps>":[["bps"],.125,"information_rate",["<byte>"],["<second>"]],"<dollar>":[["USD","dollar"],1,"currency",["<dollar>"]],"<cents>":[["cents"],.01,"currency",["<dollar>"]],"<candela>":[["cd","candela"],1,"luminosity",["<candela>"]],"<lumen>":[["lm","lumen"],1,"luminous_power",["<candela>","<steradian>"]],"<lux>":[["lux"],1,"illuminance",["<candela>","<steradian>"],["<meter>","<meter>"]],"<watt>":[["W","watt","watts"],1,"power",["<kilogram>","<meter>","<meter>"],["<second>","<second>","<second>"]],"<volt-ampere>":[["VA","volt-ampere"],1,"power",["<kilogram>","<meter>","<meter>"],["<second>","<second>","<second>"]],"<volt-ampere-reactive>":[["var","Var","VAr","VAR","volt-ampere-reactive"],1,"power",["<kilogram>","<meter>","<meter>"],["<second>","<second>","<second>"]],"<horsepower>":[["hp","horsepower"],745.699872,"power",["<kilogram>","<meter>","<meter>"],["<second>","<second>","<second>"]],"<gray>":[["Gy","gray","grays"],1,"radiation",["<meter>","<meter>"],["<second>","<second>"]],"<roentgen>":[["R","roentgen"],.00933,"radiation",["<meter>","<meter>"],["<second>","<second>"]],"<sievert>":[["Sv","sievert","sieverts"],1,"radiation",["<meter>","<meter>"],["<second>","<second>"]],"<becquerel>":[["Bq","becquerel","becquerels"],1,"radiation",["<1>"],["<second>"]],"<curie>":[["Ci","curie","curies"],37e9,"radiation",["<1>"],["<second>"]],"<cpm>":[["cpm"],1/60,"rate",["<count>"],["<second>"]],"<dpm>":[["dpm"],1/60,"rate",["<count>"],["<second>"]],"<bpm>":[["bpm"],1/60,"rate",["<count>"],["<second>"]],"<dot>":[["dot","dots"],1,"resolution",["<each>"]],"<pixel>":[["pixel","px"],1,"resolution",["<each>"]],"<ppi>":[["ppi"],1,"resolution",["<pixel>"],["<inch>"]],"<dpi>":[["dpi"],1,"typography",["<dot>"],["<inch>"]],"<cell>":[["cells","cell"],1,"counting",["<each>"]],"<each>":[["each"],1,"counting",["<each>"]],"<count>":[["count"],1,"counting",["<each>"]],"<base-pair>":[["bp","base-pair"],1,"counting",["<each>"]],"<nucleotide>":[["nt","nucleotide"],1,"counting",["<each>"]],"<molecule>":[["molecule","molecules"],1,"counting",["<1>"]],"<dozen>":[["doz","dz","dozen"],12,"prefix_only",["<each>"]],"<percent>":[["%","percent"],.01,"prefix_only",["<1>"]],"<ppm>":[["ppm"],1e-6,"prefix_only",["<1>"]],"<ppt>":[["ppt"],1e-9,"prefix_only",["<1>"]],"<gross>":[["gr","gross"],144,"prefix_only",["<dozen>","<dozen>"]],"<decibel>":[["dB","decibel","decibels"],1,"logarithmic",["<decibel>"]]},p=["<meter>","<kilogram>","<second>","<mole>","<ampere>","<radian>","<kelvin>","<temp-K>","<byte>","<dollar>","<candela>","<each>","<steradian>","<decibel>"],m="<1>",v=[m];function g(e,t){var r=t[1],i=t[3]||[],a=t[4]||[];if(!n(r))throw new d(e+": Invalid unit definition. 'scalar' must be a number");i.forEach((function(t){if(void 0===h[t])throw new d(e+": Invalid unit definition. Unit "+t+" in 'numerator' is not recognized")})),a.forEach((function(t){if(void 0===h[t])throw new d(e+": Invalid unit definition. Unit "+t+" in 'denominator' is not recognized")}))}var y={},x={},b={},_={},w={};for(var k in h)if(h.hasOwnProperty(k)){var S=h[k];if("prefix"===S[2]){y[k]=S[1];for(var E=0;E<S[0].length;E++)x[S[0][E]]=k}else{g(k,S),b[k]={scalar:S[1],numerator:S[3],denominator:S[4]};for(var C=0;C<S[0].length;C++)_[S[0][C]]=k}w[k]=S[0][0]}function T(e){var t,n=[],r=Object.keys(h);if("undefined"===typeof e)for(t=0;t<r.length;t++)-1===["","prefix"].indexOf(h[r[t]][2])&&n.push(r[t].substr(1,r[t].length-2));else{if(-1===this.getKinds().indexOf(e))throw new d("Kind not recognized");for(t=0;t<r.length;t++)h[r[t]][2]===e&&n.push(r[t].substr(1,r[t].length-2))}return n.sort((function(e,t){return e.toLowerCase()<t.toLowerCase()?-1:e.toLowerCase()>t.toLowerCase()?1:0}))}function M(e){if(!_[e])throw new d("Unit not recognized");return h[_[e]][0]}var I=["length","time","temperature","mass","current","substance","luminosity","currency","information","angle"];function O(){if(this.signature)return this.signature;for(var e=P.call(this),t=0;t<e.length;t++)e[t]*=Math.pow(20,t);return e.reduce((function(e,t){return e+t}),0)}function P(){if(!this.isBase())return P.call(this.toBase());for(var e,t,n=new Array(I.length),r=0;r<n.length;r++)n[r]=0;for(var i=0;i<this.numerator.length;i++)(e=h[this.numerator[i]])&&(t=I.indexOf(e[2]))>=0&&(n[t]=n[t]+1);for(var a=0;a<this.denominator.length;a++)(e=h[this.denominator[a]])&&(t=I.indexOf(e[2]))>=0&&(n[t]=n[t]-1);return n}var A="[+-]",z="\\d+",j="\\."+z,R=new RegExp("^("+A+"?\\s*(?:(?:"+z+"(?:"+j+")?)|(?:"+j+"))(?:[Ee]"+A+"?"+z+")?)?\\s*([^/]*)(?:/(.+))?$"),D="\\^|\\*{2}",L="[01234]",N=new RegExp("([^ \\*\\d]+?)(?:"+D+")?(-?"+L+"(?![a-zA-Z]))"),B=new RegExp("([^ \\*\\d]+?)(?:"+D+")?("+L+"(?![a-zA-Z]))");function F(t){e(t)||(t=t.toString()),t=t.trim();var n=R.exec(t);if(!n)throw new d(t+": Quantity not recognized");var r=n[1];r?(r=r.replace(/\s/g,""),this.scalar=parseFloat(r)):this.scalar=1;for(var i,a,o,s=n[2],l=n[3];n=N.exec(s);){if(i=parseFloat(n[2]),isNaN(i))throw new d("Unit exponent is not a number");if(0===i&&!G.test(n[1]))throw new d("Unit not recognized");a=n[1]+" ",o="";for(var c=0;c<Math.abs(i);c++)o+=a;i>=0?s=s.replace(n[0],o):(l=l?l+o:o,s=s.replace(n[0],""))}for(;n=B.exec(l);){if(i=parseFloat(n[2]),isNaN(i))throw new d("Unit exponent is not a number");if(0===i&&!G.test(n[1]))throw new d("Unit not recognized");a=n[1]+" ",o="";for(var u=0;u<i;u++)o+=a;l=l.replace(n[0],o)}s&&(this.numerator=X(s.trim())),l&&(this.denominator=X(l.trim()))}var V=Object.keys(x).sort((function(e,t){return t.length-e.length})).join("|"),U=Object.keys(_).sort((function(e,t){return t.length-e.length})).join("|"),H="("+V+")??("+U+")(?:\\b|$)",G=new RegExp("^\\s*("+H+"[\\s\\*]*)+$"),W=new RegExp(H,"g"),q={};function X(e){var t=q[e];if(t)return t;var n,r=[];if(!G.test(e))throw new d("Unit not recognized");for(;n=W.exec(e);)r.push(n.slice(1));return r=(r=(r=r.map((function(e){return x[e[0]]?[x[e[0]],_[e[1]]]:[_[e[1]]]}))).reduce((function(e,t){return e.concat(t)}),[])).filter((function(e){return e})),q[e]=r,r}function Z(t){if(!e(t))throw new d("Argument should be a string");try{return this(t)}catch(n){return null}}function K(e){return e instanceof Y}function Y(e,t){if($.apply(null,arguments),!K(this))return new Y(e,t);if(this.scalar=null,this.baseScalar=null,this.signature=null,this._conversionCache={},this.numerator=v,this.denominator=v,J(e)?(this.scalar=e.scalar,this.numerator=e.numerator&&0!==e.numerator.length?e.numerator:v,this.denominator=e.denominator&&0!==e.denominator.length?e.denominator:v):t?(F.call(this,t),this.scalar=e):F.call(this,e),this.denominator.join("*").indexOf("temp")>=0)throw new d("Cannot divide with temperatures");if(this.numerator.join("*").indexOf("temp")>=0){if(this.numerator.length>1)throw new d("Cannot multiply by temperatures");if(!a(this.denominator,v))throw new d("Cannot divide with temperatures")}if(this.initValue=e,Q.call(this),this.isTemperature()&&this.baseScalar<0)throw new d("Temperatures must not be less than absolute zero")}function $(t,r){if(r){if(!n(t)||!e(r))throw new d("Only number accepted as initialization value when units are explicitly provided")}else if(!(e(t)||n(t)||K(t)||J(t)))throw new d("Only string, number or quantity accepted as single initialization value")}function J(e){return e&&"object"===typeof e&&e.hasOwnProperty("scalar")}function Q(){if(this.baseScalar)return this.baseScalar;if(this.isBase())this.baseScalar=this.scalar,this.signature=O.call(this);else{var e=this.toBase();this.baseScalar=e.scalar,this.signature=e.signature}}Y.prototype={constructor:Y};var ee={"-312078":"elastance","-312058":"resistance","-312038":"inductance","-152058":"potential","-152040":"magnetism","-152038":"magnetism","-7997":"specific_volume","-79":"snap","-59":"jolt","-39":"acceleration","-38":"radiation","-20":"frequency","-19":"speed","-18":"viscosity","-17":"volumetric_flow","-1":"wavenumber",0:"unitless",1:"length",2:"area",3:"volume",20:"time",400:"temperature",7941:"yank",7942:"power",7959:"pressure",7961:"force",7962:"energy",7979:"viscosity",7981:"momentum",7982:"angular_momentum",7997:"density",7998:"area_density",8e3:"mass",152020:"radiation_exposure",159999:"magnetism",16e4:"current",160020:"charge",312058:"conductance",312078:"capacitance",3199980:"activity",3199997:"molar_concentration",32e5:"substance",63999998:"illuminance",64e6:"luminous_power",128e7:"currency",25599999980:"information_rate",256e8:"information",511999999980:"angular_velocity",512e9:"angle"};function te(){return i(Object.keys(ee).map((function(e){return ee[e]})))}function ne(e,t){var n=e.units(),r=t.to(n),i=Y(ae(n));return Y({scalar:e.scalar-r.scalar,numerator:i.numerator,denominator:i.denominator})}function re(e,t){var n=t.to(ae(e.units()));return Y({scalar:e.scalar-n.scalar,numerator:e.numerator,denominator:e.denominator})}function ie(e,t){var n=t.to(ae(e.units()));return Y({scalar:e.scalar+n.scalar,numerator:e.numerator,denominator:e.denominator})}function ae(e){if("tempK"===e)return"degK";if("tempC"===e)return"degC";if("tempF"===e)return"degF";if("tempR"===e)return"degR";throw new d("Unknown type for temp conversion from: "+e)}function oe(e,t){var n,r=se(e),i=t.units();if("degK"===i)n=r.scalar;else if("degC"===i)n=r.scalar;else if("degF"===i)n=9*r.scalar/5;else{if("degR"!==i)throw new d("Unknown type for degree conversion to: "+i);n=9*r.scalar/5}return Y({scalar:n,numerator:t.numerator,denominator:t.denominator})}function se(e){var t,n=e.units();if(n.match(/(deg)[CFRK]/))t=e.baseScalar;else if("tempK"===n)t=e.scalar;else if("tempC"===n)t=e.scalar;else if("tempF"===n)t=5*e.scalar/9;else{if("tempR"!==n)throw new d("Unknown type for temp conversion from: "+n);t=5*e.scalar/9}return Y({scalar:t,numerator:["<kelvin>"],denominator:v})}function le(e,t){var n,r=t.units();if("tempK"===r)n=e.baseScalar;else if("tempC"===r)n=e.baseScalar-273.15;else if("tempF"===r)n=9*e.baseScalar/5-459.67;else{if("tempR"!==r)throw new d("Unknown type for temp conversion to: "+r);n=9*e.baseScalar/5}return Y({scalar:n,numerator:t.numerator,denominator:t.denominator})}function ce(e){var t,n=e.units();if(n.match(/(deg)[CFRK]/))t=e.baseScalar;else if("tempK"===n)t=e.scalar;else if("tempC"===n)t=e.scalar+273.15;else if("tempF"===n)t=5*(e.scalar+459.67)/9;else{if("tempR"!==n)throw new d("Unknown type for temp conversion from: "+n);t=5*e.scalar/9}return Y({scalar:t,numerator:["<temp-K>"],denominator:v})}function ue(e,t){var n,i=Y(e),a=Y(t);return i.eq(a)?r:(n=i.isTemperature()?function(e){return i.mul(e).to(a).scalar}:function(e){return e*i.baseScalar/a.baseScalar},function(e){var t,r,i;if(Array.isArray(e)){for(r=e.length,i=[],t=0;t<r;t++)i.push(n(e[t]));return i}return n(e)})}Y.prototype.kind=function(){return ee[this.signature.toString()]},o(Y.prototype,{isDegrees:function(){return(null===this.signature||400===this.signature)&&1===this.numerator.length&&a(this.denominator,v)&&(this.numerator[0].match(/<temp-[CFRK]>/)||this.numerator[0].match(/<(kelvin|celsius|rankine|fahrenheit)>/))},isTemperature:function(){return this.isDegrees()&&this.numerator[0].match(/<temp-[CFRK]>/)}}),o(Y.prototype,{to:function(t){var n,r;return void 0===t||null===t?this:e(t)?(n=this._conversionCache[t])?n:(r=Y(t)).units()===this.units()?this:(this.isCompatible(r)?r=r.isTemperature()?le(this,r):r.isDegrees()?oe(this,r):Y({scalar:l(this.baseScalar,r.baseScalar),numerator:r.numerator,denominator:r.denominator}):this.isInverse(r)?r=this.inverse().to(t):f(this.units(),r.units()),this._conversionCache[t]=r,r):this.to(t.units())},toBase:function(){if(this.isBase())return this;if(this.isTemperature())return ce(this);var e=de[this.units()];return e||(e=fe(this.numerator,this.denominator),de[this.units()]=e),e.mul(this.scalar)},toFloat:function(){if(this.isUnitless())return this.scalar;throw new d("Can't convert to Float unless unitless.  Use Unit#scalar")},toPrec:function(t){if(e(t)&&(t=Y(t)),n(t)&&(t=Y(t+" "+this.units())),this.isUnitless()?t.isUnitless()||f(this.units(),t.units()):t=t.to(this.units()),0===t.scalar)throw new d("Divide by zero");return Y(s(Math.round(this.scalar/t.scalar),t.scalar)+this.units())}});var de={};function fe(e,t){for(var n,r=[],i=[],a=1,o=0;o<e.length;o++)n=e[o],y[n]?a=s(a,y[n]):b[n]&&(a*=b[n].scalar,b[n].numerator&&r.push(b[n].numerator),b[n].denominator&&i.push(b[n].denominator));for(var l=0;l<t.length;l++)n=t[l],y[n]?a/=y[n]:b[n]&&(a/=b[n].scalar,b[n].numerator&&i.push(b[n].numerator),b[n].denominator&&r.push(b[n].denominator));return Y({scalar:a,numerator:r=r.reduce((function(e,t){return e.concat(t)}),[]),denominator:i=i.reduce((function(e,t){return e.concat(t)}),[])})}function he(e,t,n,r){function i(e){return e!==m}e=e.filter(i),n=n.filter(i),t=t.filter(i),r=r.filter(i);var a={};function o(e,t){for(var n,r,i,o=0;o<e.length;o++)if(y[e[o]]?(n=e[o+1],r=e[o],i=y[r],o++):(n=e[o],r=null,i=1),n&&n!==m)if(a[n]){a[n][0]+=t;var s=a[n][2]?y[a[n][2]]:1;a[n][1===t?3:4]*=l(i,s)}else a[n]=[t,n,r,1,1]}o(e,1),o(t,-1),o(n,1),o(r,-1);var s=[],c=[],u=1;for(var d in a)if(a.hasOwnProperty(d)){var f,h=a[d];if(h[0]>0)for(f=0;f<h[0];f++)s.push(null===h[2]?h[1]:[h[2],h[1]]);else if(h[0]<0)for(f=0;f<-h[0];f++)c.push(null===h[2]?h[1]:[h[2],h[1]]);u*=l(h[3],h[4])}return 0===s.length&&(s=v),0===c.length&&(c=v),[s=s.reduce((function(e,t){return e.concat(t)}),[]),c=c.reduce((function(e,t){return e.concat(t)}),[]),u]}function pe(){}function me(e,t){return(e+" "+t).trim()}Y.parse=Z,Y.getUnits=T,Y.getAliases=M,Y.mulSafe=s,Y.divSafe=l,Y.getKinds=te,Y.swiftConverter=ue,Y.Error=d,o(Y.prototype,{add:function(t){if(e(t)&&(t=Y(t)),this.isCompatible(t)||f(this.units(),t.units()),this.isTemperature()&&t.isTemperature())throw new d("Cannot add two temperatures");return this.isTemperature()?ie(this,t):t.isTemperature()?ie(t,this):Y({scalar:this.scalar+t.to(this).scalar,numerator:this.numerator,denominator:this.denominator})},sub:function(t){if(e(t)&&(t=Y(t)),this.isCompatible(t)||f(this.units(),t.units()),this.isTemperature()&&t.isTemperature())return ne(this,t);if(this.isTemperature())return re(this,t);if(t.isTemperature())throw new d("Cannot subtract a temperature from a differential degree unit");return Y({scalar:this.scalar-t.to(this).scalar,numerator:this.numerator,denominator:this.denominator})},mul:function(t){if(n(t))return Y({scalar:s(this.scalar,t),numerator:this.numerator,denominator:this.denominator});if(e(t)&&(t=Y(t)),(this.isTemperature()||t.isTemperature())&&!this.isUnitless()&&!t.isUnitless())throw new d("Cannot multiply by temperatures");var r=this,i=t;r.isCompatible(i)&&400!==r.signature&&(i=i.to(r));var a=he(r.numerator,r.denominator,i.numerator,i.denominator);return Y({scalar:s(r.scalar,i.scalar,a[2]),numerator:a[0],denominator:a[1]})},div:function(t){if(n(t)){if(0===t)throw new d("Divide by zero");return Y({scalar:this.scalar/t,numerator:this.numerator,denominator:this.denominator})}if(e(t)&&(t=Y(t)),0===t.scalar)throw new d("Divide by zero");if(t.isTemperature())throw new d("Cannot divide with temperatures");if(this.isTemperature()&&!t.isUnitless())throw new d("Cannot divide with temperatures");var r=this,i=t;r.isCompatible(i)&&400!==r.signature&&(i=i.to(r));var a=he(r.numerator,r.denominator,i.denominator,i.numerator);return Y({scalar:s(r.scalar,a[2])/i.scalar,numerator:a[0],denominator:a[1]})},inverse:function(){if(this.isTemperature())throw new d("Cannot divide with temperatures");if(0===this.scalar)throw new d("Divide by zero");return Y({scalar:1/this.scalar,numerator:this.denominator,denominator:this.numerator})}}),o(Y.prototype,{eq:function(e){return 0===this.compareTo(e)},lt:function(e){return-1===this.compareTo(e)},lte:function(e){return this.eq(e)||this.lt(e)},gt:function(e){return 1===this.compareTo(e)},gte:function(e){return this.eq(e)||this.gt(e)},compareTo:function(t){return e(t)?this.compareTo(Y(t)):(this.isCompatible(t)||f(this.units(),t.units()),this.baseScalar<t.baseScalar?-1:this.baseScalar===t.baseScalar?0:this.baseScalar>t.baseScalar?1:void 0)},same:function(e){return this.scalar===e.scalar&&this.units()===e.units()}}),o(Y.prototype,{isUnitless:function(){return[this.numerator,this.denominator].every((function(e){return a(e,v)}))},isCompatible:function(t){return e(t)?this.isCompatible(Y(t)):!!K(t)&&void 0!==t.signature&&this.signature===t.signature},isInverse:function(e){return this.inverse().isCompatible(e)},isBase:function(){return void 0!==this._isBase?this._isBase:this.isDegrees()&&this.numerator[0].match(/<(kelvin|temp-K)>/)?(this._isBase=!0,this._isBase):(this.numerator.concat(this.denominator).forEach((function(e){e!==m&&-1===p.indexOf(e)&&(this._isBase=!1)}),this),!1===this._isBase||(this._isBase=!0),this._isBase)}}),pe.prototype.get=function(e){return arguments.length>1&&(e=Array.apply(null,arguments)),e.reduce((function(t,n,r){if(t){var i=t[n];return r===e.length-1?i?i.data:void 0:i}}),this)},pe.prototype.set=function(e,t){return arguments.length>2&&(e=Array.prototype.slice.call(arguments,0,-1),t=arguments[arguments.length-1]),e.reduce((function(n,r,i){var a=n[r];return void 0===a&&(a=n[r]={}),i===e.length-1?(a.data=t,t):a}),this)},Y.formatter=me,o(Y.prototype,{units:function(){if(void 0!==this._units)return this._units;var e=a(this.numerator,v),t=a(this.denominator,v);if(e&&t)return this._units="",this._units;var n=ge(this.numerator),r=ge(this.denominator);return this._units=n+(t?"":"/"+r),this._units},toString:function(t,r){var i;if(n(t))i=this.units(),r=t;else if(e(t))i=t;else if(K(t))return this.toPrec(t).toString(r);var a=this.to(i);return a=((void 0!==r?c(a.scalar,r):a.scalar)+" "+a.units()).trim()},format:function(e,t){1===arguments.length&&"function"===typeof e&&(t=e,e=void 0),t=t||Y.formatter;var n=this.to(e);return t.call(this,n.scalar,n.units())}});var ve=new pe;function ge(e){var t=ve.get(e);return t||(t=a(e,v)?"1":xe(ye(e)).join("*"),ve.set(e,t),t)}function ye(e){for(var t,n,r=[],i=0;i<e.length;i++)t=e[i],n=e[i+1],y[t]?(r.push(w[t]+w[n]),i++):r.push(w[t]);return r}function xe(e){return e.reduce((function(e,t){var n=e[t];return n||e.push(n=e[t]=[t,0]),n[1]++,e}),[]).map((function(e){return e[0]+(e[1]>1?e[1]:"")}))}return Y.version="1.7.6",Y}()},5483:function(e,t,n){var r=n(8416).default,i=n(6115).default,a=n(3515).default,o=n(1588).default,s=n(3808).default,l=n(4993).default,c=n(1589).default,u=n(861).default,d=n(7424).default,f=n(4704).default,h=n(6690).default,p=n(9728).default,m=n(1655).default,v=n(6389).default,g=n(3496).default;e.exports=function(){"use strict";var e,t,n;function y(r,i){if(e)if(t){var a="self.onerror = function() { console.error('An error occurred while parsing the WebWorker bundle. This is most likely due to improper transpilation by Babel; please see https://docs.mapbox.com/mapbox-gl-js/guides/install/#transpiling'); }; var sharedChunk = {}; ("+e+")(sharedChunk); ("+t+")(sharedChunk); self.onerror = null;",o={};e(o),n=i(o),"undefined"!==typeof window&&window&&window.URL&&window.URL.createObjectURL&&(n.workerUrl=window.URL.createObjectURL(new Blob([a],{type:"text/javascript"})))}else t=i;else e=i}return y(["exports"],(function(e){var t,n,r,y="undefined"!=typeof self?self:{},x="2.12.0",b={API_URL:"https://api.mapbox.com",get API_URL_REGEX(){if(null==t){var e=/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/|\?|$)/i;try{t=null!={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.API_URL_REGEX?new RegExp({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.API_URL_REGEX):e}catch(y){t=e}}return t},get API_TILEJSON_REGEX(){return/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/v[0-9]*\/.*\.json.*$)/i},get API_SPRITE_REGEX(){return/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/styles\/v[0-9]*\/)(.*\/sprite.*\..*$)/i},get API_FONTS_REGEX(){return/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/fonts\/v[0-9]*\/)(.*\.pbf.*$)/i},get API_STYLE_REGEX(){return/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/styles\/v[0-9]*\/)(.*$)/i},get API_CDN_URL_REGEX(){return/^((https?:)?\/\/)?api\.mapbox\.c(n|om)(\/mapbox-gl-js\/)(.*$)/i},get EVENTS_URL(){return this.API_URL?0===this.API_URL.indexOf("https://api.mapbox.cn")?"https://events.mapbox.cn/events/v2":0===this.API_URL.indexOf("https://api.mapbox.com")?"https://events.mapbox.com/events/v2":null:null},SESSION_PATH:"/map-sessions/v1",FEEDBACK_URL:"https://apps.mapbox.com/feedback",TILE_URL_VERSION:"v4",RASTER_URL_PREFIX:"raster/v1",REQUIRE_ACCESS_TOKEN:!0,ACCESS_TOKEN:null,MAX_PARALLEL_IMAGE_REQUESTS:16},_={supported:!1,testSupport:function(e){!w&&r&&(k?S(e):n=e)}},w=!1,k=!1;function S(e){var t=e.createTexture();e.bindTexture(e.TEXTURE_2D,t);try{if(e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,r),e.isContextLost())return;_.supported=!0}catch(e){}e.deleteTexture(t),w=!0}y.document&&((r=y.document.createElement("img")).onload=function(){n&&S(n),n=null,k=!0},r.onerror=function(){w=!0,n=null},r.src="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAQAAAAfQ//73v/+BiOh/AAA=");var E="01",C=T;function T(e,t,n,r){this.cx=3*e,this.bx=3*(n-e)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*t,this.by=3*(r-t)-this.cy,this.ay=1-this.cy-this.by,this.p1x=e,this.p1y=t,this.p2x=n,this.p2y=r}T.prototype={sampleCurveX:function(e){return((this.ax*e+this.bx)*e+this.cx)*e},sampleCurveY:function(e){return((this.ay*e+this.by)*e+this.cy)*e},sampleCurveDerivativeX:function(e){return(3*this.ax*e+2*this.bx)*e+this.cx},solveCurveX:function(e,t){if(void 0===t&&(t=1e-6),e<0)return 0;if(e>1)return 1;for(var n=e,r=0;r<8;r++){var i=this.sampleCurveX(n)-e;if(Math.abs(i)<t)return n;var a=this.sampleCurveDerivativeX(n);if(Math.abs(a)<1e-6)break;n-=i/a}var o=0,s=1;for(n=e,r=0;r<20&&(i=this.sampleCurveX(n),!(Math.abs(i-e)<t));r++)e>i?o=n:s=n,n=.5*(s-o)+o;return n},solve:function(e,t){return this.sampleCurveY(this.solveCurveX(e,t))}};var M=I;function I(e,t){this.x=e,this.y=t}I.prototype={clone:function(){return new I(this.x,this.y)},add:function(e){return this.clone()._add(e)},sub:function(e){return this.clone()._sub(e)},multByPoint:function(e){return this.clone()._multByPoint(e)},divByPoint:function(e){return this.clone()._divByPoint(e)},mult:function(e){return this.clone()._mult(e)},div:function(e){return this.clone()._div(e)},rotate:function(e){return this.clone()._rotate(e)},rotateAround:function(e,t){return this.clone()._rotateAround(e,t)},matMult:function(e){return this.clone()._matMult(e)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(e){return this.x===e.x&&this.y===e.y},dist:function(e){return Math.sqrt(this.distSqr(e))},distSqr:function(e){var t=e.x-this.x,n=e.y-this.y;return t*t+n*n},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(e){return Math.atan2(this.y-e.y,this.x-e.x)},angleWith:function(e){return this.angleWithSep(e.x,e.y)},angleWithSep:function(e,t){return Math.atan2(this.x*t-this.y*e,this.x*e+this.y*t)},_matMult:function(e){var t=e[2]*this.x+e[3]*this.y;return this.x=e[0]*this.x+e[1]*this.y,this.y=t,this},_add:function(e){return this.x+=e.x,this.y+=e.y,this},_sub:function(e){return this.x-=e.x,this.y-=e.y,this},_mult:function(e){return this.x*=e,this.y*=e,this},_div:function(e){return this.x/=e,this.y/=e,this},_multByPoint:function(e){return this.x*=e.x,this.y*=e.y,this},_divByPoint:function(e){return this.x/=e.x,this.y/=e.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var e=this.y;return this.y=this.x,this.x=-e,this},_rotate:function(e){var t=Math.cos(e),n=Math.sin(e),r=n*this.x+t*this.y;return this.x=t*this.x-n*this.y,this.y=r,this},_rotateAround:function(e,t){var n=Math.cos(e),r=Math.sin(e),i=t.y+r*(this.x-t.x)+n*(this.y-t.y);return this.x=t.x+n*(this.x-t.x)-r*(this.y-t.y),this.y=i,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},I.convert=function(e){return e instanceof I?e:Array.isArray(e)?new I(e[0],e[1]):e};var O=Math.PI/180,P=180/Math.PI;function A(e){return e*O}function z(e){return e*P}var j=[[0,0],[1,0],[1,1],[0,1]];function R(e){if(e<=0)return 0;if(e>=1)return 1;var t=e*e,n=t*e;return 4*(e<.5?n:3*(e-t)+n-.75)}function D(e,t,n,r){var i=new C(e,t,n,r);return function(e){return i.solve(e)}}var L=D(.25,.1,.25,1);function N(e,t,n){return Math.min(n,Math.max(t,e))}function B(e,t,n){return(n=N((n-e)/(t-e),0,1))*n*(3-2*n)}function F(e,t,n){var r=n-t,i=((e-t)%r+r)%r+t;return i===t?n:i}function V(e,t,n){if(!e.length)return n(null,[]);var r=e.length,i=new Array(e.length),a=null;e.forEach((function(e,o){t(e,(function(e,t){e&&(a=e),i[o]=t,0==--r&&n(a,i)}))}))}function U(e){var t=[];for(var n in e)t.push(e[n]);return t}function H(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];for(var s in o)e[s]=o[s]}return e}var G=1;function W(){return G++}function q(){return function e(t){return t?(t^Math.random()*(16>>t/4)).toString(16):([1e7]+-[1e3]+-4e3+-8e3+-1e11).replace(/[018]/g,e)}()}function X(e){return e<=1?1:Math.pow(2,Math.ceil(Math.log(e)/Math.LN2))}function Z(e){return!!e&&/^[0-9a-f]{8}-[0-9a-f]{4}-[4][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(e)}function K(e,t){e.forEach((function(e){t[e]&&(t[e]=t[e].bind(t))}))}function Y(e,t){return-1!==e.indexOf(t,e.length-t.length)}function $(e,t,n){var r={};for(var i in e)r[i]=t.call(n||this,e[i],i,e);return r}function J(e,t,n){var r={};for(var i in e)t.call(n||this,e[i],i,e)&&(r[i]=e[i]);return r}function Q(e){return Array.isArray(e)?e.map(Q):"object"==typeof e&&e?$(e,Q):e}var ee={};function te(e){ee[e]||("undefined"!=typeof console&&console.warn(e),ee[e]=!0)}function ne(e,t,n){return(n.y-e.y)*(t.x-e.x)>(t.y-e.y)*(n.x-e.x)}function re(e){for(var t,n,r=0,i=0,a=e.length,o=a-1;i<a;o=i++)t=e[i],r+=((n=e[o]).x-t.x)*(t.y+n.y);return r}function ie(){return"undefined"!=typeof WorkerGlobalScope&&"undefined"!=typeof self&&self instanceof WorkerGlobalScope}function ae(e){var t={};if(e.replace(/(?:^|(?:\s*\,\s*))([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)(?:\=(?:([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)|(?:\"((?:[^"\\]|\\.)*)\")))?/g,(function(e,n,r,i){var a=r||i;return t[n]=!a||a.toLowerCase(),""})),t["max-age"]){var n=parseInt(t["max-age"],10);isNaN(n)?delete t["max-age"]:t["max-age"]=n}return t}var oe=null;function se(e){if(null==oe){var t=e.navigator?e.navigator.userAgent:null;oe=!!e.safari||!(!t||!(/\b(iPad|iPhone|iPod)\b/.test(t)||t.match("Safari")&&!t.match("Chrome")))}return oe}function le(e){try{var t=y[e];return t.setItem("_mapbox_test_",1),t.removeItem("_mapbox_test_"),!0}catch(e){return!1}}function ce(e,t){return[e[4*t],e[4*t+1],e[4*t+2],e[4*t+3]]}var ue,de,fe="mapbox-tiles",he=500,pe=50;function me(){try{return y.caches}catch(e){}}function ve(){me()&&!ue&&(ue=y.caches.open(fe))}function ge(e){var t=e.indexOf("?");if(t<0)return e;var n=function(e){var t=e.indexOf("?");return t>0?e.slice(t+1).split("&"):[]}(e),r=n.filter((function(e){var t=e.split("=");return"language"===t[0]||"worldview"===t[0]}));return r.length?"".concat(e.slice(0,t),"?").concat(r.join("&")):e.slice(0,t)}var ye=1/0,xe={Unknown:"Unknown",Style:"Style",Source:"Source",Tile:"Tile",Glyphs:"Glyphs",SpriteImage:"SpriteImage",SpriteJSON:"SpriteJSON",Image:"Image"};"function"==typeof Object.freeze&&Object.freeze(xe);var be=function(e){m(n,e);var t=v(n);function n(e,r,i){var a;return h(this,n),401===r&&Pe(i)&&(e+=": you may have provided an invalid Mapbox access token. See https://docs.mapbox.com/api/overview/#access-tokens-and-token-scopes"),(a=t.call(this,e)).status=r,a.url=i,a}return p(n,[{key:"toString",value:function(){return"".concat(this.name,": ").concat(this.message," (").concat(this.status,"): ").concat(this.url)}}]),n}(g(Error)),_e=ie()?function(){return self.worker&&self.worker.referrer}:function(){return("blob:"===y.location.protocol?y.parent:y).location.href},we=function(e,t){if(!(/^file:/.test(n=e.url)||/^file:/.test(_e())&&!/^\w+:/.test(n))){if(y.fetch&&y.Request&&y.AbortController&&y.Request.prototype.hasOwnProperty("signal"))return function(e,t){var n,r=new y.AbortController,i=new y.Request(e.url,{method:e.method||"GET",body:e.body,credentials:e.credentials,headers:e.headers,referrer:_e(),signal:r.signal}),a=!1,o=!1,s=(n=i.url).indexOf("sku=")>0&&Pe(n);"json"===e.type&&i.headers.set("Accept","application/json");var l=function(n,r,a){if(!o){if(n&&"SecurityError"!==n.message&&te(n),r&&a)return c(r);var l=Date.now();y.fetch(i).then((function(n){if(n.ok){var r=s?n.clone():null;return c(n,r,l)}return t(new be(n.statusText,n.status,e.url))})).catch((function(e){20!==e.code&&t(new Error(e.message))}))}},c=function(n,r,s){("arrayBuffer"===e.type?n.arrayBuffer():"json"===e.type?n.json():n.text()).then((function(e){o||(r&&s&&function(e,t,n){if(ve(),ue){var r={status:t.status,statusText:t.statusText,headers:new y.Headers};t.headers.forEach((function(e,t){return r.headers.set(t,e)}));var i=ae(t.headers.get("Cache-Control")||"");if(!i["no-store"]){i["max-age"]&&r.headers.set("Expires",new Date(n+1e3*i["max-age"]).toUTCString());var a=r.headers.get("Expires");a&&(new Date(a).getTime()-n<42e4||function(e,t){if(void 0===de)try{new Response(new ReadableStream),de=!0}catch(e){de=!1}de?t(e.body):e.blob().then(t)}(t,(function(t){var n=new y.Response(t,r);ve(),ue&&ue.then((function(t){return t.put(ge(e.url),n)})).catch((function(e){return te(e.message)}))})))}}}(i,r,s),a=!0,t(null,e,n.headers.get("Cache-Control"),n.headers.get("Expires")))})).catch((function(e){o||t(new Error(e.message))}))};return s?function(e,t){if(ve(),!ue)return t(null);var n=ge(e.url);ue.then((function(e){e.match(n).then((function(r){var i=function(e){if(!e)return!1;var t=new Date(e.headers.get("Expires")||0),n=ae(e.headers.get("Cache-Control")||"");return t>Date.now()&&!n["no-cache"]}(r);e.delete(n),i&&e.put(n,r.clone()),t(null,r,i)})).catch(t)})).catch(t)}(i,l):l(null,null),{cancel:function(){o=!0,a||r.abort()}}}(e,t);if(ie()&&self.worker&&self.worker.actor)return self.worker.actor.send("getResource",e,t,void 0,!0)}var n;return function(e,t){var n=new y.XMLHttpRequest;for(var r in n.open(e.method||"GET",e.url,!0),"arrayBuffer"===e.type&&(n.responseType="arraybuffer"),e.headers)n.setRequestHeader(r,e.headers[r]);return"json"===e.type&&(n.responseType="text",n.setRequestHeader("Accept","application/json")),n.withCredentials="include"===e.credentials,n.onerror=function(){t(new Error(n.statusText))},n.onload=function(){if((n.status>=200&&n.status<300||0===n.status)&&null!==n.response){var r=n.response;if("json"===e.type)try{r=JSON.parse(n.response)}catch(e){return t(e)}t(null,r,n.getResponseHeader("Cache-Control"),n.getResponseHeader("Expires"))}else t(new be(n.statusText,n.status,e.url))},n.send(e.body),{cancel:function(){return n.abort()}}}(e,t)},ke=function(e,t){return we(H(e,{type:"arrayBuffer"}),t)};function Se(e){var t=y.document.createElement("a");return t.href=e,t.protocol===y.document.location.protocol&&t.host===y.document.location.host}var Ee,Ce,Te="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII=";Ee=[],Ce=0;var Me=function e(t,n){if(_.supported&&(t.headers||(t.headers={}),t.headers.accept="image/webp,*/*"),Ce>=b.MAX_PARALLEL_IMAGE_REQUESTS){var r={requestParameters:t,callback:n,cancelled:!1,cancel:function(){this.cancelled=!0}};return Ee.push(r),r}Ce++;var i=!1,a=function(){if(!i)for(i=!0,Ce--;Ee.length&&Ce<b.MAX_PARALLEL_IMAGE_REQUESTS;){var t=Ee.shift(),n=t.requestParameters,r=t.callback;t.cancelled||(t.cancel=e(n,r).cancel)}},o=ke(t,(function(e,t,r,i){a(),e?n(e):t&&(y.createImageBitmap?function(e,t){var n=new y.Blob([new Uint8Array(e)],{type:"image/png"});y.createImageBitmap(n).then((function(e){t(null,e)})).catch((function(e){t(new Error("Could not load image because of ".concat(e.message,". Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported.")))}))}(t,(function(e,t){return n(e,t,r,i)})):function(e,t){var n=new y.Image,r=y.URL;n.onload=function(){t(null,n),r.revokeObjectURL(n.src),n.onload=null,y.requestAnimationFrame((function(){n.src=Te}))},n.onerror=function(){return t(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."))};var i=new y.Blob([new Uint8Array(e)],{type:"image/png"});n.src=e.byteLength?r.createObjectURL(i):Te}(t,(function(e,t){return n(e,t,r,i)})))}));return{cancel:function(){o.cancel(),a()}}},Ie="NO_ACCESS_TOKEN";function Oe(e){return 0===e.indexOf("mapbox:")}function Pe(e){return b.API_URL_REGEX.test(e)}function Ae(e){return b.API_CDN_URL_REGEX.test(e)}function ze(e){return b.API_STYLE_REGEX.test(e)&&!je(e)}function je(e){return b.API_SPRITE_REGEX.test(e)}var Re=/^(\w+):\/\/([^/?]*)(\/[^?]+)?\??(.+)?/;function De(e){var t=e.match(Re);if(!t)throw new Error("Unable to parse URL object");return{protocol:t[1],authority:t[2],path:t[3]||"/",params:t[4]?t[4].split("&"):[]}}function Le(e){var t=e.params.length?"?".concat(e.params.join("&")):"";return"".concat(e.protocol,"://").concat(e.authority).concat(e.path).concat(t)}function Ne(e){if(!e)return null;var t=e.split(".");if(!t||3!==t.length)return null;try{return JSON.parse(decodeURIComponent(y.atob(t[1]).split("").map((function(e){return"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)})).join("")))}catch(e){return null}}var Be=function(){function e(t){h(this,e),this.type=t,this.anonId=null,this.eventData={},this.queue=[],this.pendingRequest=null}return p(e,[{key:"getStorageKey",value:function(e){var t=Ne(b.ACCESS_TOKEN),n="";return n=t&&t.u?y.btoa(encodeURIComponent(t.u).replace(/%([0-9A-F]{2})/g,(function(e,t){return String.fromCharCode(Number("0x"+t))}))):b.ACCESS_TOKEN||"",e?"mapbox.eventData.".concat(e,":").concat(n):"mapbox.eventData:".concat(n)}},{key:"fetchEventData",value:function(){var e=le("localStorage"),t=this.getStorageKey(),n=this.getStorageKey("uuid");if(e)try{var r=y.localStorage.getItem(t);r&&(this.eventData=JSON.parse(r));var i=y.localStorage.getItem(n);i&&(this.anonId=i)}catch(e){te("Unable to read from LocalStorage")}}},{key:"saveEventData",value:function(){var e=le("localStorage"),t=this.getStorageKey(),n=this.getStorageKey("uuid");if(e)try{y.localStorage.setItem(n,this.anonId),Object.keys(this.eventData).length>=1&&y.localStorage.setItem(t,JSON.stringify(this.eventData))}catch(e){te("Unable to write to LocalStorage")}}},{key:"processRequests",value:function(e){}},{key:"postEvent",value:function(e,t,n,r){var i=this;if(b.EVENTS_URL){var a=De(b.EVENTS_URL);a.params.push("access_token=".concat(r||b.ACCESS_TOKEN||""));var o={event:this.type,created:new Date(e).toISOString()},s=t?H(o,t):o,l={url:Le(a),headers:{"Content-Type":"text/plain"},body:JSON.stringify([s])};this.pendingRequest=function(e,t){return we(H(e,{method:"POST"}),t)}(l,(function(e){i.pendingRequest=null,n(e),i.saveEventData(),i.processRequests(r)}))}}},{key:"queueRequest",value:function(e,t){this.queue.push(e),this.processRequests(t)}}]),e}(),Fe=new(function(e){m(n,e);var t=v(n);function n(e){var r;return h(this,n),(r=t.call(this,"appUserTurnstile"))._customAccessToken=e,r}return p(n,[{key:"postTurnstileEvent",value:function(e,t){b.EVENTS_URL&&b.ACCESS_TOKEN&&Array.isArray(e)&&e.some((function(e){return Oe(e)||Pe(e)}))&&this.queueRequest(Date.now(),t)}},{key:"processRequests",value:function(e){var t=this;if(!this.pendingRequest&&0!==this.queue.length){this.anonId&&this.eventData.lastSuccess&&this.eventData.tokenU||this.fetchEventData();var n=Ne(b.ACCESS_TOKEN),r=n?n.u:b.ACCESS_TOKEN,i=r!==this.eventData.tokenU;Z(this.anonId)||(this.anonId=q(),i=!0);var a=this.queue.shift();if(this.eventData.lastSuccess){var o=new Date(this.eventData.lastSuccess),s=new Date(a),l=(a-this.eventData.lastSuccess)/864e5;i=i||l>=1||l<-1||o.getDate()!==s.getDate()}else i=!0;i?this.postEvent(a,{sdkIdentifier:"mapbox-gl-js",sdkVersion:x,skuId:E,"enabled.telemetry":!1,userId:this.anonId},(function(e){e||(t.eventData.lastSuccess=a,t.eventData.tokenU=r)}),e):this.processRequests()}}}]),n}(Be)),Ve=Fe.postTurnstileEvent.bind(Fe),Ue=new(function(e){m(n,e);var t=v(n);function n(){var e;return h(this,n),(e=t.call(this,"map.load")).success={},e.skuToken="",e}return p(n,[{key:"postMapLoadEvent",value:function(e,t,n,r){this.skuToken=t,this.errorCb=r,b.EVENTS_URL&&(n||b.ACCESS_TOKEN?this.queueRequest({id:e,timestamp:Date.now()},n):this.errorCb(new Error(Ie)))}},{key:"processRequests",value:function(e){var t=this;if(!this.pendingRequest&&0!==this.queue.length){var n=this.queue.shift(),r=n.id,i=n.timestamp;r&&this.success[r]||(this.anonId||this.fetchEventData(),Z(this.anonId)||(this.anonId=q()),this.postEvent(i,{sdkIdentifier:"mapbox-gl-js",sdkVersion:x,skuId:E,skuToken:this.skuToken,userId:this.anonId},(function(e){e?t.errorCb(e):r&&(t.success[r]=!0)}),e))}}}]),n}(Be)),He=Ue.postMapLoadEvent.bind(Ue),Ge=new(function(e){m(n,e);var t=v(n);function n(){return h(this,n),t.call(this,"gljs.performance")}return p(n,[{key:"postPerformanceEvent",value:function(e,t){b.EVENTS_URL&&(e||b.ACCESS_TOKEN)&&this.queueRequest({timestamp:Date.now(),performanceData:t},e)}},{key:"processRequests",value:function(e){if(!this.pendingRequest&&0!==this.queue.length){var t,n=this.queue.shift(),r=n.timestamp,i=function(e){var t=y.performance.getEntriesByType("resource"),n=y.performance.getEntriesByType("mark"),r=function(e){var t={};if(e)for(var n in e)if("other"!==n){var r,i=f(e[n]);try{for(i.s();!(r=i.n()).done;){var a=r.value,o="".concat(n,"ResolveRangeMin"),s="".concat(n,"ResolveRangeMax"),l="".concat(n,"RequestCount"),c="".concat(n,"RequestCachedCount");t[o]=Math.min(t[o]||1/0,a.startTime),t[s]=Math.max(t[s]||-1/0,a.responseEnd);var u=function(e){void 0===t[e]&&(t[e]=0),++t[e]};void 0!==a.transferSize&&0===a.transferSize&&u(c),u(l)}}catch(d){i.e(d)}finally{i.f()}}return t}(function(e,t){var n={};if(e){var r,i=f(e);try{for(i.s();!(r=i.n()).done;){var a=r.value,o=t(a);void 0===n[o]&&(n[o]=[]),n[o].push(a)}}catch(s){i.e(s)}finally{i.f()}}return n}(t,$e)),i=y.devicePixelRatio,a=y.navigator.connection||y.navigator.mozConnection||y.navigator.webkitConnection,o={counters:[],metadata:[],attributes:[]},s=function(e,t,n){null!=n&&e.push({name:t,value:n.toString()})};for(var l in r)s(o.counters,l,r[l]);if(e.interactionRange[0]!==1/0&&e.interactionRange[1]!==-1/0&&(s(o.counters,"interactionRangeMin",e.interactionRange[0]),s(o.counters,"interactionRangeMax",e.interactionRange[1])),n)for(var c=function(){var e=d[u],t=Ke[e],r=n.find((function(e){return e.name===t}));r&&s(o.counters,t,r.startTime)},u=0,d=Object.keys(Ke);u<d.length;u++)c();return s(o.counters,"visibilityHidden",e.visibilityHidden),s(o.attributes,"style",function(e){if(e){var t,n=f(e);try{for(n.s();!(t=n.n()).done;){var r=t.value.name.split("?")[0];if(ze(r)){var i=r.split("/").slice(-2);if(2===i.length)return"mapbox://styles/".concat(i[0],"/").concat(i[1])}}}catch(a){n.e(a)}finally{n.f()}}}(t)),s(o.attributes,"terrainEnabled",e.terrainEnabled?"true":"false"),s(o.attributes,"fogEnabled",e.fogEnabled?"true":"false"),s(o.attributes,"projection",e.projection),s(o.attributes,"zoom",e.zoom),s(o.metadata,"devicePixelRatio",i),s(o.metadata,"connectionEffectiveType",a?a.effectiveType:void 0),s(o.metadata,"navigatorUserAgent",y.navigator.userAgent),s(o.metadata,"screenWidth",y.screen.width),s(o.metadata,"screenHeight",y.screen.height),s(o.metadata,"windowWidth",y.innerWidth),s(o.metadata,"windowHeight",y.innerHeight),s(o.metadata,"mapWidth",e.width/i),s(o.metadata,"mapHeight",e.height/i),s(o.metadata,"webglRenderer",e.renderer),s(o.metadata,"webglVendor",e.vendor),s(o.metadata,"sdkVersion",x),s(o.metadata,"sdkIdentifier","mapbox-gl-js"),o}(n.performanceData),a=f(i.metadata);try{for(a.s();!(t=a.n()).done;)t.value}catch(u){a.e(u)}finally{a.f()}var o,s=f(i.counters);try{for(s.s();!(o=s.n()).done;)o.value}catch(u){s.e(u)}finally{s.f()}var l,c=f(i.attributes);try{for(c.s();!(l=c.n()).done;)l.value}catch(u){c.e(u)}finally{c.f()}this.postEvent(r,i,(function(){}),e)}}}]),n}(Be)),We=Ge.postPerformanceEvent.bind(Ge),qe=new(function(e){m(n,e);var t=v(n);function n(){var e;return h(this,n),(e=t.call(this,"map.auth")).success={},e.skuToken="",e}return p(n,[{key:"getSession",value:function(e,t,n,r){var i=this;if(b.API_URL&&b.SESSION_PATH){var a=De(b.API_URL+b.SESSION_PATH);a.params.push("sku=".concat(t||"")),a.params.push("access_token=".concat(r||b.ACCESS_TOKEN||""));var o={url:Le(a),headers:{"Content-Type":"text/plain"}};this.pendingRequest=function(e,t){return we(H(e,{method:"GET"}),t)}(o,(function(e){i.pendingRequest=null,n(e),i.saveEventData(),i.processRequests(r)}))}}},{key:"getSessionAPI",value:function(e,t,n,r){this.skuToken=t,this.errorCb=r,b.SESSION_PATH&&b.API_URL&&(n||b.ACCESS_TOKEN?this.queueRequest({id:e,timestamp:Date.now()},n):this.errorCb(new Error(Ie)))}},{key:"processRequests",value:function(e){var t=this;if(!this.pendingRequest&&0!==this.queue.length){var n=this.queue.shift(),r=n.id,i=n.timestamp;r&&this.success[r]||this.getSession(i,this.skuToken,(function(e){e?t.errorCb(e):r&&(t.success[r]=!0)}),e)}}}]),n}(Be)),Xe=qe.getSessionAPI.bind(qe),Ze=new Set,Ke={create:"create",load:"load",fullLoad:"fullLoad"},Ye={mark:function(e){y.performance.mark(e)},measure:function(e,t,n){y.performance.measure(e,t,n)}};function $e(e){var t=e.name.split("?")[0];return Ae(t)&&t.includes("mapbox-gl.js")?"javascript":Ae(t)&&t.includes("mapbox-gl.css")?"css":function(e){return b.API_FONTS_REGEX.test(e)}(t)?"fontRange":je(t)?"sprite":ze(t)?"style":function(e){return b.API_TILEJSON_REGEX.test(e)}(t)?"tilejson":"other"}var Je,Qe,et,tt,nt=y.performance;function rt(e){var t=e?e.url.toString():void 0;return nt.getEntriesByName(t)}var it={now:function(){return void 0!==et?et:y.performance.now()},setNow:function(e){et=e},restoreNow:function(){et=void 0},frame:function(e){var t=y.requestAnimationFrame(e);return{cancel:function(){return y.cancelAnimationFrame(t)}}},getImageData:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=e.width,r=e.height;tt||(tt=y.document.createElement("canvas"));var i=tt.getContext("2d",{willReadFrequently:!0});if(!i)throw new Error("failed to create canvas 2d context");return(n>tt.width||r>tt.height)&&(tt.width=n,tt.height=r),i.clearRect(-t,-t,n+2*t,r+2*t),i.drawImage(e,0,0,n,r),i.getImageData(-t,-t,n+2*t,r+2*t)},resolveURL:function(e){return Je||(Je=y.document.createElement("a")),Je.href=e,Je.href},get devicePixelRatio(){return y.devicePixelRatio},get prefersReducedMotion(){return!!y.matchMedia&&(null==Qe&&(Qe=y.matchMedia("(prefers-reduced-motion: reduce)")),Qe.matches)}};function at(e,t,n){n[e]&&-1!==n[e].indexOf(t)||(n[e]=n[e]||[],n[e].push(t))}function ot(e,t,n){if(n&&n[e]){var r=n[e].indexOf(t);-1!==r&&n[e].splice(r,1)}}var st=p((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};h(this,e),H(this,n),this.type=t})),lt=function(e){m(n,e);var t=v(n);function n(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return h(this,n),t.call(this,"error",H({error:e},r))}return p(n)}(st),ct=function(){function e(){h(this,e)}return p(e,[{key:"on",value:function(e,t){return this._listeners=this._listeners||{},at(e,t,this._listeners),this}},{key:"off",value:function(e,t){return ot(e,t,this._listeners),ot(e,t,this._oneTimeListeners),this}},{key:"once",value:function(e,t){var n=this;return t?(this._oneTimeListeners=this._oneTimeListeners||{},at(e,t,this._oneTimeListeners),this):new Promise((function(t){return n.once(e,t)}))}},{key:"fire",value:function(e,t){"string"==typeof e&&(e=new st(e,t||{}));var n=e.type;if(this.listens(n)){e.target=this;var r,i=this._listeners&&this._listeners[n]?this._listeners[n].slice():[],a=f(i);try{for(a.s();!(r=a.n()).done;)r.value.call(this,e)}catch(d){a.e(d)}finally{a.f()}var o,s=this._oneTimeListeners&&this._oneTimeListeners[n]?this._oneTimeListeners[n].slice():[],l=f(s);try{for(l.s();!(o=l.n()).done;){var c=o.value;ot(n,c,this._oneTimeListeners),c.call(this,e)}}catch(d){l.e(d)}finally{l.f()}var u=this._eventedParent;u&&(H(e,"function"==typeof this._eventedParentData?this._eventedParentData():this._eventedParentData),u.fire(e))}else e instanceof lt&&console.error(e.error);return this}},{key:"listens",value:function(e){return!!(this._listeners&&this._listeners[e]&&this._listeners[e].length>0||this._oneTimeListeners&&this._oneTimeListeners[e]&&this._oneTimeListeners[e].length>0||this._eventedParent&&this._eventedParent.listens(e))}},{key:"setEventedParent",value:function(e,t){return this._eventedParent=e,this._eventedParentData=t,this}}]),e}(),ut=JSON.parse('{"$version":8,"$root":{"version":{"required":true,"type":"enum","values":[8]},"name":{"type":"string"},"metadata":{"type":"*"},"center":{"type":"array","value":"number"},"zoom":{"type":"number"},"bearing":{"type":"number","default":0,"period":360,"units":"degrees"},"pitch":{"type":"number","default":0,"units":"degrees"},"light":{"type":"light"},"terrain":{"type":"terrain"},"fog":{"type":"fog"},"sources":{"required":true,"type":"sources"},"sprite":{"type":"string"},"glyphs":{"type":"string"},"transition":{"type":"transition"},"projection":{"type":"projection"},"layers":{"required":true,"type":"array","value":"layer"}},"sources":{"*":{"type":"source"}},"source":["source_vector","source_raster","source_raster_dem","source_geojson","source_video","source_image"],"source_vector":{"type":{"required":true,"type":"enum","values":{"vector":{}}},"url":{"type":"string"},"tiles":{"type":"array","value":"string"},"bounds":{"type":"array","value":"number","length":4,"default":[-180,-85.051129,180,85.051129]},"scheme":{"type":"enum","values":{"xyz":{},"tms":{}},"default":"xyz"},"minzoom":{"type":"number","default":0},"maxzoom":{"type":"number","default":22},"attribution":{"type":"string"},"promoteId":{"type":"promoteId"},"volatile":{"type":"boolean","default":false},"*":{"type":"*"}},"source_raster":{"type":{"required":true,"type":"enum","values":{"raster":{}}},"url":{"type":"string"},"tiles":{"type":"array","value":"string"},"bounds":{"type":"array","value":"number","length":4,"default":[-180,-85.051129,180,85.051129]},"minzoom":{"type":"number","default":0},"maxzoom":{"type":"number","default":22},"tileSize":{"type":"number","default":512,"units":"pixels"},"scheme":{"type":"enum","values":{"xyz":{},"tms":{}},"default":"xyz"},"attribution":{"type":"string"},"volatile":{"type":"boolean","default":false},"*":{"type":"*"}},"source_raster_dem":{"type":{"required":true,"type":"enum","values":{"raster-dem":{}}},"url":{"type":"string"},"tiles":{"type":"array","value":"string"},"bounds":{"type":"array","value":"number","length":4,"default":[-180,-85.051129,180,85.051129]},"minzoom":{"type":"number","default":0},"maxzoom":{"type":"number","default":22},"tileSize":{"type":"number","default":512,"units":"pixels"},"attribution":{"type":"string"},"encoding":{"type":"enum","values":{"terrarium":{},"mapbox":{}},"default":"mapbox"},"volatile":{"type":"boolean","default":false},"*":{"type":"*"}},"source_geojson":{"type":{"required":true,"type":"enum","values":{"geojson":{}}},"data":{"type":"*"},"maxzoom":{"type":"number","default":18},"attribution":{"type":"string"},"buffer":{"type":"number","default":128,"maximum":512,"minimum":0},"filter":{"type":"*"},"tolerance":{"type":"number","default":0.375},"cluster":{"type":"boolean","default":false},"clusterRadius":{"type":"number","default":50,"minimum":0},"clusterMaxZoom":{"type":"number"},"clusterMinPoints":{"type":"number"},"clusterProperties":{"type":"*"},"lineMetrics":{"type":"boolean","default":false},"generateId":{"type":"boolean","default":false},"promoteId":{"type":"promoteId"}},"source_video":{"type":{"required":true,"type":"enum","values":{"video":{}}},"urls":{"required":true,"type":"array","value":"string"},"coordinates":{"required":true,"type":"array","length":4,"value":{"type":"array","length":2,"value":"number"}}},"source_image":{"type":{"required":true,"type":"enum","values":{"image":{}}},"url":{"required":true,"type":"string"},"coordinates":{"required":true,"type":"array","length":4,"value":{"type":"array","length":2,"value":"number"}}},"layer":{"id":{"type":"string","required":true},"type":{"type":"enum","values":{"fill":{},"line":{},"symbol":{},"circle":{},"heatmap":{},"fill-extrusion":{},"raster":{},"hillshade":{},"background":{},"sky":{}},"required":true},"metadata":{"type":"*"},"source":{"type":"string"},"source-layer":{"type":"string"},"minzoom":{"type":"number","minimum":0,"maximum":24},"maxzoom":{"type":"number","minimum":0,"maximum":24},"filter":{"type":"filter"},"layout":{"type":"layout"},"paint":{"type":"paint"}},"layout":["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_hillshade","layout_background","layout_sky"],"layout_background":{"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_sky":{"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_fill":{"fill-sort-key":{"type":"number","expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_circle":{"circle-sort-key":{"type":"number","expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_heatmap":{"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_fill-extrusion":{"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"},"fill-extrusion-edge-radius":{"type":"number","private":true,"default":0,"minimum":0,"maximum":1,"property-type":"constant"}},"layout_line":{"line-cap":{"type":"enum","values":{"butt":{},"round":{},"square":{}},"default":"butt","expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"line-join":{"type":"enum","values":{"bevel":{},"round":{},"miter":{}},"default":"miter","expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{"type":"number","default":2,"requires":[{"line-join":"miter"}],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"line-round-limit":{"type":"number","default":1.05,"requires":[{"line-join":"round"}],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"line-sort-key":{"type":"number","expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_symbol":{"symbol-placement":{"type":"enum","values":{"point":{},"line":{},"line-center":{}},"default":"point","expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"symbol-spacing":{"type":"number","default":250,"minimum":1,"units":"pixels","requires":[{"symbol-placement":"line"}],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{"type":"boolean","default":false,"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{"type":"number","expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{"type":"enum","values":{"auto":{},"viewport-y":{},"source":{}},"default":"auto","expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{"type":"boolean","default":false,"requires":["icon-image"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{"type":"boolean","default":false,"requires":["icon-image"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-optional":{"type":"boolean","default":false,"requires":["icon-image","text-field"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{"type":"enum","values":{"map":{},"viewport":{},"auto":{}},"default":"auto","requires":["icon-image"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-size":{"type":"number","default":1,"minimum":0,"units":"factor of the original icon size","requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{"type":"enum","values":{"none":{},"width":{},"height":{},"both":{}},"default":"none","requires":["icon-image","text-field"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-text-fit-padding":{"type":"array","value":"number","length":4,"default":[0,0,0,0],"units":"pixels","requires":["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"icon-image":{"type":"resolvedImage","tokens":true,"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{"type":"number","default":0,"period":360,"units":"degrees","requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{"type":"number","default":2,"minimum":0,"units":"pixels","requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"icon-keep-upright":{"type":"boolean","default":false,"requires":["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-offset":{"type":"array","value":"number","length":2,"default":[0,0],"requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{"type":"enum","values":{"center":{},"left":{},"right":{},"top":{},"bottom":{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},"default":"center","requires":["icon-image"],"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{"type":"enum","values":{"map":{},"viewport":{},"auto":{}},"default":"auto","requires":["icon-image"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{"type":"enum","values":{"map":{},"viewport":{},"auto":{}},"default":"auto","requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{"type":"enum","values":{"map":{},"viewport":{},"auto":{}},"default":"auto","requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-field":{"type":"formatted","default":"","tokens":true,"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-font":{"type":"array","value":"string","default":["Open Sans Regular","Arial Unicode MS Regular"],"requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-size":{"type":"number","default":16,"minimum":0,"units":"pixels","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{"type":"number","default":10,"minimum":0,"units":"ems","requires":["text-field",{"symbol-placement":["point"]}],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{"type":"number","default":1.2,"units":"ems","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-letter-spacing":{"type":"number","default":0,"units":"ems","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-justify":{"type":"enum","values":{"auto":{},"left":{},"center":{},"right":{}},"default":"center","requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-radial-offset":{"type":"number","units":"ems","default":0,"requires":["text-field"],"property-type":"data-driven","expression":{"interpolated":true,"parameters":["zoom","feature"]}},"text-variable-anchor":{"type":"array","value":"enum","values":{"center":{},"left":{},"right":{},"top":{},"bottom":{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},"requires":["text-field",{"symbol-placement":["point"]}],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-anchor":{"type":"enum","values":{"center":{},"left":{},"right":{},"top":{},"bottom":{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},"default":"center","requires":["text-field",{"!":"text-variable-anchor"}],"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{"type":"number","default":45,"units":"degrees","requires":["text-field",{"symbol-placement":["line","line-center"]}],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"text-writing-mode":{"type":"array","value":"enum","values":{"horizontal":{},"vertical":{}},"requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-rotate":{"type":"number","default":0,"period":360,"units":"degrees","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-padding":{"type":"number","default":2,"minimum":0,"units":"pixels","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"text-keep-upright":{"type":"boolean","default":true,"requires":["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-transform":{"type":"enum","values":{"none":{},"uppercase":{},"lowercase":{}},"default":"none","requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-offset":{"type":"array","value":"number","units":"ems","length":2,"default":[0,0],"requires":["text-field",{"!":"text-radial-offset"}],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{"type":"boolean","default":false,"requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{"type":"boolean","default":false,"requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-optional":{"type":"boolean","default":false,"requires":["text-field","icon-image"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_raster":{"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_hillshade":{"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"filter":{"type":"array","value":"*"},"filter_symbol":{"type":"boolean","default":false,"transition":false,"property-type":"data-driven","expression":{"interpolated":false,"parameters":["zoom","feature","pitch","distance-from-center"]}},"filter_fill":{"type":"boolean","default":false,"transition":false,"property-type":"data-driven","expression":{"interpolated":false,"parameters":["zoom","feature"]}},"filter_line":{"type":"boolean","default":false,"transition":false,"property-type":"data-driven","expression":{"interpolated":false,"parameters":["zoom","feature"]}},"filter_circle":{"type":"boolean","default":false,"transition":false,"property-type":"data-driven","expression":{"interpolated":false,"parameters":["zoom","feature"]}},"filter_fill-extrusion":{"type":"boolean","default":false,"transition":false,"property-type":"data-driven","expression":{"interpolated":false,"parameters":["zoom","feature"]}},"filter_heatmap":{"type":"boolean","default":false,"transition":false,"property-type":"data-driven","expression":{"interpolated":false,"parameters":["zoom","feature"]}},"filter_operator":{"type":"enum","values":{"==":{},"!=":{},">":{},">=":{},"<":{},"<=":{},"in":{},"!in":{},"all":{},"any":{},"none":{},"has":{},"!has":{},"within":{}}},"geometry_type":{"type":"enum","values":{"Point":{},"LineString":{},"Polygon":{}}},"function":{"expression":{"type":"expression"},"stops":{"type":"array","value":"function_stop"},"base":{"type":"number","default":1,"minimum":0},"property":{"type":"string","default":"$zoom"},"type":{"type":"enum","values":{"identity":{},"exponential":{},"interval":{},"categorical":{}},"default":"exponential"},"colorSpace":{"type":"enum","values":{"rgb":{},"lab":{},"hcl":{}},"default":"rgb"},"default":{"type":"*","required":false}},"function_stop":{"type":"array","minimum":0,"maximum":24,"value":["number","color"],"length":2},"expression":{"type":"array","value":"*","minimum":1},"fog":{"range":{"type":"array","default":[0.5,10],"minimum":-20,"maximum":20,"length":2,"value":"number","property-type":"data-constant","transition":true,"expression":{"interpolated":true,"parameters":["zoom"]}},"color":{"type":"color","property-type":"data-constant","default":"#ffffff","expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"high-color":{"type":"color","property-type":"data-constant","default":"#245cdf","expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"space-color":{"type":"color","property-type":"data-constant","default":["interpolate",["linear"],["zoom"],4,"#010b19",7,"#367ab9"],"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"horizon-blend":{"type":"number","property-type":"data-constant","default":["interpolate",["linear"],["zoom"],4,0.2,7,0.1],"minimum":0,"maximum":1,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"star-intensity":{"type":"number","property-type":"data-constant","default":["interpolate",["linear"],["zoom"],5,0.35,6,0],"minimum":0,"maximum":1,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true}},"light":{"anchor":{"type":"enum","default":"viewport","values":{"map":{},"viewport":{}},"property-type":"data-constant","transition":false,"expression":{"interpolated":false,"parameters":["zoom"]}},"position":{"type":"array","default":[1.15,210,30],"length":3,"value":"number","property-type":"data-constant","transition":true,"expression":{"interpolated":true,"parameters":["zoom"]}},"color":{"type":"color","property-type":"data-constant","default":"#ffffff","expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"intensity":{"type":"number","property-type":"data-constant","default":0.5,"minimum":0,"maximum":1,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true}},"projection":{"name":{"type":"enum","values":{"albers":{},"equalEarth":{},"equirectangular":{},"lambertConformalConic":{},"mercator":{},"naturalEarth":{},"winkelTripel":{},"globe":{}},"default":"mercator","required":true},"center":{"type":"array","length":2,"value":"number","property-type":"data-constant","minimum":[-180,-90],"maximum":[180,90],"transition":false,"requires":[{"name":["albers","lambertConformalConic"]}]},"parallels":{"type":"array","length":2,"value":"number","property-type":"data-constant","minimum":[-90,-90],"maximum":[90,90],"transition":false,"requires":[{"name":["albers","lambertConformalConic"]}]}},"terrain":{"source":{"type":"string","required":true},"exaggeration":{"type":"number","property-type":"data-constant","default":1,"minimum":0,"maximum":1000,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true,"requires":["source"]}},"paint":["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_hillshade","paint_background","paint_sky"],"paint_fill":{"fill-antialias":{"type":"boolean","default":true,"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"fill-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-color":{"type":"color","default":"#000000","transition":true,"requires":[{"!":"fill-pattern"}],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-outline-color":{"type":"color","transition":true,"requires":[{"!":"fill-pattern"},{"fill-antialias":true}],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","requires":["fill-translate"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"fill-pattern":{"type":"resolvedImage","transition":false,"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"}},"paint_fill-extrusion":{"fill-extrusion-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{"type":"color","default":"#000000","transition":true,"requires":[{"!":"fill-extrusion-pattern"}],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","requires":["fill-extrusion-translate"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{"type":"resolvedImage","transition":false,"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"fill-extrusion-height":{"type":"number","default":0,"minimum":0,"units":"meters","transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{"type":"number","default":0,"minimum":0,"units":"meters","transition":true,"requires":["fill-extrusion-height"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-vertical-gradient":{"type":"boolean","default":true,"transition":false,"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"fill-extrusion-ambient-occlusion-intensity":{"property-type":"data-constant","type":"number","private":true,"default":0,"minimum":0,"maximum":1,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"fill-extrusion-ambient-occlusion-radius":{"property-type":"data-constant","type":"number","private":true,"default":3,"minimum":0,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true,"requires":["fill-extrusion-edge-radius"]}},"paint_line":{"line-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-color":{"type":"color","default":"#000000","transition":true,"requires":[{"!":"line-pattern"}],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","requires":["line-translate"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"line-width":{"type":"number","default":1,"minimum":0,"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-gap-width":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-offset":{"type":"number","default":0,"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-blur":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-dasharray":{"type":"array","value":"number","minimum":0,"transition":false,"units":"line widths","requires":[{"!":"line-pattern"}],"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"line-pattern":{"type":"resolvedImage","transition":false,"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"line-gradient":{"type":"color","transition":false,"requires":[{"!":"line-pattern"},{"source":"geojson","has":{"lineMetrics":true}}],"expression":{"interpolated":true,"parameters":["line-progress"]},"property-type":"color-ramp"},"line-trim-offset":{"type":"array","value":"number","length":2,"default":[0,0],"minimum":[0,0],"maximum":[1,1],"transition":false,"requires":[{"source":"geojson","has":{"lineMetrics":true}}],"property-type":"constant"}},"paint_circle":{"circle-radius":{"type":"number","default":5,"minimum":0,"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-color":{"type":"color","default":"#000000","transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-blur":{"type":"number","default":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","requires":["circle-translate"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{"type":"enum","values":{"map":{},"viewport":{}},"default":"viewport","expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-color":{"type":"color","default":"#000000","transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"}},"paint_heatmap":{"heatmap-radius":{"type":"number","default":30,"minimum":1,"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-weight":{"type":"number","default":1,"minimum":0,"transition":false,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-intensity":{"type":"number","default":1,"minimum":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"heatmap-color":{"type":"color","default":["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",0.1,"royalblue",0.3,"cyan",0.5,"lime",0.7,"yellow",1,"red"],"transition":false,"expression":{"interpolated":true,"parameters":["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"}},"paint_symbol":{"icon-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-color":{"type":"color","default":"#000000","transition":true,"requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-color":{"type":"color","default":"rgba(0, 0, 0, 0)","transition":true,"requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-width":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-blur":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"units":"pixels","requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","requires":["icon-image","icon-translate"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-color":{"type":"color","default":"#000000","transition":true,"overridable":true,"requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-color":{"type":"color","default":"rgba(0, 0, 0, 0)","transition":true,"requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-width":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-blur":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"units":"pixels","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","requires":["text-field","text-translate"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"}},"paint_raster":{"raster-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-hue-rotate":{"type":"number","default":0,"period":360,"transition":true,"units":"degrees","expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{"type":"number","default":0,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-saturation":{"type":"number","default":0,"minimum":-1,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-contrast":{"type":"number","default":0,"minimum":-1,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-resampling":{"type":"enum","values":{"linear":{},"nearest":{}},"default":"linear","expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{"type":"number","default":300,"minimum":0,"transition":false,"units":"milliseconds","expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"}},"paint_hillshade":{"hillshade-illumination-direction":{"type":"number","default":335,"minimum":0,"maximum":359,"transition":false,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"viewport","expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{"type":"number","default":0.5,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{"type":"color","default":"#000000","transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"hillshade-highlight-color":{"type":"color","default":"#FFFFFF","transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"hillshade-accent-color":{"type":"color","default":"#000000","transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"}},"paint_background":{"background-color":{"type":"color","default":"#000000","transition":true,"requires":[{"!":"background-pattern"}],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"background-pattern":{"type":"resolvedImage","transition":false,"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"background-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"}},"paint_sky":{"sky-type":{"type":"enum","values":{"gradient":{},"atmosphere":{}},"default":"atmosphere","expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"sky-atmosphere-sun":{"type":"array","value":"number","length":2,"units":"degrees","minimum":[0,0],"maximum":[360,180],"transition":false,"requires":[{"sky-type":"atmosphere"}],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"sky-atmosphere-sun-intensity":{"type":"number","requires":[{"sky-type":"atmosphere"}],"default":10,"minimum":0,"maximum":100,"transition":false,"property-type":"data-constant"},"sky-gradient-center":{"type":"array","requires":[{"sky-type":"gradient"}],"value":"number","default":[0,0],"length":2,"units":"degrees","minimum":[0,0],"maximum":[360,180],"transition":false,"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"sky-gradient-radius":{"type":"number","requires":[{"sky-type":"gradient"}],"default":90,"minimum":0,"maximum":180,"transition":false,"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"sky-gradient":{"type":"color","default":["interpolate",["linear"],["sky-radial-progress"],0.8,"#87ceeb",1,"white"],"transition":false,"requires":[{"sky-type":"gradient"}],"expression":{"interpolated":true,"parameters":["sky-radial-progress"]},"property-type":"color-ramp"},"sky-atmosphere-halo-color":{"type":"color","default":"white","transition":false,"requires":[{"sky-type":"atmosphere"}],"property-type":"data-constant"},"sky-atmosphere-color":{"type":"color","default":"white","transition":false,"requires":[{"sky-type":"atmosphere"}],"property-type":"data-constant"},"sky-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"}},"transition":{"duration":{"type":"number","default":300,"minimum":0,"units":"milliseconds"},"delay":{"type":"number","default":0,"minimum":0,"units":"milliseconds"}},"property-type":{"data-driven":{"type":"property-type"},"color-ramp":{"type":"property-type"},"data-constant":{"type":"property-type"},"constant":{"type":"property-type"}},"promoteId":{"*":{"type":"string"}}}');function dt(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];for(var s in o)e[s]=o[s]}return e}function ft(e){return e instanceof Number||e instanceof String||e instanceof Boolean?e.valueOf():e}function ht(e){if(Array.isArray(e))return e.map(ht);if(e instanceof Object&&!(e instanceof Number||e instanceof String||e instanceof Boolean)){var t={};for(var n in e)t[n]=ht(e[n]);return t}return ft(e)}var pt=function(e){m(n,e);var t=v(n);function n(e,r){var i;return h(this,n),(i=t.call(this,r)).message=r,i.key=e,i}return p(n)}(g(Error)),mt=pt,vt=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];h(this,e),this.parent=t,this.bindings={};var r,i=f(n);try{for(i.s();!(r=i.n()).done;){var a=d(r.value,2),o=a[0],s=a[1];this.bindings[o]=s}}catch(l){i.e(l)}finally{i.f()}}return p(e,[{key:"concat",value:function(t){return new e(this,t)}},{key:"get",value:function(e){if(this.bindings[e])return this.bindings[e];if(this.parent)return this.parent.get(e);throw new Error("".concat(e," not found in scope."))}},{key:"has",value:function(e){return!!this.bindings[e]||!!this.parent&&this.parent.has(e)}}]),e}(),gt=vt,yt={kind:"null"},xt={kind:"number"},bt={kind:"string"},_t={kind:"boolean"},wt={kind:"color"},kt={kind:"object"},St={kind:"value"},Et={kind:"collator"},Ct={kind:"formatted"},Tt={kind:"resolvedImage"};function Mt(e,t){return{kind:"array",itemType:e,N:t}}function It(e){if("array"===e.kind){var t=It(e.itemType);return"number"==typeof e.N?"array<".concat(t,", ").concat(e.N,">"):"value"===e.itemType.kind?"array":"array<".concat(t,">")}return e.kind}var Ot=[yt,xt,bt,_t,wt,Ct,kt,Mt(St),Tt];function Pt(e,t){if("error"===t.kind)return null;if("array"===e.kind){if("array"===t.kind&&(0===t.N&&"value"===t.itemType.kind||!Pt(e.itemType,t.itemType))&&("number"!=typeof e.N||e.N===t.N))return null}else{if(e.kind===t.kind)return null;if("value"===e.kind)for(var n=0,r=Ot;n<r.length;n++)if(!Pt(r[n],t))return null}return"Expected ".concat(It(e)," but found ").concat(It(t)," instead.")}function At(e,t){return t.some((function(t){return t.kind===e.kind}))}function zt(e,t){return t.some((function(t){return"null"===t?null===e:"array"===t?Array.isArray(e):"object"===t?e&&!Array.isArray(e)&&"object"==typeof e:t===typeof e}))}var jt,Rt={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],rebeccapurple:[102,51,153,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function Dt(e){return(e=Math.round(e))<0?0:e>255?255:e}function Lt(e){return Dt("%"===e[e.length-1]?parseFloat(e)/100*255:parseInt(e))}function Nt(e){return(t="%"===e[e.length-1]?parseFloat(e)/100:parseFloat(e))<0?0:t>1?1:t;var t}function Bt(e,t,n){return n<0?n+=1:n>1&&(n-=1),6*n<1?e+(t-e)*n*6:2*n<1?t:3*n<2?e+(t-e)*(2/3-n)*6:e}try{jt={}.parseCSSColor=function(e){var t,n=e.replace(/ /g,"").toLowerCase();if(n in Rt)return Rt[n].slice();if("#"===n[0])return 4===n.length?(t=parseInt(n.substr(1),16))>=0&&t<=4095?[(3840&t)>>4|(3840&t)>>8,240&t|(240&t)>>4,15&t|(15&t)<<4,1]:null:7===n.length&&(t=parseInt(n.substr(1),16))>=0&&t<=16777215?[(16711680&t)>>16,(65280&t)>>8,255&t,1]:null;var r=n.indexOf("("),i=n.indexOf(")");if(-1!==r&&i+1===n.length){var a=n.substr(0,r),o=n.substr(r+1,i-(r+1)).split(","),s=1;switch(a){case"rgba":if(4!==o.length)return null;s=Nt(o.pop());case"rgb":return 3!==o.length?null:[Lt(o[0]),Lt(o[1]),Lt(o[2]),s];case"hsla":if(4!==o.length)return null;s=Nt(o.pop());case"hsl":if(3!==o.length)return null;var l=(parseFloat(o[0])%360+360)%360/360,c=Nt(o[1]),u=Nt(o[2]),d=u<=.5?u*(c+1):u+c-u*c,f=2*u-d;return[Dt(255*Bt(f,d,l+1/3)),Dt(255*Bt(f,d,l)),Dt(255*Bt(f,d,l-1/3)),s];default:return null}}return null}}catch(e){}var Ft=function(){function e(t,n,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;h(this,e),this.r=t,this.g=n,this.b=r,this.a=i}return p(e,[{key:"toString",value:function(){var e=this.toArray(),t=d(e,4),n=t[0],r=t[1],i=t[2],a=t[3];return"rgba(".concat(Math.round(n),",").concat(Math.round(r),",").concat(Math.round(i),",").concat(a,")")}},{key:"toArray",value:function(){var e=this.r,t=this.g,n=this.b,r=this.a;return 0===r?[0,0,0,0]:[255*e/r,255*t/r,255*n/r,r]}},{key:"toArray01",value:function(){var e=this.r,t=this.g,n=this.b,r=this.a;return 0===r?[0,0,0,0]:[e/r,t/r,n/r,r]}},{key:"toArray01PremultipliedAlpha",value:function(){return[this.r,this.g,this.b,this.a]}}],[{key:"parse",value:function(t){if(t){if(t instanceof e)return t;if("string"==typeof t){var n=jt(t);return n?new e(n[0]/255*n[3],n[1]/255*n[3],n[2]/255*n[3],n[3]):void 0}}}}]),e}();Ft.black=new Ft(0,0,0,1),Ft.white=new Ft(1,1,1,1),Ft.transparent=new Ft(0,0,0,0),Ft.red=new Ft(1,0,0,1),Ft.blue=new Ft(0,0,1,1);var Vt=Ft,Ut=function(){function e(t,n,r){h(this,e),this.sensitivity=t?n?"variant":"case":n?"accent":"base",this.locale=r,this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:"search"})}return p(e,[{key:"compare",value:function(e,t){return this.collator.compare(e,t)}},{key:"resolvedLocale",value:function(){return new Intl.Collator(this.locale?this.locale:[]).resolvedOptions().locale}}]),e}(),Ht=p((function e(t,n,r,i,a){h(this,e),this.text=t.normalize?t.normalize():t,this.image=n,this.scale=r,this.fontStack=i,this.textColor=a})),Gt=function(){function e(t){h(this,e),this.sections=t}return p(e,[{key:"isEmpty",value:function(){return 0===this.sections.length||!this.sections.some((function(e){return 0!==e.text.length||e.image&&0!==e.image.name.length}))}},{key:"toString",value:function(){return 0===this.sections.length?"":this.sections.map((function(e){return e.text})).join("")}},{key:"serialize",value:function(){var e,t=["format"],n=f(this.sections);try{for(n.s();!(e=n.n()).done;){var r=e.value;if(r.image)t.push(["image",r.image.name]);else{t.push(r.text);var i={};r.fontStack&&(i["text-font"]=["literal",r.fontStack.split(",")]),r.scale&&(i["font-scale"]=r.scale),r.textColor&&(i["text-color"]=["rgba"].concat(r.textColor.toArray())),t.push(i)}}}catch(a){n.e(a)}finally{n.f()}return t}}],[{key:"fromString",value:function(t){return new e([new Ht(t,null,null,null,null)])}},{key:"factory",value:function(t){return t instanceof e?t:e.fromString(t)}}]),e}(),Wt=function(){function e(t){h(this,e),this.name=t.name,this.available=t.available}return p(e,[{key:"toString",value:function(){return this.name}},{key:"serialize",value:function(){return["image",this.name]}}],[{key:"fromString",value:function(t){return t?new e({name:t,available:!1}):null}}]),e}();function qt(e,t,n,r){return"number"==typeof e&&e>=0&&e<=255&&"number"==typeof t&&t>=0&&t<=255&&"number"==typeof n&&n>=0&&n<=255?void 0===r||"number"==typeof r&&r>=0&&r<=1?null:"Invalid rgba value [".concat([e,t,n,r].join(", "),"]: 'a' must be between 0 and 1."):"Invalid rgba value [".concat(("number"==typeof r?[e,t,n,r]:[e,t,n]).join(", "),"]: 'r', 'g', and 'b' must be between 0 and 255.")}function Xt(e){if(null===e)return!0;if("string"==typeof e)return!0;if("boolean"==typeof e)return!0;if("number"==typeof e)return!0;if(e instanceof Vt)return!0;if(e instanceof Ut)return!0;if(e instanceof Gt)return!0;if(e instanceof Wt)return!0;if(Array.isArray(e)){var t,n=f(e);try{for(n.s();!(t=n.n()).done;)if(!Xt(t.value))return!1}catch(i){n.e(i)}finally{n.f()}return!0}if("object"==typeof e){for(var r in e)if(!Xt(e[r]))return!1;return!0}return!1}function Zt(e){if(null===e)return yt;if("string"==typeof e)return bt;if("boolean"==typeof e)return _t;if("number"==typeof e)return xt;if(e instanceof Vt)return wt;if(e instanceof Ut)return Et;if(e instanceof Gt)return Ct;if(e instanceof Wt)return Tt;if(Array.isArray(e)){var t,n,r=e.length,i=f(e);try{for(i.s();!(n=i.n()).done;){var a=Zt(n.value);if(t){if(t===a)continue;t=St;break}t=a}}catch(o){i.e(o)}finally{i.f()}return Mt(t||St,r)}return kt}function Kt(e){var t=typeof e;return null===e?"":"string"===t||"number"===t||"boolean"===t?String(e):e instanceof Vt||e instanceof Gt||e instanceof Wt?e.toString():JSON.stringify(e)}var Yt=function(){function e(t,n){h(this,e),this.type=t,this.value=n}return p(e,[{key:"evaluate",value:function(){return this.value}},{key:"eachChild",value:function(){}},{key:"outputDefined",value:function(){return!0}},{key:"serialize",value:function(){return"array"===this.type.kind||"object"===this.type.kind?["literal",this.value]:this.value instanceof Vt?["rgba"].concat(this.value.toArray()):this.value instanceof Gt?this.value.serialize():this.value}}],[{key:"parse",value:function(t,n){if(2!==t.length)return n.error("'literal' expression requires exactly one argument, but found ".concat(t.length-1," instead."));if(!Xt(t[1]))return n.error("invalid value");var r=t[1],i=Zt(r),a=n.expectedType;return"array"!==i.kind||0!==i.N||!a||"array"!==a.kind||"number"==typeof a.N&&0!==a.N||(i=a),new e(i,r)}}]),e}(),$t=Yt,Jt=function(){function e(t){h(this,e),this.name="ExpressionEvaluationError",this.message=t}return p(e,[{key:"toJSON",value:function(){return this.message}}]),e}(),Qt={string:bt,number:xt,boolean:_t,object:kt},en=function(){function e(t,n){h(this,e),this.type=t,this.args=n}return p(e,[{key:"evaluate",value:function(e){for(var t=0;t<this.args.length;t++){var n=this.args[t].evaluate(e);if(!Pt(this.type,Zt(n)))return n;if(t===this.args.length-1)throw new Jt("Expected value to be of type ".concat(It(this.type),", but found ").concat(It(Zt(n))," instead."))}return null}},{key:"eachChild",value:function(e){this.args.forEach(e)}},{key:"outputDefined",value:function(){return this.args.every((function(e){return e.outputDefined()}))}},{key:"serialize",value:function(){var e=this.type,t=[e.kind];if("array"===e.kind){var n=e.itemType;if("string"===n.kind||"number"===n.kind||"boolean"===n.kind){t.push(n.kind);var r=e.N;("number"==typeof r||this.args.length>1)&&t.push(r)}}return t.concat(this.args.map((function(e){return e.serialize()})))}}],[{key:"parse",value:function(t,n){if(t.length<2)return n.error("Expected at least one argument.");var r,i=1,a=t[0];if("array"===a){var o,s;if(t.length>2){var l=t[1];if("string"!=typeof l||!(l in Qt)||"object"===l)return n.error('The item type argument of "array" must be one of string, number, boolean',1);o=Qt[l],i++}else o=St;if(t.length>3){if(null!==t[2]&&("number"!=typeof t[2]||t[2]<0||t[2]!==Math.floor(t[2])))return n.error('The length argument to "array" must be a positive integer literal',2);s=t[2],i++}r=Mt(o,s)}else r=Qt[a];for(var c=[];i<t.length;i++){var u=n.parse(t[i],i,St);if(!u)return null;c.push(u)}return new e(r,c)}}]),e}(),tn=en,nn=function(){function e(t){h(this,e),this.type=Ct,this.sections=t}return p(e,[{key:"evaluate",value:function(e){return new Gt(this.sections.map((function(t){var n=t.content.evaluate(e);return Zt(n)===Tt?new Ht("",n,null,null,null):new Ht(Kt(n),null,t.scale?t.scale.evaluate(e):null,t.font?t.font.evaluate(e).join(","):null,t.textColor?t.textColor.evaluate(e):null)})))}},{key:"eachChild",value:function(e){var t,n=f(this.sections);try{for(n.s();!(t=n.n()).done;){var r=t.value;e(r.content),r.scale&&e(r.scale),r.font&&e(r.font),r.textColor&&e(r.textColor)}}catch(i){n.e(i)}finally{n.f()}}},{key:"outputDefined",value:function(){return!1}},{key:"serialize",value:function(){var e,t=["format"],n=f(this.sections);try{for(n.s();!(e=n.n()).done;){var r=e.value;t.push(r.content.serialize());var i={};r.scale&&(i["font-scale"]=r.scale.serialize()),r.font&&(i["text-font"]=r.font.serialize()),r.textColor&&(i["text-color"]=r.textColor.serialize()),t.push(i)}}catch(a){n.e(a)}finally{n.f()}return t}}],[{key:"parse",value:function(t,n){if(t.length<2)return n.error("Expected at least one argument.");var r=t[1];if(!Array.isArray(r)&&"object"==typeof r)return n.error("First argument must be an image or text section.");for(var i=[],a=!1,o=1;o<=t.length-1;++o){var s=t[o];if(a&&"object"==typeof s&&!Array.isArray(s)){a=!1;var l=null;if(s["font-scale"]&&!(l=n.parse(s["font-scale"],1,xt)))return null;var c=null;if(s["text-font"]&&!(c=n.parse(s["text-font"],1,Mt(bt))))return null;var u=null;if(s["text-color"]&&!(u=n.parse(s["text-color"],1,wt)))return null;var d=i[i.length-1];d.scale=l,d.font=c,d.textColor=u}else{var f=n.parse(t[o],1,St);if(!f)return null;var h=f.type.kind;if("string"!==h&&"value"!==h&&"null"!==h&&"resolvedImage"!==h)return n.error("Formatted text type must be 'string', 'value', 'image' or 'null'.");a=!0,i.push({content:f,scale:null,font:null,textColor:null})}}return new e(i)}}]),e}(),rn=function(){function e(t){h(this,e),this.type=Tt,this.input=t}return p(e,[{key:"evaluate",value:function(e){var t=this.input.evaluate(e),n=Wt.fromString(t);return n&&e.availableImages&&(n.available=e.availableImages.indexOf(t)>-1),n}},{key:"eachChild",value:function(e){e(this.input)}},{key:"outputDefined",value:function(){return!1}},{key:"serialize",value:function(){return["image",this.input.serialize()]}}],[{key:"parse",value:function(t,n){if(2!==t.length)return n.error("Expected two arguments.");var r=n.parse(t[1],1,bt);return r?new e(r):n.error("No image name provided.")}}]),e}(),an={"to-boolean":_t,"to-color":wt,"to-number":xt,"to-string":bt},on=function(){function e(t,n){h(this,e),this.type=t,this.args=n}return p(e,[{key:"evaluate",value:function(e){if("boolean"===this.type.kind)return Boolean(this.args[0].evaluate(e));if("color"===this.type.kind){var t,n,r,i=f(this.args);try{for(i.s();!(r=i.n()).done;){if(t=r.value.evaluate(e),n=null,t instanceof Vt)return t;if("string"==typeof t){var a=e.parseColor(t);if(a)return a}else if(Array.isArray(t)&&!(n=t.length<3||t.length>4?"Invalid rbga value ".concat(JSON.stringify(t),": expected an array containing either three or four numeric values."):qt(t[0],t[1],t[2],t[3])))return new Vt(t[0]/255,t[1]/255,t[2]/255,t[3])}}catch(u){i.e(u)}finally{i.f()}throw new Jt(n||"Could not parse color from value '".concat("string"==typeof t?t:String(JSON.stringify(t)),"'"))}if("number"===this.type.kind){var o,s=null,l=f(this.args);try{for(l.s();!(o=l.n()).done;){if(null===(s=o.value.evaluate(e)))return 0;var c=Number(s);if(!isNaN(c))return c}}catch(u){l.e(u)}finally{l.f()}throw new Jt("Could not convert ".concat(JSON.stringify(s)," to number."))}return"formatted"===this.type.kind?Gt.fromString(Kt(this.args[0].evaluate(e))):"resolvedImage"===this.type.kind?Wt.fromString(Kt(this.args[0].evaluate(e))):Kt(this.args[0].evaluate(e))}},{key:"eachChild",value:function(e){this.args.forEach(e)}},{key:"outputDefined",value:function(){return this.args.every((function(e){return e.outputDefined()}))}},{key:"serialize",value:function(){if("formatted"===this.type.kind)return new nn([{content:this.args[0],scale:null,font:null,textColor:null}]).serialize();if("resolvedImage"===this.type.kind)return new rn(this.args[0]).serialize();var e=["to-".concat(this.type.kind)];return this.eachChild((function(t){e.push(t.serialize())})),e}}],[{key:"parse",value:function(t,n){if(t.length<2)return n.error("Expected at least one argument.");var r=t[0];if(("to-boolean"===r||"to-string"===r)&&2!==t.length)return n.error("Expected one argument.");for(var i=an[r],a=[],o=1;o<t.length;o++){var s=n.parse(t[o],o,St);if(!s)return null;a.push(s)}return new e(i,a)}}]),e}(),sn=on,ln=["Unknown","Point","LineString","Polygon"],cn=function(){function e(){h(this,e),this.globals=null,this.feature=null,this.featureState=null,this.formattedSection=null,this._parseColorCache={},this.availableImages=null,this.canonical=null,this.featureTileCoord=null,this.featureDistanceData=null}return p(e,[{key:"id",value:function(){return this.feature&&void 0!==this.feature.id?this.feature.id:null}},{key:"geometryType",value:function(){return this.feature?"number"==typeof this.feature.type?ln[this.feature.type]:this.feature.type:null}},{key:"geometry",value:function(){return this.feature&&"geometry"in this.feature?this.feature.geometry:null}},{key:"canonicalID",value:function(){return this.canonical}},{key:"properties",value:function(){return this.feature&&this.feature.properties||{}}},{key:"distanceFromCenter",value:function(){if(this.featureTileCoord&&this.featureDistanceData){var e=this.featureDistanceData.center,t=this.featureDistanceData.scale,n=this.featureTileCoord,r=n.x,i=n.y;return this.featureDistanceData.bearing[0]*(r*t-e[0])+this.featureDistanceData.bearing[1]*(i*t-e[1])}return 0}},{key:"parseColor",value:function(e){var t=this._parseColorCache[e];return t||(t=this._parseColorCache[e]=Vt.parse(e)),t}}]),e}(),un=function(){function e(t,n,r,i){h(this,e),this.name=t,this.type=n,this._evaluate=r,this.args=i}return p(e,[{key:"evaluate",value:function(e){return this._evaluate(e,this.args)}},{key:"eachChild",value:function(e){this.args.forEach(e)}},{key:"outputDefined",value:function(){return!1}},{key:"serialize",value:function(){return[this.name].concat(this.args.map((function(e){return e.serialize()})))}}],[{key:"parse",value:function(t,n){var r,i=t[0],a=e.definitions[i];if(!a)return n.error('Unknown expression "'.concat(i,'". If you wanted a literal array, use ["literal", [...]].'),0);var o,s=Array.isArray(a)?a[0]:a.type,l=Array.isArray(a)?[[a[1],a[2]]]:a.overloads,c=l.filter((function(e){var n=d(e,1)[0];return!Array.isArray(n)||n.length===t.length-1})),h=null,p=f(c);try{for(p.s();!(o=p.n()).done;){var m=d(o.value,2),v=m[0],g=m[1];h=new Ln(n.registry,n.path,null,n.scope);for(var y=[],x=!1,b=1;b<t.length;b++){var _=t[b],w=Array.isArray(v)?v[b-1]:v.type,k=h.parse(_,1+y.length,w);if(!k){x=!0;break}y.push(k)}if(!x)if(Array.isArray(v)&&v.length!==y.length)h.error("Expected ".concat(v.length," arguments, but found ").concat(y.length," instead."));else{for(var S=0;S<y.length;S++){var E=Array.isArray(v)?v[S]:v.type,C=y[S];h.concat(S+1).checkSubtype(E,C.type)}if(0===h.errors.length)return new e(i,s,g,y)}}}catch(P){p.e(P)}finally{p.f()}if(1===c.length)(r=n.errors).push.apply(r,u(h.errors));else{for(var T=(c.length?c:l).map((function(e){var t;return t=d(e,1)[0],Array.isArray(t)?"(".concat(t.map(It).join(", "),")"):"(".concat(It(t.type),"...)")})).join(" | "),M=[],I=1;I<t.length;I++){var O=n.parse(t[I],1+M.length);if(!O)return null;M.push(It(O.type))}n.error("Expected arguments of type ".concat(T,", but found (").concat(M.join(", "),") instead."))}return null}},{key:"register",value:function(t,n){for(var r in e.definitions=n,n)t[r]=e}}]),e}(),dn=un,fn=function(){function e(t,n,r){h(this,e),this.type=Et,this.locale=r,this.caseSensitive=t,this.diacriticSensitive=n}return p(e,[{key:"evaluate",value:function(e){return new Ut(this.caseSensitive.evaluate(e),this.diacriticSensitive.evaluate(e),this.locale?this.locale.evaluate(e):null)}},{key:"eachChild",value:function(e){e(this.caseSensitive),e(this.diacriticSensitive),this.locale&&e(this.locale)}},{key:"outputDefined",value:function(){return!1}},{key:"serialize",value:function(){var e={};return e["case-sensitive"]=this.caseSensitive.serialize(),e["diacritic-sensitive"]=this.diacriticSensitive.serialize(),this.locale&&(e.locale=this.locale.serialize()),["collator",e]}}],[{key:"parse",value:function(t,n){if(2!==t.length)return n.error("Expected one argument.");var r=t[1];if("object"!=typeof r||Array.isArray(r))return n.error("Collator options argument must be an object.");var i=n.parse(void 0!==r["case-sensitive"]&&r["case-sensitive"],1,_t);if(!i)return null;var a=n.parse(void 0!==r["diacritic-sensitive"]&&r["diacritic-sensitive"],1,_t);if(!a)return null;var o=null;return r.locale&&!(o=n.parse(r.locale,1,bt))?null:new e(i,a,o)}}]),e}(),hn=8192;function pn(e,t){e[0]=Math.min(e[0],t[0]),e[1]=Math.min(e[1],t[1]),e[2]=Math.max(e[2],t[0]),e[3]=Math.max(e[3],t[1])}function mn(e,t){return!(e[0]<=t[0]||e[2]>=t[2]||e[1]<=t[1]||e[3]>=t[3])}function vn(e,t){var n=(180+e[0])/360,r=(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+e[1]*Math.PI/360)))/360,i=Math.pow(2,t.z);return[Math.round(n*i*hn),Math.round(r*i*hn)]}function gn(e,t,n){var r=e[0]-t[0],i=e[1]-t[1],a=e[0]-n[0],o=e[1]-n[1];return r*o-a*i==0&&r*a<=0&&i*o<=0}function yn(e,t){for(var n,r,i,a=!1,o=0,s=t.length;o<s;o++)for(var l=t[o],c=0,u=l.length;c<u-1;c++){if(gn(e,l[c],l[c+1]))return!1;(r=l[c])[1]>(n=e)[1]!=(i=l[c+1])[1]>n[1]&&n[0]<(i[0]-r[0])*(n[1]-r[1])/(i[1]-r[1])+r[0]&&(a=!a)}return a}function xn(e,t){for(var n=0;n<t.length;n++)if(yn(e,t[n]))return!0;return!1}function bn(e,t,n,r){var i=r[0]-n[0],a=r[1]-n[1],o=(e[0]-n[0])*a-i*(e[1]-n[1]),s=(t[0]-n[0])*a-i*(t[1]-n[1]);return o>0&&s<0||o<0&&s>0}function _n(e,t,n){var r,i,a,o,s,l,c,u=f(n);try{for(u.s();!(r=u.n()).done;)for(var d=r.value,h=0;h<d.length-1;++h)if(0!=(l=[(s=d[h+1])[0]-(o=d[h])[0],s[1]-o[1]])[0]*(c=[(a=t)[0]-(i=e)[0],a[1]-i[1]])[1]-l[1]*c[0]&&bn(i,a,o,s)&&bn(o,s,i,a))return!0}catch(p){u.e(p)}finally{u.f()}return!1}function wn(e,t){for(var n=0;n<e.length;++n)if(!yn(e[n],t))return!1;for(var r=0;r<e.length-1;++r)if(_n(e[r],e[r+1],t))return!1;return!0}function kn(e,t){for(var n=0;n<t.length;n++)if(wn(e,t[n]))return!0;return!1}function Sn(e,t,n){for(var r=[],i=0;i<e.length;i++){for(var a=[],o=0;o<e[i].length;o++){var s=vn(e[i][o],n);pn(t,s),a.push(s)}r.push(a)}return r}function En(e,t,n){for(var r=[],i=0;i<e.length;i++){var a=Sn(e[i],t,n);r.push(a)}return r}function Cn(e,t,n,r){if(e[0]<n[0]||e[0]>n[2]){var i=.5*r,a=e[0]-n[0]>i?-r:n[0]-e[0]>i?r:0;0===a&&(a=e[0]-n[2]>i?-r:n[2]-e[0]>i?r:0),e[0]+=a}pn(t,e)}function Tn(e,t,n,r){var i=Math.pow(2,r.z)*hn,a=[r.x*hn,r.y*hn],o=[];if(!e)return o;var s,l=f(e);try{for(l.s();!(s=l.n()).done;){var c,u=s.value,d=f(u);try{for(d.s();!(c=d.n()).done;){var h=c.value,p=[h.x+a[0],h.y+a[1]];Cn(p,t,n,i),o.push(p)}}catch(m){d.e(m)}finally{d.f()}}}catch(m){l.e(m)}finally{l.f()}return o}function Mn(e,t,n,r){var i=Math.pow(2,r.z)*hn,a=[r.x*hn,r.y*hn],o=[];if(!e)return o;var s,l,c=f(e);try{for(c.s();!(s=c.n()).done;){var u,d=s.value,h=[],p=f(d);try{for(p.s();!(u=p.n()).done;){var m=u.value,v=[m.x+a[0],m.y+a[1]];pn(t,v),h.push(v)}}catch(w){p.e(w)}finally{p.f()}o.push(h)}}catch(w){c.e(w)}finally{c.f()}if(t[2]-t[0]<=i/2){(l=t)[0]=l[1]=1/0,l[2]=l[3]=-1/0;var g,y=f(o);try{for(y.s();!(g=y.n()).done;){var x,b=g.value,_=f(b);try{for(_.s();!(x=_.n()).done;)Cn(x.value,t,n,i)}catch(w){_.e(w)}finally{_.f()}}}catch(w){y.e(w)}finally{y.f()}}return o}var In=function(){function e(t,n){h(this,e),this.type=_t,this.geojson=t,this.geometries=n}return p(e,[{key:"evaluate",value:function(e){if(null!=e.geometry()&&null!=e.canonicalID()){if("Point"===e.geometryType())return function(e,t){var n=[1/0,1/0,-1/0,-1/0],r=[1/0,1/0,-1/0,-1/0],i=e.canonicalID();if(!i)return!1;if("Polygon"===t.type){var a=Sn(t.coordinates,r,i),o=Tn(e.geometry(),n,r,i);if(!mn(n,r))return!1;var s,l=f(o);try{for(l.s();!(s=l.n()).done;)if(!yn(s.value,a))return!1}catch(p){l.e(p)}finally{l.f()}}if("MultiPolygon"===t.type){var c=En(t.coordinates,r,i),u=Tn(e.geometry(),n,r,i);if(!mn(n,r))return!1;var d,h=f(u);try{for(h.s();!(d=h.n()).done;)if(!xn(d.value,c))return!1}catch(p){h.e(p)}finally{h.f()}}return!0}(e,this.geometries);if("LineString"===e.geometryType())return function(e,t){var n=[1/0,1/0,-1/0,-1/0],r=[1/0,1/0,-1/0,-1/0],i=e.canonicalID();if(!i)return!1;if("Polygon"===t.type){var a=Sn(t.coordinates,r,i),o=Mn(e.geometry(),n,r,i);if(!mn(n,r))return!1;var s,l=f(o);try{for(l.s();!(s=l.n()).done;)if(!wn(s.value,a))return!1}catch(p){l.e(p)}finally{l.f()}}if("MultiPolygon"===t.type){var c=En(t.coordinates,r,i),u=Mn(e.geometry(),n,r,i);if(!mn(n,r))return!1;var d,h=f(u);try{for(h.s();!(d=h.n()).done;)if(!kn(d.value,c))return!1}catch(p){h.e(p)}finally{h.f()}}return!0}(e,this.geometries)}return!1}},{key:"eachChild",value:function(){}},{key:"outputDefined",value:function(){return!0}},{key:"serialize",value:function(){return["within",this.geojson]}}],[{key:"parse",value:function(t,n){if(2!==t.length)return n.error("'within' expression requires exactly one argument, but found ".concat(t.length-1," instead."));if(Xt(t[1])){var r=t[1];if("FeatureCollection"===r.type)for(var i=0;i<r.features.length;++i){var a=r.features[i].geometry.type;if("Polygon"===a||"MultiPolygon"===a)return new e(r,r.features[i].geometry)}else if("Feature"===r.type){var o=r.geometry.type;if("Polygon"===o||"MultiPolygon"===o)return new e(r,r.geometry)}else if("Polygon"===r.type||"MultiPolygon"===r.type)return new e(r,r)}return n.error("'within' expression requires valid geojson object that contains polygon geometry type.")}}]),e}(),On=In;function Pn(e){if(e instanceof dn){if("get"===e.name&&1===e.args.length)return!1;if("feature-state"===e.name)return!1;if("has"===e.name&&1===e.args.length)return!1;if("properties"===e.name||"geometry-type"===e.name||"id"===e.name)return!1;if(/^filter-/.test(e.name))return!1}if(e instanceof On)return!1;var t=!0;return e.eachChild((function(e){t&&!Pn(e)&&(t=!1)})),t}function An(e){if(e instanceof dn&&"feature-state"===e.name)return!1;var t=!0;return e.eachChild((function(e){t&&!An(e)&&(t=!1)})),t}function zn(e,t){if(e instanceof dn&&t.indexOf(e.name)>=0)return!1;var n=!0;return e.eachChild((function(e){n&&!zn(e,t)&&(n=!1)})),n}var jn=function(){function e(t,n){h(this,e),this.type=n.type,this.name=t,this.boundExpression=n}return p(e,[{key:"evaluate",value:function(e){return this.boundExpression.evaluate(e)}},{key:"eachChild",value:function(){}},{key:"outputDefined",value:function(){return!1}},{key:"serialize",value:function(){return["var",this.name]}}],[{key:"parse",value:function(t,n){if(2!==t.length||"string"!=typeof t[1])return n.error("'var' expression requires exactly one string literal argument.");var r=t[1];return n.scope.has(r)?new e(r,n.scope.get(r)):n.error('Unknown variable "'.concat(r,'". Make sure "').concat(r,'" has been bound in an enclosing "let" expression before using it.'),1)}}]),e}(),Rn=jn,Dn=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2?arguments[2]:void 0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new gt,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];h(this,e),this.registry=t,this.path=n,this.key=n.map((function(e){return"[".concat(e,"]")})).join(""),this.scope=i,this.errors=a,this.expectedType=r}return p(e,[{key:"parse",value:function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};return t?this.concat(t,n,r)._parse(e,i):this._parse(e,i)}},{key:"_parse",value:function(e,t){function n(e,t,n){return"assert"===n?new tn(t,[e]):"coerce"===n?new sn(t,[e]):e}if(null!==e&&"string"!=typeof e&&"boolean"!=typeof e&&"number"!=typeof e||(e=["literal",e]),Array.isArray(e)){if(0===e.length)return this.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');var r=e[0];if("string"!=typeof r)return this.error("Expression name must be a string, but found ".concat(typeof r,' instead. If you wanted a literal array, use ["literal", [...]].'),0),null;var i=this.registry[r];if(i){var a=i.parse(e,this);if(!a)return null;if(this.expectedType){var o=this.expectedType,s=a.type;if("string"!==o.kind&&"number"!==o.kind&&"boolean"!==o.kind&&"object"!==o.kind&&"array"!==o.kind||"value"!==s.kind)if("color"!==o.kind&&"formatted"!==o.kind&&"resolvedImage"!==o.kind||"value"!==s.kind&&"string"!==s.kind){if(this.checkSubtype(o,s))return null}else a=n(a,o,t.typeAnnotation||"coerce");else a=n(a,o,t.typeAnnotation||"assert")}if(!(a instanceof $t)&&"resolvedImage"!==a.type.kind&&Nn(a)){var l=new cn;try{a=new $t(a.type,a.evaluate(l))}catch(e){return this.error(e.message),null}}return a}return this.error('Unknown expression "'.concat(r,'". If you wanted a literal array, use ["literal", [...]].'),0)}return this.error(void 0===e?"'undefined' value invalid. Use null instead.":"object"==typeof e?'Bare objects invalid. Use ["literal", {...}] instead.':"Expected an array, but found ".concat(typeof e," instead."))}},{key:"concat",value:function(t,n,r){var i="number"==typeof t?this.path.concat(t):this.path,a=r?this.scope.concat(r):this.scope;return new e(this.registry,i,n||null,a,this.errors)}},{key:"error",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i="".concat(this.key).concat(n.map((function(e){return"[".concat(e,"]")})).join(""));this.errors.push(new mt(i,e))}},{key:"checkSubtype",value:function(e,t){var n=Pt(e,t);return n&&this.error(n),n}}]),e}(),Ln=Dn;function Nn(e){if(e instanceof Rn)return Nn(e.boundExpression);if(e instanceof dn&&"error"===e.name)return!1;if(e instanceof fn)return!1;if(e instanceof On)return!1;var t=e instanceof sn||e instanceof tn,n=!0;return e.eachChild((function(e){n=t?n&&Nn(e):n&&e instanceof $t})),!!n&&Pn(e)&&zn(e,["zoom","heatmap-density","line-progress","sky-radial-progress","accumulated","is-supported-script","pitch","distance-from-center"])}function Bn(e,t){for(var n,r,i=e.length-1,a=0,o=i,s=0;a<=o;)if(n=e[s=Math.floor((a+o)/2)],r=e[s+1],n<=t){if(s===i||t<r)return s;a=s+1}else{if(!(n>t))throw new Jt("Input is not a number.");o=s-1}return 0}var Fn=function(){function e(t,n,r){h(this,e),this.type=t,this.input=n,this.labels=[],this.outputs=[];var i,a=f(r);try{for(a.s();!(i=a.n()).done;){var o=d(i.value,2),s=o[0],l=o[1];this.labels.push(s),this.outputs.push(l)}}catch(c){a.e(c)}finally{a.f()}}return p(e,[{key:"evaluate",value:function(e){var t=this.labels,n=this.outputs;if(1===t.length)return n[0].evaluate(e);var r=this.input.evaluate(e);if(r<=t[0])return n[0].evaluate(e);var i=t.length;return r>=t[i-1]?n[i-1].evaluate(e):n[Bn(t,r)].evaluate(e)}},{key:"eachChild",value:function(e){e(this.input);var t,n=f(this.outputs);try{for(n.s();!(t=n.n()).done;)e(t.value)}catch(r){n.e(r)}finally{n.f()}}},{key:"outputDefined",value:function(){return this.outputs.every((function(e){return e.outputDefined()}))}},{key:"serialize",value:function(){for(var e=["step",this.input.serialize()],t=0;t<this.labels.length;t++)t>0&&e.push(this.labels[t]),e.push(this.outputs[t].serialize());return e}}],[{key:"parse",value:function(t,n){if(t.length-1<4)return n.error("Expected at least 4 arguments, but found only ".concat(t.length-1,"."));if((t.length-1)%2!=0)return n.error("Expected an even number of arguments.");var r=n.parse(t[1],1,xt);if(!r)return null;var i=[],a=null;n.expectedType&&"value"!==n.expectedType.kind&&(a=n.expectedType);for(var o=1;o<t.length;o+=2){var s=1===o?-1/0:t[o],l=t[o+1],c=o,u=o+1;if("number"!=typeof s)return n.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',c);if(i.length&&i[i.length-1][0]>=s)return n.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',c);var d=n.parse(l,u,a);if(!d)return null;a=a||d.type,i.push([s,d])}return new e(a,r,i)}}]),e}(),Vn=Fn;function Un(e,t,n){return e*(1-n)+t*n}var Hn=Object.freeze({__proto__:null,number:Un,color:function(e,t,n){return new Vt(Un(e.r,t.r,n),Un(e.g,t.g,n),Un(e.b,t.b,n),Un(e.a,t.a,n))},array:function(e,t,n){return e.map((function(e,r){return Un(e,t[r],n)}))}}),Gn=.95047,Wn=1.08883,qn=4/29,Xn=6/29,Zn=3*Xn*Xn,Kn=Math.PI/180,Yn=180/Math.PI;function $n(e){return e>.008856451679035631?Math.pow(e,1/3):e/Zn+qn}function Jn(e){return e>Xn?e*e*e:Zn*(e-qn)}function Qn(e){return 255*(e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055)}function er(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function tr(e){var t=er(e.r),n=er(e.g),r=er(e.b),i=$n((.4124564*t+.3575761*n+.1804375*r)/Gn),a=$n((.2126729*t+.7151522*n+.072175*r)/1);return{l:116*a-16,a:500*(i-a),b:200*(a-$n((.0193339*t+.119192*n+.9503041*r)/Wn)),alpha:e.a}}function nr(e){var t=(e.l+16)/116,n=isNaN(e.a)?t:t+e.a/500,r=isNaN(e.b)?t:t-e.b/200;return t=1*Jn(t),n=Gn*Jn(n),r=Wn*Jn(r),new Vt(Qn(3.2404542*n-1.5371385*t-.4985314*r),Qn(-.969266*n+1.8760108*t+.041556*r),Qn(.0556434*n-.2040259*t+1.0572252*r),e.alpha)}function rr(e,t,n){var r=t-e;return e+n*(r>180||r<-180?r-360*Math.round(r/360):r)}var ir={forward:tr,reverse:nr,interpolate:function(e,t,n){return{l:Un(e.l,t.l,n),a:Un(e.a,t.a,n),b:Un(e.b,t.b,n),alpha:Un(e.alpha,t.alpha,n)}}},ar={forward:function(e){var t=tr(e),n=t.l,r=t.a,i=t.b,a=Math.atan2(i,r)*Yn;return{h:a<0?a+360:a,c:Math.sqrt(r*r+i*i),l:n,alpha:e.a}},reverse:function(e){var t=e.h*Kn,n=e.c;return nr({l:e.l,a:Math.cos(t)*n,b:Math.sin(t)*n,alpha:e.alpha})},interpolate:function(e,t,n){return{h:rr(e.h,t.h,n),c:Un(e.c,t.c,n),l:Un(e.l,t.l,n),alpha:Un(e.alpha,t.alpha,n)}}},or=Object.freeze({__proto__:null,lab:ir,hcl:ar}),sr=function(){function e(t,n,r,i,a){h(this,e),this.type=t,this.operator=n,this.interpolation=r,this.input=i,this.labels=[],this.outputs=[];var o,s=f(a);try{for(s.s();!(o=s.n()).done;){var l=d(o.value,2),c=l[0],u=l[1];this.labels.push(c),this.outputs.push(u)}}catch(p){s.e(p)}finally{s.f()}}return p(e,[{key:"evaluate",value:function(t){var n=this.labels,r=this.outputs;if(1===n.length)return r[0].evaluate(t);var i=this.input.evaluate(t);if(i<=n[0])return r[0].evaluate(t);var a=n.length;if(i>=n[a-1])return r[a-1].evaluate(t);var o=Bn(n,i),s=e.interpolationFactor(this.interpolation,i,n[o],n[o+1]),l=r[o].evaluate(t),c=r[o+1].evaluate(t);return"interpolate"===this.operator?Hn[this.type.kind.toLowerCase()](l,c,s):"interpolate-hcl"===this.operator?ar.reverse(ar.interpolate(ar.forward(l),ar.forward(c),s)):ir.reverse(ir.interpolate(ir.forward(l),ir.forward(c),s))}},{key:"eachChild",value:function(e){e(this.input);var t,n=f(this.outputs);try{for(n.s();!(t=n.n()).done;)e(t.value)}catch(r){n.e(r)}finally{n.f()}}},{key:"outputDefined",value:function(){return this.outputs.every((function(e){return e.outputDefined()}))}},{key:"serialize",value:function(){var e;e="linear"===this.interpolation.name?["linear"]:"exponential"===this.interpolation.name?1===this.interpolation.base?["linear"]:["exponential",this.interpolation.base]:["cubic-bezier"].concat(this.interpolation.controlPoints);for(var t=[this.operator,e,this.input.serialize()],n=0;n<this.labels.length;n++)t.push(this.labels[n],this.outputs[n].serialize());return t}}],[{key:"interpolationFactor",value:function(e,t,n,r){var i=0;if("exponential"===e.name)i=lr(t,e.base,n,r);else if("linear"===e.name)i=lr(t,1,n,r);else if("cubic-bezier"===e.name){var a=e.controlPoints;i=new C(a[0],a[1],a[2],a[3]).solve(lr(t,1,n,r))}return i}},{key:"parse",value:function(t,n){var r=c(t),i=r[0],a=r[1],o=r[2],s=r.slice(3);if(!Array.isArray(a)||0===a.length)return n.error("Expected an interpolation type expression.",1);if("linear"===a[0])a={name:"linear"};else if("exponential"===a[0]){var l=a[1];if("number"!=typeof l)return n.error("Exponential interpolation requires a numeric base.",1,1);a={name:"exponential",base:l}}else{if("cubic-bezier"!==a[0])return n.error("Unknown interpolation type ".concat(String(a[0])),1,0);var u=a.slice(1);if(4!==u.length||u.some((function(e){return"number"!=typeof e||e<0||e>1})))return n.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);a={name:"cubic-bezier",controlPoints:u}}if(t.length-1<4)return n.error("Expected at least 4 arguments, but found only ".concat(t.length-1,"."));if((t.length-1)%2!=0)return n.error("Expected an even number of arguments.");if(!(o=n.parse(o,2,xt)))return null;var d=[],f=null;"interpolate-hcl"===i||"interpolate-lab"===i?f=wt:n.expectedType&&"value"!==n.expectedType.kind&&(f=n.expectedType);for(var h=0;h<s.length;h+=2){var p=s[h],m=s[h+1],v=h+3,g=h+4;if("number"!=typeof p)return n.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',v);if(d.length&&d[d.length-1][0]>=p)return n.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',v);var y=n.parse(m,g,f);if(!y)return null;f=f||y.type,d.push([p,y])}return"number"===f.kind||"color"===f.kind||"array"===f.kind&&"number"===f.itemType.kind&&"number"==typeof f.N?new e(f,i,a,o,d):n.error("Type ".concat(It(f)," is not interpolatable."))}}]),e}();function lr(e,t,n,r){var i=r-n,a=e-n;return 0===i?0:1===t?a/i:(Math.pow(t,a)-1)/(Math.pow(t,i)-1)}var cr=sr,ur=function(){function e(t,n){h(this,e),this.type=t,this.args=n}return p(e,[{key:"evaluate",value:function(e){var t,n,r=null,i=0,a=f(this.args);try{for(a.s();!(n=a.n()).done;){var o=n.value;if(i++,(r=o.evaluate(e))&&r instanceof Wt&&!r.available&&(t||(t=r),r=null,i===this.args.length))return t;if(null!==r)break}}catch(s){a.e(s)}finally{a.f()}return r}},{key:"eachChild",value:function(e){this.args.forEach(e)}},{key:"outputDefined",value:function(){return this.args.every((function(e){return e.outputDefined()}))}},{key:"serialize",value:function(){var e=["coalesce"];return this.eachChild((function(t){e.push(t.serialize())})),e}}],[{key:"parse",value:function(t,n){if(t.length<2)return n.error("Expectected at least one argument.");var r=null,i=n.expectedType;i&&"value"!==i.kind&&(r=i);var a,o=[],s=f(t.slice(1));try{for(s.s();!(a=s.n()).done;){var l=a.value,c=n.parse(l,1+o.length,r,void 0,{typeAnnotation:"omit"});if(!c)return null;r=r||c.type,o.push(c)}}catch(d){s.e(d)}finally{s.f()}var u=i&&o.some((function(e){return Pt(i,e.type)}));return new e(u?St:r,o)}}]),e}(),dr=ur,fr=function(){function e(t,n){h(this,e),this.type=n.type,this.bindings=[].concat(t),this.result=n}return p(e,[{key:"evaluate",value:function(e){return this.result.evaluate(e)}},{key:"eachChild",value:function(e){var t,n=f(this.bindings);try{for(n.s();!(t=n.n()).done;)e(t.value[1])}catch(r){n.e(r)}finally{n.f()}e(this.result)}},{key:"outputDefined",value:function(){return this.result.outputDefined()}},{key:"serialize",value:function(){var e,t=["let"],n=f(this.bindings);try{for(n.s();!(e=n.n()).done;){var r=d(e.value,2),i=r[0],a=r[1];t.push(i,a.serialize())}}catch(o){n.e(o)}finally{n.f()}return t.push(this.result.serialize()),t}}],[{key:"parse",value:function(t,n){if(t.length<4)return n.error("Expected at least 3 arguments, but found ".concat(t.length-1," instead."));for(var r=[],i=1;i<t.length-1;i+=2){var a=t[i];if("string"!=typeof a)return n.error("Expected string, but found ".concat(typeof a," instead."),i);if(/[^a-zA-Z0-9_]/.test(a))return n.error("Variable names must contain only alphanumeric characters or '_'.",i);var o=n.parse(t[i+1],i+1);if(!o)return null;r.push([a,o])}var s=n.parse(t[t.length-1],t.length-1,n.expectedType,r);return s?new e(r,s):null}}]),e}(),hr=fr,pr=function(){function e(t,n,r){h(this,e),this.type=t,this.index=n,this.input=r}return p(e,[{key:"evaluate",value:function(e){var t=this.index.evaluate(e),n=this.input.evaluate(e);if(t<0)throw new Jt("Array index out of bounds: ".concat(t," < 0."));if(t>=n.length)throw new Jt("Array index out of bounds: ".concat(t," > ").concat(n.length-1,"."));if(t!==Math.floor(t))throw new Jt("Array index must be an integer, but found ".concat(t," instead."));return n[t]}},{key:"eachChild",value:function(e){e(this.index),e(this.input)}},{key:"outputDefined",value:function(){return!1}},{key:"serialize",value:function(){return["at",this.index.serialize(),this.input.serialize()]}}],[{key:"parse",value:function(t,n){if(3!==t.length)return n.error("Expected 2 arguments, but found ".concat(t.length-1," instead."));var r=n.parse(t[1],1,xt),i=n.parse(t[2],2,Mt(n.expectedType||St));return r&&i?new e(i.type.itemType,r,i):null}}]),e}(),mr=pr,vr=function(){function e(t,n){h(this,e),this.type=_t,this.needle=t,this.haystack=n}return p(e,[{key:"evaluate",value:function(e){var t=this.needle.evaluate(e),n=this.haystack.evaluate(e);if(null==n)return!1;if(!zt(t,["boolean","string","number","null"]))throw new Jt("Expected first argument to be of type boolean, string, number or null, but found ".concat(It(Zt(t))," instead."));if(!zt(n,["string","array"]))throw new Jt("Expected second argument to be of type array or string, but found ".concat(It(Zt(n))," instead."));return n.indexOf(t)>=0}},{key:"eachChild",value:function(e){e(this.needle),e(this.haystack)}},{key:"outputDefined",value:function(){return!0}},{key:"serialize",value:function(){return["in",this.needle.serialize(),this.haystack.serialize()]}}],[{key:"parse",value:function(t,n){if(3!==t.length)return n.error("Expected 2 arguments, but found ".concat(t.length-1," instead."));var r=n.parse(t[1],1,St),i=n.parse(t[2],2,St);return r&&i?At(r.type,[_t,bt,xt,yt,St])?new e(r,i):n.error("Expected first argument to be of type boolean, string, number or null, but found ".concat(It(r.type)," instead")):null}}]),e}(),gr=vr,yr=function(){function e(t,n,r){h(this,e),this.type=xt,this.needle=t,this.haystack=n,this.fromIndex=r}return p(e,[{key:"evaluate",value:function(e){var t=this.needle.evaluate(e),n=this.haystack.evaluate(e);if(!zt(t,["boolean","string","number","null"]))throw new Jt("Expected first argument to be of type boolean, string, number or null, but found ".concat(It(Zt(t))," instead."));if(!zt(n,["string","array"]))throw new Jt("Expected second argument to be of type array or string, but found ".concat(It(Zt(n))," instead."));if(this.fromIndex){var r=this.fromIndex.evaluate(e);return n.indexOf(t,r)}return n.indexOf(t)}},{key:"eachChild",value:function(e){e(this.needle),e(this.haystack),this.fromIndex&&e(this.fromIndex)}},{key:"outputDefined",value:function(){return!1}},{key:"serialize",value:function(){if(null!=this.fromIndex&&void 0!==this.fromIndex){var e=this.fromIndex.serialize();return["index-of",this.needle.serialize(),this.haystack.serialize(),e]}return["index-of",this.needle.serialize(),this.haystack.serialize()]}}],[{key:"parse",value:function(t,n){if(t.length<=2||t.length>=5)return n.error("Expected 3 or 4 arguments, but found ".concat(t.length-1," instead."));var r=n.parse(t[1],1,St),i=n.parse(t[2],2,St);if(!r||!i)return null;if(!At(r.type,[_t,bt,xt,yt,St]))return n.error("Expected first argument to be of type boolean, string, number or null, but found ".concat(It(r.type)," instead"));if(4===t.length){var a=n.parse(t[3],3,xt);return a?new e(r,i,a):null}return new e(r,i)}}]),e}(),xr=yr,br=function(){function e(t,n,r,i,a,o){h(this,e),this.inputType=t,this.type=n,this.input=r,this.cases=i,this.outputs=a,this.otherwise=o}return p(e,[{key:"evaluate",value:function(e){var t=this.input.evaluate(e);return(Zt(t)===this.inputType&&this.outputs[this.cases[t]]||this.otherwise).evaluate(e)}},{key:"eachChild",value:function(e){e(this.input),this.outputs.forEach(e),e(this.otherwise)}},{key:"outputDefined",value:function(){return this.outputs.every((function(e){return e.outputDefined()}))&&this.otherwise.outputDefined()}},{key:"serialize",value:function(){var e,t=this,n=["match",this.input.serialize()],r=Object.keys(this.cases).sort(),i=[],a={},o=f(r);try{for(o.s();!(e=o.n()).done;){var s=e.value,l=a[this.cases[s]];void 0===l?(a[this.cases[s]]=i.length,i.push([this.cases[s],[s]])):i[l][1].push(s)}}catch(g){o.e(g)}finally{o.f()}for(var c=function(e){return"number"===t.inputType.kind?Number(e):e},u=0,h=i;u<h.length;u++){var p=d(h[u],2),m=p[0],v=p[1];n.push(1===v.length?c(v[0]):v.map(c)),n.push(this.outputs[m].serialize())}return n.push(this.otherwise.serialize()),n}}],[{key:"parse",value:function(t,n){if(t.length<5)return n.error("Expected at least 4 arguments, but found only ".concat(t.length-1,"."));if(t.length%2!=1)return n.error("Expected an even number of arguments.");var r,i;n.expectedType&&"value"!==n.expectedType.kind&&(i=n.expectedType);for(var a={},o=[],s=2;s<t.length-1;s+=2){var l=t[s],c=t[s+1];Array.isArray(l)||(l=[l]);var u=n.concat(s);if(0===l.length)return u.error("Expected at least one branch label.");var d,h=f(l);try{for(h.s();!(d=h.n()).done;){var p=d.value;if("number"!=typeof p&&"string"!=typeof p)return u.error("Branch labels must be numbers or strings.");if("number"==typeof p&&Math.abs(p)>Number.MAX_SAFE_INTEGER)return u.error("Branch labels must be integers no larger than ".concat(Number.MAX_SAFE_INTEGER,"."));if("number"==typeof p&&Math.floor(p)!==p)return u.error("Numeric branch labels must be integer values.");if(r){if(u.checkSubtype(r,Zt(p)))return null}else r=Zt(p);if(void 0!==a[String(p)])return u.error("Branch labels must be unique.");a[String(p)]=o.length}}catch(y){h.e(y)}finally{h.f()}var m=n.parse(c,s,i);if(!m)return null;i=i||m.type,o.push(m)}var v=n.parse(t[1],1,St);if(!v)return null;var g=n.parse(t[t.length-1],t.length-1,i);return g?"value"!==v.type.kind&&n.concat(1).checkSubtype(r,v.type)?null:new e(r,i,v,a,o,g):null}}]),e}(),_r=br,wr=function(){function e(t,n,r){h(this,e),this.type=t,this.branches=n,this.otherwise=r}return p(e,[{key:"evaluate",value:function(e){var t,n=f(this.branches);try{for(n.s();!(t=n.n()).done;){var r=d(t.value,2),i=r[0],a=r[1];if(i.evaluate(e))return a.evaluate(e)}}catch(o){n.e(o)}finally{n.f()}return this.otherwise.evaluate(e)}},{key:"eachChild",value:function(e){var t,n=f(this.branches);try{for(n.s();!(t=n.n()).done;){var r=d(t.value,2),i=r[0],a=r[1];e(i),e(a)}}catch(o){n.e(o)}finally{n.f()}e(this.otherwise)}},{key:"outputDefined",value:function(){return this.branches.every((function(e){var t=d(e,2);return t[0],t[1].outputDefined()}))&&this.otherwise.outputDefined()}},{key:"serialize",value:function(){var e=["case"];return this.eachChild((function(t){e.push(t.serialize())})),e}}],[{key:"parse",value:function(t,n){if(t.length<4)return n.error("Expected at least 3 arguments, but found only ".concat(t.length-1,"."));if(t.length%2!=0)return n.error("Expected an odd number of arguments.");var r;n.expectedType&&"value"!==n.expectedType.kind&&(r=n.expectedType);for(var i=[],a=1;a<t.length-1;a+=2){var o=n.parse(t[a],a,_t);if(!o)return null;var s=n.parse(t[a+1],a+1,r);if(!s)return null;i.push([o,s]),r=r||s.type}var l=n.parse(t[t.length-1],t.length-1,r);return l?new e(r,i,l):null}}]),e}(),kr=wr,Sr=function(){function e(t,n,r,i){h(this,e),this.type=t,this.input=n,this.beginIndex=r,this.endIndex=i}return p(e,[{key:"evaluate",value:function(e){var t=this.input.evaluate(e),n=this.beginIndex.evaluate(e);if(!zt(t,["string","array"]))throw new Jt("Expected first argument to be of type array or string, but found ".concat(It(Zt(t))," instead."));if(this.endIndex){var r=this.endIndex.evaluate(e);return t.slice(n,r)}return t.slice(n)}},{key:"eachChild",value:function(e){e(this.input),e(this.beginIndex),this.endIndex&&e(this.endIndex)}},{key:"outputDefined",value:function(){return!1}},{key:"serialize",value:function(){if(null!=this.endIndex&&void 0!==this.endIndex){var e=this.endIndex.serialize();return["slice",this.input.serialize(),this.beginIndex.serialize(),e]}return["slice",this.input.serialize(),this.beginIndex.serialize()]}}],[{key:"parse",value:function(t,n){if(t.length<=2||t.length>=5)return n.error("Expected 3 or 4 arguments, but found ".concat(t.length-1," instead."));var r=n.parse(t[1],1,St),i=n.parse(t[2],2,xt);if(!r||!i)return null;if(!At(r.type,[Mt(St),bt,St]))return n.error("Expected first argument to be of type array or string, but found ".concat(It(r.type)," instead"));if(4===t.length){var a=n.parse(t[3],3,xt);return a?new e(r.type,r,i,a):null}return new e(r.type,r,i)}}]),e}(),Er=Sr;function Cr(e,t){return"=="===e||"!="===e?"boolean"===t.kind||"string"===t.kind||"number"===t.kind||"null"===t.kind||"value"===t.kind:"string"===t.kind||"number"===t.kind||"value"===t.kind}function Tr(e,t,n,r){return 0===r.compare(t,n)}function Mr(e,t,n){var r="=="!==e&&"!="!==e;return function(){function i(e,t,n){h(this,i),this.type=_t,this.lhs=e,this.rhs=t,this.collator=n,this.hasUntypedArgument="value"===e.type.kind||"value"===t.type.kind}return p(i,[{key:"evaluate",value:function(i){var a=this.lhs.evaluate(i),o=this.rhs.evaluate(i);if(r&&this.hasUntypedArgument){var s=Zt(a),l=Zt(o);if(s.kind!==l.kind||"string"!==s.kind&&"number"!==s.kind)throw new Jt('Expected arguments for "'.concat(e,'" to be (string, string) or (number, number), but found (').concat(s.kind,", ").concat(l.kind,") instead."))}if(this.collator&&!r&&this.hasUntypedArgument){var c=Zt(a),u=Zt(o);if("string"!==c.kind||"string"!==u.kind)return t(i,a,o)}return this.collator?n(i,a,o,this.collator.evaluate(i)):t(i,a,o)}},{key:"eachChild",value:function(e){e(this.lhs),e(this.rhs),this.collator&&e(this.collator)}},{key:"outputDefined",value:function(){return!0}},{key:"serialize",value:function(){var t=[e];return this.eachChild((function(e){t.push(e.serialize())})),t}}],[{key:"parse",value:function(e,t){if(3!==e.length&&4!==e.length)return t.error("Expected two or three arguments.");var n=e[0],a=t.parse(e[1],1,St);if(!a)return null;if(!Cr(n,a.type))return t.concat(1).error('"'.concat(n,"\" comparisons are not supported for type '").concat(It(a.type),"'."));var o=t.parse(e[2],2,St);if(!o)return null;if(!Cr(n,o.type))return t.concat(2).error('"'.concat(n,"\" comparisons are not supported for type '").concat(It(o.type),"'."));if(a.type.kind!==o.type.kind&&"value"!==a.type.kind&&"value"!==o.type.kind)return t.error("Cannot compare types '".concat(It(a.type),"' and '").concat(It(o.type),"'."));r&&("value"===a.type.kind&&"value"!==o.type.kind?a=new tn(o.type,[a]):"value"!==a.type.kind&&"value"===o.type.kind&&(o=new tn(a.type,[o])));var s=null;if(4===e.length){if("string"!==a.type.kind&&"string"!==o.type.kind&&"value"!==a.type.kind&&"value"!==o.type.kind)return t.error("Cannot use collator to compare non-string types.");if(!(s=t.parse(e[3],3,Et)))return null}return new i(a,o,s)}}]),i}()}var Ir=Mr("==",(function(e,t,n){return t===n}),Tr),Or=Mr("!=",(function(e,t,n){return t!==n}),(function(e,t,n,r){return!Tr(0,t,n,r)})),Pr=Mr("<",(function(e,t,n){return t<n}),(function(e,t,n,r){return r.compare(t,n)<0})),Ar=Mr(">",(function(e,t,n){return t>n}),(function(e,t,n,r){return r.compare(t,n)>0})),zr=Mr("<=",(function(e,t,n){return t<=n}),(function(e,t,n,r){return r.compare(t,n)<=0})),jr=Mr(">=",(function(e,t,n){return t>=n}),(function(e,t,n,r){return r.compare(t,n)>=0})),Rr=function(){function e(t,n,r,i,a,o){h(this,e),this.type=bt,this.number=t,this.locale=n,this.currency=r,this.unit=i,this.minFractionDigits=a,this.maxFractionDigits=o}return p(e,[{key:"evaluate",value:function(e){return new Intl.NumberFormat(this.locale?this.locale.evaluate(e):[],{style:(this.currency?"currency":this.unit&&"unit")||"decimal",currency:this.currency?this.currency.evaluate(e):void 0,unit:this.unit?this.unit.evaluate(e):void 0,minimumFractionDigits:this.minFractionDigits?this.minFractionDigits.evaluate(e):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(e):void 0}).format(this.number.evaluate(e))}},{key:"eachChild",value:function(e){e(this.number),this.locale&&e(this.locale),this.currency&&e(this.currency),this.unit&&e(this.unit),this.minFractionDigits&&e(this.minFractionDigits),this.maxFractionDigits&&e(this.maxFractionDigits)}},{key:"outputDefined",value:function(){return!1}},{key:"serialize",value:function(){var e={};return this.locale&&(e.locale=this.locale.serialize()),this.currency&&(e.currency=this.currency.serialize()),this.unit&&(e.unit=this.unit.serialize()),this.minFractionDigits&&(e["min-fraction-digits"]=this.minFractionDigits.serialize()),this.maxFractionDigits&&(e["max-fraction-digits"]=this.maxFractionDigits.serialize()),["number-format",this.number.serialize(),e]}}],[{key:"parse",value:function(t,n){if(3!==t.length)return n.error("Expected two arguments.");var r=n.parse(t[1],1,xt);if(!r)return null;var i=t[2];if("object"!=typeof i||Array.isArray(i))return n.error("NumberFormat options argument must be an object.");var a=null;if(i.locale&&!(a=n.parse(i.locale,1,bt)))return null;var o=null;if(i.currency&&!(o=n.parse(i.currency,1,bt)))return null;var s=null;if(i.unit&&!(s=n.parse(i.unit,1,bt)))return null;var l=null;if(i["min-fraction-digits"]&&!(l=n.parse(i["min-fraction-digits"],1,xt)))return null;var c=null;return i["max-fraction-digits"]&&!(c=n.parse(i["max-fraction-digits"],1,xt))?null:new e(r,a,o,s,l,c)}}]),e}(),Dr=function(){function e(t){h(this,e),this.type=xt,this.input=t}return p(e,[{key:"evaluate",value:function(e){var t=this.input.evaluate(e);if("string"==typeof t)return t.length;if(Array.isArray(t))return t.length;throw new Jt("Expected value to be of type string or array, but found ".concat(It(Zt(t))," instead."))}},{key:"eachChild",value:function(e){e(this.input)}},{key:"outputDefined",value:function(){return!1}},{key:"serialize",value:function(){var e=["length"];return this.eachChild((function(t){e.push(t.serialize())})),e}}],[{key:"parse",value:function(t,n){if(2!==t.length)return n.error("Expected 1 argument, but found ".concat(t.length-1," instead."));var r=n.parse(t[1],1);return r?"array"!==r.type.kind&&"string"!==r.type.kind&&"value"!==r.type.kind?n.error("Expected argument of type string or array, but found ".concat(It(r.type)," instead.")):new e(r):null}}]),e}(),Lr={"==":Ir,"!=":Or,">":Ar,"<":Pr,">=":jr,"<=":zr,array:tn,at:mr,boolean:tn,case:kr,coalesce:dr,collator:fn,format:nn,image:rn,in:gr,"index-of":xr,interpolate:cr,"interpolate-hcl":cr,"interpolate-lab":cr,length:Dr,let:hr,literal:$t,match:_r,number:tn,"number-format":Rr,object:tn,slice:Er,step:Vn,string:tn,"to-boolean":sn,"to-color":sn,"to-number":sn,"to-string":sn,var:Rn,within:On};function Nr(e,t){var n=d(t,4),r=n[0],i=n[1],a=n[2],o=n[3];r=r.evaluate(e),i=i.evaluate(e),a=a.evaluate(e);var s=o?o.evaluate(e):1,l=qt(r,i,a,s);if(l)throw new Jt(l);return new Vt(r/255*s,i/255*s,a/255*s,s)}function Br(e,t){return e in t}function Fr(e,t){var n=t[e];return void 0===n?null:n}function Vr(e){return{type:e}}dn.register(Lr,{error:[{kind:"error"},[bt],function(e,t){var n=d(t,1)[0];throw new Jt(n.evaluate(e))}],typeof:[bt,[St],function(e,t){return It(Zt(d(t,1)[0].evaluate(e)))}],"to-rgba":[Mt(xt,4),[wt],function(e,t){return d(t,1)[0].evaluate(e).toArray()}],rgb:[wt,[xt,xt,xt],Nr],rgba:[wt,[xt,xt,xt,xt],Nr],has:{type:_t,overloads:[[[bt],function(e,t){return Br(d(t,1)[0].evaluate(e),e.properties())}],[[bt,kt],function(e,t){var n=d(t,2),r=n[0],i=n[1];return Br(r.evaluate(e),i.evaluate(e))}]]},get:{type:St,overloads:[[[bt],function(e,t){return Fr(d(t,1)[0].evaluate(e),e.properties())}],[[bt,kt],function(e,t){var n=d(t,2),r=n[0],i=n[1];return Fr(r.evaluate(e),i.evaluate(e))}]]},"feature-state":[St,[bt],function(e,t){return Fr(d(t,1)[0].evaluate(e),e.featureState||{})}],properties:[kt,[],function(e){return e.properties()}],"geometry-type":[bt,[],function(e){return e.geometryType()}],id:[St,[],function(e){return e.id()}],zoom:[xt,[],function(e){return e.globals.zoom}],pitch:[xt,[],function(e){return e.globals.pitch||0}],"distance-from-center":[xt,[],function(e){return e.distanceFromCenter()}],"heatmap-density":[xt,[],function(e){return e.globals.heatmapDensity||0}],"line-progress":[xt,[],function(e){return e.globals.lineProgress||0}],"sky-radial-progress":[xt,[],function(e){return e.globals.skyRadialProgress||0}],accumulated:[St,[],function(e){return void 0===e.globals.accumulated?null:e.globals.accumulated}],"+":[xt,Vr(xt),function(e,t){var n,r=0,i=f(t);try{for(i.s();!(n=i.n()).done;)r+=n.value.evaluate(e)}catch(a){i.e(a)}finally{i.f()}return r}],"*":[xt,Vr(xt),function(e,t){var n,r=1,i=f(t);try{for(i.s();!(n=i.n()).done;)r*=n.value.evaluate(e)}catch(a){i.e(a)}finally{i.f()}return r}],"-":{type:xt,overloads:[[[xt,xt],function(e,t){var n=d(t,2),r=n[0],i=n[1];return r.evaluate(e)-i.evaluate(e)}],[[xt],function(e,t){return-d(t,1)[0].evaluate(e)}]]},"/":[xt,[xt,xt],function(e,t){var n=d(t,2),r=n[0],i=n[1];return r.evaluate(e)/i.evaluate(e)}],"%":[xt,[xt,xt],function(e,t){var n=d(t,2),r=n[0],i=n[1];return r.evaluate(e)%i.evaluate(e)}],ln2:[xt,[],function(){return Math.LN2}],pi:[xt,[],function(){return Math.PI}],e:[xt,[],function(){return Math.E}],"^":[xt,[xt,xt],function(e,t){var n=d(t,2),r=n[0],i=n[1];return Math.pow(r.evaluate(e),i.evaluate(e))}],sqrt:[xt,[xt],function(e,t){var n=d(t,1)[0];return Math.sqrt(n.evaluate(e))}],log10:[xt,[xt],function(e,t){var n=d(t,1)[0];return Math.log(n.evaluate(e))/Math.LN10}],ln:[xt,[xt],function(e,t){var n=d(t,1)[0];return Math.log(n.evaluate(e))}],log2:[xt,[xt],function(e,t){var n=d(t,1)[0];return Math.log(n.evaluate(e))/Math.LN2}],sin:[xt,[xt],function(e,t){var n=d(t,1)[0];return Math.sin(n.evaluate(e))}],cos:[xt,[xt],function(e,t){var n=d(t,1)[0];return Math.cos(n.evaluate(e))}],tan:[xt,[xt],function(e,t){var n=d(t,1)[0];return Math.tan(n.evaluate(e))}],asin:[xt,[xt],function(e,t){var n=d(t,1)[0];return Math.asin(n.evaluate(e))}],acos:[xt,[xt],function(e,t){var n=d(t,1)[0];return Math.acos(n.evaluate(e))}],atan:[xt,[xt],function(e,t){var n=d(t,1)[0];return Math.atan(n.evaluate(e))}],min:[xt,Vr(xt),function(e,t){return Math.min.apply(Math,u(t.map((function(t){return t.evaluate(e)}))))}],max:[xt,Vr(xt),function(e,t){return Math.max.apply(Math,u(t.map((function(t){return t.evaluate(e)}))))}],abs:[xt,[xt],function(e,t){var n=d(t,1)[0];return Math.abs(n.evaluate(e))}],round:[xt,[xt],function(e,t){var n=d(t,1)[0].evaluate(e);return n<0?-Math.round(-n):Math.round(n)}],floor:[xt,[xt],function(e,t){var n=d(t,1)[0];return Math.floor(n.evaluate(e))}],ceil:[xt,[xt],function(e,t){var n=d(t,1)[0];return Math.ceil(n.evaluate(e))}],"filter-==":[_t,[bt,St],function(e,t){var n=d(t,2),r=n[0],i=n[1];return e.properties()[r.value]===i.value}],"filter-id-==":[_t,[St],function(e,t){var n=d(t,1)[0];return e.id()===n.value}],"filter-type-==":[_t,[bt],function(e,t){var n=d(t,1)[0];return e.geometryType()===n.value}],"filter-<":[_t,[bt,St],function(e,t){var n=d(t,2),r=n[0],i=n[1],a=e.properties()[r.value],o=i.value;return typeof a==typeof o&&a<o}],"filter-id-<":[_t,[St],function(e,t){var n=d(t,1)[0],r=e.id(),i=n.value;return typeof r==typeof i&&r<i}],"filter->":[_t,[bt,St],function(e,t){var n=d(t,2),r=n[0],i=n[1],a=e.properties()[r.value],o=i.value;return typeof a==typeof o&&a>o}],"filter-id->":[_t,[St],function(e,t){var n=d(t,1)[0],r=e.id(),i=n.value;return typeof r==typeof i&&r>i}],"filter-<=":[_t,[bt,St],function(e,t){var n=d(t,2),r=n[0],i=n[1],a=e.properties()[r.value],o=i.value;return typeof a==typeof o&&a<=o}],"filter-id-<=":[_t,[St],function(e,t){var n=d(t,1)[0],r=e.id(),i=n.value;return typeof r==typeof i&&r<=i}],"filter->=":[_t,[bt,St],function(e,t){var n=d(t,2),r=n[0],i=n[1],a=e.properties()[r.value],o=i.value;return typeof a==typeof o&&a>=o}],"filter-id->=":[_t,[St],function(e,t){var n=d(t,1)[0],r=e.id(),i=n.value;return typeof r==typeof i&&r>=i}],"filter-has":[_t,[St],function(e,t){return d(t,1)[0].value in e.properties()}],"filter-has-id":[_t,[],function(e){return null!==e.id()&&void 0!==e.id()}],"filter-type-in":[_t,[Mt(bt)],function(e,t){return d(t,1)[0].value.indexOf(e.geometryType())>=0}],"filter-id-in":[_t,[Mt(St)],function(e,t){return d(t,1)[0].value.indexOf(e.id())>=0}],"filter-in-small":[_t,[bt,Mt(St)],function(e,t){var n=d(t,2),r=n[0];return n[1].value.indexOf(e.properties()[r.value])>=0}],"filter-in-large":[_t,[bt,Mt(St)],function(e,t){var n=d(t,2),r=n[0],i=n[1];return function(e,t,n,r){for(;n<=r;){var i=n+r>>1;if(t[i]===e)return!0;t[i]>e?r=i-1:n=i+1}return!1}(e.properties()[r.value],i.value,0,i.value.length-1)}],all:{type:_t,overloads:[[[_t,_t],function(e,t){var n=d(t,2),r=n[0],i=n[1];return r.evaluate(e)&&i.evaluate(e)}],[Vr(_t),function(e,t){var n,r=f(t);try{for(r.s();!(n=r.n()).done;)if(!n.value.evaluate(e))return!1}catch(i){r.e(i)}finally{r.f()}return!0}]]},any:{type:_t,overloads:[[[_t,_t],function(e,t){var n=d(t,2),r=n[0],i=n[1];return r.evaluate(e)||i.evaluate(e)}],[Vr(_t),function(e,t){var n,r=f(t);try{for(r.s();!(n=r.n()).done;)if(n.value.evaluate(e))return!0}catch(i){r.e(i)}finally{r.f()}return!1}]]},"!":[_t,[_t],function(e,t){return!d(t,1)[0].evaluate(e)}],"is-supported-script":[_t,[bt],function(e,t){var n=d(t,1)[0],r=e.globals&&e.globals.isSupportedScript;return!r||r(n.evaluate(e))}],upcase:[bt,[bt],function(e,t){return d(t,1)[0].evaluate(e).toUpperCase()}],downcase:[bt,[bt],function(e,t){return d(t,1)[0].evaluate(e).toLowerCase()}],concat:[bt,Vr(St),function(e,t){return t.map((function(t){return Kt(t.evaluate(e))})).join("")}],"resolved-locale":[bt,[Et],function(e,t){return d(t,1)[0].evaluate(e).resolvedLocale()}]});var Ur=Lr;function Hr(e){return{result:"success",value:e}}function Gr(e){return{result:"error",value:e}}function Wr(e){return"data-driven"===e["property-type"]}function qr(e){return!!e.expression&&e.expression.parameters.indexOf("zoom")>-1}function Xr(e){return!!e.expression&&e.expression.interpolated}function Zr(e){return e instanceof Number?"number":e instanceof String?"string":e instanceof Boolean?"boolean":Array.isArray(e)?"array":null===e?"null":typeof e}function Kr(e){return"object"==typeof e&&null!==e&&!Array.isArray(e)}function Yr(e){return e}function $r(e,t){var n,r,i,a="color"===t.type,o=e.stops&&"object"==typeof e.stops[0][0],s=o||!(o||void 0!==e.property),l=e.type||(Xr(t)?"exponential":"interval");if(a&&((e=dt({},e)).stops&&(e.stops=e.stops.map((function(e){return[e[0],Vt.parse(e[1])]}))),e.default=Vt.parse(e.default?e.default:t.default)),e.colorSpace&&"rgb"!==e.colorSpace&&!or[e.colorSpace])throw new Error("Unknown color space: ".concat(e.colorSpace));if("exponential"===l)n=ti;else if("interval"===l)n=ei;else if("categorical"===l){n=Qr,r=Object.create(null);var c,u=f(e.stops);try{for(u.s();!(c=u.n()).done;){var d=c.value;r[d[0]]=d[1]}}catch(S){u.e(S)}finally{u.f()}i=typeof e.stops[0][0]}else{if("identity"!==l)throw new Error('Unknown function type "'.concat(l,'"'));n=ni}if(o){for(var h={},p=[],m=0;m<e.stops.length;m++){var v=e.stops[m],g=v[0].zoom;void 0===h[g]&&(h[g]={zoom:g,type:e.type,property:e.property,default:e.default,stops:[]},p.push(g)),h[g].stops.push([v[0].value,v[1]])}for(var y=[],x=0,b=p;x<b.length;x++){var _=b[x];y.push([h[_].zoom,$r(h[_],t)])}var w={name:"linear"};return{kind:"composite",interpolationType:w,interpolationFactor:cr.interpolationFactor.bind(void 0,w),zoomStops:y.map((function(e){return e[0]})),evaluate:function(n,r){var i=n.zoom;return ti({stops:y,base:e.base},t,i).evaluate(i,r)}}}if(s){var k="exponential"===l?{name:"exponential",base:void 0!==e.base?e.base:1}:null;return{kind:"camera",interpolationType:k,interpolationFactor:cr.interpolationFactor.bind(void 0,k),zoomStops:e.stops.map((function(e){return e[0]})),evaluate:function(a){var o=a.zoom;return n(e,t,o,r,i)}}}return{kind:"source",evaluate:function(a,o){var s=o&&o.properties?o.properties[e.property]:void 0;return void 0===s?Jr(e.default,t.default):n(e,t,s,r,i)}}}function Jr(e,t,n){return void 0!==e?e:void 0!==t?t:void 0!==n?n:void 0}function Qr(e,t,n,r,i){return Jr(typeof n===i?r[n]:void 0,e.default,t.default)}function ei(e,t,n){if("number"!==Zr(n))return Jr(e.default,t.default);var r=e.stops.length;if(1===r)return e.stops[0][1];if(n<=e.stops[0][0])return e.stops[0][1];if(n>=e.stops[r-1][0])return e.stops[r-1][1];var i=Bn(e.stops.map((function(e){return e[0]})),n);return e.stops[i][1]}function ti(e,t,n){var r=void 0!==e.base?e.base:1;if("number"!==Zr(n))return Jr(e.default,t.default);var i=e.stops.length;if(1===i)return e.stops[0][1];if(n<=e.stops[0][0])return e.stops[0][1];if(n>=e.stops[i-1][0])return e.stops[i-1][1];var a=Bn(e.stops.map((function(e){return e[0]})),n),o=function(e,t,n,r){var i=r-n,a=e-n;return 0===i?0:1===t?a/i:(Math.pow(t,a)-1)/(Math.pow(t,i)-1)}(n,r,e.stops[a][0],e.stops[a+1][0]),s=e.stops[a][1],l=e.stops[a+1][1],c=Hn[t.type]||Yr;if(e.colorSpace&&"rgb"!==e.colorSpace){var u=or[e.colorSpace];c=function(e,t){return u.reverse(u.interpolate(u.forward(e),u.forward(t),o))}}return"function"==typeof s.evaluate?{evaluate:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=s.evaluate.apply(void 0,t),i=l.evaluate.apply(void 0,t);if(void 0!==r&&void 0!==i)return c(r,i,o)}}:c(s,l,o)}function ni(e,t,n){return"color"===t.type?n=Vt.parse(n):"formatted"===t.type?n=Gt.fromString(n.toString()):"resolvedImage"===t.type?n=Wt.fromString(n.toString()):Zr(n)===t.type||"enum"===t.type&&t.values[n]||(n=void 0),Jr(n,e.default,t.default)}var ri=function(){function e(t,n){h(this,e),this.expression=t,this._warningHistory={},this._evaluator=new cn,this._defaultValue=n?function(e){return"color"===e.type&&(Kr(e.default)||Array.isArray(e.default))?new Vt(0,0,0,0):"color"===e.type?Vt.parse(e.default)||null:void 0===e.default?null:e.default}(n):null,this._enumValues=n&&"enum"===n.type?n.values:null}return p(e,[{key:"evaluateWithoutErrorHandling",value:function(e,t,n,r,i,a,o,s){return this._evaluator.globals=e,this._evaluator.feature=t,this._evaluator.featureState=n,this._evaluator.canonical=r||null,this._evaluator.availableImages=i||null,this._evaluator.formattedSection=a,this._evaluator.featureTileCoord=o||null,this._evaluator.featureDistanceData=s||null,this.expression.evaluate(this._evaluator)}},{key:"evaluate",value:function(e,t,n,r,i,a,o,s){this._evaluator.globals=e,this._evaluator.feature=t||null,this._evaluator.featureState=n||null,this._evaluator.canonical=r||null,this._evaluator.availableImages=i||null,this._evaluator.formattedSection=a||null,this._evaluator.featureTileCoord=o||null,this._evaluator.featureDistanceData=s||null;try{var l=this.expression.evaluate(this._evaluator);if(null==l||"number"==typeof l&&l!=l)return this._defaultValue;if(this._enumValues&&!(l in this._enumValues))throw new Jt("Expected value to be one of ".concat(Object.keys(this._enumValues).map((function(e){return JSON.stringify(e)})).join(", "),", but found ").concat(JSON.stringify(l)," instead."));return l}catch(e){return this._warningHistory[e.message]||(this._warningHistory[e.message]=!0,"undefined"!=typeof console&&console.warn(e.message)),this._defaultValue}}}]),e}();function ii(e){return Array.isArray(e)&&e.length>0&&"string"==typeof e[0]&&e[0]in Ur}function ai(e,t){var n=new Ln(Ur,[],t?function(e){var t={color:wt,string:bt,number:xt,enum:bt,boolean:_t,formatted:Ct,resolvedImage:Tt};return"array"===e.type?Mt(t[e.value]||St,e.length):t[e.type]}(t):void 0),r=n.parse(e,void 0,void 0,void 0,t&&"string"===t.type?{typeAnnotation:"coerce"}:void 0);return r?Hr(new ri(r,t)):Gr(n.errors)}var oi=function(){function e(t,n){h(this,e),this.kind=t,this._styleExpression=n,this.isStateDependent="constant"!==t&&!An(n.expression)}return p(e,[{key:"evaluateWithoutErrorHandling",value:function(e,t,n,r,i,a){return this._styleExpression.evaluateWithoutErrorHandling(e,t,n,r,i,a)}},{key:"evaluate",value:function(e,t,n,r,i,a){return this._styleExpression.evaluate(e,t,n,r,i,a)}}]),e}(),si=function(){function e(t,n,r,i){h(this,e),this.kind=t,this.zoomStops=r,this._styleExpression=n,this.isStateDependent="camera"!==t&&!An(n.expression),this.interpolationType=i}return p(e,[{key:"evaluateWithoutErrorHandling",value:function(e,t,n,r,i,a){return this._styleExpression.evaluateWithoutErrorHandling(e,t,n,r,i,a)}},{key:"evaluate",value:function(e,t,n,r,i,a){return this._styleExpression.evaluate(e,t,n,r,i,a)}},{key:"interpolationFactor",value:function(e,t,n){return this.interpolationType?cr.interpolationFactor(this.interpolationType,e,t,n):0}}]),e}();function li(e,t){if("error"===(e=ai(e,t)).result)return e;var n=e.value.expression,r=Pn(n);if(!r&&!Wr(t))return Gr([new mt("","data expressions not supported")]);var i=zn(n,["zoom","pitch","distance-from-center"]);if(!i&&!qr(t))return Gr([new mt("","zoom expressions not supported")]);var a=ui(n);return a||i?a instanceof mt?Gr([a]):a instanceof cr&&!Xr(t)?Gr([new mt("",'"interpolate" expressions cannot be used with this property')]):Hr(a?new si(r?"camera":"composite",e.value,a.labels,a instanceof cr?a.interpolation:void 0):new oi(r?"constant":"source",e.value)):Gr([new mt("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.')])}var ci=function(){function e(t,n){h(this,e),this._parameters=t,this._specification=n,dt(this,$r(this._parameters,this._specification))}return p(e,null,[{key:"deserialize",value:function(t){return new e(t._parameters,t._specification)}},{key:"serialize",value:function(e){return{_parameters:e._parameters,_specification:e._specification}}}]),e}();function ui(e){var t=null;if(e instanceof hr)t=ui(e.result);else if(e instanceof dr){var n,r=f(e.args);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(t=ui(i))break}}catch(a){r.e(a)}finally{r.f()}}else(e instanceof Vn||e instanceof cr)&&e.input instanceof dn&&"zoom"===e.input.name&&(t=e);return t instanceof mt||e.eachChild((function(e){var n=ui(e);n instanceof mt?t=n:!t&&n?t=new mt("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.'):t&&n&&t!==n&&(t=new mt("",'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'))})),t}var di=p((function e(t,n,r,i){h(this,e),this.message=(t?"".concat(t,": "):"")+r,i&&(this.identifier=i),null!=n&&n.__line__&&(this.line=n.__line__)}));function fi(e){var t=e.key,n=e.value,r=e.valueSpec||{},i=e.objectElementValidators||{},a=e.style,o=e.styleSpec,s=[],l=Zr(n);if("object"!==l)return[new di(t,n,"object expected, ".concat(l," found"))];for(var c in n){var u=c.split(".")[0],d=r[u]||r["*"],f=void 0;i[u]?f=i[u]:r[u]?f=qi:i["*"]?f=i["*"]:r["*"]&&(f=qi),f?s=s.concat(f({key:(t?"".concat(t,"."):t)+c,value:n[c],valueSpec:d,style:a,styleSpec:o,object:n,objectKey:c},n)):s.push(new di(t,n[c],'unknown property "'.concat(c,'"')))}for(var h in r)i[h]||r[h].required&&void 0===r[h].default&&void 0===n[h]&&s.push(new di(t,n,'missing required property "'.concat(h,'"')));return s}function hi(e){var t=e.value,n=e.valueSpec,r=e.style,i=e.styleSpec,a=e.key,o=e.arrayElementValidator||qi;if("array"!==Zr(t))return[new di(a,t,"array expected, ".concat(Zr(t)," found"))];if(n.length&&t.length!==n.length)return[new di(a,t,"array length ".concat(n.length," expected, length ").concat(t.length," found"))];if(n["min-length"]&&t.length<n["min-length"])return[new di(a,t,"array length at least ".concat(n["min-length"]," expected, length ").concat(t.length," found"))];var s={type:n.value,values:n.values,minimum:n.minimum,maximum:n.maximum,function:void 0};i.$version<7&&(s.function=n.function),"object"===Zr(n.value)&&(s=n.value);for(var l=[],c=0;c<t.length;c++)l=l.concat(o({array:t,arrayIndex:c,value:t[c],valueSpec:s,style:r,styleSpec:i,key:"".concat(a,"[").concat(c,"]")}));return l}function pi(e){var t=e.key,n=e.value,r=e.valueSpec,i=Zr(n);if("number"===i&&n!=n&&(i="NaN"),"number"!==i)return[new di(t,n,"number expected, ".concat(i," found"))];if("minimum"in r){var a=r.minimum;if("array"===Zr(r.minimum)&&(a=r.minimum[e.arrayIndex]),n<a)return[new di(t,n,"".concat(n," is less than the minimum value ").concat(a))]}if("maximum"in r){var o=r.maximum;if("array"===Zr(r.maximum)&&(o=r.maximum[e.arrayIndex]),n>o)return[new di(t,n,"".concat(n," is greater than the maximum value ").concat(o))]}return[]}function mi(e){var t,n,r,i=e.valueSpec,a=ft(e.value.type),o={},s="categorical"!==a&&void 0===e.value.property,l=!s,c="array"===Zr(e.value.stops)&&"array"===Zr(e.value.stops[0])&&"object"===Zr(e.value.stops[0][0]),u=fi({key:e.key,value:e.value,valueSpec:e.styleSpec.function,style:e.style,styleSpec:e.styleSpec,objectElementValidators:{stops:function(e){if("identity"===a)return[new di(e.key,e.value,'identity function may not have a "stops" property')];var t=[],n=e.value;return t=t.concat(hi({key:e.key,value:n,valueSpec:e.valueSpec,style:e.style,styleSpec:e.styleSpec,arrayElementValidator:d})),"array"===Zr(n)&&0===n.length&&t.push(new di(e.key,n,"array must have at least one stop")),t},default:function(e){return qi({key:e.key,value:e.value,valueSpec:i,style:e.style,styleSpec:e.styleSpec})}}});return"identity"===a&&s&&u.push(new di(e.key,e.value,'missing required property "property"')),"identity"===a||e.value.stops||u.push(new di(e.key,e.value,'missing required property "stops"')),"exponential"===a&&e.valueSpec.expression&&!Xr(e.valueSpec)&&u.push(new di(e.key,e.value,"exponential functions not supported")),e.styleSpec.$version>=8&&(l&&!Wr(e.valueSpec)?u.push(new di(e.key,e.value,"property functions not supported")):s&&!qr(e.valueSpec)&&u.push(new di(e.key,e.value,"zoom functions not supported"))),"categorical"!==a&&!c||void 0!==e.value.property||u.push(new di(e.key,e.value,'"property" property is required')),u;function d(e){var t=[],a=e.value,s=e.key;if("array"!==Zr(a))return[new di(s,a,"array expected, ".concat(Zr(a)," found"))];if(2!==a.length)return[new di(s,a,"array length 2 expected, length ".concat(a.length," found"))];if(c){if("object"!==Zr(a[0]))return[new di(s,a,"object expected, ".concat(Zr(a[0])," found"))];if(void 0===a[0].zoom)return[new di(s,a,"object stop key must have zoom")];if(void 0===a[0].value)return[new di(s,a,"object stop key must have value")];var l=ft(a[0].zoom);if("number"!=typeof l)return[new di(s,a[0].zoom,"stop zoom values must be numbers")];if(r&&r>l)return[new di(s,a[0].zoom,"stop zoom values must appear in ascending order")];l!==r&&(r=l,n=void 0,o={}),t=t.concat(fi({key:"".concat(s,"[0]"),value:a[0],valueSpec:{zoom:{}},style:e.style,styleSpec:e.styleSpec,objectElementValidators:{zoom:pi,value:f}}))}else t=t.concat(f({key:"".concat(s,"[0]"),value:a[0],valueSpec:{},style:e.style,styleSpec:e.styleSpec},a));return ii(ht(a[1]))?t.concat([new di("".concat(s,"[1]"),a[1],"expressions are not allowed in function stops.")]):t.concat(qi({key:"".concat(s,"[1]"),value:a[1],valueSpec:i,style:e.style,styleSpec:e.styleSpec}))}function f(e,r){var s=Zr(e.value),l=ft(e.value),c=null!==e.value?e.value:r;if(t){if(s!==t)return[new di(e.key,c,"".concat(s," stop domain type must match previous stop domain type ").concat(t))]}else t=s;if("number"!==s&&"string"!==s&&"boolean"!==s&&"number"!=typeof l&&"string"!=typeof l&&"boolean"!=typeof l)return[new di(e.key,c,"stop domain value must be a number, string, or boolean")];if("number"!==s&&"categorical"!==a){var u="number expected, ".concat(s," found");return Wr(i)&&void 0===a&&(u+='\nIf you intended to use a categorical function, specify `"type": "categorical"`.'),[new di(e.key,c,u)]}return"categorical"!==a||"number"!==s||"number"==typeof l&&isFinite(l)&&Math.floor(l)===l?"categorical"!==a&&"number"===s&&"number"==typeof l&&"number"==typeof n&&void 0!==n&&l<n?[new di(e.key,c,"stop domain values must appear in ascending order")]:(n=l,"categorical"===a&&l in o?[new di(e.key,c,"stop domain values must be unique")]:(o[l]=!0,[])):[new di(e.key,c,"integer expected, found ".concat(String(l)))]}}function vi(e){var t=("property"===e.expressionContext?li:ai)(ht(e.value),e.valueSpec);if("error"===t.result)return t.value.map((function(t){return new di("".concat(e.key).concat(t.key),e.value,t.message)}));var n=t.value.expression||t.value._styleExpression.expression;if("property"===e.expressionContext&&"text-font"===e.propertyKey&&!n.outputDefined())return[new di(e.key,e.value,'Invalid data expression for "'.concat(e.propertyKey,'". Output values must be contained as literals within the expression.'))];if("property"===e.expressionContext&&"layout"===e.propertyType&&!An(n))return[new di(e.key,e.value,'"feature-state" data expressions are not supported with layout properties.')];if("filter"===e.expressionContext)return gi(n,e);if(e.expressionContext&&0===e.expressionContext.indexOf("cluster")){if(!zn(n,["zoom","feature-state"]))return[new di(e.key,e.value,'"zoom" and "feature-state" expressions are not supported with cluster properties.')];if("cluster-initial"===e.expressionContext&&!Pn(n))return[new di(e.key,e.value,"Feature data expressions are not supported with initial expression part of cluster properties.")]}return[]}function gi(e,t){var n=new Set(["zoom","feature-state","pitch","distance-from-center"]);if(t.valueSpec&&t.valueSpec.expression){var r,i=f(t.valueSpec.expression.parameters);try{for(i.s();!(r=i.n()).done;){var a=r.value;n.delete(a)}}catch(s){i.e(s)}finally{i.f()}}if(0===n.size)return[];var o=[];return e instanceof dn&&n.has(e.name)?[new di(t.key,t.value,'["'.concat(e.name,'"] expression is not supported in a filter for a ').concat(t.object.type," layer with id: ").concat(t.object.id))]:(e.eachChild((function(e){o.push.apply(o,u(gi(e,t)))})),o)}function yi(e){var t=e.key,n=e.value,r=e.valueSpec,i=[];return Array.isArray(r.values)?-1===r.values.indexOf(ft(n))&&i.push(new di(t,n,"expected one of [".concat(r.values.join(", "),"], ").concat(JSON.stringify(n)," found"))):-1===Object.keys(r.values).indexOf(ft(n))&&i.push(new di(t,n,"expected one of [".concat(Object.keys(r.values).join(", "),"], ").concat(JSON.stringify(n)," found"))),i}function xi(e){if(!0===e||!1===e)return!0;if(!Array.isArray(e)||0===e.length)return!1;switch(e[0]){case"has":return e.length>=2&&"$id"!==e[1]&&"$type"!==e[1];case"in":return e.length>=3&&("string"!=typeof e[1]||Array.isArray(e[2]));case"!in":case"!has":case"none":return!1;case"==":case"!=":case">":case">=":case"<":case"<=":return 3!==e.length||Array.isArray(e[1])||Array.isArray(e[2]);case"any":case"all":var t,n=f(e.slice(1));try{for(n.s();!(t=n.n()).done;){var r=t.value;if(!xi(r)&&"boolean"!=typeof r)return!1}}catch(i){n.e(i)}finally{n.f()}return!0;default:return!0}}function bi(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"fill";if(null==e)return{filter:function(){return!0},needGeometry:!1,needFeature:!1};xi(e)||(e=Ti(e));var n=e,r=!0;try{r=function(e){if(!ki(e))return e;var t=ht(e);return wi(t),t=_i(t)}(n)}catch(e){console.warn("Failed to extract static filter. Filter will continue working, but at higher memory usage and slower framerate.\nThis is most likely a bug, please report this via https://github.com/mapbox/mapbox-gl-js/issues/new?assignees=&labels=&template=Bug_report.md\nand paste the contents of this message in the report.\nThank you!\nFilter Expression:\n".concat(JSON.stringify(n,null,2),"\n        "))}var i=ut["filter_".concat(t)],a=ai(r,i),o=null;if("error"===a.result)throw new Error(a.value.map((function(e){return"".concat(e.key,": ").concat(e.message)})).join(", "));o=function(e,t,n){return a.value.evaluate(e,t,{},n)};var s=null,l=null;if(r!==n){var c=ai(n,i);if("error"===c.result)throw new Error(c.value.map((function(e){return"".concat(e.key,": ").concat(e.message)})).join(", "));s=function(e,t,n,r,i){return c.value.evaluate(e,t,{},n,void 0,void 0,r,i)},l=!Pn(c.value.expression)}return{filter:o,dynamicFilter:s||void 0,needGeometry:Ci(r),needFeature:!!l}}function _i(e){if(!Array.isArray(e))return e;var t=function(e){if(Si.has(e[0]))for(var t=1;t<e.length;t++)if(ki(e[t]))return!0;return e}(e);return!0===t?t:t.map((function(e){return _i(e)}))}function wi(e){var t=!1,n=[];if("case"===e[0]){for(var r=1;r<e.length-1;r+=2)t=t||ki(e[r]),n.push(e[r+1]);n.push(e[e.length-1])}else if("match"===e[0]){t=t||ki(e[1]);for(var i=2;i<e.length-1;i+=2)n.push(e[i+1]);n.push(e[e.length-1])}else if("step"===e[0]){t=t||ki(e[1]);for(var a=1;a<e.length-1;a+=2)n.push(e[a+1])}t&&(e.length=0,e.push.apply(e,["any"].concat(n)));for(var o=1;o<e.length;o++)wi(e[o])}function ki(e){if(!Array.isArray(e))return!1;if("pitch"===(t=e[0])||"distance-from-center"===t)return!0;for(var t,n=1;n<e.length;n++)if(ki(e[n]))return!0;return!1}var Si=new Set(["in","==","!=",">",">=","<","<=","to-boolean"]);function Ei(e,t){return e<t?-1:e>t?1:0}function Ci(e){if(!Array.isArray(e))return!1;if("within"===e[0])return!0;for(var t=1;t<e.length;t++)if(Ci(e[t]))return!0;return!1}function Ti(e){if(!e)return!0;var t,n=e[0];return e.length<=1?"any"!==n:"=="===n?Mi(e[1],e[2],"=="):"!="===n?Pi(Mi(e[1],e[2],"==")):"<"===n||">"===n||"<="===n||">="===n?Mi(e[1],e[2],n):"any"===n?(t=e.slice(1),["any"].concat(t.map(Ti))):"all"===n?["all"].concat(e.slice(1).map(Ti)):"none"===n?["all"].concat(e.slice(1).map(Ti).map(Pi)):"in"===n?Ii(e[1],e.slice(2)):"!in"===n?Pi(Ii(e[1],e.slice(2))):"has"===n?Oi(e[1]):"!has"===n?Pi(Oi(e[1])):"within"!==n||e}function Mi(e,t,n){switch(e){case"$type":return["filter-type-".concat(n),t];case"$id":return["filter-id-".concat(n),t];default:return["filter-".concat(n),e,t]}}function Ii(e,t){if(0===t.length)return!1;switch(e){case"$type":return["filter-type-in",["literal",t]];case"$id":return["filter-id-in",["literal",t]];default:return t.length>200&&!t.some((function(e){return typeof e!=typeof t[0]}))?["filter-in-large",e,["literal",t.sort(Ei)]]:["filter-in-small",e,["literal",t]]}}function Oi(e){switch(e){case"$type":return!0;case"$id":return["filter-has-id"];default:return["filter-has",e]}}function Pi(e){return["!",e]}function Ai(e){return xi(ht(e.value))?vi(dt({},e,{expressionContext:"filter",valueSpec:e.styleSpec["filter_".concat(e.layerType||"fill")]})):zi(e)}function zi(e){var t=e.value,n=e.key;if("array"!==Zr(t))return[new di(n,t,"array expected, ".concat(Zr(t)," found"))];var r,i=e.styleSpec,a=[];if(t.length<1)return[new di(n,t,"filter array must have at least 1 element")];switch(a=a.concat(yi({key:"".concat(n,"[0]"),value:t[0],valueSpec:i.filter_operator,style:e.style,styleSpec:e.styleSpec})),ft(t[0])){case"<":case"<=":case">":case">=":t.length>=2&&"$type"===ft(t[1])&&a.push(new di(n,t,'"$type" cannot be use with operator "'.concat(t[0],'"')));case"==":case"!=":3!==t.length&&a.push(new di(n,t,'filter array for operator "'.concat(t[0],'" must have 3 elements')));case"in":case"!in":t.length>=2&&"string"!==(r=Zr(t[1]))&&a.push(new di("".concat(n,"[1]"),t[1],"string expected, ".concat(r," found")));for(var o=2;o<t.length;o++)r=Zr(t[o]),"$type"===ft(t[1])?a=a.concat(yi({key:"".concat(n,"[").concat(o,"]"),value:t[o],valueSpec:i.geometry_type,style:e.style,styleSpec:e.styleSpec})):"string"!==r&&"number"!==r&&"boolean"!==r&&a.push(new di("".concat(n,"[").concat(o,"]"),t[o],"string, number, or boolean expected, ".concat(r," found")));break;case"any":case"all":case"none":for(var s=1;s<t.length;s++)a=a.concat(zi({key:"".concat(n,"[").concat(s,"]"),value:t[s],style:e.style,styleSpec:e.styleSpec}));break;case"has":case"!has":r=Zr(t[1]),2!==t.length?a.push(new di(n,t,'filter array for "'.concat(t[0],'" operator must have 2 elements'))):"string"!==r&&a.push(new di("".concat(n,"[1]"),t[1],"string expected, ".concat(r," found")));break;case"within":r=Zr(t[1]),2!==t.length?a.push(new di(n,t,'filter array for "'.concat(t[0],'" operator must have 2 elements'))):"object"!==r&&a.push(new di("".concat(n,"[1]"),t[1],"object expected, ".concat(r," found")))}return a}function ji(e,t){var n=e.key,r=e.style,i=e.styleSpec,a=e.value,o=e.objectKey,s=i["".concat(t,"_").concat(e.layerType)];if(!s)return[];var l=o.match(/^(.*)-transition$/);if("paint"===t&&l&&s[l[1]]&&s[l[1]].transition)return qi({key:n,value:a,valueSpec:i.transition,style:r,styleSpec:i});var c,u=e.valueSpec||s[o];if(!u)return[new di(n,a,'unknown property "'.concat(o,'"'))];if("string"===Zr(a)&&Wr(u)&&!u.tokens&&(c=/^{([^}]+)}$/.exec(a)))return[new di(n,a,'"'.concat(o,'" does not support interpolation syntax\nUse an identity property function instead: `{ "type": "identity", "property": ').concat(JSON.stringify(c[1])," }`."))];var d=[];return"symbol"===e.layerType&&("text-field"===o&&r&&!r.glyphs&&d.push(new di(n,a,'use of "text-field" requires a style "glyphs" property')),"text-font"===o&&Kr(ht(a))&&"identity"===ft(a.type)&&d.push(new di(n,a,'"text-font" does not support identity functions'))),d.concat(qi({key:e.key,value:a,valueSpec:u,style:r,styleSpec:i,expressionContext:"property",propertyType:t,propertyKey:o}))}function Ri(e){return ji(e,"paint")}function Di(e){return ji(e,"layout")}function Li(e){var t=[],n=e.value,r=e.key,i=e.style,a=e.styleSpec;n.type||n.ref||t.push(new di(r,n,'either "type" or "ref" is required'));var o,s=ft(n.type),l=ft(n.ref);if(n.id)for(var c=ft(n.id),u=0;u<e.arrayIndex;u++){var d=i.layers[u];ft(d.id)===c&&t.push(new di(r,n.id,'duplicate layer id "'.concat(n.id,'", previously used at line ').concat(d.id.__line__)))}if("ref"in n)["type","source","source-layer","filter","layout"].forEach((function(e){e in n&&t.push(new di(r,n[e],'"'.concat(e,'" is prohibited for ref layers')))})),i.layers.forEach((function(e){ft(e.id)===l&&(o=e)})),o?o.ref?t.push(new di(r,n.ref,"ref cannot reference another ref layer")):s=ft(o.type):"string"==typeof l&&t.push(new di(r,n.ref,'ref layer "'.concat(l,'" not found')));else if("background"!==s&&"sky"!==s)if(n.source){var f=i.sources&&i.sources[n.source],h=f&&ft(f.type);f?"vector"===h&&"raster"===s?t.push(new di(r,n.source,'layer "'.concat(n.id,'" requires a raster source'))):"raster"===h&&"raster"!==s?t.push(new di(r,n.source,'layer "'.concat(n.id,'" requires a vector source'))):"vector"!==h||n["source-layer"]?"raster-dem"===h&&"hillshade"!==s?t.push(new di(r,n.source,"raster-dem source can only be used with layer type 'hillshade'.")):"line"!==s||!n.paint||!n.paint["line-gradient"]&&!n.paint["line-trim-offset"]||"geojson"===h&&f.lineMetrics||t.push(new di(r,n,'layer "'.concat(n.id,'" specifies a line-gradient, which requires a GeoJSON source with `lineMetrics` enabled.'))):t.push(new di(r,n,'layer "'.concat(n.id,'" must specify a "source-layer"'))):t.push(new di(r,n.source,'source "'.concat(n.source,'" not found')))}else t.push(new di(r,n,'missing required property "source"'));return t=t.concat(fi({key:r,value:n,valueSpec:a.layer,style:e.style,styleSpec:e.styleSpec,objectElementValidators:{"*":function(){return[]},type:function(){return qi({key:"".concat(r,".type"),value:n.type,valueSpec:a.layer.type,style:e.style,styleSpec:e.styleSpec,object:n,objectKey:"type"})},filter:function(e){return Ai(dt({layerType:s},e))},layout:function(e){return fi({layer:n,key:e.key,value:e.value,valueSpec:{},style:e.style,styleSpec:e.styleSpec,objectElementValidators:{"*":function(e){return Di(dt({layerType:s},e))}}})},paint:function(e){return fi({layer:n,key:e.key,value:e.value,valueSpec:{},style:e.style,styleSpec:e.styleSpec,objectElementValidators:{"*":function(e){return Ri(dt({layerType:s},e))}}})}}})),t}function Ni(e){var t=e.value,n=e.key,r=Zr(t);return"string"!==r?[new di(n,t,"string expected, ".concat(r," found"))]:[]}var Bi={promoteId:function(e){var t=e.key,n=e.value;if("string"===Zr(n))return Ni({key:t,value:n});var r=[];for(var i in n)r.push.apply(r,u(Ni({key:"".concat(t,".").concat(i),value:n[i]})));return r}};function Fi(e){var t=e.value,n=e.key,r=e.styleSpec,i=e.style;if(!t.type)return[new di(n,t,'"type" is required')];var a,o=ft(t.type);switch(o){case"vector":case"raster":case"raster-dem":return a=fi({key:n,value:t,valueSpec:r["source_".concat(o.replace("-","_"))],style:e.style,styleSpec:r,objectElementValidators:Bi});case"geojson":if(a=fi({key:n,value:t,valueSpec:r.source_geojson,style:i,styleSpec:r,objectElementValidators:Bi}),t.cluster)for(var s in t.clusterProperties){var l,c,f=d(t.clusterProperties[s],2),h=f[0],p=f[1],m="string"==typeof h?[h,["accumulated"],["get",s]]:h;(l=a).push.apply(l,u(vi({key:"".concat(n,".").concat(s,".map"),value:p,expressionContext:"cluster-map"}))),(c=a).push.apply(c,u(vi({key:"".concat(n,".").concat(s,".reduce"),value:m,expressionContext:"cluster-reduce"})))}return a;case"video":return fi({key:n,value:t,valueSpec:r.source_video,style:i,styleSpec:r});case"image":return fi({key:n,value:t,valueSpec:r.source_image,style:i,styleSpec:r});case"canvas":return[new di(n,null,"Please use runtime APIs to add canvas sources, rather than including them in stylesheets.","source.canvas")];default:return yi({key:"".concat(n,".type"),value:t.type,valueSpec:{values:Vi(r)},style:i,styleSpec:r})}}function Vi(e){return e.source.reduce((function(t,n){var r=e[n];return"enum"===r.type.type&&(t=t.concat(Object.keys(r.type.values))),t}),[])}function Ui(e){var t=e.value,n=e.styleSpec,r=n.light,i=e.style,a=[],o=Zr(t);if(void 0===t)return a;if("object"!==o)return a=a.concat([new di("light",t,"object expected, ".concat(o," found"))]);for(var s in t){var l=s.match(/^(.*)-transition$/);a=a.concat(l&&r[l[1]]&&r[l[1]].transition?qi({key:s,value:t[s],valueSpec:n.transition,style:i,styleSpec:n}):r[s]?qi({key:s,value:t[s],valueSpec:r[s],style:i,styleSpec:n}):[new di(s,t[s],'unknown property "'.concat(s,'"'))])}return a}function Hi(e){var t=e.value,n=e.key,r=e.style,i=e.styleSpec,a=i.terrain,o=[],s=Zr(t);if(void 0===t)return o;if("object"!==s)return o=o.concat([new di("terrain",t,"object expected, ".concat(s," found"))]);for(var l in t){var c=l.match(/^(.*)-transition$/);o=o.concat(c&&a[c[1]]&&a[c[1]].transition?qi({key:l,value:t[l],valueSpec:i.transition,style:r,styleSpec:i}):a[l]?qi({key:l,value:t[l],valueSpec:a[l],style:r,styleSpec:i}):[new di(l,t[l],'unknown property "'.concat(l,'"'))])}if(t.source){var u=r.sources&&r.sources[t.source],d=u&&ft(u.type);u?"raster-dem"!==d&&o.push(new di(n,t.source,"terrain cannot be used with a source of type ".concat(String(d),', it only be used with a "raster-dem" source type'))):o.push(new di(n,t.source,'source "'.concat(t.source,'" not found')))}else o.push(new di(n,t,'terrain is missing required property "source"'));return o}function Gi(e){var t=e.value,n=e.style,r=e.styleSpec,i=r.fog,a=[],o=Zr(t);if(void 0===t)return a;if("object"!==o)return a=a.concat([new di("fog",t,"object expected, ".concat(o," found"))]);for(var s in t){var l=s.match(/^(.*)-transition$/);a=a.concat(l&&i[l[1]]&&i[l[1]].transition?qi({key:s,value:t[s],valueSpec:r.transition,style:n,styleSpec:r}):i[s]?qi({key:s,value:t[s],valueSpec:i[s],style:n,styleSpec:r}):[new di(s,t[s],'unknown property "'.concat(s,'"'))])}return a}var Wi={"*":function(){return[]},array:hi,boolean:function(e){var t=e.value,n=e.key,r=Zr(t);return"boolean"!==r?[new di(n,t,"boolean expected, ".concat(r," found"))]:[]},number:pi,color:function(e){var t=e.key,n=e.value,r=Zr(n);return"string"!==r?[new di(t,n,"color expected, ".concat(r," found"))]:null===jt(n)?[new di(t,n,'color expected, "'.concat(n,'" found'))]:[]},enum:yi,filter:Ai,function:mi,layer:Li,object:fi,source:Fi,light:Ui,terrain:Hi,fog:Gi,string:Ni,formatted:function(e){return 0===Ni(e).length?[]:vi(e)},resolvedImage:function(e){return 0===Ni(e).length?[]:vi(e)},projection:function(e){var t=e.value,n=e.styleSpec,r=n.projection,i=e.style,a=[],o=Zr(t);if("object"===o)for(var s in t)a=a.concat(qi({key:s,value:t[s],valueSpec:r[s],style:i,styleSpec:n}));else"string"!==o&&(a=a.concat([new di("projection",t,"object or string expected, ".concat(o," found"))]));return a}};function qi(e){var t=e.value,n=e.valueSpec,r=e.styleSpec;return n.expression&&Kr(ft(t))?mi(e):n.expression&&ii(ht(t))?vi(e):n.type&&Wi[n.type]?Wi[n.type](e):fi(dt({},e,{valueSpec:n.type?r[n.type]:n}))}function Xi(e){var t=e.value,n=e.key,r=Ni(e);return r.length||(-1===t.indexOf("{fontstack}")&&r.push(new di(n,t,'"glyphs" url must include a "{fontstack}" token')),-1===t.indexOf("{range}")&&r.push(new di(n,t,'"glyphs" url must include a "{range}" token'))),r}function Zi(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ut;return $i(qi({key:"",value:e,valueSpec:t.$root,styleSpec:t,style:e,objectElementValidators:{glyphs:Xi,"*":function(){return[]}}}))}var Ki=function(e){return $i(Ri(e))},Yi=function(e){return $i(Di(e))};function $i(e){return e.slice().sort((function(e,t){return e.line&&t.line?e.line-t.line:0}))}function Ji(e,t){var n=!1;if(t&&t.length){var r,i=f(t);try{for(i.s();!(r=i.n()).done;){var a=r.value;e.fire(new lt(new Error(a.message))),n=!0}}catch(o){i.e(o)}finally{i.f()}}return n}var Qi=ea;function ea(e,t,n){var r=this.cells=[];if(e instanceof ArrayBuffer){this.arrayBuffer=e;var i=new Int32Array(this.arrayBuffer);e=i[0],this.d=(t=i[1])+2*(n=i[2]);for(var a=0;a<this.d*this.d;a++){var o=i[3+a],s=i[3+a+1];r.push(o===s?null:i.subarray(o,s))}var l=i[3+r.length+1];this.keys=i.subarray(i[3+r.length],l),this.bboxes=i.subarray(l),this.insert=this._insertReadonly}else{this.d=t+2*n;for(var c=0;c<this.d*this.d;c++)r.push([]);this.keys=[],this.bboxes=[]}this.n=t,this.extent=e,this.padding=n,this.scale=t/e,this.uid=0;var u=n/t*e;this.min=-u,this.max=e+u}ea.prototype.insert=function(e,t,n,r,i){this._forEachCell(t,n,r,i,this._insertCell,this.uid++),this.keys.push(e),this.bboxes.push(t),this.bboxes.push(n),this.bboxes.push(r),this.bboxes.push(i)},ea.prototype._insertReadonly=function(){throw"Cannot insert into a GridIndex created from an ArrayBuffer."},ea.prototype._insertCell=function(e,t,n,r,i,a){this.cells[i].push(a)},ea.prototype.query=function(e,t,n,r,i){var a=this.min,o=this.max;if(e<=a&&t<=a&&o<=n&&o<=r&&!i)return Array.prototype.slice.call(this.keys);var s=[];return this._forEachCell(e,t,n,r,this._queryCell,s,{},i),s},ea.prototype._queryCell=function(e,t,n,r,i,a,o,s){var l=this.cells[i];if(null!==l)for(var c=this.keys,u=this.bboxes,d=0;d<l.length;d++){var f=l[d];if(void 0===o[f]){var h=4*f;(s?s(u[h+0],u[h+1],u[h+2],u[h+3]):e<=u[h+2]&&t<=u[h+3]&&n>=u[h+0]&&r>=u[h+1])?(o[f]=!0,a.push(c[f])):o[f]=!1}}},ea.prototype._forEachCell=function(e,t,n,r,i,a,o,s){for(var l=this._convertToCellCoord(e),c=this._convertToCellCoord(t),u=this._convertToCellCoord(n),d=this._convertToCellCoord(r),f=l;f<=u;f++)for(var h=c;h<=d;h++){var p=this.d*h+f;if((!s||s(this._convertFromCellCoord(f),this._convertFromCellCoord(h),this._convertFromCellCoord(f+1),this._convertFromCellCoord(h+1)))&&i.call(this,e,t,n,r,p,a,o,s))return}},ea.prototype._convertFromCellCoord=function(e){return(e-this.padding)/this.scale},ea.prototype._convertToCellCoord=function(e){return Math.max(0,Math.min(this.d-1,Math.floor(e*this.scale)+this.padding))},ea.prototype.toArrayBuffer=function(){if(this.arrayBuffer)return this.arrayBuffer;for(var e=this.cells,t=3+this.cells.length+1+1,n=0,r=0;r<this.cells.length;r++)n+=this.cells[r].length;var i=new Int32Array(t+n+this.keys.length+this.bboxes.length);i[0]=this.extent,i[1]=this.n,i[2]=this.padding;for(var a=t,o=0;o<e.length;o++){var s=e[o];i[3+o]=a,i.set(s,a),a+=s.length}return i[3+e.length]=a,i.set(this.keys,a),i[3+e.length+1]=a+=this.keys.length,i.set(this.bboxes,a),a+=this.bboxes.length,i.buffer};var ta={};function na(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.defineProperty(e,"_classRegistryKey",{value:t,writeable:!1}),ta[t]={klass:e,omit:n.omit||[]}}for(var ra in na(Object,"Object"),Qi.serialize=function(e,t){var n=e.toArrayBuffer();return t&&t.push(n),{buffer:n}},Qi.deserialize=function(e){return new Qi(e.buffer)},Object.defineProperty(Qi,"name",{value:"Grid"}),na(Qi,"Grid"),na(Vt,"Color"),na(Error,"Error"),na(be,"AJAXError"),na(Wt,"ResolvedImage"),na(ci,"StylePropertyFunction"),na(ri,"StyleExpression",{omit:["_evaluator"]}),na(si,"ZoomDependentExpression"),na(oi,"ZoomConstantExpression"),na(dn,"CompoundExpression",{omit:["_evaluate"]}),Ur)ta[Ur[ra]._classRegistryKey]||na(Ur[ra],"Expression".concat(ra));function ia(e){return e&&"undefined"!=typeof ArrayBuffer&&(e instanceof ArrayBuffer||e.constructor&&"ArrayBuffer"===e.constructor.name)}function aa(e){return y.ImageBitmap&&e instanceof y.ImageBitmap}function oa(e,t){if(null==e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||e instanceof Boolean||e instanceof Number||e instanceof String||e instanceof Date||e instanceof RegExp)return e;if(ia(e)||aa(e))return t&&t.push(e),e;if(ArrayBuffer.isView(e)){var n=e;return t&&t.push(n.buffer),n}if(e instanceof y.ImageData)return t&&t.push(e.data.buffer),e;if(Array.isArray(e)){var r,i=[],a=f(e);try{for(a.s();!(r=a.n()).done;){var o=r.value;i.push(oa(o,t))}}catch(d){a.e(d)}finally{a.f()}return i}if("object"==typeof e){var s=e.constructor,l=s._classRegistryKey;if(!l)throw new Error("can't serialize object of unregistered class ".concat(l));var c=s.serialize?s.serialize(e,t):{};if(!s.serialize){for(var u in e)e.hasOwnProperty(u)&&(ta[l].omit.indexOf(u)>=0||(c[u]=oa(e[u],t)));e instanceof Error&&(c.message=e.message)}if(c.$name)throw new Error("$name property is reserved for worker serialization logic.");return"Object"!==l&&(c.$name=l),c}throw new Error("can't serialize object of type "+typeof e)}function sa(e){if(null==e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||e instanceof Boolean||e instanceof Number||e instanceof String||e instanceof Date||e instanceof RegExp||ia(e)||aa(e)||ArrayBuffer.isView(e)||e instanceof y.ImageData)return e;if(Array.isArray(e))return e.map(sa);if("object"==typeof e){var t=e.$name||"Object",n=ta[t].klass;if(!n)throw new Error("can't deserialize unregistered class ".concat(t));if(n.deserialize)return n.deserialize(e);for(var r=Object.create(n.prototype),i=0,a=Object.keys(e);i<a.length;i++){var o=a[i];"$name"!==o&&(r[o]=sa(e[o]))}return r}throw new Error("can't deserialize object of type "+typeof e)}var la=function(e){return e>=1536&&e<=1791},ca=function(e){return e>=1872&&e<=1919},ua=function(e){return e>=2208&&e<=2303},da=function(e){return e>=11904&&e<=12031},fa=function(e){return e>=12032&&e<=12255},ha=function(e){return e>=12272&&e<=12287},pa=function(e){return e>=12288&&e<=12351},ma=function(e){return e>=12352&&e<=12447},va=function(e){return e>=12448&&e<=12543},ga=function(e){return e>=12544&&e<=12591},ya=function(e){return e>=12704&&e<=12735},xa=function(e){return e>=12736&&e<=12783},ba=function(e){return e>=12784&&e<=12799},_a=function(e){return e>=12800&&e<=13055},wa=function(e){return e>=13056&&e<=13311},ka=function(e){return e>=13312&&e<=19903},Sa=function(e){return e>=19968&&e<=40959},Ea=function(e){return e>=40960&&e<=42127},Ca=function(e){return e>=42128&&e<=42191},Ta=function(e){return e>=44032&&e<=55215},Ma=function(e){return e>=63744&&e<=64255},Ia=function(e){return e>=64336&&e<=65023},Oa=function(e){return e>=65040&&e<=65055},Pa=function(e){return e>=65072&&e<=65103},Aa=function(e){return e>=65104&&e<=65135},za=function(e){return e>=65136&&e<=65279},ja=function(e){return e>=65280&&e<=65519};function Ra(e){var t,n=f(e);try{for(n.s();!(t=n.n()).done;)if(Na(t.value.charCodeAt(0)))return!0}catch(r){n.e(r)}finally{n.f()}return!1}function Da(e){var t,n=f(e);try{for(n.s();!(t=n.n()).done;)if(!La(t.value.charCodeAt(0)))return!1}catch(r){n.e(r)}finally{n.f()}return!0}function La(e){return!(la(e)||ca(e)||ua(e)||Ia(e)||za(e))}function Na(e){return!(746!==e&&747!==e&&(e<4352||!(ya(e)||ga(e)||Pa(e)&&!(e>=65097&&e<=65103)||Ma(e)||wa(e)||da(e)||xa(e)||!(!pa(e)||e>=12296&&e<=12305||e>=12308&&e<=12319||12336===e)||ka(e)||Sa(e)||_a(e)||function(e){return e>=12592&&e<=12687}(e)||function(e){return e>=43360&&e<=43391}(e)||function(e){return e>=55216&&e<=55295}(e)||function(e){return e>=4352&&e<=4607}(e)||Ta(e)||ma(e)||ha(e)||function(e){return e>=12688&&e<=12703}(e)||fa(e)||ba(e)||va(e)&&12540!==e||!(!ja(e)||65288===e||65289===e||65293===e||e>=65306&&e<=65310||65339===e||65341===e||65343===e||e>=65371&&e<=65503||65507===e||e>=65512&&e<=65519)||!(!Aa(e)||e>=65112&&e<=65118||e>=65123&&e<=65126)||function(e){return e>=5120&&e<=5759}(e)||function(e){return e>=6320&&e<=6399}(e)||Oa(e)||function(e){return e>=19904&&e<=19967}(e)||Ea(e)||Ca(e))))}function Ba(e){return!(Na(e)||function(e){return!!(function(e){return e>=128&&e<=255}(e)&&(167===e||169===e||174===e||177===e||188===e||189===e||190===e||215===e||247===e)||function(e){return e>=8192&&e<=8303}(e)&&(8214===e||8224===e||8225===e||8240===e||8241===e||8251===e||8252===e||8258===e||8263===e||8264===e||8265===e||8273===e)||function(e){return e>=8448&&e<=8527}(e)||function(e){return e>=8528&&e<=8591}(e)||function(e){return e>=8960&&e<=9215}(e)&&(e>=8960&&e<=8967||e>=8972&&e<=8991||e>=8996&&e<=9e3||9003===e||e>=9085&&e<=9114||e>=9150&&e<=9165||9167===e||e>=9169&&e<=9179||e>=9186&&e<=9215)||function(e){return e>=9216&&e<=9279}(e)&&9251!==e||function(e){return e>=9280&&e<=9311}(e)||function(e){return e>=9312&&e<=9471}(e)||function(e){return e>=9632&&e<=9727}(e)||function(e){return e>=9728&&e<=9983}(e)&&!(e>=9754&&e<=9759)||function(e){return e>=11008&&e<=11263}(e)&&(e>=11026&&e<=11055||e>=11088&&e<=11097||e>=11192&&e<=11243)||pa(e)||va(e)||function(e){return e>=57344&&e<=63743}(e)||Pa(e)||Aa(e)||ja(e)||8734===e||8756===e||8757===e||e>=9984&&e<=10087||e>=10102&&e<=10131||65532===e||65533===e)}(e))}function Fa(e){return e>=1424&&e<=2303||Ia(e)||za(e)}function Va(e,t){return!(!t&&Fa(e)||e>=2304&&e<=3583||e>=3840&&e<=4255||function(e){return e>=6016&&e<=6143}(e))}function Ua(e){var t,n=f(e);try{for(n.s();!(t=n.n()).done;)if(Fa(t.value.charCodeAt(0)))return!0}catch(r){n.e(r)}finally{n.f()}return!1}var Ha="deferred",Ga="loading",Wa="loaded",qa=null,Xa="unavailable",Za=null,Ka=function(e){e&&"string"==typeof e&&e.indexOf("NetworkError")>-1&&(Xa="error"),qa&&qa(e)};function Ya(){$a.fire(new st("pluginStateChange",{pluginStatus:Xa,pluginURL:Za}))}var $a=new ct,Ja=function(){return Xa},Qa=function(){if(Xa!==Ha||!Za)throw new Error("rtl-text-plugin cannot be downloaded unless a pluginURL is specified");Xa=Ga,Ya(),Za&&ke({url:Za},(function(e){e?Ka(e):(Xa=Wa,Ya())}))},eo={applyArabicShaping:null,processBidirectionalText:null,processStyledBidirectionalText:null,isLoaded:function(){return Xa===Wa||null!=eo.applyArabicShaping},isLoading:function(){return Xa===Ga},setState:function(e){Xa=e.pluginStatus,Za=e.pluginURL},isParsed:function(){return null!=eo.applyArabicShaping&&null!=eo.processBidirectionalText&&null!=eo.processStyledBidirectionalText},getPluginURL:function(){return Za}},to=function(){function e(t,n){h(this,e),this.zoom=t,n?(this.now=n.now,this.fadeDuration=n.fadeDuration,this.transition=n.transition,this.pitch=n.pitch):(this.now=0,this.fadeDuration=0,this.transition={},this.pitch=0)}return p(e,[{key:"isSupportedScript",value:function(e){return function(e,t){var n,r=f(e);try{for(r.s();!(n=r.n()).done;)if(!Va(n.value.charCodeAt(0),t))return!1}catch(i){r.e(i)}finally{r.f()}return!0}(e,eo.isLoaded())}}]),e}(),no=function(){function e(t,n){h(this,e),this.property=t,this.value=n,this.expression=function(e,t){if(Kr(e))return new ci(e,t);if(ii(e)){var n=li(e,t);if("error"===n.result)throw new Error(n.value.map((function(e){return"".concat(e.key,": ").concat(e.message)})).join(", "));return n.value}var r=e;return"string"==typeof e&&"color"===t.type&&(r=Vt.parse(e)),{kind:"constant",evaluate:function(){return r}}}(void 0===n?t.specification.default:n,t.specification)}return p(e,[{key:"isDataDriven",value:function(){return"source"===this.expression.kind||"composite"===this.expression.kind}},{key:"possiblyEvaluate",value:function(e,t,n){return this.property.possiblyEvaluate(this,e,t,n)}}]),e}(),ro=function(){function e(t){h(this,e),this.property=t,this.value=new no(t,void 0)}return p(e,[{key:"transitioned",value:function(e,t){return new ao(this.property,this.value,t,H({},e.transition,this.transition),e.now)}},{key:"untransitioned",value:function(){return new ao(this.property,this.value,null,{},0)}}]),e}(),io=function(){function e(t){h(this,e),this._properties=t,this._values=Object.create(t.defaultTransitionablePropertyValues)}return p(e,[{key:"getValue",value:function(e){return Q(this._values[e].value.value)}},{key:"setValue",value:function(e,t){this._values.hasOwnProperty(e)||(this._values[e]=new ro(this._values[e].property)),this._values[e].value=new no(this._values[e].property,null===t?void 0:Q(t))}},{key:"getTransition",value:function(e){return Q(this._values[e].transition)}},{key:"setTransition",value:function(e,t){this._values.hasOwnProperty(e)||(this._values[e]=new ro(this._values[e].property)),this._values[e].transition=Q(t)||void 0}},{key:"serialize",value:function(){for(var e={},t=0,n=Object.keys(this._values);t<n.length;t++){var r=n[t],i=this.getValue(r);void 0!==i&&(e[r]=i);var a=this.getTransition(r);void 0!==a&&(e["".concat(r,"-transition")]=a)}return e}},{key:"transitioned",value:function(e,t){for(var n=new oo(this._properties),r=0,i=Object.keys(this._values);r<i.length;r++){var a=i[r];n._values[a]=this._values[a].transitioned(e,t._values[a])}return n}},{key:"untransitioned",value:function(){for(var e=new oo(this._properties),t=0,n=Object.keys(this._values);t<n.length;t++){var r=n[t];e._values[r]=this._values[r].untransitioned()}return e}}]),e}(),ao=function(){function e(t,n,r,i,a){h(this,e);var o=i.delay||0,s=i.duration||0;a=a||0,this.property=t,this.value=n,this.begin=a+o,this.end=this.begin+s,t.specification.transition&&(i.delay||i.duration)&&(this.prior=r)}return p(e,[{key:"possiblyEvaluate",value:function(e,t,n){var r=e.now||0,i=this.value.possiblyEvaluate(e,t,n),a=this.prior;if(a){if(r>this.end)return this.prior=null,i;if(this.value.isDataDriven())return this.prior=null,i;if(r<this.begin)return a.possiblyEvaluate(e,t,n);var o=(r-this.begin)/(this.end-this.begin);return this.property.interpolate(a.possiblyEvaluate(e,t,n),i,R(o))}return i}}]),e}(),oo=function(){function e(t){h(this,e),this._properties=t,this._values=Object.create(t.defaultTransitioningPropertyValues)}return p(e,[{key:"possiblyEvaluate",value:function(e,t,n){for(var r=new co(this._properties),i=0,a=Object.keys(this._values);i<a.length;i++){var o=a[i];r._values[o]=this._values[o].possiblyEvaluate(e,t,n)}return r}},{key:"hasTransition",value:function(){for(var e=0,t=Object.keys(this._values);e<t.length;e++){var n=t[e];if(this._values[n].prior)return!0}return!1}}]),e}(),so=function(){function e(t){h(this,e),this._properties=t,this._values=Object.create(t.defaultPropertyValues)}return p(e,[{key:"getValue",value:function(e){return Q(this._values[e].value)}},{key:"setValue",value:function(e,t){this._values[e]=new no(this._values[e].property,null===t?void 0:Q(t))}},{key:"serialize",value:function(){for(var e={},t=0,n=Object.keys(this._values);t<n.length;t++){var r=n[t],i=this.getValue(r);void 0!==i&&(e[r]=i)}return e}},{key:"possiblyEvaluate",value:function(e,t,n){for(var r=new co(this._properties),i=0,a=Object.keys(this._values);i<a.length;i++){var o=a[i];r._values[o]=this._values[o].possiblyEvaluate(e,t,n)}return r}}]),e}(),lo=function(){function e(t,n,r){h(this,e),this.property=t,this.value=n,this.parameters=r}return p(e,[{key:"isConstant",value:function(){return"constant"===this.value.kind}},{key:"constantOr",value:function(e){return"constant"===this.value.kind?this.value.value:e}},{key:"evaluate",value:function(e,t,n,r){return this.property.evaluate(this.value,this.parameters,e,t,n,r)}}]),e}(),co=function(){function e(t){h(this,e),this._properties=t,this._values=Object.create(t.defaultPossiblyEvaluatedValues)}return p(e,[{key:"get",value:function(e){return this._values[e]}}]),e}(),uo=function(){function e(t){h(this,e),this.specification=t}return p(e,[{key:"possiblyEvaluate",value:function(e,t){return e.expression.evaluate(t)}},{key:"interpolate",value:function(e,t,n){var r=Hn[this.specification.type];return r?r(e,t,n):e}}]),e}(),fo=function(){function e(t,n){h(this,e),this.specification=t,this.overrides=n}return p(e,[{key:"possiblyEvaluate",value:function(e,t,n,r){return new lo(this,"constant"===e.expression.kind||"camera"===e.expression.kind?{kind:"constant",value:e.expression.evaluate(t,null,{},n,r)}:e.expression,t)}},{key:"interpolate",value:function(e,t,n){if("constant"!==e.value.kind||"constant"!==t.value.kind)return e;if(void 0===e.value.value||void 0===t.value.value)return new lo(this,{kind:"constant",value:void 0},e.parameters);var r=Hn[this.specification.type];return r?new lo(this,{kind:"constant",value:r(e.value.value,t.value.value,n)},e.parameters):e}},{key:"evaluate",value:function(e,t,n,r,i,a){return"constant"===e.kind?e.value:e.evaluate(t,n,r,i,a)}}]),e}(),ho=function(){function e(t){h(this,e),this.specification=t}return p(e,[{key:"possiblyEvaluate",value:function(e,t,n,r){return!!e.expression.evaluate(t,null,{},n,r)}},{key:"interpolate",value:function(){return!1}}]),e}(),po=p((function e(t){h(this,e),this.properties=t,this.defaultPropertyValues={},this.defaultTransitionablePropertyValues={},this.defaultTransitioningPropertyValues={},this.defaultPossiblyEvaluatedValues={},this.overridableProperties=[];var n=new to(0,{});for(var r in t){var i=t[r];i.specification.overridable&&this.overridableProperties.push(r);var a=this.defaultPropertyValues[r]=new no(i,void 0),o=this.defaultTransitionablePropertyValues[r]=new ro(i);this.defaultTransitioningPropertyValues[r]=o.untransitioned(),this.defaultPossiblyEvaluatedValues[r]=a.possiblyEvaluate(n)}}));function mo(e,t){return 256*(e=N(Math.floor(e),0,255))+N(Math.floor(t),0,255)}na(fo,"DataDrivenProperty"),na(uo,"DataConstantProperty"),na(ho,"ColorRampProperty");var vo={Int8:Int8Array,Uint8:Uint8Array,Int16:Int16Array,Uint16:Uint16Array,Int32:Int32Array,Uint32:Uint32Array,Float32:Float32Array},go=p((function e(t,n){h(this,e),this._structArray=t,this._pos1=n*this.size,this._pos2=this._pos1/2,this._pos4=this._pos1/4,this._pos8=this._pos1/8})),yo=function(){function e(){h(this,e),this.isTransferred=!1,this.capacity=-1,this.resize(0)}return p(e,[{key:"_trim",value:function(){this.length!==this.capacity&&(this.capacity=this.length,this.arrayBuffer=this.arrayBuffer.slice(0,this.length*this.bytesPerElement),this._refreshViews())}},{key:"clear",value:function(){this.length=0}},{key:"resize",value:function(e){this.reserve(e),this.length=e}},{key:"reserve",value:function(e){if(e>this.capacity){this.capacity=Math.max(e,Math.floor(5*this.capacity),128),this.arrayBuffer=new ArrayBuffer(this.capacity*this.bytesPerElement);var t=this.uint8;this._refreshViews(),t&&this.uint8.set(t)}}},{key:"_refreshViews",value:function(){throw new Error("_refreshViews() must be implemented by each concrete StructArray layout")}},{key:"destroy",value:function(){this.int8=this.uint8=this.int16=this.uint16=this.int32=this.uint32=this.float32=null,this.arrayBuffer=null}}],[{key:"serialize",value:function(e,t){return e._trim(),t&&(e.isTransferred=!0,t.push(e.arrayBuffer)),{length:e.length,arrayBuffer:e.arrayBuffer}}},{key:"deserialize",value:function(e){var t=Object.create(this.prototype);return t.arrayBuffer=e.arrayBuffer,t.length=e.length,t.capacity=e.arrayBuffer.byteLength/t.bytesPerElement,t._refreshViews(),t}}]),e}();function xo(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=0,r=0;return{members:e.map((function(e){var i=vo[e.type].BYTES_PER_ELEMENT,a=n=bo(n,Math.max(t,i)),o=e.components||1;return r=Math.max(r,i),n+=i*o,{name:e.name,type:e.type,components:o,offset:a}})),size:bo(n,Math.max(r,t)),alignment:t}}function bo(e,t){return Math.ceil(e/t)*t}var _o=function(e){m(n,e);var t=v(n);function n(){return h(this,n),t.apply(this,arguments)}return p(n,[{key:"_refreshViews",value:function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}},{key:"emplaceBack",value:function(e,t){var n=this.length;return this.resize(n+1),this.emplace(n,e,t)}},{key:"emplace",value:function(e,t,n){var r=2*e;return this.int16[r+0]=t,this.int16[r+1]=n,e}}]),n}(yo);_o.prototype.bytesPerElement=4,na(_o,"StructArrayLayout2i4");var wo=function(e){m(n,e);var t=v(n);function n(){return h(this,n),t.apply(this,arguments)}return p(n,[{key:"_refreshViews",value:function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}},{key:"emplaceBack",value:function(e,t,n){var r=this.length;return this.resize(r+1),this.emplace(r,e,t,n)}},{key:"emplace",value:function(e,t,n,r){var i=3*e;return this.int16[i+0]=t,this.int16[i+1]=n,this.int16[i+2]=r,e}}]),n}(yo);wo.prototype.bytesPerElement=6,na(wo,"StructArrayLayout3i6");var ko=function(e){m(n,e);var t=v(n);function n(){return h(this,n),t.apply(this,arguments)}return p(n,[{key:"_refreshViews",value:function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}},{key:"emplaceBack",value:function(e,t,n,r){var i=this.length;return this.resize(i+1),this.emplace(i,e,t,n,r)}},{key:"emplace",value:function(e,t,n,r,i){var a=4*e;return this.int16[a+0]=t,this.int16[a+1]=n,this.int16[a+2]=r,this.int16[a+3]=i,e}}]),n}(yo);ko.prototype.bytesPerElement=8,na(ko,"StructArrayLayout4i8");var So=function(e){m(n,e);var t=v(n);function n(){return h(this,n),t.apply(this,arguments)}return p(n,[{key:"_refreshViews",value:function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}},{key:"emplaceBack",value:function(e,t,n,r,i,a,o){var s=this.length;return this.resize(s+1),this.emplace(s,e,t,n,r,i,a,o)}},{key:"emplace",value:function(e,t,n,r,i,a,o,s){var l=6*e,c=12*e,u=3*e;return this.int16[l+0]=t,this.int16[l+1]=n,this.uint8[c+4]=r,this.uint8[c+5]=i,this.uint8[c+6]=a,this.uint8[c+7]=o,this.float32[u+2]=s,e}}]),n}(yo);So.prototype.bytesPerElement=12,na(So,"StructArrayLayout2i4ub1f12");var Eo=function(e){m(n,e);var t=v(n);function n(){return h(this,n),t.apply(this,arguments)}return p(n,[{key:"_refreshViews",value:function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}},{key:"emplaceBack",value:function(e,t,n,r){var i=this.length;return this.resize(i+1),this.emplace(i,e,t,n,r)}},{key:"emplace",value:function(e,t,n,r,i){var a=4*e;return this.float32[a+0]=t,this.float32[a+1]=n,this.float32[a+2]=r,this.float32[a+3]=i,e}}]),n}(yo);Eo.prototype.bytesPerElement=16,na(Eo,"StructArrayLayout4f16");var Co=function(e){m(n,e);var t=v(n);function n(){return h(this,n),t.apply(this,arguments)}return p(n,[{key:"_refreshViews",value:function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}},{key:"emplaceBack",value:function(e,t,n,r,i){var a=this.length;return this.resize(a+1),this.emplace(a,e,t,n,r,i)}},{key:"emplace",value:function(e,t,n,r,i,a){var o=6*e,s=3*e;return this.uint16[o+0]=t,this.uint16[o+1]=n,this.uint16[o+2]=r,this.uint16[o+3]=i,this.float32[s+2]=a,e}}]),n}(yo);Co.prototype.bytesPerElement=12,na(Co,"StructArrayLayout4ui1f12");var To=function(e){m(n,e);var t=v(n);function n(){return h(this,n),t.apply(this,arguments)}return p(n,[{key:"_refreshViews",value:function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}},{key:"emplaceBack",value:function(e,t,n,r){var i=this.length;return this.resize(i+1),this.emplace(i,e,t,n,r)}},{key:"emplace",value:function(e,t,n,r,i){var a=4*e;return this.uint16[a+0]=t,this.uint16[a+1]=n,this.uint16[a+2]=r,this.uint16[a+3]=i,e}}]),n}(yo);To.prototype.bytesPerElement=8,na(To,"StructArrayLayout4ui8");var Mo=function(e){m(n,e);var t=v(n);function n(){return h(this,n),t.apply(this,arguments)}return p(n,[{key:"_refreshViews",value:function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}},{key:"emplaceBack",value:function(e,t,n,r,i,a){var o=this.length;return this.resize(o+1),this.emplace(o,e,t,n,r,i,a)}},{key:"emplace",value:function(e,t,n,r,i,a,o){var s=6*e;return this.int16[s+0]=t,this.int16[s+1]=n,this.int16[s+2]=r,this.int16[s+3]=i,this.int16[s+4]=a,this.int16[s+5]=o,e}}]),n}(yo);Mo.prototype.bytesPerElement=12,na(Mo,"StructArrayLayout6i12");var Io=function(e){m(n,e);var t=v(n);function n(){return h(this,n),t.apply(this,arguments)}return p(n,[{key:"_refreshViews",value:function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}},{key:"emplaceBack",value:function(e,t,n,r,i,a,o,s,l,c,u,d){var f=this.length;return this.resize(f+1),this.emplace(f,e,t,n,r,i,a,o,s,l,c,u,d)}},{key:"emplace",value:function(e,t,n,r,i,a,o,s,l,c,u,d,f){var h=12*e;return this.int16[h+0]=t,this.int16[h+1]=n,this.int16[h+2]=r,this.int16[h+3]=i,this.uint16[h+4]=a,this.uint16[h+5]=o,this.uint16[h+6]=s,this.uint16[h+7]=l,this.int16[h+8]=c,this.int16[h+9]=u,this.int16[h+10]=d,this.int16[h+11]=f,e}}]),n}(yo);Io.prototype.bytesPerElement=24,na(Io,"StructArrayLayout4i4ui4i24");var Oo=function(e){m(n,e);var t=v(n);function n(){return h(this,n),t.apply(this,arguments)}return p(n,[{key:"_refreshViews",value:function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}},{key:"emplaceBack",value:function(e,t,n,r,i,a){var o=this.length;return this.resize(o+1),this.emplace(o,e,t,n,r,i,a)}},{key:"emplace",value:function(e,t,n,r,i,a,o){var s=10*e,l=5*e;return this.int16[s+0]=t,this.int16[s+1]=n,this.int16[s+2]=r,this.float32[l+2]=i,this.float32[l+3]=a,this.float32[l+4]=o,e}}]),n}(yo);Oo.prototype.bytesPerElement=20,na(Oo,"StructArrayLayout3i3f20");var Po=function(e){m(n,e);var t=v(n);function n(){return h(this,n),t.apply(this,arguments)}return p(n,[{key:"_refreshViews",value:function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)}},{key:"emplaceBack",value:function(e){var t=this.length;return this.resize(t+1),this.emplace(t,e)}},{key:"emplace",value:function(e,t){return this.uint32[1*e+0]=t,e}}]),n}(yo);Po.prototype.bytesPerElement=4,na(Po,"StructArrayLayout1ul4");var Ao=function(e){m(n,e);var t=v(n);function n(){return h(this,n),t.apply(this,arguments)}return p(n,[{key:"_refreshViews",value:function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}},{key:"emplaceBack",value:function(e,t,n,r,i,a,o,s,l,c,u,d,f){var h=this.length;return this.resize(h+1),this.emplace(h,e,t,n,r,i,a,o,s,l,c,u,d,f)}},{key:"emplace",value:function(e,t,n,r,i,a,o,s,l,c,u,d,f,h){var p=20*e,m=10*e;return this.int16[p+0]=t,this.int16[p+1]=n,this.int16[p+2]=r,this.int16[p+3]=i,this.int16[p+4]=a,this.float32[m+3]=o,this.float32[m+4]=s,this.float32[m+5]=l,this.float32[m+6]=c,this.int16[p+14]=u,this.uint32[m+8]=d,this.uint16[p+18]=f,this.uint16[p+19]=h,e}}]),n}(yo);Ao.prototype.bytesPerElement=40,na(Ao,"StructArrayLayout5i4f1i1ul2ui40");var zo=function(e){m(n,e);var t=v(n);function n(){return h(this,n),t.apply(this,arguments)}return p(n,[{key:"_refreshViews",value:function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}},{key:"emplaceBack",value:function(e,t,n,r,i,a,o){var s=this.length;return this.resize(s+1),this.emplace(s,e,t,n,r,i,a,o)}},{key:"emplace",value:function(e,t,n,r,i,a,o,s){var l=8*e;return this.int16[l+0]=t,this.int16[l+1]=n,this.int16[l+2]=r,this.int16[l+4]=i,this.int16[l+5]=a,this.int16[l+6]=o,this.int16[l+7]=s,e}}]),n}(yo);zo.prototype.bytesPerElement=16,na(zo,"StructArrayLayout3i2i2i16");var jo=function(e){m(n,e);var t=v(n);function n(){return h(this,n),t.apply(this,arguments)}return p(n,[{key:"_refreshViews",value:function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}},{key:"emplaceBack",value:function(e,t,n,r,i){var a=this.length;return this.resize(a+1),this.emplace(a,e,t,n,r,i)}},{key:"emplace",value:function(e,t,n,r,i,a){var o=4*e,s=8*e;return this.float32[o+0]=t,this.float32[o+1]=n,this.float32[o+2]=r,this.int16[s+6]=i,this.int16[s+7]=a,e}}]),n}(yo);jo.prototype.bytesPerElement=16,na(jo,"StructArrayLayout2f1f2i16");var Ro=function(e){m(n,e);var t=v(n);function n(){return h(this,n),t.apply(this,arguments)}return p(n,[{key:"_refreshViews",value:function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}},{key:"emplaceBack",value:function(e,t,n,r){var i=this.length;return this.resize(i+1),this.emplace(i,e,t,n,r)}},{key:"emplace",value:function(e,t,n,r,i){var a=12*e,o=3*e;return this.uint8[a+0]=t,this.uint8[a+1]=n,this.float32[o+1]=r,this.float32[o+2]=i,e}}]),n}(yo);Ro.prototype.bytesPerElement=12,na(Ro,"StructArrayLayout2ub2f12");var Do=function(e){m(n,e);var t=v(n);function n(){return h(this,n),t.apply(this,arguments)}return p(n,[{key:"_refreshViews",value:function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}},{key:"emplaceBack",value:function(e,t,n){var r=this.length;return this.resize(r+1),this.emplace(r,e,t,n)}},{key:"emplace",value:function(e,t,n,r){var i=3*e;return this.float32[i+0]=t,this.float32[i+1]=n,this.float32[i+2]=r,e}}]),n}(yo);Do.prototype.bytesPerElement=12,na(Do,"StructArrayLayout3f12");var Lo=function(e){m(n,e);var t=v(n);function n(){return h(this,n),t.apply(this,arguments)}return p(n,[{key:"_refreshViews",value:function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}},{key:"emplaceBack",value:function(e,t,n){var r=this.length;return this.resize(r+1),this.emplace(r,e,t,n)}},{key:"emplace",value:function(e,t,n,r){var i=3*e;return this.uint16[i+0]=t,this.uint16[i+1]=n,this.uint16[i+2]=r,e}}]),n}(yo);Lo.prototype.bytesPerElement=6,na(Lo,"StructArrayLayout3ui6");var No=function(e){m(n,e);var t=v(n);function n(){return h(this,n),t.apply(this,arguments)}return p(n,[{key:"_refreshViews",value:function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)}},{key:"emplaceBack",value:function(e,t,n,r,i,a,o,s,l,c,u,d,f,h,p,m,v,g,y,x,b){var _=this.length;return this.resize(_+1),this.emplace(_,e,t,n,r,i,a,o,s,l,c,u,d,f,h,p,m,v,g,y,x,b)}},{key:"emplace",value:function(e,t,n,r,i,a,o,s,l,c,u,d,f,h,p,m,v,g,y,x,b,_){var w=30*e,k=15*e,S=60*e;return this.int16[w+0]=t,this.int16[w+1]=n,this.int16[w+2]=r,this.float32[k+2]=i,this.float32[k+3]=a,this.uint16[w+8]=o,this.uint16[w+9]=s,this.uint32[k+5]=l,this.uint32[k+6]=c,this.uint32[k+7]=u,this.uint16[w+16]=d,this.uint16[w+17]=f,this.uint16[w+18]=h,this.float32[k+10]=p,this.float32[k+11]=m,this.uint8[S+48]=v,this.uint8[S+49]=g,this.uint8[S+50]=y,this.uint32[k+13]=x,this.int16[w+28]=b,this.uint8[S+58]=_,e}}]),n}(yo);No.prototype.bytesPerElement=60,na(No,"StructArrayLayout3i2f2ui3ul3ui2f3ub1ul1i1ub60");var Bo=function(e){m(n,e);var t=v(n);function n(){return h(this,n),t.apply(this,arguments)}return p(n,[{key:"_refreshViews",value:function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)}},{key:"emplaceBack",value:function(e,t,n,r,i,a,o,s,l,c,u,d,f,h,p,m,v,g,y,x,b,_,w,k,S,E,C,T,M,I){var O=this.length;return this.resize(O+1),this.emplace(O,e,t,n,r,i,a,o,s,l,c,u,d,f,h,p,m,v,g,y,x,b,_,w,k,S,E,C,T,M,I)}},{key:"emplace",value:function(e,t,n,r,i,a,o,s,l,c,u,d,f,h,p,m,v,g,y,x,b,_,w,k,S,E,C,T,M,I,O){var P=38*e,A=19*e;return this.int16[P+0]=t,this.int16[P+1]=n,this.int16[P+2]=r,this.float32[A+2]=i,this.float32[A+3]=a,this.int16[P+8]=o,this.int16[P+9]=s,this.int16[P+10]=l,this.int16[P+11]=c,this.int16[P+12]=u,this.int16[P+13]=d,this.uint16[P+14]=f,this.uint16[P+15]=h,this.uint16[P+16]=p,this.uint16[P+17]=m,this.uint16[P+18]=v,this.uint16[P+19]=g,this.uint16[P+20]=y,this.uint16[P+21]=x,this.uint16[P+22]=b,this.uint16[P+23]=_,this.uint16[P+24]=w,this.uint16[P+25]=k,this.uint16[P+26]=S,this.uint16[P+27]=E,this.uint16[P+28]=C,this.uint32[A+15]=T,this.float32[A+16]=M,this.float32[A+17]=I,this.float32[A+18]=O,e}}]),n}(yo);Bo.prototype.bytesPerElement=76,na(Bo,"StructArrayLayout3i2f6i15ui1ul3f76");var Fo=function(e){m(n,e);var t=v(n);function n(){return h(this,n),t.apply(this,arguments)}return p(n,[{key:"_refreshViews",value:function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}},{key:"emplaceBack",value:function(e){var t=this.length;return this.resize(t+1),this.emplace(t,e)}},{key:"emplace",value:function(e,t){return this.float32[1*e+0]=t,e}}]),n}(yo);Fo.prototype.bytesPerElement=4,na(Fo,"StructArrayLayout1f4");var Vo=function(e){m(n,e);var t=v(n);function n(){return h(this,n),t.apply(this,arguments)}return p(n,[{key:"_refreshViews",value:function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}},{key:"emplaceBack",value:function(e,t,n,r,i){var a=this.length;return this.resize(a+1),this.emplace(a,e,t,n,r,i)}},{key:"emplace",value:function(e,t,n,r,i,a){var o=5*e;return this.float32[o+0]=t,this.float32[o+1]=n,this.float32[o+2]=r,this.float32[o+3]=i,this.float32[o+4]=a,e}}]),n}(yo);Vo.prototype.bytesPerElement=20,na(Vo,"StructArrayLayout5f20");var Uo=function(e){m(n,e);var t=v(n);function n(){return h(this,n),t.apply(this,arguments)}return p(n,[{key:"_refreshViews",value:function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}},{key:"emplaceBack",value:function(e,t,n,r){var i=this.length;return this.resize(i+1),this.emplace(i,e,t,n,r)}},{key:"emplace",value:function(e,t,n,r,i){var a=6*e;return this.uint32[3*e+0]=t,this.uint16[a+2]=n,this.uint16[a+3]=r,this.uint16[a+4]=i,e}}]),n}(yo);Uo.prototype.bytesPerElement=12,na(Uo,"StructArrayLayout1ul3ui12");var Ho=function(e){m(n,e);var t=v(n);function n(){return h(this,n),t.apply(this,arguments)}return p(n,[{key:"_refreshViews",value:function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}},{key:"emplaceBack",value:function(e,t){var n=this.length;return this.resize(n+1),this.emplace(n,e,t)}},{key:"emplace",value:function(e,t,n){var r=2*e;return this.uint16[r+0]=t,this.uint16[r+1]=n,e}}]),n}(yo);Ho.prototype.bytesPerElement=4,na(Ho,"StructArrayLayout2ui4");var Go=function(e){m(n,e);var t=v(n);function n(){return h(this,n),t.apply(this,arguments)}return p(n,[{key:"_refreshViews",value:function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}},{key:"emplaceBack",value:function(e){var t=this.length;return this.resize(t+1),this.emplace(t,e)}},{key:"emplace",value:function(e,t){return this.uint16[1*e+0]=t,e}}]),n}(yo);Go.prototype.bytesPerElement=2,na(Go,"StructArrayLayout1ui2");var Wo=function(e){m(n,e);var t=v(n);function n(){return h(this,n),t.apply(this,arguments)}return p(n,[{key:"_refreshViews",value:function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}},{key:"emplaceBack",value:function(e,t){var n=this.length;return this.resize(n+1),this.emplace(n,e,t)}},{key:"emplace",value:function(e,t,n){var r=2*e;return this.float32[r+0]=t,this.float32[r+1]=n,e}}]),n}(yo);Wo.prototype.bytesPerElement=8,na(Wo,"StructArrayLayout2f8");var qo=function(e){m(n,e);var t=v(n);function n(){return h(this,n),t.apply(this,arguments)}return p(n,[{key:"projectedAnchorX",get:function(){return this._structArray.int16[this._pos2+0]}},{key:"projectedAnchorY",get:function(){return this._structArray.int16[this._pos2+1]}},{key:"projectedAnchorZ",get:function(){return this._structArray.int16[this._pos2+2]}},{key:"tileAnchorX",get:function(){return this._structArray.int16[this._pos2+3]}},{key:"tileAnchorY",get:function(){return this._structArray.int16[this._pos2+4]}},{key:"x1",get:function(){return this._structArray.float32[this._pos4+3]}},{key:"y1",get:function(){return this._structArray.float32[this._pos4+4]}},{key:"x2",get:function(){return this._structArray.float32[this._pos4+5]}},{key:"y2",get:function(){return this._structArray.float32[this._pos4+6]}},{key:"padding",get:function(){return this._structArray.int16[this._pos2+14]}},{key:"featureIndex",get:function(){return this._structArray.uint32[this._pos4+8]}},{key:"sourceLayerIndex",get:function(){return this._structArray.uint16[this._pos2+18]}},{key:"bucketIndex",get:function(){return this._structArray.uint16[this._pos2+19]}}]),n}(go);qo.prototype.size=40;var Xo=function(e){m(n,e);var t=v(n);function n(){return h(this,n),t.apply(this,arguments)}return p(n,[{key:"get",value:function(e){return new qo(this,e)}}]),n}(Ao);na(Xo,"CollisionBoxArray");var Zo=function(e){m(n,e);var t=v(n);function n(){return h(this,n),t.apply(this,arguments)}return p(n,[{key:"projectedAnchorX",get:function(){return this._structArray.int16[this._pos2+0]}},{key:"projectedAnchorY",get:function(){return this._structArray.int16[this._pos2+1]}},{key:"projectedAnchorZ",get:function(){return this._structArray.int16[this._pos2+2]}},{key:"tileAnchorX",get:function(){return this._structArray.float32[this._pos4+2]}},{key:"tileAnchorY",get:function(){return this._structArray.float32[this._pos4+3]}},{key:"glyphStartIndex",get:function(){return this._structArray.uint16[this._pos2+8]}},{key:"numGlyphs",get:function(){return this._structArray.uint16[this._pos2+9]}},{key:"vertexStartIndex",get:function(){return this._structArray.uint32[this._pos4+5]}},{key:"lineStartIndex",get:function(){return this._structArray.uint32[this._pos4+6]}},{key:"lineLength",get:function(){return this._structArray.uint32[this._pos4+7]}},{key:"segment",get:function(){return this._structArray.uint16[this._pos2+16]}},{key:"lowerSize",get:function(){return this._structArray.uint16[this._pos2+17]}},{key:"upperSize",get:function(){return this._structArray.uint16[this._pos2+18]}},{key:"lineOffsetX",get:function(){return this._structArray.float32[this._pos4+10]}},{key:"lineOffsetY",get:function(){return this._structArray.float32[this._pos4+11]}},{key:"writingMode",get:function(){return this._structArray.uint8[this._pos1+48]}},{key:"placedOrientation",get:function(){return this._structArray.uint8[this._pos1+49]},set:function(e){this._structArray.uint8[this._pos1+49]=e}},{key:"hidden",get:function(){return this._structArray.uint8[this._pos1+50]},set:function(e){this._structArray.uint8[this._pos1+50]=e}},{key:"crossTileID",get:function(){return this._structArray.uint32[this._pos4+13]},set:function(e){this._structArray.uint32[this._pos4+13]=e}},{key:"associatedIconIndex",get:function(){return this._structArray.int16[this._pos2+28]}},{key:"flipState",get:function(){return this._structArray.uint8[this._pos1+58]},set:function(e){this._structArray.uint8[this._pos1+58]=e}}]),n}(go);Zo.prototype.size=60;var Ko=function(e){m(n,e);var t=v(n);function n(){return h(this,n),t.apply(this,arguments)}return p(n,[{key:"get",value:function(e){return new Zo(this,e)}}]),n}(No);na(Ko,"PlacedSymbolArray");var Yo=function(e){m(n,e);var t=v(n);function n(){return h(this,n),t.apply(this,arguments)}return p(n,[{key:"projectedAnchorX",get:function(){return this._structArray.int16[this._pos2+0]}},{key:"projectedAnchorY",get:function(){return this._structArray.int16[this._pos2+1]}},{key:"projectedAnchorZ",get:function(){return this._structArray.int16[this._pos2+2]}},{key:"tileAnchorX",get:function(){return this._structArray.float32[this._pos4+2]}},{key:"tileAnchorY",get:function(){return this._structArray.float32[this._pos4+3]}},{key:"rightJustifiedTextSymbolIndex",get:function(){return this._structArray.int16[this._pos2+8]}},{key:"centerJustifiedTextSymbolIndex",get:function(){return this._structArray.int16[this._pos2+9]}},{key:"leftJustifiedTextSymbolIndex",get:function(){return this._structArray.int16[this._pos2+10]}},{key:"verticalPlacedTextSymbolIndex",get:function(){return this._structArray.int16[this._pos2+11]}},{key:"placedIconSymbolIndex",get:function(){return this._structArray.int16[this._pos2+12]}},{key:"verticalPlacedIconSymbolIndex",get:function(){return this._structArray.int16[this._pos2+13]}},{key:"key",get:function(){return this._structArray.uint16[this._pos2+14]}},{key:"textBoxStartIndex",get:function(){return this._structArray.uint16[this._pos2+15]}},{key:"textBoxEndIndex",get:function(){return this._structArray.uint16[this._pos2+16]}},{key:"verticalTextBoxStartIndex",get:function(){return this._structArray.uint16[this._pos2+17]}},{key:"verticalTextBoxEndIndex",get:function(){return this._structArray.uint16[this._pos2+18]}},{key:"iconBoxStartIndex",get:function(){return this._structArray.uint16[this._pos2+19]}},{key:"iconBoxEndIndex",get:function(){return this._structArray.uint16[this._pos2+20]}},{key:"verticalIconBoxStartIndex",get:function(){return this._structArray.uint16[this._pos2+21]}},{key:"verticalIconBoxEndIndex",get:function(){return this._structArray.uint16[this._pos2+22]}},{key:"featureIndex",get:function(){return this._structArray.uint16[this._pos2+23]}},{key:"numHorizontalGlyphVertices",get:function(){return this._structArray.uint16[this._pos2+24]}},{key:"numVerticalGlyphVertices",get:function(){return this._structArray.uint16[this._pos2+25]}},{key:"numIconVertices",get:function(){return this._structArray.uint16[this._pos2+26]}},{key:"numVerticalIconVertices",get:function(){return this._structArray.uint16[this._pos2+27]}},{key:"useRuntimeCollisionCircles",get:function(){return this._structArray.uint16[this._pos2+28]}},{key:"crossTileID",get:function(){return this._structArray.uint32[this._pos4+15]},set:function(e){this._structArray.uint32[this._pos4+15]=e}},{key:"textOffset0",get:function(){return this._structArray.float32[this._pos4+16]}},{key:"textOffset1",get:function(){return this._structArray.float32[this._pos4+17]}},{key:"collisionCircleDiameter",get:function(){return this._structArray.float32[this._pos4+18]}}]),n}(go);Yo.prototype.size=76;var $o=function(e){m(n,e);var t=v(n);function n(){return h(this,n),t.apply(this,arguments)}return p(n,[{key:"get",value:function(e){return new Yo(this,e)}}]),n}(Bo);na($o,"SymbolInstanceArray");var Jo=function(e){m(n,e);var t=v(n);function n(){return h(this,n),t.apply(this,arguments)}return p(n,[{key:"getoffsetX",value:function(e){return this.float32[1*e+0]}}]),n}(Fo);na(Jo,"GlyphOffsetArray");var Qo=function(e){m(n,e);var t=v(n);function n(){return h(this,n),t.apply(this,arguments)}return p(n,[{key:"getx",value:function(e){return this.int16[2*e+0]}},{key:"gety",value:function(e){return this.int16[2*e+1]}}]),n}(_o);na(Qo,"SymbolLineVertexArray");var es=function(e){m(n,e);var t=v(n);function n(){return h(this,n),t.apply(this,arguments)}return p(n,[{key:"featureIndex",get:function(){return this._structArray.uint32[this._pos4+0]}},{key:"sourceLayerIndex",get:function(){return this._structArray.uint16[this._pos2+2]}},{key:"bucketIndex",get:function(){return this._structArray.uint16[this._pos2+3]}},{key:"layoutVertexArrayOffset",get:function(){return this._structArray.uint16[this._pos2+4]}}]),n}(go);es.prototype.size=12;var ts=function(e){m(n,e);var t=v(n);function n(){return h(this,n),t.apply(this,arguments)}return p(n,[{key:"get",value:function(e){return new es(this,e)}}]),n}(Uo);na(ts,"FeatureIndexArray");var ns=function(e){m(n,e);var t=v(n);function n(){return h(this,n),t.apply(this,arguments)}return p(n,[{key:"geta_centroid_pos0",value:function(e){return this.uint16[2*e+0]}},{key:"geta_centroid_pos1",value:function(e){return this.uint16[2*e+1]}}]),n}(Ho);na(ns,"FillExtrusionCentroidArray");var rs=xo([{name:"a_pattern",components:4,type:"Uint16"},{name:"a_pixel_ratio",components:1,type:"Float32"}]),is=xo([{name:"a_dash",components:4,type:"Uint16"}]),as={exports:{}},os={exports:{}};os.exports=function(e,t){var n,r,i,a,o,s,l,c;for(r=e.length-(n=3&e.length),i=t,o=3432918353,s=461845907,c=0;c<r;)l=255&e.charCodeAt(c)|(255&e.charCodeAt(++c))<<8|(255&e.charCodeAt(++c))<<16|(255&e.charCodeAt(++c))<<24,++c,i=27492+(65535&(a=5*(65535&(i=(i^=l=(65535&(l=(l=(65535&l)*o+(((l>>>16)*o&65535)<<16)&4294967295)<<15|l>>>17))*s+(((l>>>16)*s&65535)<<16)&4294967295)<<13|i>>>19))+((5*(i>>>16)&65535)<<16)&4294967295))+((58964+(a>>>16)&65535)<<16);switch(l=0,n){case 3:l^=(255&e.charCodeAt(c+2))<<16;case 2:l^=(255&e.charCodeAt(c+1))<<8;case 1:i^=l=(65535&(l=(l=(65535&(l^=255&e.charCodeAt(c)))*o+(((l>>>16)*o&65535)<<16)&4294967295)<<15|l>>>17))*s+(((l>>>16)*s&65535)<<16)&4294967295}return i^=e.length,i=2246822507*(65535&(i^=i>>>16))+((2246822507*(i>>>16)&65535)<<16)&4294967295,i=3266489909*(65535&(i^=i>>>13))+((3266489909*(i>>>16)&65535)<<16)&4294967295,(i^=i>>>16)>>>0};var ss={exports:{}};ss.exports=function(e,t){for(var n,r=e.length,i=t^r,a=0;r>=4;)n=1540483477*(65535&(n=255&e.charCodeAt(a)|(255&e.charCodeAt(++a))<<8|(255&e.charCodeAt(++a))<<16|(255&e.charCodeAt(++a))<<24))+((1540483477*(n>>>16)&65535)<<16),i=1540483477*(65535&i)+((1540483477*(i>>>16)&65535)<<16)^(n=1540483477*(65535&(n^=n>>>24))+((1540483477*(n>>>16)&65535)<<16)),r-=4,++a;switch(r){case 3:i^=(255&e.charCodeAt(a+2))<<16;case 2:i^=(255&e.charCodeAt(a+1))<<8;case 1:i=1540483477*(65535&(i^=255&e.charCodeAt(a)))+((1540483477*(i>>>16)&65535)<<16)}return i=1540483477*(65535&(i^=i>>>13))+((1540483477*(i>>>16)&65535)<<16),(i^=i>>>15)>>>0};var ls=os.exports,cs=ss.exports;as.exports=ls,as.exports.murmur3=ls,as.exports.murmur2=cs;var us=function(){function e(){h(this,e),this.ids=[],this.positions=[],this.indexed=!1}return p(e,[{key:"add",value:function(e,t,n,r){this.ids.push(ds(e)),this.positions.push(t,n,r)}},{key:"getPositions",value:function(e){for(var t=ds(e),n=0,r=this.ids.length-1;n<r;){var i=n+r>>1;this.ids[i]>=t?r=i:n=i+1}for(var a=[];this.ids[n]===t;)a.push({index:this.positions[3*n],start:this.positions[3*n+1],end:this.positions[3*n+2]}),n++;return a}}],[{key:"serialize",value:function(e,t){var n=new Float64Array(e.ids),r=new Uint32Array(e.positions);return fs(n,r,0,n.length-1),t&&t.push(n.buffer,r.buffer),{ids:n,positions:r}}},{key:"deserialize",value:function(t){var n=new e;return n.ids=t.ids,n.positions=t.positions,n.indexed=!0,n}}]),e}();function ds(e){var t=+e;return!isNaN(t)&&Number.MIN_SAFE_INTEGER<=t&&t<=Number.MAX_SAFE_INTEGER?t:as.exports(String(e))}function fs(e,t,n,r){for(;n<r;){for(var i=e[n+r>>1],a=n-1,o=r+1;;){do{a++}while(e[a]<i);do{o--}while(e[o]>i);if(a>=o)break;hs(e,a,o),hs(t,3*a,3*o),hs(t,3*a+1,3*o+1),hs(t,3*a+2,3*o+2)}o-n<r-o?(fs(e,t,n,o),n=o+1):(fs(e,t,o+1,r),r=o)}}function hs(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}na(us,"FeaturePositionMap");var ps=function(){function e(t){h(this,e),this.gl=t.gl,this.initialized=!1}return p(e,[{key:"fetchUniformLocation",value:function(e,t){return this.location||this.initialized||(this.location=this.gl.getUniformLocation(e,t),this.initialized=!0),!!this.location}}]),e}(),ms=function(e){m(n,e);var t=v(n);function n(e){var r;return h(this,n),(r=t.call(this,e)).current=0,r}return p(n,[{key:"set",value:function(e,t,n){this.fetchUniformLocation(e,t)&&this.current!==n&&(this.current=n,this.gl.uniform1f(this.location,n))}}]),n}(ps),vs=function(e){m(n,e);var t=v(n);function n(e){var r;return h(this,n),(r=t.call(this,e)).current=[0,0,0,0],r}return p(n,[{key:"set",value:function(e,t,n){this.fetchUniformLocation(e,t)&&(n[0]===this.current[0]&&n[1]===this.current[1]&&n[2]===this.current[2]&&n[3]===this.current[3]||(this.current=n,this.gl.uniform4f(this.location,n[0],n[1],n[2],n[3])))}}]),n}(ps),gs=function(e){m(n,e);var t=v(n);function n(e){var r;return h(this,n),(r=t.call(this,e)).current=Vt.transparent,r}return p(n,[{key:"set",value:function(e,t,n){this.fetchUniformLocation(e,t)&&(n.r===this.current.r&&n.g===this.current.g&&n.b===this.current.b&&n.a===this.current.a||(this.current=n,this.gl.uniform4f(this.location,n.r,n.g,n.b,n.a)))}}]),n}(ps),ys=new Float32Array(16),xs=new Float32Array(9),bs=new Float32Array(4);function _s(e){return[mo(255*e.r,255*e.g),mo(255*e.b,255*e.a)]}var ws=function(){function e(t,n,r){h(this,e),this.value=t,this.uniformNames=n.map((function(e){return"u_".concat(e)})),this.type=r}return p(e,[{key:"setUniform",value:function(e,t,n,r,i){t.set(e,i,r.constantOr(this.value))}},{key:"getBinding",value:function(e,t){return"color"===this.type?new gs(e):new ms(e)}}]),e}(),ks=function(){function e(t,n){h(this,e),this.uniformNames=n.map((function(e){return"u_".concat(e)})),this.pattern=null,this.pixelRatio=1}return p(e,[{key:"setConstantPatternPositions",value:function(e){this.pixelRatio=e.pixelRatio||1,this.pattern=e.tl.concat(e.br)}},{key:"setUniform",value:function(e,t,n,r,i){var a="u_pattern"===i||"u_dash"===i?this.pattern:"u_pixel_ratio"===i?this.pixelRatio:null;a&&t.set(e,i,a)}},{key:"getBinding",value:function(e,t){return"u_pattern"===t||"u_dash"===t?new vs(e):new ms(e)}}]),e}(),Ss=function(){function e(t,n,r,i){h(this,e),this.expression=t,this.type=r,this.maxValue=0,this.paintVertexAttributes=n.map((function(e){return{name:"a_".concat(e),type:"Float32",components:"color"===r?2:1,offset:0}})),this.paintVertexArray=new i}return p(e,[{key:"populatePaintArray",value:function(e,t,n,r,i,a){var o=this.paintVertexArray.length,s=this.expression.evaluate(new to(0),t,{},i,r,a);this.paintVertexArray.resize(e),this._setPaintValue(o,e,s)}},{key:"updatePaintArray",value:function(e,t,n,r,i){var a=this.expression.evaluate({zoom:0},n,r,void 0,i);this._setPaintValue(e,t,a)}},{key:"_setPaintValue",value:function(e,t,n){if("color"===this.type)for(var r=_s(n),i=e;i<t;i++)this.paintVertexArray.emplace(i,r[0],r[1]);else{for(var a=e;a<t;a++)this.paintVertexArray.emplace(a,n);this.maxValue=Math.max(this.maxValue,Math.abs(n))}}},{key:"upload",value:function(e){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=e.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}},{key:"destroy",value:function(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}}]),e}(),Es=function(){function e(t,n,r,i,a,o){h(this,e),this.expression=t,this.uniformNames=n.map((function(e){return"u_".concat(e,"_t")})),this.type=r,this.useIntegerZoom=i,this.zoom=a,this.maxValue=0,this.paintVertexAttributes=n.map((function(e){return{name:"a_".concat(e),type:"Float32",components:"color"===r?4:2,offset:0}})),this.paintVertexArray=new o}return p(e,[{key:"populatePaintArray",value:function(e,t,n,r,i,a){var o=this.expression.evaluate(new to(this.zoom),t,{},i,r,a),s=this.expression.evaluate(new to(this.zoom+1),t,{},i,r,a),l=this.paintVertexArray.length;this.paintVertexArray.resize(e),this._setPaintValue(l,e,o,s)}},{key:"updatePaintArray",value:function(e,t,n,r,i){var a=this.expression.evaluate({zoom:this.zoom},n,r,void 0,i),o=this.expression.evaluate({zoom:this.zoom+1},n,r,void 0,i);this._setPaintValue(e,t,a,o)}},{key:"_setPaintValue",value:function(e,t,n,r){if("color"===this.type)for(var i=_s(n),a=_s(r),o=e;o<t;o++)this.paintVertexArray.emplace(o,i[0],i[1],a[0],a[1]);else{for(var s=e;s<t;s++)this.paintVertexArray.emplace(s,n,r);this.maxValue=Math.max(this.maxValue,Math.abs(n),Math.abs(r))}}},{key:"upload",value:function(e){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=e.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}},{key:"destroy",value:function(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}},{key:"setUniform",value:function(e,t,n,r,i){var a=this.useIntegerZoom?Math.floor(n.zoom):n.zoom,o=N(this.expression.interpolationFactor(a,this.zoom,this.zoom+1),0,1);t.set(e,i,o)}},{key:"getBinding",value:function(e,t){return new ms(e)}}]),e}(),Cs=function(){function e(t,n,r,i,a){h(this,e),this.expression=t,this.layerId=a,this.paintVertexAttributes=("array"===r?is:rs).members;for(var o=0;o<n.length;++o);this.paintVertexArray=new i}return p(e,[{key:"populatePaintArray",value:function(e,t,n){var r=this.paintVertexArray.length;this.paintVertexArray.resize(e),this._setPaintValues(r,e,t.patterns&&t.patterns[this.layerId],n)}},{key:"updatePaintArray",value:function(e,t,n,r,i,a){this._setPaintValues(e,t,n.patterns&&n.patterns[this.layerId],a)}},{key:"_setPaintValues",value:function(e,t,n,r){if(r&&n){var i=r[n];if(i)for(var a=i.tl,o=i.br,s=i.pixelRatio,l=e;l<t;l++)this.paintVertexArray.emplace(l,a[0],a[1],o[0],o[1],s)}}},{key:"upload",value:function(e){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer=e.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}},{key:"destroy",value:function(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}}]),e}(),Ts=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){return!0};h(this,e),this.binders={},this._buffers=[];var i=[];for(var a in t.paint._values)if(r(a)){var o=t.paint.get(a);if(o instanceof lo&&Wr(o.property.specification)){var s=Os(a,t.type),l=o.value,c=o.property.specification.type,u=o.property.useIntegerZoom,d="line-dasharray"===a||a.endsWith("pattern"),f="line-dasharray"===a&&"constant"!==t.layout.get("line-cap").value.kind;if("constant"!==l.kind||f)if("source"===l.kind||f||d){var p=zs(a,c,"source");this.binders[a]=d?new Cs(l,s,c,p,t.id):new Ss(l,s,c,p),i.push("/a_".concat(a))}else{var m=zs(a,c,"composite");this.binders[a]=new Es(l,s,c,u,n,m),i.push("/z_".concat(a))}else this.binders[a]=d?new ks(l.value,s):new ws(l.value,s,c),i.push("/u_".concat(a))}}this.cacheKey=i.sort().join("")}return p(e,[{key:"getMaxValue",value:function(e){var t=this.binders[e];return t instanceof Ss||t instanceof Es?t.maxValue:0}},{key:"populatePaintArrays",value:function(e,t,n,r,i,a){for(var o in this.binders){var s=this.binders[o];(s instanceof Ss||s instanceof Es||s instanceof Cs)&&s.populatePaintArray(e,t,n,r,i,a)}}},{key:"setConstantPatternPositions",value:function(e){for(var t in this.binders){var n=this.binders[t];n instanceof ks&&n.setConstantPatternPositions(e)}}},{key:"updatePaintArrays",value:function(e,t,n,r,i,a){var o=!1;for(var s in e){var l,c=t.getPositions(s),u=f(c);try{for(u.s();!(l=u.n()).done;){var d=l.value,h=n.feature(d.index);for(var p in this.binders){var m=this.binders[p];if((m instanceof Ss||m instanceof Es||m instanceof Cs)&&!0===m.expression.isStateDependent){var v=r.paint.get(p);m.expression=v.value,m.updatePaintArray(d.start,d.end,h,e[s],i,a),o=!0}}}}catch(g){u.e(g)}finally{u.f()}}return o}},{key:"defines",value:function(){var e=[];for(var t in this.binders){var n=this.binders[t];(n instanceof ws||n instanceof ks)&&e.push.apply(e,u(n.uniformNames.map((function(e){return"#define HAS_UNIFORM_".concat(e)}))))}return e}},{key:"getBinderAttributes",value:function(){var e=[];for(var t in this.binders){var n=this.binders[t];if(n instanceof Ss||n instanceof Es||n instanceof Cs)for(var r=0;r<n.paintVertexAttributes.length;r++)e.push(n.paintVertexAttributes[r].name)}return e}},{key:"getBinderUniforms",value:function(){var e=[];for(var t in this.binders){var n=this.binders[t];if(n instanceof ws||n instanceof ks||n instanceof Es){var r,i=f(n.uniformNames);try{for(i.s();!(r=i.n()).done;){var a=r.value;e.push(a)}}catch(o){i.e(o)}finally{i.f()}}}return e}},{key:"getPaintVertexBuffers",value:function(){return this._buffers}},{key:"getUniforms",value:function(e){var t=[];for(var n in this.binders){var r=this.binders[n];if(r instanceof ws||r instanceof ks||r instanceof Es){var i,a=f(r.uniformNames);try{for(a.s();!(i=a.n()).done;){var o=i.value;t.push({name:o,property:n,binding:r.getBinding(e,o)})}}catch(s){a.e(s)}finally{a.f()}}}return t}},{key:"setUniforms",value:function(e,t,n,r,i){var a,o=f(n);try{for(o.s();!(a=o.n()).done;){var s=a.value,l=s.name,c=s.property,u=s.binding;this.binders[c].setUniform(e,u,i,r.get(c),l)}}catch(d){o.e(d)}finally{o.f()}}},{key:"updatePaintBuffers",value:function(){for(var e in this._buffers=[],this.binders){var t=this.binders[e];(t instanceof Ss||t instanceof Es||t instanceof Cs)&&t.paintVertexBuffer&&this._buffers.push(t.paintVertexBuffer)}}},{key:"upload",value:function(e){for(var t in this.binders){var n=this.binders[t];(n instanceof Ss||n instanceof Es||n instanceof Cs)&&n.upload(e)}this.updatePaintBuffers()}},{key:"destroy",value:function(){for(var e in this.binders){var t=this.binders[e];(t instanceof Ss||t instanceof Es||t instanceof Cs)&&t.destroy()}}}]),e}(),Ms=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){return!0};h(this,e),this.programConfigurations={};var i,a=f(t);try{for(a.s();!(i=a.n()).done;){var o=i.value;this.programConfigurations[o.id]=new Ts(o,n,r)}}catch(s){a.e(s)}finally{a.f()}this.needsUpload=!1,this._featureMap=new us,this._bufferOffset=0}return p(e,[{key:"populatePaintArrays",value:function(e,t,n,r,i,a,o){for(var s in this.programConfigurations)this.programConfigurations[s].populatePaintArrays(e,t,r,i,a,o);void 0!==t.id&&this._featureMap.add(t.id,n,this._bufferOffset,e),this._bufferOffset=e,this.needsUpload=!0}},{key:"updatePaintArrays",value:function(e,t,n,r,i){var a,o=f(n);try{for(o.s();!(a=o.n()).done;){var s=a.value;this.needsUpload=this.programConfigurations[s.id].updatePaintArrays(e,this._featureMap,t,s,r,i)||this.needsUpload}}catch(l){o.e(l)}finally{o.f()}}},{key:"get",value:function(e){return this.programConfigurations[e]}},{key:"upload",value:function(e){if(this.needsUpload){for(var t in this.programConfigurations)this.programConfigurations[t].upload(e);this.needsUpload=!1}}},{key:"destroy",value:function(){for(var e in this.programConfigurations)this.programConfigurations[e].destroy()}}]),e}(),Is={"text-opacity":["opacity"],"icon-opacity":["opacity"],"text-color":["fill_color"],"icon-color":["fill_color"],"text-halo-color":["halo_color"],"icon-halo-color":["halo_color"],"text-halo-blur":["halo_blur"],"icon-halo-blur":["halo_blur"],"text-halo-width":["halo_width"],"icon-halo-width":["halo_width"],"line-gap-width":["gapwidth"],"line-pattern":["pattern","pixel_ratio"],"fill-pattern":["pattern","pixel_ratio"],"fill-extrusion-pattern":["pattern","pixel_ratio"],"line-dasharray":["dash"]};function Os(e,t){return Is[e]||[e.replace("".concat(t,"-"),"").replace(/-/g,"_")]}var Ps={"line-pattern":{source:Co,composite:Co},"fill-pattern":{source:Co,composite:Co},"fill-extrusion-pattern":{source:Co,composite:Co},"line-dasharray":{source:To,composite:To}},As={color:{source:Wo,composite:Eo},number:{source:Fo,composite:Wo}};function zs(e,t,n){var r=Ps[e];return r&&r[n]||As[t][n]}na(ws,"ConstantBinder"),na(ks,"PatternConstantBinder"),na(Ss,"SourceExpressionBinder"),na(Cs,"PatternCompositeBinder"),na(Es,"CompositeExpressionBinder"),na(Ts,"ProgramConfiguration",{omit:["_buffers"]}),na(Ms,"ProgramConfigurationSet");var js="-transition",Rs=function(e){m(n,e);var t=v(n);function n(e,r){var i;if(h(this,n),(i=t.call(this)).id=e.id,i.type=e.type,i._featureFilter={filter:function(){return!0},needGeometry:!1,needFeature:!1},i._filterCompiled=!1,"custom"!==e.type&&(i.metadata=e.metadata,i.minzoom=e.minzoom,i.maxzoom=e.maxzoom,"background"!==e.type&&"sky"!==e.type&&(i.source=e.source,i.sourceLayer=e["source-layer"],i.filter=e.filter),r.layout&&(i._unevaluatedLayout=new so(r.layout)),r.paint)){for(var a in i._transitionablePaint=new io(r.paint),e.paint)i.setPaintProperty(a,e.paint[a],{validate:!1});for(var o in e.layout)i.setLayoutProperty(o,e.layout[o],{validate:!1});i._transitioningPaint=i._transitionablePaint.untransitioned(),i.paint=new co(r.paint)}return l(i)}return p(n,[{key:"getLayoutProperty",value:function(e){return"visibility"===e?this.visibility:this._unevaluatedLayout.getValue(e)}},{key:"setLayoutProperty",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};null!=t&&this._validate(Yi,"layers.".concat(this.id,".layout.").concat(e),e,t,n)||("visibility"!==e?this._unevaluatedLayout.setValue(e,t):this.visibility=t)}},{key:"getPaintProperty",value:function(e){return Y(e,js)?this._transitionablePaint.getTransition(e.slice(0,-js.length)):this._transitionablePaint.getValue(e)}},{key:"setPaintProperty",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(null!=t&&this._validate(Ki,"layers.".concat(this.id,".paint.").concat(e),e,t,n))return!1;if(Y(e,js))return this._transitionablePaint.setTransition(e.slice(0,-js.length),t||void 0),!1;var r=this._transitionablePaint._values[e],i=r.value.isDataDriven(),a=r.value;this._transitionablePaint.setValue(e,t),this._handleSpecialPaintPropertyUpdate(e);var o=this._transitionablePaint._values[e].value,s=o.isDataDriven(),l=Y(e,"pattern")||"line-dasharray"===e;return s||i||l||this._handleOverridablePaintPropertyUpdate(e,a,o)}},{key:"_handleSpecialPaintPropertyUpdate",value:function(e){}},{key:"getProgramIds",value:function(){return null}},{key:"getProgramConfiguration",value:function(e){return null}},{key:"_handleOverridablePaintPropertyUpdate",value:function(e,t,n){return!1}},{key:"isHidden",value:function(e){return!!(this.minzoom&&e<this.minzoom)||!!(this.maxzoom&&e>=this.maxzoom)||"none"===this.visibility}},{key:"updateTransitions",value:function(e){this._transitioningPaint=this._transitionablePaint.transitioned(e,this._transitioningPaint)}},{key:"hasTransition",value:function(){return this._transitioningPaint.hasTransition()}},{key:"recalculate",value:function(e,t){this._unevaluatedLayout&&(this.layout=this._unevaluatedLayout.possiblyEvaluate(e,void 0,t)),this.paint=this._transitioningPaint.possiblyEvaluate(e,void 0,t)}},{key:"serialize",value:function(){var e={id:this.id,type:this.type,source:this.source,"source-layer":this.sourceLayer,metadata:this.metadata,minzoom:this.minzoom,maxzoom:this.maxzoom,filter:this.filter,layout:this._unevaluatedLayout&&this._unevaluatedLayout.serialize(),paint:this._transitionablePaint&&this._transitionablePaint.serialize()};return this.visibility&&(e.layout=e.layout||{},e.layout.visibility=this.visibility),J(e,(function(e,t){return!(void 0===e||"layout"===t&&!Object.keys(e).length||"paint"===t&&!Object.keys(e).length)}))}},{key:"_validate",value:function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};return(!i||!1!==i.validate)&&Ji(this,e.call(Zi,{key:t,layerType:this.type,objectKey:n,value:r,styleSpec:ut,style:{glyphs:!0,sprite:!0}}))}},{key:"is3D",value:function(){return!1}},{key:"isSky",value:function(){return!1}},{key:"isTileClipped",value:function(){return!1}},{key:"hasOffscreenPass",value:function(){return!1}},{key:"resize",value:function(){}},{key:"isStateDependent",value:function(){for(var e in this.paint._values){var t=this.paint.get(e);if(t instanceof lo&&Wr(t.property.specification)&&("source"===t.value.kind||"composite"===t.value.kind)&&t.value.isStateDependent)return!0}return!1}},{key:"compileFilter",value:function(){this._filterCompiled||(this._featureFilter=bi(this.filter),this._filterCompiled=!0)}},{key:"invalidateCompiledFilter",value:function(){this._filterCompiled=!1}},{key:"dynamicFilter",value:function(){return this._featureFilter.dynamicFilter}},{key:"dynamicFilterNeedsFeature",value:function(){return this._featureFilter.needFeature}}]),n}(ct),Ds=xo([{name:"a_pos",components:2,type:"Int16"}],4),Ls=xo([{name:"a_pos_3",components:3,type:"Int16"},{name:"a_pos_normal_3",components:3,type:"Int16"}]),Ns=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];h(this,e),this.segments=t}return p(e,[{key:"prepareSegment",value:function(t,n,r,i){var a=this.segments[this.segments.length-1];return t>e.MAX_VERTEX_ARRAY_LENGTH&&te("Max vertices per segment is ".concat(e.MAX_VERTEX_ARRAY_LENGTH,": bucket requested ").concat(t)),(!a||a.vertexLength+t>e.MAX_VERTEX_ARRAY_LENGTH||a.sortKey!==i)&&(a={vertexOffset:n.length,primitiveOffset:r.length,vertexLength:0,primitiveLength:0},void 0!==i&&(a.sortKey=i),this.segments.push(a)),a}},{key:"get",value:function(){return this.segments}},{key:"destroy",value:function(){var e,t=f(this.segments);try{for(t.s();!(e=t.n()).done;){var n=e.value;for(var r in n.vaos)n.vaos[r].destroy()}}catch(i){t.e(i)}finally{t.f()}}}],[{key:"simpleSegment",value:function(t,n,r,i){return new e([{vertexOffset:t,primitiveOffset:n,vertexLength:r,primitiveLength:i,vaos:{},sortKey:0}])}}]),e}();Ns.MAX_VERTEX_ARRAY_LENGTH=Math.pow(2,16)-1,na(Ns,"SegmentVector");var Bs=8192,Fs=function(){function e(t,n){h(this,e),t&&(n?this.setSouthWest(t).setNorthEast(n):4===t.length?this.setSouthWest([t[0],t[1]]).setNorthEast([t[2],t[3]]):this.setSouthWest(t[0]).setNorthEast(t[1]))}return p(e,[{key:"setNorthEast",value:function(e){return this._ne=e instanceof Us?new Us(e.lng,e.lat):Us.convert(e),this}},{key:"setSouthWest",value:function(e){return this._sw=e instanceof Us?new Us(e.lng,e.lat):Us.convert(e),this}},{key:"extend",value:function(t){var n,r,i=this._sw,a=this._ne;if(t instanceof Us)n=t,r=t;else{if(!(t instanceof e))return Array.isArray(t)?4===t.length||t.every(Array.isArray)?this.extend(e.convert(t)):this.extend(Us.convert(t)):"object"==typeof t&&null!==t&&t.hasOwnProperty("lat")&&t.hasOwnProperty("lon")?this.extend(Us.convert(t)):this;if(n=t._sw,r=t._ne,!n||!r)return this}return i||a?(i.lng=Math.min(n.lng,i.lng),i.lat=Math.min(n.lat,i.lat),a.lng=Math.max(r.lng,a.lng),a.lat=Math.max(r.lat,a.lat)):(this._sw=new Us(n.lng,n.lat),this._ne=new Us(r.lng,r.lat)),this}},{key:"getCenter",value:function(){return new Us((this._sw.lng+this._ne.lng)/2,(this._sw.lat+this._ne.lat)/2)}},{key:"getSouthWest",value:function(){return this._sw}},{key:"getNorthEast",value:function(){return this._ne}},{key:"getNorthWest",value:function(){return new Us(this.getWest(),this.getNorth())}},{key:"getSouthEast",value:function(){return new Us(this.getEast(),this.getSouth())}},{key:"getWest",value:function(){return this._sw.lng}},{key:"getSouth",value:function(){return this._sw.lat}},{key:"getEast",value:function(){return this._ne.lng}},{key:"getNorth",value:function(){return this._ne.lat}},{key:"toArray",value:function(){return[this._sw.toArray(),this._ne.toArray()]}},{key:"toString",value:function(){return"LngLatBounds(".concat(this._sw.toString(),", ").concat(this._ne.toString(),")")}},{key:"isEmpty",value:function(){return!(this._sw&&this._ne)}},{key:"contains",value:function(e){var t=Us.convert(e),n=t.lng,r=t.lat,i=this._sw.lng<=n&&n<=this._ne.lng;return this._sw.lng>this._ne.lng&&(i=this._sw.lng>=n&&n>=this._ne.lng),this._sw.lat<=r&&r<=this._ne.lat&&i}}],[{key:"convert",value:function(t){return!t||t instanceof e?t:new e(t)}}]),e}(),Vs=6371008.8,Us=function(){function e(t,n){if(h(this,e),isNaN(t)||isNaN(n))throw new Error("Invalid LngLat object: (".concat(t,", ").concat(n,")"));if(this.lng=+t,this.lat=+n,this.lat>90||this.lat<-90)throw new Error("Invalid LngLat latitude value: must be between -90 and 90")}return p(e,[{key:"wrap",value:function(){return new e(F(this.lng,-180,180),this.lat)}},{key:"toArray",value:function(){return[this.lng,this.lat]}},{key:"toString",value:function(){return"LngLat(".concat(this.lng,", ").concat(this.lat,")")}},{key:"distanceTo",value:function(e){var t=Math.PI/180,n=this.lat*t,r=e.lat*t,i=Math.sin(n)*Math.sin(r)+Math.cos(n)*Math.cos(r)*Math.cos((e.lng-this.lng)*t);return Vs*Math.acos(Math.min(i,1))}},{key:"toBounds",value:function(){var t=360*(arguments.length>0&&void 0!==arguments[0]?arguments[0]:0)/40075017,n=t/Math.cos(Math.PI/180*this.lat);return new Fs(new e(this.lng-n,this.lat-t),new e(this.lng+n,this.lat+t))}}],[{key:"convert",value:function(t){if(t instanceof e)return t;if(Array.isArray(t)&&(2===t.length||3===t.length))return new e(Number(t[0]),Number(t[1]));if(!Array.isArray(t)&&"object"==typeof t&&null!==t)return new e(Number("lng"in t?t.lng:t.lon),Number(t.lat));throw new Error("`LngLatLike` argument must be specified as a LngLat instance, an object {lng: <lng>, lat: <lat>}, an object {lon: <lng>, lat: <lat>}, or an array of [<lng>, <lat>]")}}]),e}(),Hs=2*Math.PI*Vs;function Gs(e){return Hs*Math.cos(e*Math.PI/180)}function Ws(e){return(180+e)/360}function qs(e){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+e*Math.PI/360)))/360}function Xs(e,t){return e/Gs(t)}function Zs(e){return 360*e-180}function Ks(e){return 360/Math.PI*Math.atan(Math.exp((180-360*e)*Math.PI/180))-90}function Ys(e,t){return e*Gs(Ks(t))}var $s=85.051129;function Js(e){return 1/Math.cos(e*Math.PI/180)}var Qs=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;h(this,e),this.x=+t,this.y=+n,this.z=+r}return p(e,[{key:"toLngLat",value:function(){return new Us(Zs(this.x),Ks(this.y))}},{key:"toAltitude",value:function(){return Ys(this.z,this.y)}},{key:"meterInMercatorCoordinateUnits",value:function(){return 1/Hs*Js(Ks(this.y))}}],[{key:"fromLngLat",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=Us.convert(t);return new e(Ws(r.lng),qs(r.lat),Xs(n,r.lat))}}]),e}();function el(e,t,n,r,i,a,o,s,l){var c=(t+r)/2,u=(n+i)/2,d=new M(c,u);s(d),function(e,t,n,r,i,a){var o=n-i,s=r-a;return Math.abs((r-t)*o-(n-e)*s)/Math.hypot(o,s)}(d.x,d.y,a.x,a.y,o.x,o.y)>=l?(el(e,t,n,c,u,a,d,s,l),el(e,c,u,r,i,d,o,s,l)):e.push(o)}function tl(e,t,n){var r=e[0],i=r.x,a=r.y;t(r);for(var o=[r],s=1;s<e.length;s++){var l=e[s],c=l.x,u=l.y;t(l),el(o,i,a,c,u,r,l,t,n),i=c,a=u,r=l}return o}function nl(e,t,n,r){if(r(t,n)){var i=t.add(n)._mult(.5);nl(e,t,i,r),nl(e,i,n,r)}else e.push(n)}function rl(e,t){for(var n=e[0],r=[n],i=1;i<e.length;i++){var a=e[i];nl(r,n,a,t),n=a}return r}var il=Math.pow(2,14)-1,al=-il-1;function ol(e,t){var n=Math.round(e.x*t),r=Math.round(e.y*t);return e.x=N(n,al,il),e.y=N(r,al,il),(n<e.x||n>e.x+1||r<e.y||r>e.y+1)&&te("Geometry exceeds allowed extent, reduce your vector tile buffer size"),e}function sl(e,t,n){var r=e.loadGeometry(),i=e.extent,a=Bs/i;if(t&&n&&n.projection.isReprojectedInTileSpace)for(var o=1<<t.z,s=n.scale,l=n.x,c=n.y,u=n.projection,d=function(e){var n=Zs((t.x+e.x/i)/o),r=Ks((t.y+e.y/i)/o),a=u.project(n,r);e.x=(a.x*s-l)*i,e.y=(a.y*s-c)*i},h=0;h<r.length;h++)if(1!==e.type)r[h]=tl(r[h],d,1);else{var p,m=[],v=f(r[h]);try{for(v.s();!(p=v.n()).done;){var g=p.value;g.x<0||g.x>=i||g.y<0||g.y>=i||(d(g),m.push(g))}}catch(k){v.e(k)}finally{v.f()}r[h]=m}var y,x=f(r);try{for(x.s();!(y=x.n()).done;){var b,_=y.value,w=f(_);try{for(w.s();!(b=w.n()).done;)ol(b.value,a)}catch(k){w.e(k)}finally{w.f()}}}catch(k){x.e(k)}finally{x.f()}return r}function ll(e,t){return{type:e.type,id:e.id,properties:e.properties,geometry:t?sl(e):[]}}function cl(e,t,n,r,i){e.emplaceBack(2*t+(r+1)/2,2*n+(i+1)/2)}function ul(e,t,n){var r=16384;e.emplaceBack(t.x,t.y,t.z,n[0]*r,n[1]*r,n[2]*r)}var dl=function(){function e(t){h(this,e),this.zoom=t.zoom,this.overscaling=t.overscaling,this.layers=t.layers,this.layerIds=this.layers.map((function(e){return e.id})),this.index=t.index,this.hasPattern=!1,this.projection=t.projection,this.layoutVertexArray=new _o,this.indexArray=new Lo,this.segments=new Ns,this.programConfigurations=new Ms(t.layers,t.zoom),this.stateDependentLayerIds=this.layers.filter((function(e){return e.isStateDependent()})).map((function(e){return e.id}))}return p(e,[{key:"populate",value:function(e,t,n,r){var i=this.layers[0],a=[],o=null;"circle"===i.type&&(o=i.layout.get("circle-sort-key"));var s,l=f(e);try{for(l.s();!(s=l.n()).done;){var c=s.value,u=c.feature,d=c.id,h=c.index,p=c.sourceLayerIndex,m=this.layers[0]._featureFilter.needGeometry,v=ll(u,m);if(this.layers[0]._featureFilter.filter(new to(this.zoom),v,n)){var g=o?o.evaluate(v,{},n):void 0,y={id:d,properties:u.properties,type:u.type,sourceLayerIndex:p,index:h,geometry:m?v.geometry:sl(u,n,r),patterns:{},sortKey:g};a.push(y)}}}catch(T){l.e(T)}finally{l.f()}o&&a.sort((function(e,t){return e.sortKey-t.sortKey}));var x=null;"globe"===r.projection.name&&(this.globeExtVertexArray=new Mo,x=r.projection);for(var b=0,_=a;b<_.length;b++){var w=_[b],k=w.geometry,S=w.index,E=w.sourceLayerIndex,C=e[S].feature;this.addFeature(w,k,S,t.availableImages,n,x),t.featureIndex.insert(C,k,S,E,this.index)}}},{key:"update",value:function(e,t,n,r){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(e,t,this.stateDependentLayers,n,r)}},{key:"isEmpty",value:function(){return 0===this.layoutVertexArray.length}},{key:"uploadPending",value:function(){return!this.uploaded||this.programConfigurations.needsUpload}},{key:"upload",value:function(e){this.uploaded||(this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,Ds.members),this.indexBuffer=e.createIndexBuffer(this.indexArray),this.globeExtVertexArray&&(this.globeExtVertexBuffer=e.createVertexBuffer(this.globeExtVertexArray,Ls.members))),this.programConfigurations.upload(e),this.uploaded=!0}},{key:"destroy",value:function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.globeExtVertexBuffer&&this.globeExtVertexBuffer.destroy())}},{key:"addFeature",value:function(e,t,n,r,i,a){var o,s=f(t);try{for(s.s();!(o=s.n()).done;){var l,c=o.value,u=f(c);try{for(u.s();!(l=u.n()).done;){var d=l.value,h=d.x,p=d.y;if(!(h<0||h>=Bs||p<0||p>=Bs)){if(a){var m=a.projectTilePoint(h,p,i),v=a.upVector(i,h,p),g=this.globeExtVertexArray;ul(g,m,v),ul(g,m,v),ul(g,m,v),ul(g,m,v)}var y=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray,e.sortKey),x=y.vertexLength;cl(this.layoutVertexArray,h,p,-1,-1),cl(this.layoutVertexArray,h,p,1,-1),cl(this.layoutVertexArray,h,p,1,1),cl(this.layoutVertexArray,h,p,-1,1),this.indexArray.emplaceBack(x,x+1,x+2),this.indexArray.emplaceBack(x,x+2,x+3),y.vertexLength+=4,y.primitiveLength+=2}}}catch(b){u.e(b)}finally{u.f()}}}catch(b){s.e(b)}finally{s.f()}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,e,n,{},r,i)}}]),e}();function fl(e,t){for(var n=0;n<e.length;n++)if(_l(t,e[n]))return!0;for(var r=0;r<t.length;r++)if(_l(e,t[r]))return!0;return!!vl(e,t)}function hl(e,t,n){return!!_l(e,t)||!!yl(t,e,n)}function pl(e,t){if(1===e.length)return bl(t,e[0]);for(var n=0;n<t.length;n++)for(var r=t[n],i=0;i<r.length;i++)if(_l(e,r[i]))return!0;for(var a=0;a<e.length;a++)if(bl(t,e[a]))return!0;for(var o=0;o<t.length;o++)if(vl(e,t[o]))return!0;return!1}function ml(e,t,n){if(e.length>1){if(vl(e,t))return!0;for(var r=0;r<t.length;r++)if(yl(t[r],e,n))return!0}for(var i=0;i<e.length;i++)if(yl(e[i],t,n))return!0;return!1}function vl(e,t){if(0===e.length||0===t.length)return!1;for(var n=0;n<e.length-1;n++)for(var r=e[n],i=e[n+1],a=0;a<t.length-1;a++)if(gl(r,i,t[a],t[a+1]))return!0;return!1}function gl(e,t,n,r){return ne(e,n,r)!==ne(t,n,r)&&ne(e,t,n)!==ne(e,t,r)}function yl(e,t,n){var r=n*n;if(1===t.length)return e.distSqr(t[0])<r;for(var i=1;i<t.length;i++)if(xl(e,t[i-1],t[i])<r)return!0;return!1}function xl(e,t,n){var r=t.distSqr(n);if(0===r)return e.distSqr(t);var i=((e.x-t.x)*(n.x-t.x)+(e.y-t.y)*(n.y-t.y))/r;return e.distSqr(i<0?t:i>1?n:n.sub(t)._mult(i)._add(t))}function bl(e,t){for(var n,r,i,a=!1,o=0;o<e.length;o++)for(var s=0,l=(n=e[o]).length-1;s<n.length;l=s++)r=n[s],i=n[l],r.y>t.y!=i.y>t.y&&t.x<(i.x-r.x)*(t.y-r.y)/(i.y-r.y)+r.x&&(a=!a);return a}function _l(e,t){for(var n=!1,r=0,i=e.length-1;r<e.length;i=r++){var a=e[r],o=e[i];a.y>t.y!=o.y>t.y&&t.x<(o.x-a.x)*(t.y-a.y)/(o.y-a.y)+a.x&&(n=!n)}return n}function wl(e,t,n,r,i){var a,o=f(e);try{for(o.s();!(a=o.n()).done;){var s=a.value;if(t<=s.x&&n<=s.y&&r>=s.x&&i>=s.y)return!0}}catch(h){o.e(h)}finally{o.f()}var l=[new M(t,n),new M(t,i),new M(r,i),new M(r,n)];if(e.length>2){var c,u=f(l);try{for(u.s();!(c=u.n()).done;)if(_l(e,c.value))return!0}catch(h){u.e(h)}finally{u.f()}}for(var d=0;d<e.length-1;d++)if(kl(e[d],e[d+1],l))return!0;return!1}function kl(e,t,n){var r=n[0],i=n[2];if(e.x<r.x&&t.x<r.x||e.x>i.x&&t.x>i.x||e.y<r.y&&t.y<r.y||e.y>i.y&&t.y>i.y)return!1;var a=ne(e,t,n[0]);return a!==ne(e,t,n[1])||a!==ne(e,t,n[2])||a!==ne(e,t,n[3])}function Sl(e,t,n){var r=t.paint.get(e).value;return"constant"===r.kind?r.value:n.programConfigurations.get(t.id).getMaxValue(e)}function El(e){return Math.sqrt(e[0]*e[0]+e[1]*e[1])}function Cl(e,t,n,r,i){if(!t[0]&&!t[1])return e;var a=M.convert(t)._mult(i);"viewport"===n&&a._rotate(-r);for(var o=[],s=0;s<e.length;s++)o.push(e[s].sub(a));return o}function Tl(e,t,n,r){var i=M.convert(e)._mult(r);return"viewport"===t&&i._rotate(-n),i}na(dl,"CircleBucket",{omit:["layers"]});var Ml=new po({"circle-sort-key":new fo(ut.layout_circle["circle-sort-key"])}),Il={paint:new po({"circle-radius":new fo(ut.paint_circle["circle-radius"]),"circle-color":new fo(ut.paint_circle["circle-color"]),"circle-blur":new fo(ut.paint_circle["circle-blur"]),"circle-opacity":new fo(ut.paint_circle["circle-opacity"]),"circle-translate":new uo(ut.paint_circle["circle-translate"]),"circle-translate-anchor":new uo(ut.paint_circle["circle-translate-anchor"]),"circle-pitch-scale":new uo(ut.paint_circle["circle-pitch-scale"]),"circle-pitch-alignment":new uo(ut.paint_circle["circle-pitch-alignment"]),"circle-stroke-width":new fo(ut.paint_circle["circle-stroke-width"]),"circle-stroke-color":new fo(ut.paint_circle["circle-stroke-color"]),"circle-stroke-opacity":new fo(ut.paint_circle["circle-stroke-opacity"])}),layout:Ml},Ol=1e-6,Pl="undefined"!=typeof Float32Array?Float32Array:Array;function Al(){var e=new Pl(9);return Pl!=Float32Array&&(e[1]=0,e[2]=0,e[3]=0,e[5]=0,e[6]=0,e[7]=0),e[0]=1,e[4]=1,e[8]=1,e}function zl(e,t,n){var r=t[0],i=t[1],a=t[2],o=t[3],s=t[4],l=t[5],c=t[6],u=t[7],d=t[8],f=n[0],h=n[1],p=n[2],m=n[3],v=n[4],g=n[5],y=n[6],x=n[7],b=n[8];return e[0]=f*r+h*o+p*c,e[1]=f*i+h*s+p*u,e[2]=f*a+h*l+p*d,e[3]=m*r+v*o+g*c,e[4]=m*i+v*s+g*u,e[5]=m*a+v*l+g*d,e[6]=y*r+x*o+b*c,e[7]=y*i+x*s+b*u,e[8]=y*a+x*l+b*d,e}function jl(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function Rl(e,t){var n=t[0],r=t[1],i=t[2],a=t[3],o=t[4],s=t[5],l=t[6],c=t[7],u=t[8],d=t[9],f=t[10],h=t[11],p=t[12],m=t[13],v=t[14],g=t[15],y=n*s-r*o,x=n*l-i*o,b=n*c-a*o,_=r*l-i*s,w=r*c-a*s,k=i*c-a*l,S=u*m-d*p,E=u*v-f*p,C=u*g-h*p,T=d*v-f*m,M=d*g-h*m,I=f*g-h*v,O=y*I-x*M+b*T+_*C-w*E+k*S;return O?(e[0]=(s*I-l*M+c*T)*(O=1/O),e[1]=(i*M-r*I-a*T)*O,e[2]=(m*k-v*w+g*_)*O,e[3]=(f*w-d*k-h*_)*O,e[4]=(l*C-o*I-c*E)*O,e[5]=(n*I-i*C+a*E)*O,e[6]=(v*b-p*k-g*x)*O,e[7]=(u*k-f*b+h*x)*O,e[8]=(o*M-s*C+c*S)*O,e[9]=(r*C-n*M-a*S)*O,e[10]=(p*w-m*b+g*y)*O,e[11]=(d*b-u*w-h*y)*O,e[12]=(s*E-o*T-l*S)*O,e[13]=(n*T-r*E+i*S)*O,e[14]=(m*x-p*_-v*y)*O,e[15]=(u*_-d*x+f*y)*O,e):null}function Dl(e,t,n){var r=t[0],i=t[1],a=t[2],o=t[3],s=t[4],l=t[5],c=t[6],u=t[7],d=t[8],f=t[9],h=t[10],p=t[11],m=t[12],v=t[13],g=t[14],y=t[15],x=n[0],b=n[1],_=n[2],w=n[3];return e[0]=x*r+b*s+_*d+w*m,e[1]=x*i+b*l+_*f+w*v,e[2]=x*a+b*c+_*h+w*g,e[3]=x*o+b*u+_*p+w*y,e[4]=(x=n[4])*r+(b=n[5])*s+(_=n[6])*d+(w=n[7])*m,e[5]=x*i+b*l+_*f+w*v,e[6]=x*a+b*c+_*h+w*g,e[7]=x*o+b*u+_*p+w*y,e[8]=(x=n[8])*r+(b=n[9])*s+(_=n[10])*d+(w=n[11])*m,e[9]=x*i+b*l+_*f+w*v,e[10]=x*a+b*c+_*h+w*g,e[11]=x*o+b*u+_*p+w*y,e[12]=(x=n[12])*r+(b=n[13])*s+(_=n[14])*d+(w=n[15])*m,e[13]=x*i+b*l+_*f+w*v,e[14]=x*a+b*c+_*h+w*g,e[15]=x*o+b*u+_*p+w*y,e}function Ll(e,t,n){var r,i,a,o,s,l,c,u,d,f,h,p,m=n[0],v=n[1],g=n[2];return t===e?(e[12]=t[0]*m+t[4]*v+t[8]*g+t[12],e[13]=t[1]*m+t[5]*v+t[9]*g+t[13],e[14]=t[2]*m+t[6]*v+t[10]*g+t[14],e[15]=t[3]*m+t[7]*v+t[11]*g+t[15]):(i=t[1],a=t[2],o=t[3],s=t[4],l=t[5],c=t[6],u=t[7],d=t[8],f=t[9],h=t[10],p=t[11],e[0]=r=t[0],e[1]=i,e[2]=a,e[3]=o,e[4]=s,e[5]=l,e[6]=c,e[7]=u,e[8]=d,e[9]=f,e[10]=h,e[11]=p,e[12]=r*m+s*v+d*g+t[12],e[13]=i*m+l*v+f*g+t[13],e[14]=a*m+c*v+h*g+t[14],e[15]=o*m+u*v+p*g+t[15]),e}function Nl(e,t,n){var r=n[0],i=n[1],a=n[2];return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e[3]=t[3]*r,e[4]=t[4]*i,e[5]=t[5]*i,e[6]=t[6]*i,e[7]=t[7]*i,e[8]=t[8]*a,e[9]=t[9]*a,e[10]=t[10]*a,e[11]=t[11]*a,e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function Bl(e,t,n){var r=Math.sin(n),i=Math.cos(n),a=t[4],o=t[5],s=t[6],l=t[7],c=t[8],u=t[9],d=t[10],f=t[11];return t!==e&&(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[4]=a*i+c*r,e[5]=o*i+u*r,e[6]=s*i+d*r,e[7]=l*i+f*r,e[8]=c*i-a*r,e[9]=u*i-o*r,e[10]=d*i-s*r,e[11]=f*i-l*r,e}function Fl(e,t,n){var r=Math.sin(n),i=Math.cos(n),a=t[0],o=t[1],s=t[2],l=t[3],c=t[8],u=t[9],d=t[10],f=t[11];return t!==e&&(e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=a*i-c*r,e[1]=o*i-u*r,e[2]=s*i-d*r,e[3]=l*i-f*r,e[8]=a*r+c*i,e[9]=o*r+u*i,e[10]=s*r+d*i,e[11]=l*r+f*i,e}function Vl(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=t[1],e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=t[2],e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function Ul(e,t,n){var r,i,a,o=n[0],s=n[1],l=n[2],c=Math.hypot(o,s,l);return c<Ol?null:(o*=c=1/c,s*=c,l*=c,r=Math.sin(t),i=Math.cos(t),e[0]=o*o*(a=1-i)+i,e[1]=s*o*a+l*r,e[2]=l*o*a-s*r,e[3]=0,e[4]=o*s*a-l*r,e[5]=s*s*a+i,e[6]=l*s*a+o*r,e[7]=0,e[8]=o*l*a+s*r,e[9]=s*l*a-o*r,e[10]=l*l*a+i,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e)}Math.hypot||(Math.hypot=function(){for(var e=0,t=arguments.length;t--;)e+=arguments[t]*arguments[t];return Math.sqrt(e)});var Hl=Dl;function Gl(){var e=new Pl(3);return Pl!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0),e}function Wl(e){var t=new Pl(3);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t}function ql(e){return Math.hypot(e[0],e[1],e[2])}function Xl(e,t,n){var r=new Pl(3);return r[0]=e,r[1]=t,r[2]=n,r}function Zl(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],e}function Kl(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e[2]=t[2]-n[2],e}function Yl(e,t,n){return e[0]=t[0]*n[0],e[1]=t[1]*n[1],e[2]=t[2]*n[2],e}function $l(e,t,n){return e[0]=Math.min(t[0],n[0]),e[1]=Math.min(t[1],n[1]),e[2]=Math.min(t[2],n[2]),e}function Jl(e,t,n){return e[0]=Math.max(t[0],n[0]),e[1]=Math.max(t[1],n[1]),e[2]=Math.max(t[2],n[2]),e}function Ql(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e}function ec(e,t,n,r){return e[0]=t[0]+n[0]*r,e[1]=t[1]+n[1]*r,e[2]=t[2]+n[2]*r,e}function tc(e,t){var n=t[0],r=t[1],i=t[2],a=n*n+r*r+i*i;return a>0&&(a=1/Math.sqrt(a)),e[0]=t[0]*a,e[1]=t[1]*a,e[2]=t[2]*a,e}function nc(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function rc(e,t,n){var r=t[0],i=t[1],a=t[2],o=n[0],s=n[1],l=n[2];return e[0]=i*l-a*s,e[1]=a*o-r*l,e[2]=r*s-i*o,e}function ic(e,t,n){var r=t[0],i=t[1],a=t[2],o=n[3]*r+n[7]*i+n[11]*a+n[15];return e[0]=(n[0]*r+n[4]*i+n[8]*a+n[12])/(o=o||1),e[1]=(n[1]*r+n[5]*i+n[9]*a+n[13])/o,e[2]=(n[2]*r+n[6]*i+n[10]*a+n[14])/o,e}function ac(e,t,n){var r=n[0],i=n[1],a=n[2],o=t[0],s=t[1],l=t[2],c=i*l-a*s,u=a*o-r*l,d=r*s-i*o,f=i*d-a*u,h=a*c-r*d,p=r*u-i*c,m=2*n[3];return u*=m,d*=m,h*=2,p*=2,e[0]=o+(c*=m)+(f*=2),e[1]=s+u+h,e[2]=l+d+p,e}var oc,sc=Kl,lc=Yl,cc=ql;function uc(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e[3]=t[3]*n,e}function dc(e,t){var n=t[0],r=t[1],i=t[2],a=t[3],o=n*n+r*r+i*i+a*a;return o>0&&(o=1/Math.sqrt(o)),e[0]=n*o,e[1]=r*o,e[2]=i*o,e[3]=a*o,e}function fc(e,t,n){var r=t[0],i=t[1],a=t[2],o=t[3];return e[0]=n[0]*r+n[4]*i+n[8]*a+n[12]*o,e[1]=n[1]*r+n[5]*i+n[9]*a+n[13]*o,e[2]=n[2]*r+n[6]*i+n[10]*a+n[14]*o,e[3]=n[3]*r+n[7]*i+n[11]*a+n[15]*o,e}function hc(){var e=new Pl(4);return Pl!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0),e[3]=1,e}function pc(e){return e[0]=0,e[1]=0,e[2]=0,e[3]=1,e}function mc(e,t,n){n*=.5;var r=t[0],i=t[1],a=t[2],o=t[3],s=Math.sin(n),l=Math.cos(n);return e[0]=r*l+o*s,e[1]=i*l+a*s,e[2]=a*l-i*s,e[3]=o*l-r*s,e}function vc(e,t,n){n*=.5;var r=t[0],i=t[1],a=t[2],o=t[3],s=Math.sin(n),l=Math.cos(n);return e[0]=r*l-a*s,e[1]=i*l+o*s,e[2]=a*l+r*s,e[3]=o*l-i*s,e}Gl(),oc=new Pl(4),Pl!=Float32Array&&(oc[0]=0,oc[1]=0,oc[2]=0,oc[3]=0);var gc=dc;Gl(),Xl(1,0,0),Xl(0,1,0),hc(),hc(),Al();var yc=function(){function e(t,n){h(this,e),this.pos=t,this.dir=n}return p(e,[{key:"intersectsPlane",value:function(e,t,n){var r=nc(t,this.dir);if(Math.abs(r)<1e-6)return!1;var i=((e[0]-this.pos[0])*t[0]+(e[1]-this.pos[1])*t[1]+(e[2]-this.pos[2])*t[2])/r;return n[0]=this.pos[0]+this.dir[0]*i,n[1]=this.pos[1]+this.dir[1]*i,n[2]=this.pos[2]+this.dir[2]*i,!0}},{key:"closestPointOnSphere",value:function(e,t,n){if(function(e,t){var n=e[0],r=e[1],i=e[2],a=t[0],o=t[1],s=t[2];return Math.abs(n-a)<=Ol*Math.max(1,Math.abs(n),Math.abs(a))&&Math.abs(r-o)<=Ol*Math.max(1,Math.abs(r),Math.abs(o))&&Math.abs(i-s)<=Ol*Math.max(1,Math.abs(i),Math.abs(s))}(this.pos,e)||0===t)return n[0]=n[1]=n[2]=0,!1;var r=d(this.dir,3),i=r[0],a=r[1],o=r[2],s=this.pos[0]-e[0],l=this.pos[1]-e[1],c=this.pos[2]-e[2],u=i*i+a*a+o*o,f=2*(s*i+l*a+c*o),h=f*f-4*u*(s*s+l*l+c*c-t*t);if(h<0){var p=Math.max(-f/2,0),m=s+i*p,v=l+a*p,g=c+o*p,y=Math.hypot(m,v,g);return n[0]=m*t/y,n[1]=v*t/y,n[2]=g*t/y,!1}var x=(-f-Math.sqrt(h))/(2*u);if(x<0){var b=Math.hypot(s,l,c);return n[0]=s*t/b,n[1]=l*t/b,n[2]=c*t/b,!1}return n[0]=s+i*x,n[1]=l+a*x,n[2]=c+o*x,!0}}]),e}(),xc=function(){function e(t,n,r,i,a){h(this,e),this.TL=t,this.TR=n,this.BR=r,this.BL=i,this.horizon=a}return p(e,null,[{key:"fromInvProjectionMatrix",value:function(t,n,r){var i=[-1,1,1],a=[1,1,1],o=[1,-1,1],s=[-1,-1,1];return new e(ic(i,i,t),ic(a,a,t),ic(o,o,t),ic(s,s,t),n/r)}}]),e}(),bc=function(){function e(t,n){h(this,e),this.points=t,this.planes=n}return p(e,null,[{key:"fromInvProjectionMatrix",value:function(t,n,r,i){var a=Math.pow(2,r),o=[[-1,1,-1,1],[1,1,-1,1],[1,-1,-1,1],[-1,-1,-1,1],[-1,1,1,1],[1,1,1,1],[1,-1,1,1],[-1,-1,1,1]].map((function(e){var r=fc([],e,t),o=1/r[3]/n*a;return function(e,t,n){return e[0]=t[0]*n[0],e[1]=t[1]*n[1],e[2]=t[2]*n[2],e[3]=t[3]*n[3],e}(r,r,[o,o,i?1/r[3]:o,o])})),s=[[0,1,2],[6,5,4],[0,3,7],[2,1,5],[3,2,6],[0,4,5]].map((function(e){var t=tc([],rc([],sc([],o[e[0]],o[e[1]]),sc([],o[e[2]],o[e[1]]))),n=-nc(t,o[e[1]]);return t.concat(n)}));return new e(o,s)}}]),e}(),_c=function(){function e(t,n){h(this,e),this.min=t,this.max=n,this.center=Ql([],Zl([],this.min,this.max),.5)}return p(e,[{key:"quadrant",value:function(t){for(var n=[t%2==0,t<2],r=Wl(this.min),i=Wl(this.max),a=0;a<n.length;a++)r[a]=n[a]?this.min[a]:this.center[a],i[a]=n[a]?this.center[a]:this.max[a];return i[2]=this.max[2],new e(r,i)}},{key:"distanceX",value:function(e){return Math.max(Math.min(this.max[0],e[0]),this.min[0])-e[0]}},{key:"distanceY",value:function(e){return Math.max(Math.min(this.max[1],e[1]),this.min[1])-e[1]}},{key:"distanceZ",value:function(e){return Math.max(Math.min(this.max[2],e[2]),this.min[2])-e[2]}},{key:"getCorners",value:function(){var e=this.min,t=this.max;return[[e[0],e[1],e[2]],[t[0],e[1],e[2]],[t[0],t[1],e[2]],[e[0],t[1],e[2]],[e[0],e[1],t[2]],[t[0],e[1],t[2]],[t[0],t[1],t[2]],[e[0],t[1],t[2]]]}},{key:"intersects",value:function(e){for(var t=this.getCorners(),n=!0,r=0;r<e.planes.length;r++){for(var i=e.planes[r],a=0,o=0;o<t.length;o++)a+=nc(i,t[o])+i[3]>=0;if(0===a)return 0;a!==t.length&&(n=!1)}if(n)return 2;for(var s=0;s<3;s++){for(var l=Number.MAX_VALUE,c=-Number.MAX_VALUE,u=0;u<e.points.length;u++){var d=e.points[u][s]-this.min[s];l=Math.min(l,d),c=Math.max(c,d)}if(c<0||l>this.max[s]-this.min[s])return 0}return 1}}],[{key:"fromPoints",value:function(t){var n,r=[1/0,1/0,1/0],i=[-1/0,-1/0,-1/0],a=f(t);try{for(a.s();!(n=a.n()).done;){var o=n.value;$l(r,r,o),Jl(i,i,o)}}catch(s){a.e(s)}finally{a.f()}return new e(r,i)}},{key:"applyTransform",value:function(t,n){for(var r=t.getCorners(),i=0;i<r.length;++i)ic(r[i],r[i],n);return e.fromPoints(r)}}]),e}();function wc(e,t,n,r,i,a,o,s,l){if(a&&e.queryGeometry.isAboveHorizon)return!1;a&&(l*=e.pixelToTileUnitsFactor);var c,u=e.tileID.canonical,d=n.projection.upVectorScale(u,n.center.lat,n.worldSize).metersToTile,h=f(t);try{for(h.s();!(c=h.n()).done;){var p,m=c.value,v=f(m);try{var g=function(){var t=p.value,c=t.add(s),f=i&&n.elevation?n.elevation.exaggeration()*i.getElevationAt(c.x,c.y,!0):0,h=n.projection.projectTilePoint(c.x,c.y,u);if(f>0){var m=n.projection.upVector(u,c.x,c.y);h.x+=m[0]*d*f,h.y+=m[1]*d*f,h.z+=m[2]*d*f}var v=a?c:kc(h.x,h.y,h.z,r),g=a?e.tilespaceRays.map((function(e){return Cc(e,f)})):e.queryGeometry.screenGeometry,y=fc([],[h.x,h.y,h.z,1],r);if(!o&&a?l*=y[3]/n.cameraToCenterDistance:o&&!a&&(l*=n.cameraToCenterDistance/y[3]),a){var x=Ks((t.y/Bs+u.y)/(1<<u.z));l/=n.projection.pixelsPerMeter(x,1)/Xs(1,x)}if(hl(g,v,l))return{v:!0}};for(v.s();!(p=v.n()).done;){var y=g();if("object"===typeof y)return y.v}}catch(x){v.e(x)}finally{v.f()}}}catch(x){h.e(x)}finally{h.f()}return!1}function kc(e,t,n,r){var i=fc([],[e,t,n,1],r);return new M(i[0]/i[3],i[1]/i[3])}var Sc=Xl(0,0,0),Ec=Xl(0,0,1);function Cc(e,t){var n=Gl();return Sc[2]=t,e.intersectsPlane(Sc,Ec,n),new M(n[0],n[1])}var Tc=function(e){m(n,e);var t=v(n);function n(){return h(this,n),t.apply(this,arguments)}return p(n)}(dl);function Mc(e,t,n,r){var i=t.width,a=t.height;if(r){if(r instanceof Uint8ClampedArray)r=new Uint8Array(r.buffer);else if(r.length!==i*a*n)throw new RangeError("mismatched image size")}else r=new Uint8Array(i*a*n);return e.width=i,e.height=a,e.data=r,e}function Ic(e,t,n){var r=t.width,i=t.height;r===e.width&&i===e.height||(Oc(e,t,{x:0,y:0},{x:0,y:0},{width:Math.min(e.width,r),height:Math.min(e.height,i)},n),e.width=r,e.height=i,e.data=t.data)}function Oc(e,t,n,r,i,a){if(0===i.width||0===i.height)return t;if(i.width>e.width||i.height>e.height||n.x>e.width-i.width||n.y>e.height-i.height)throw new RangeError("out of range source coordinates for image copy");if(i.width>t.width||i.height>t.height||r.x>t.width-i.width||r.y>t.height-i.height)throw new RangeError("out of range destination coordinates for image copy");for(var o=e.data,s=t.data,l=0;l<i.height;l++)for(var c=((n.y+l)*e.width+n.x)*a,u=((r.y+l)*t.width+r.x)*a,d=0;d<i.width*a;d++)s[u+d]=o[c+d];return t}na(Tc,"HeatmapBucket",{omit:["layers"]});var Pc=function(){function e(t,n){h(this,e),Mc(this,t,1,n)}return p(e,[{key:"resize",value:function(t){Ic(this,new e(t),1)}},{key:"clone",value:function(){return new e({width:this.width,height:this.height},new Uint8Array(this.data))}}],[{key:"copy",value:function(e,t,n,r,i){Oc(e,t,n,r,i,1)}}]),e}(),Ac=function(){function e(t,n){h(this,e),Mc(this,t,4,n)}return p(e,[{key:"resize",value:function(t){Ic(this,new e(t),4)}},{key:"replace",value:function(e,t){t?this.data.set(e):this.data=e instanceof Uint8ClampedArray?new Uint8Array(e.buffer):e}},{key:"clone",value:function(){return new e({width:this.width,height:this.height},new Uint8Array(this.data))}}],[{key:"copy",value:function(e,t,n,r,i){Oc(e,t,n,r,i,4)}}]),e}();na(Pc,"AlphaImage"),na(Ac,"RGBAImage");var zc={paint:new po({"heatmap-radius":new fo(ut.paint_heatmap["heatmap-radius"]),"heatmap-weight":new fo(ut.paint_heatmap["heatmap-weight"]),"heatmap-intensity":new uo(ut.paint_heatmap["heatmap-intensity"]),"heatmap-color":new ho(ut.paint_heatmap["heatmap-color"]),"heatmap-opacity":new uo(ut.paint_heatmap["heatmap-opacity"])})};function jc(e){var t={},n=e.resolution||256,r=e.clips?e.clips.length:1,i=e.image||new Ac({width:n,height:r}),a=function(n,r,a){t[e.evaluationKey]=a;var o=e.expression.evaluate(t);i.data[n+r+0]=Math.floor(255*o.r/o.a),i.data[n+r+1]=Math.floor(255*o.g/o.a),i.data[n+r+2]=Math.floor(255*o.b/o.a),i.data[n+r+3]=Math.floor(255*o.a)};if(e.clips)for(var o=0,s=0;o<r;++o,s+=4*n)for(var l=0,c=0;l<n;l++,c+=4){var u=l/(n-1),d=e.clips[o];a(s,c,d.start*(1-u)+d.end*u)}else for(var f=0,h=0;f<n;f++,h+=4)a(0,h,f/(n-1));return i}var Rc={paint:new po({"hillshade-illumination-direction":new uo(ut.paint_hillshade["hillshade-illumination-direction"]),"hillshade-illumination-anchor":new uo(ut.paint_hillshade["hillshade-illumination-anchor"]),"hillshade-exaggeration":new uo(ut.paint_hillshade["hillshade-exaggeration"]),"hillshade-shadow-color":new uo(ut.paint_hillshade["hillshade-shadow-color"]),"hillshade-highlight-color":new uo(ut.paint_hillshade["hillshade-highlight-color"]),"hillshade-accent-color":new uo(ut.paint_hillshade["hillshade-accent-color"])})},Dc=xo([{name:"a_pos",components:2,type:"Int16"}],4).members,Lc={exports:{}};function Nc(e,t,n){n=n||2;var r,i,a,o,s,l,c,u=t&&t.length,d=u?t[0]*n:e.length,f=Bc(e,0,d,n,!0),h=[];if(!f||f.next===f.prev)return h;if(u&&(f=function(e,t,n,r){var i,a,o,s=[];for(i=0,a=t.length;i<a;i++)(o=Bc(e,t[i]*r,i<a-1?t[i+1]*r:e.length,r,!1))===o.next&&(o.steiner=!0),s.push(Yc(o));for(s.sort(qc),i=0;i<s.length;i++)n=Xc(s[i],n);return n}(e,t,f,n)),e.length>80*n){r=a=e[0],i=o=e[1];for(var p=n;p<d;p+=n)(s=e[p])<r&&(r=s),(l=e[p+1])<i&&(i=l),s>a&&(a=s),l>o&&(o=l);c=0!==(c=Math.max(a-r,o-i))?32767/c:0}return Vc(f,h,n,r,i,c,0),h}function Bc(e,t,n,r,i){var a,o;if(i===cu(e,t,n,r)>0)for(a=t;a<n;a+=r)o=ou(a,e[a],e[a+1],o);else for(a=n-r;a>=t;a-=r)o=ou(a,e[a],e[a+1],o);return o&&eu(o,o.next)&&(su(o),o=o.next),o}function Fc(e,t){if(!e)return e;t||(t=e);var n,r=e;do{if(n=!1,r.steiner||!eu(r,r.next)&&0!==Qc(r.prev,r,r.next))r=r.next;else{if(su(r),(r=t=r.prev)===r.next)break;n=!0}}while(n||r!==t);return t}function Vc(e,t,n,r,i,a,o){if(e){!o&&a&&function(e,t,n,r){var i=e;do{0===i.z&&(i.z=Kc(i.x,i.y,t,n,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next}while(i!==e);i.prevZ.nextZ=null,i.prevZ=null,function(e){var t,n,r,i,a,o,s,l,c=1;do{for(n=e,e=null,a=null,o=0;n;){for(o++,r=n,s=0,t=0;t<c&&(s++,r=r.nextZ);t++);for(l=c;s>0||l>0&&r;)0!==s&&(0===l||!r||n.z<=r.z)?(i=n,n=n.nextZ,s--):(i=r,r=r.nextZ,l--),a?a.nextZ=i:e=i,i.prevZ=a,a=i;n=r}a.nextZ=null,c*=2}while(o>1)}(i)}(e,r,i,a);for(var s,l,c=e;e.prev!==e.next;)if(s=e.prev,l=e.next,a?Hc(e,r,i,a):Uc(e))t.push(s.i/n|0),t.push(e.i/n|0),t.push(l.i/n|0),su(e),e=l.next,c=l.next;else if((e=l)===c){o?1===o?Vc(e=Gc(Fc(e),t,n),t,n,r,i,a,2):2===o&&Wc(e,t,n,r,i,a):Vc(Fc(e),t,n,r,i,a,1);break}}}function Uc(e){var t=e.prev,n=e,r=e.next;if(Qc(t,n,r)>=0)return!1;for(var i=t.x,a=n.x,o=r.x,s=t.y,l=n.y,c=r.y,u=i<a?i<o?i:o:a<o?a:o,d=s<l?s<c?s:c:l<c?l:c,f=i>a?i>o?i:o:a>o?a:o,h=s>l?s>c?s:c:l>c?l:c,p=r.next;p!==t;){if(p.x>=u&&p.x<=f&&p.y>=d&&p.y<=h&&$c(i,s,a,l,o,c,p.x,p.y)&&Qc(p.prev,p,p.next)>=0)return!1;p=p.next}return!0}function Hc(e,t,n,r){var i=e.prev,a=e,o=e.next;if(Qc(i,a,o)>=0)return!1;for(var s=i.x,l=a.x,c=o.x,u=i.y,d=a.y,f=o.y,h=s<l?s<c?s:c:l<c?l:c,p=u<d?u<f?u:f:d<f?d:f,m=s>l?s>c?s:c:l>c?l:c,v=u>d?u>f?u:f:d>f?d:f,g=Kc(h,p,t,n,r),y=Kc(m,v,t,n,r),x=e.prevZ,b=e.nextZ;x&&x.z>=g&&b&&b.z<=y;){if(x.x>=h&&x.x<=m&&x.y>=p&&x.y<=v&&x!==i&&x!==o&&$c(s,u,l,d,c,f,x.x,x.y)&&Qc(x.prev,x,x.next)>=0)return!1;if(x=x.prevZ,b.x>=h&&b.x<=m&&b.y>=p&&b.y<=v&&b!==i&&b!==o&&$c(s,u,l,d,c,f,b.x,b.y)&&Qc(b.prev,b,b.next)>=0)return!1;b=b.nextZ}for(;x&&x.z>=g;){if(x.x>=h&&x.x<=m&&x.y>=p&&x.y<=v&&x!==i&&x!==o&&$c(s,u,l,d,c,f,x.x,x.y)&&Qc(x.prev,x,x.next)>=0)return!1;x=x.prevZ}for(;b&&b.z<=y;){if(b.x>=h&&b.x<=m&&b.y>=p&&b.y<=v&&b!==i&&b!==o&&$c(s,u,l,d,c,f,b.x,b.y)&&Qc(b.prev,b,b.next)>=0)return!1;b=b.nextZ}return!0}function Gc(e,t,n){var r=e;do{var i=r.prev,a=r.next.next;!eu(i,a)&&tu(i,r,r.next,a)&&iu(i,a)&&iu(a,i)&&(t.push(i.i/n|0),t.push(r.i/n|0),t.push(a.i/n|0),su(r),su(r.next),r=e=a),r=r.next}while(r!==e);return Fc(r)}function Wc(e,t,n,r,i,a){var o=e;do{for(var s=o.next.next;s!==o.prev;){if(o.i!==s.i&&Jc(o,s)){var l=au(o,s);return o=Fc(o,o.next),l=Fc(l,l.next),Vc(o,t,n,r,i,a,0),void Vc(l,t,n,r,i,a,0)}s=s.next}o=o.next}while(o!==e)}function qc(e,t){return e.x-t.x}function Xc(e,t){var n=function(e,t){var n,r=t,i=e.x,a=e.y,o=-1/0;do{if(a<=r.y&&a>=r.next.y&&r.next.y!==r.y){var s=r.x+(a-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(s<=i&&s>o&&(o=s,n=r.x<r.next.x?r:r.next,s===i))return n}r=r.next}while(r!==t);if(!n)return null;var l,c=n,u=n.x,d=n.y,f=1/0;r=n;do{i>=r.x&&r.x>=u&&i!==r.x&&$c(a<d?i:o,a,u,d,a<d?o:i,a,r.x,r.y)&&(l=Math.abs(a-r.y)/(i-r.x),iu(r,e)&&(l<f||l===f&&(r.x>n.x||r.x===n.x&&Zc(n,r)))&&(n=r,f=l)),r=r.next}while(r!==c);return n}(e,t);if(!n)return t;var r=au(n,e);return Fc(r,r.next),Fc(n,n.next)}function Zc(e,t){return Qc(e.prev,e,t.prev)<0&&Qc(t.next,e,e.next)<0}function Kc(e,t,n,r,i){return(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=(e-n)*i|0)|e<<8))|e<<4))|e<<2))|e<<1))|(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=(t-r)*i|0)|t<<8))|t<<4))|t<<2))|t<<1))<<1}function Yc(e){var t=e,n=e;do{(t.x<n.x||t.x===n.x&&t.y<n.y)&&(n=t),t=t.next}while(t!==e);return n}function $c(e,t,n,r,i,a,o,s){return(i-o)*(t-s)>=(e-o)*(a-s)&&(e-o)*(r-s)>=(n-o)*(t-s)&&(n-o)*(a-s)>=(i-o)*(r-s)}function Jc(e,t){return e.next.i!==t.i&&e.prev.i!==t.i&&!function(e,t){var n=e;do{if(n.i!==e.i&&n.next.i!==e.i&&n.i!==t.i&&n.next.i!==t.i&&tu(n,n.next,e,t))return!0;n=n.next}while(n!==e);return!1}(e,t)&&(iu(e,t)&&iu(t,e)&&function(e,t){var n=e,r=!1,i=(e.x+t.x)/2,a=(e.y+t.y)/2;do{n.y>a!=n.next.y>a&&n.next.y!==n.y&&i<(n.next.x-n.x)*(a-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next}while(n!==e);return r}(e,t)&&(Qc(e.prev,e,t.prev)||Qc(e,t.prev,t))||eu(e,t)&&Qc(e.prev,e,e.next)>0&&Qc(t.prev,t,t.next)>0)}function Qc(e,t,n){return(t.y-e.y)*(n.x-t.x)-(t.x-e.x)*(n.y-t.y)}function eu(e,t){return e.x===t.x&&e.y===t.y}function tu(e,t,n,r){var i=ru(Qc(e,t,n)),a=ru(Qc(e,t,r)),o=ru(Qc(n,r,e)),s=ru(Qc(n,r,t));return i!==a&&o!==s||!(0!==i||!nu(e,n,t))||!(0!==a||!nu(e,r,t))||!(0!==o||!nu(n,e,r))||!(0!==s||!nu(n,t,r))}function nu(e,t,n){return t.x<=Math.max(e.x,n.x)&&t.x>=Math.min(e.x,n.x)&&t.y<=Math.max(e.y,n.y)&&t.y>=Math.min(e.y,n.y)}function ru(e){return e>0?1:e<0?-1:0}function iu(e,t){return Qc(e.prev,e,e.next)<0?Qc(e,t,e.next)>=0&&Qc(e,e.prev,t)>=0:Qc(e,t,e.prev)<0||Qc(e,e.next,t)<0}function au(e,t){var n=new lu(e.i,e.x,e.y),r=new lu(t.i,t.x,t.y),i=e.next,a=t.prev;return e.next=t,t.prev=e,n.next=i,i.prev=n,r.next=n,n.prev=r,a.next=r,r.prev=a,r}function ou(e,t,n,r){var i=new lu(e,t,n);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function su(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function lu(e,t,n){this.i=e,this.x=t,this.y=n,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function cu(e,t,n,r){for(var i=0,a=t,o=n-r;a<n;a+=r)i+=(e[o]-e[a])*(e[a+1]+e[o+1]),o=a;return i}function uu(e,t,n,r,i){du(e,t,n||0,r||e.length-1,i||hu)}function du(e,t,n,r,i){for(;r>n;){if(r-n>600){var a=r-n+1,o=t-n+1,s=Math.log(a),l=.5*Math.exp(2*s/3),c=.5*Math.sqrt(s*l*(a-l)/a)*(o-a/2<0?-1:1);du(e,t,Math.max(n,Math.floor(t-o*l/a+c)),Math.min(r,Math.floor(t+(a-o)*l/a+c)),i)}var u=e[t],d=n,f=r;for(fu(e,n,t),i(e[r],u)>0&&fu(e,n,r);d<f;){for(fu(e,d,f),d++,f--;i(e[d],u)<0;)d++;for(;i(e[f],u)>0;)f--}0===i(e[n],u)?fu(e,n,f):fu(e,++f,r),f<=t&&(n=f+1),t<=f&&(r=f-1)}}function fu(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function hu(e,t){return e<t?-1:e>t?1:0}function pu(e,t){var n=e.length;if(n<=1)return[e];for(var r,i,a=[],o=0;o<n;o++){var s=re(e[o]);0!==s&&(e[o].area=Math.abs(s),void 0===i&&(i=s<0),i===s<0?(r&&a.push(r),r=[e[o]]):r.push(e[o]))}if(r&&a.push(r),t>1)for(var l=0;l<a.length;l++)a[l].length<=t||(uu(a[l],t,1,a[l].length-1,mu),a[l]=a[l].slice(0,t));return a}function mu(e,t){return t.area-e.area}function vu(e,t,n){var r,i=n.patternDependencies,a=!1,o=f(t);try{for(o.s();!(r=o.n()).done;){var s=r.value.paint.get("".concat(e,"-pattern"));s.isConstant()||(a=!0);var l=s.constantOr(null);l&&(a=!0,i[l]=!0)}}catch(c){o.e(c)}finally{o.f()}return a}function gu(e,t,n,r,i){var a,o=i.patternDependencies,s=f(t);try{for(s.s();!(a=s.n()).done;){var l=a.value,c=l.paint.get("".concat(e,"-pattern")).value;if("constant"!==c.kind){var u=c.evaluate({zoom:r},n,{},i.availableImages);o[u=u&&u.name?u.name:u]=!0,n.patterns[l.id]=u}}}catch(d){s.e(d)}finally{s.f()}return n}Lc.exports=Nc,Lc.exports.default=Nc,Nc.deviation=function(e,t,n,r){var i=t&&t.length,a=Math.abs(cu(e,0,i?t[0]*n:e.length,n));if(i)for(var o=0,s=t.length;o<s;o++)a-=Math.abs(cu(e,t[o]*n,o<s-1?t[o+1]*n:e.length,n));var l=0;for(o=0;o<r.length;o+=3){var c=r[o]*n,u=r[o+1]*n,d=r[o+2]*n;l+=Math.abs((e[c]-e[d])*(e[u+1]-e[c+1])-(e[c]-e[u])*(e[d+1]-e[c+1]))}return 0===a&&0===l?0:Math.abs((l-a)/a)},Nc.flatten=function(e){for(var t=e[0][0].length,n={vertices:[],holes:[],dimensions:t},r=0,i=0;i<e.length;i++){for(var a=0;a<e[i].length;a++)for(var o=0;o<t;o++)n.vertices.push(e[i][a][o]);i>0&&n.holes.push(r+=e[i-1].length)}return n};var yu=function(){function e(t){h(this,e),this.zoom=t.zoom,this.overscaling=t.overscaling,this.layers=t.layers,this.layerIds=this.layers.map((function(e){return e.id})),this.index=t.index,this.hasPattern=!1,this.patternFeatures=[],this.layoutVertexArray=new _o,this.indexArray=new Lo,this.indexArray2=new Ho,this.programConfigurations=new Ms(t.layers,t.zoom),this.segments=new Ns,this.segments2=new Ns,this.stateDependentLayerIds=this.layers.filter((function(e){return e.isStateDependent()})).map((function(e){return e.id})),this.projection=t.projection}return p(e,[{key:"populate",value:function(e,t,n,r){this.hasPattern=vu("fill",this.layers,t);var i,a=this.layers[0].layout.get("fill-sort-key"),o=[],s=f(e);try{for(s.s();!(i=s.n()).done;){var l=i.value,c=l.feature,u=l.id,d=l.index,h=l.sourceLayerIndex,p=this.layers[0]._featureFilter.needGeometry,m=ll(c,p);if(this.layers[0]._featureFilter.filter(new to(this.zoom),m,n)){var v=a?a.evaluate(m,{},n,t.availableImages):void 0,g={id:u,properties:c.properties,type:c.type,sourceLayerIndex:h,index:d,geometry:p?m.geometry:sl(c,n,r),patterns:{},sortKey:v};o.push(g)}}}catch(E){s.e(E)}finally{s.f()}a&&o.sort((function(e,t){return e.sortKey-t.sortKey}));for(var y=0,x=o;y<x.length;y++){var b=x[y],_=b.geometry,w=b.index,k=b.sourceLayerIndex;if(this.hasPattern){var S=gu("fill",this.layers,b,this.zoom,t);this.patternFeatures.push(S)}else this.addFeature(b,_,w,n,{},t.availableImages);t.featureIndex.insert(e[w].feature,_,w,k,this.index)}}},{key:"update",value:function(e,t,n,r){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(e,t,this.stateDependentLayers,n,r)}},{key:"addFeatures",value:function(e,t,n,r,i){var a,o=f(this.patternFeatures);try{for(o.s();!(a=o.n()).done;){var s=a.value;this.addFeature(s,s.geometry,s.index,t,n,r)}}catch(l){o.e(l)}finally{o.f()}}},{key:"isEmpty",value:function(){return 0===this.layoutVertexArray.length}},{key:"uploadPending",value:function(){return!this.uploaded||this.programConfigurations.needsUpload}},{key:"upload",value:function(e){this.uploaded||(this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,Dc),this.indexBuffer=e.createIndexBuffer(this.indexArray),this.indexBuffer2=e.createIndexBuffer(this.indexArray2)),this.programConfigurations.upload(e),this.uploaded=!0}},{key:"destroy",value:function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.indexBuffer2.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.segments2.destroy())}},{key:"addFeature",value:function(e,t,n,r,i){var a,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[],s=f(pu(t,500));try{for(s.s();!(a=s.n()).done;){var l,c=a.value,u=0,d=f(c);try{for(d.s();!(l=d.n()).done;)u+=l.value.length}catch(E){d.e(E)}finally{d.f()}var h,p=this.segments.prepareSegment(u,this.layoutVertexArray,this.indexArray),m=p.vertexLength,v=[],g=[],y=f(c);try{for(y.s();!(h=y.n()).done;){var x=h.value;if(0!==x.length){x!==c[0]&&g.push(v.length/2);var b=this.segments2.prepareSegment(x.length,this.layoutVertexArray,this.indexArray2),_=b.vertexLength;this.layoutVertexArray.emplaceBack(x[0].x,x[0].y),this.indexArray2.emplaceBack(_+x.length-1,_),v.push(x[0].x),v.push(x[0].y);for(var w=1;w<x.length;w++)this.layoutVertexArray.emplaceBack(x[w].x,x[w].y),this.indexArray2.emplaceBack(_+w-1,_+w),v.push(x[w].x),v.push(x[w].y);b.vertexLength+=x.length,b.primitiveLength+=x.length}}}catch(E){y.e(E)}finally{y.f()}for(var k=Lc.exports(v,g),S=0;S<k.length;S+=3)this.indexArray.emplaceBack(m+k[S],m+k[S+1],m+k[S+2]);p.vertexLength+=u,p.primitiveLength+=k.length/3}}catch(E){s.e(E)}finally{s.f()}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,e,n,i,o,r)}}]),e}();na(yu,"FillBucket",{omit:["layers","patternFeatures"]});var xu=new po({"fill-sort-key":new fo(ut.layout_fill["fill-sort-key"])}),bu={paint:new po({"fill-antialias":new uo(ut.paint_fill["fill-antialias"]),"fill-opacity":new fo(ut.paint_fill["fill-opacity"]),"fill-color":new fo(ut.paint_fill["fill-color"]),"fill-outline-color":new fo(ut.paint_fill["fill-outline-color"]),"fill-translate":new uo(ut.paint_fill["fill-translate"]),"fill-translate-anchor":new uo(ut.paint_fill["fill-translate-anchor"]),"fill-pattern":new fo(ut.paint_fill["fill-pattern"])}),layout:xu},_u=xo([{name:"a_pos_normal_ed",components:4,type:"Int16"}]),wu=xo([{name:"a_centroid_pos",components:2,type:"Uint16"}]),ku=xo([{name:"a_pos_3",components:3,type:"Int16"},{name:"a_pos_normal_3",components:3,type:"Int16"}]),Su=_u.members,Eu={},Cu=M,Tu=Mu;function Mu(e,t,n,r,i){this.properties={},this.extent=n,this.type=0,this._pbf=e,this._geometry=-1,this._keys=r,this._values=i,e.readFields(Iu,this,t)}function Iu(e,t,n){1==e?t.id=n.readVarint():2==e?function(e,t){for(var n=e.readVarint()+e.pos;e.pos<n;){var r=t._keys[e.readVarint()],i=t._values[e.readVarint()];t.properties[r]=i}}(n,t):3==e?t.type=n.readVarint():4==e&&(t._geometry=n.pos)}function Ou(e){for(var t,n,r=0,i=0,a=e.length,o=a-1;i<a;o=i++)r+=((n=e[o]).x-(t=e[i]).x)*(t.y+n.y);return r}Mu.types=["Unknown","Point","LineString","Polygon"],Mu.prototype.loadGeometry=function(){var e=this._pbf;e.pos=this._geometry;for(var t,n=e.readVarint()+e.pos,r=1,i=0,a=0,o=0,s=[];e.pos<n;){if(i<=0){var l=e.readVarint();r=7&l,i=l>>3}if(i--,1===r||2===r)a+=e.readSVarint(),o+=e.readSVarint(),1===r&&(t&&s.push(t),t=[]),t.push(new Cu(a,o));else{if(7!==r)throw new Error("unknown command "+r);t&&t.push(t[0].clone())}}return t&&s.push(t),s},Mu.prototype.bbox=function(){var e=this._pbf;e.pos=this._geometry;for(var t=e.readVarint()+e.pos,n=1,r=0,i=0,a=0,o=1/0,s=-1/0,l=1/0,c=-1/0;e.pos<t;){if(r<=0){var u=e.readVarint();n=7&u,r=u>>3}if(r--,1===n||2===n)(i+=e.readSVarint())<o&&(o=i),i>s&&(s=i),(a+=e.readSVarint())<l&&(l=a),a>c&&(c=a);else if(7!==n)throw new Error("unknown command "+n)}return[o,l,s,c]},Mu.prototype.toGeoJSON=function(e,t,n){var r,i,a=this.extent*Math.pow(2,n),o=this.extent*e,s=this.extent*t,l=this.loadGeometry(),c=Mu.types[this.type];function u(e){for(var t=0;t<e.length;t++){var n=e[t];e[t]=[360*(n.x+o)/a-180,360/Math.PI*Math.atan(Math.exp((180-360*(n.y+s)/a)*Math.PI/180))-90]}}switch(this.type){case 1:var d=[];for(r=0;r<l.length;r++)d[r]=l[r][0];u(l=d);break;case 2:for(r=0;r<l.length;r++)u(l[r]);break;case 3:for(l=function(e){var t=e.length;if(t<=1)return[e];for(var n,r,i=[],a=0;a<t;a++){var o=Ou(e[a]);0!==o&&(void 0===r&&(r=o<0),r===o<0?(n&&i.push(n),n=[e[a]]):n.push(e[a]))}return n&&i.push(n),i}(l),r=0;r<l.length;r++)for(i=0;i<l[r].length;i++)u(l[r][i])}1===l.length?l=l[0]:c="Multi"+c;var f={type:"Feature",geometry:{type:c,coordinates:l},properties:this.properties};return"id"in this&&(f.id=this.id),f};var Pu=Tu,Au=zu;function zu(e,t){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=e,this._keys=[],this._values=[],this._features=[],e.readFields(ju,this,t),this.length=this._features.length}function ju(e,t,n){15===e?t.version=n.readVarint():1===e?t.name=n.readString():5===e?t.extent=n.readVarint():2===e?t._features.push(n.pos):3===e?t._keys.push(n.readString()):4===e&&t._values.push(function(e){for(var t=null,n=e.readVarint()+e.pos;e.pos<n;){var r=e.readVarint()>>3;t=1===r?e.readString():2===r?e.readFloat():3===r?e.readDouble():4===r?e.readVarint64():5===r?e.readVarint():6===r?e.readSVarint():7===r?e.readBoolean():null}return t}(n))}zu.prototype.feature=function(e){if(e<0||e>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[e];var t=this._pbf.readVarint()+this._pbf.pos;return new Pu(this._pbf,t,this.extent,this._keys,this._values)};var Ru=Au;function Du(e,t,n){if(3===e){var r=new Ru(n,n.readVarint()+n.pos);r.length&&(t[r.name]=r)}}var Lu=Eu.VectorTile=function(e,t){this.layers=e.readFields(Du,{},t)},Nu=Eu.VectorTileFeature=Tu;function Bu(e,t,n,r){var i,a=[],o=0===r?function(e,t,n,r,i,a){e.push(new M(a,n+(a-t)/(r-t)*(i-n)))}:function(e,t,n,r,i,a){e.push(new M(t+(a-n)/(i-n)*(r-t),a))},s=f(e);try{for(s.s();!(i=s.n()).done;){var l,c=i.value,u=[],d=f(c);try{for(d.s();!(l=d.n()).done;){var h=l.value;if(!(h.length<=2)){for(var p=[],m=0;m<h.length-1;m++){var v=h[m].x,g=h[m].y,y=h[m+1].x,x=h[m+1].y,b=0===r?v:g,_=0===r?y:x;b<t?_>t&&o(p,v,g,y,x,t):b>n?_<n&&o(p,v,g,y,x,n):p.push(h[m]),_<t&&b>=t&&o(p,v,g,y,x,t),_>n&&b<=n&&o(p,v,g,y,x,n)}var w=h[h.length-1],k=0===r?w.x:w.y;k>=t&&k<=n&&p.push(w),p.length&&(w=p[p.length-1],p[0].x===w.x&&p[0].y===w.y||p.push(p[0]),u.push(p))}}}catch(S){d.e(S)}finally{d.f()}u.length&&a.push(u)}}catch(S){s.e(S)}finally{s.f()}return a}Eu.VectorTileLayer=Au;var Fu=Nu.types,Vu=Math.pow(2,13);function Uu(e,t,n,r,i,a,o,s){e.emplaceBack((t<<1)+o,(n<<1)+a,(Math.floor(r*Vu)<<1)+i,Math.round(s))}function Hu(e,t,n){var r=16384;e.emplaceBack(t.x,t.y,t.z,n[0]*r,n[1]*r,n[2]*r)}var Gu=function(){function e(){h(this,e),this.acc=new M(0,0),this.polyCount=[]}return p(e,[{key:"startRing",value:function(e){this.currentPolyCount={edges:0,top:0},this.polyCount.push(this.currentPolyCount),this.min||(this.min=new M(e.x,e.y),this.max=new M(e.x,e.y))}},{key:"append",value:function(e,t){this.currentPolyCount.edges++,this.acc._add(e);var n=this.min,r=this.max;e.x<n.x?n.x=e.x:e.x>r.x&&(r.x=e.x),e.y<n.y?n.y=e.y:e.y>r.y&&(r.y=e.y),((0===e.x||e.x===Bs)&&e.x===t.x)!=((0===e.y||e.y===Bs)&&e.y===t.y)&&this.processBorderOverlap(e,t),t.x<0!=e.x<0&&this.addBorderIntersection(0,Un(t.y,e.y,(0-t.x)/(e.x-t.x))),t.x>Bs!=e.x>Bs&&this.addBorderIntersection(1,Un(t.y,e.y,(Bs-t.x)/(e.x-t.x))),t.y<0!=e.y<0&&this.addBorderIntersection(2,Un(t.x,e.x,(0-t.y)/(e.y-t.y))),t.y>Bs!=e.y>Bs&&this.addBorderIntersection(3,Un(t.x,e.x,(Bs-t.y)/(e.y-t.y)))}},{key:"addBorderIntersection",value:function(e,t){this.borders||(this.borders=[[Number.MAX_VALUE,-Number.MAX_VALUE],[Number.MAX_VALUE,-Number.MAX_VALUE],[Number.MAX_VALUE,-Number.MAX_VALUE],[Number.MAX_VALUE,-Number.MAX_VALUE]]);var n=this.borders[e];t<n[0]&&(n[0]=t),t>n[1]&&(n[1]=t)}},{key:"processBorderOverlap",value:function(e,t){if(e.x===t.x){if(e.y===t.y)return;var n=0===e.x?0:1;this.addBorderIntersection(n,t.y),this.addBorderIntersection(n,e.y)}else{var r=0===e.y?2:3;this.addBorderIntersection(r,t.x),this.addBorderIntersection(r,e.x)}}},{key:"centroid",value:function(){var e=this.polyCount.reduce((function(e,t){return e+t.edges}),0);return 0!==e?this.acc.div(e)._round():new M(0,0)}},{key:"span",value:function(){return new M(this.max.x-this.min.x,this.max.y-this.min.y)}},{key:"intersectsCount",value:function(){return this.borders.reduce((function(e,t){return e+ +(t[0]!==Number.MAX_VALUE)}),0)}}]),e}(),Wu=function(){function e(t){h(this,e),this.zoom=t.zoom,this.canonical=t.canonical,this.overscaling=t.overscaling,this.layers=t.layers,this.layerIds=this.layers.map((function(e){return e.id})),this.index=t.index,this.hasPattern=!1,this.edgeRadius=0,this.projection=t.projection,this.layoutVertexArray=new ko,this.centroidVertexArray=new ns,this.indexArray=new Lo,this.programConfigurations=new Ms(t.layers,t.zoom),this.segments=new Ns,this.stateDependentLayerIds=this.layers.filter((function(e){return e.isStateDependent()})).map((function(e){return e.id})),this.enableTerrain=t.enableTerrain}return p(e,[{key:"populate",value:function(e,t,n,r){this.features=[],this.hasPattern=vu("fill-extrusion",this.layers,t),this.featuresOnBorder=[],this.borders=[[],[],[],[]],this.borderDoneWithNeighborZ=[-1,-1,-1,-1],this.tileToMeter=function(e){var t=Math.exp(Math.PI*(1-e.y/(1<<e.z)*2));return 80150034*t/(t*t+1)/Bs/(1<<e.z)}(n),this.edgeRadius=this.layers[0].layout.get("fill-extrusion-edge-radius")/this.tileToMeter;var i,a=f(e);try{for(a.s();!(i=a.n()).done;){var o=i.value,s=o.feature,l=o.id,c=o.index,u=o.sourceLayerIndex,d=this.layers[0]._featureFilter.needGeometry,h=ll(s,d);if(this.layers[0]._featureFilter.filter(new to(this.zoom),h,n)){var p={id:l,sourceLayerIndex:u,index:c,geometry:d?h.geometry:sl(s,n,r),properties:s.properties,type:s.type,patterns:{}},m=this.layoutVertexArray.length;this.hasPattern?this.features.push(gu("fill-extrusion",this.layers,p,this.zoom,t)):this.addFeature(p,p.geometry,c,n,{},t.availableImages,r),t.featureIndex.insert(s,p.geometry,c,u,this.index,m)}}}catch(v){a.e(v)}finally{a.f()}this.sortBorders()}},{key:"addFeatures",value:function(e,t,n,r,i){var a,o=f(this.features);try{for(o.s();!(a=o.n()).done;){var s=a.value,l=s.geometry;this.addFeature(s,l,s.index,t,n,r,i)}}catch(c){o.e(c)}finally{o.f()}this.sortBorders()}},{key:"update",value:function(e,t,n,r){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(e,t,this.stateDependentLayers,n,r)}},{key:"isEmpty",value:function(){return 0===this.layoutVertexArray.length}},{key:"uploadPending",value:function(){return!this.uploaded||this.programConfigurations.needsUpload}},{key:"upload",value:function(e){this.uploaded||(this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,Su),this.indexBuffer=e.createIndexBuffer(this.indexArray),this.layoutVertexExtArray&&(this.layoutVertexExtBuffer=e.createVertexBuffer(this.layoutVertexExtArray,ku.members,!0))),this.programConfigurations.upload(e),this.uploaded=!0}},{key:"uploadCentroid",value:function(e){0!==this.centroidVertexArray.length&&(this.centroidVertexBuffer?this.needsCentroidUpdate&&this.centroidVertexBuffer.updateData(this.centroidVertexArray):this.centroidVertexBuffer=e.createVertexBuffer(this.centroidVertexArray,wu.members,!0),this.needsCentroidUpdate=!1)}},{key:"destroy",value:function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.centroidVertexBuffer&&this.centroidVertexBuffer.destroy(),this.layoutVertexExtBuffer&&this.layoutVertexExtBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}},{key:"addFeature",value:function(e,t,n,r,i,a,o){var s=[new M(0,0),new M(Bs,Bs)],l=o.projection,c="globe"===l.name,u=this.enableTerrain&&!c?new Gu:null,d="Polygon"===Fu[e.type];c&&!this.layoutVertexExtArray&&(this.layoutVertexExtArray=new Mo);for(var h,p,m=pu(t,500),v=m.length-1;v>=0;v--){var g=m[v];(0===g.length||(h=g[0]).every((function(e){return e.x<=0}))||h.every((function(e){return e.x>=Bs}))||h.every((function(e){return e.y<=0}))||h.every((function(e){return e.y>=Bs})))&&m.splice(v,1)}if(c)p=Qu(m,s,r);else{p=[];var y,x=f(m);try{for(x.s();!(y=x.n()).done;){var b=y.value;p.push({polygon:b,bounds:s})}}catch(Oe){x.e(Oe)}finally{x.f()}}var _,w=d?this.edgeRadius:0,k=f(p);try{for(k.s();!(_=k.n()).done;){var S,E=_.value,C=E.polygon,T=E.bounds,I=0,O=0,P=f(C);try{for(P.s();!(S=P.n()).done;){var A=S.value;d&&!A[0].equals(A[A.length-1])&&A.push(A[0]),O+=d?A.length-1:A.length}}catch(Oe){P.e(Oe)}finally{P.f()}var z=this.segments.prepareSegment((d?5:4)*O,this.layoutVertexArray,this.indexArray);if(d){var j=[],R=[];I=z.vertexLength;var D,L=f(C);try{for(L.s();!(D=L.n()).done;){var N=D.value,B=void 0,F=void 0;N.length&&N!==C[0]&&R.push(j.length/2),B=N[1].sub(N[0])._perp()._unit();for(var V=1;V<N.length;V++){var U=N[V],H=N[V===N.length-1?1:V+1],G=U.x,W=U.y;if(w){F=H.sub(U)._perp()._unit();var q=B.add(F)._unit(),X=w*Math.min(4,1/(B.x*q.x+B.y*q.y));G+=X*q.x,W+=X*q.y,B=F}Uu(this.layoutVertexArray,G,W,0,0,1,1,0),z.vertexLength++,j.push(U.x,U.y),c&&Hu(this.layoutVertexExtArray,l.projectTilePoint(G,W,r),l.upVector(r,G,W))}}}catch(Oe){L.e(Oe)}finally{L.f()}for(var Z=Lc.exports(j,R),K=0;K<Z.length;K+=3)this.indexArray.emplaceBack(I+Z[K],I+Z[K+2],I+Z[K+1]),z.primitiveLength++}var Y,$=f(C);try{for($.s();!(Y=$.n()).done;){var J=Y.value;u&&J.length&&u.startRing(J[0]);var Q=void 0,ee=void 0,te=void 0,ne=J.length>4&&Yu(J[J.length-2],J[0],J[1]),re=w?Xu(J[J.length-2],J[0],J[1],w):0;ee=J[1].sub(J[0])._perp()._unit();for(var ie=!0,ae=1,oe=0;ae<J.length;ae++){var se=J[ae-1],le=J[ae],ce=J[ae===J.length-1?1:ae+1];if(u&&d&&u.currentPolyCount.top++,Ku(le,se,T))w&&(ee=ce.sub(le)._perp()._unit(),ie=!ie);else{u&&u.append(le,se);var ue=le.sub(se)._perp(),de=ue.x/(Math.abs(ue.x)+Math.abs(ue.y)),fe=ue.y>0?1:0,he=se.dist(le);if(oe+he>32768&&(oe=0),w){te=ce.sub(le)._perp()._unit();var pe=Zu(se,le,ce,qu(ee,te),w);isNaN(pe)&&(pe=0);var me=le.sub(se)._unit();se=se.add(me.mult(re))._round(),le=le.add(me.mult(-pe))._round(),re=pe,ee=te}var ve=z.vertexLength,ge=J.length>4&&Yu(se,le,ce),ye=$u(oe,ne,ie);if(Uu(this.layoutVertexArray,se.x,se.y,de,fe,0,0,ye),Uu(this.layoutVertexArray,se.x,se.y,de,fe,0,1,ye),ye=$u(oe+=he,ge,!ie),ne=ge,Uu(this.layoutVertexArray,le.x,le.y,de,fe,0,0,ye),Uu(this.layoutVertexArray,le.x,le.y,de,fe,0,1,ye),z.vertexLength+=4,this.indexArray.emplaceBack(ve+0,ve+1,ve+2),this.indexArray.emplaceBack(ve+1,ve+3,ve+2),z.primitiveLength+=2,w){var xe=I+(1===ae?J.length-2:ae-2),be=1===ae?I:xe+1;if(this.indexArray.emplaceBack(ve+1,xe,ve+3),this.indexArray.emplaceBack(xe,be,ve+3),z.primitiveLength+=2,void 0===Q&&(Q=ve),!Ku(ce,J[ae],T)){var _e=ae===J.length-1?Q:z.vertexLength;this.indexArray.emplaceBack(ve+2,ve+3,_e),this.indexArray.emplaceBack(ve+3,_e+1,_e),this.indexArray.emplaceBack(ve+3,be,_e+1),z.primitiveLength+=3}ie=!ie}if(c){var we=this.layoutVertexExtArray,ke=l.projectTilePoint(se.x,se.y,r),Se=l.projectTilePoint(le.x,le.y,r),Ee=l.upVector(r,se.x,se.y),Ce=l.upVector(r,le.x,le.y);Hu(we,ke,Ee),Hu(we,ke,Ee),Hu(we,Se,Ce),Hu(we,Se,Ce)}}}d&&(I+=J.length-1)}}catch(Oe){$.e(Oe)}finally{$.f()}}}catch(Oe){k.e(Oe)}finally{k.f()}if(u&&u.polyCount.length>0){if(u.borders){u.vertexArrayOffset=this.centroidVertexArray.length;for(var Te=u.borders,Me=this.featuresOnBorder.push(u)-1,Ie=0;Ie<4;Ie++)Te[Ie][0]!==Number.MAX_VALUE&&this.borders[Ie].push(Me)}this.encodeCentroid(u.borders?void 0:u.centroid(),u)}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,e,n,i,a,r)}},{key:"sortBorders",value:function(){for(var e=this,t=function(t){e.borders[t].sort((function(n,r){return e.featuresOnBorder[n].borders[t][0]-e.featuresOnBorder[r].borders[t][0]}))},n=0;n<4;n++)t(n)}},{key:"encodeCentroid",value:function(e,t){var n,r,i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(e)if(0!==e.y){var a=t.span()._mult(this.tileToMeter);n=(Math.max(e.x,1)<<3)+Math.min(7,Math.round(a.x/10)),r=(Math.max(e.y,1)<<3)+Math.min(7,Math.round(a.y/10))}else n=Math.ceil(7*(e.x+450)),r=0;else n=0,r=+i;var o,s=i?this.centroidVertexArray.length:t.vertexArrayOffset,l=f(t.polyCount);try{for(l.s();!(o=l.n()).done;){var c=o.value;i&&this.centroidVertexArray.resize(this.centroidVertexArray.length+4*c.edges+c.top);for(var u=0;u<c.top;u++)this.centroidVertexArray.emplace(s++,n,r);for(var d=0;d<2*c.edges;d++)this.centroidVertexArray.emplace(s++,0,r),this.centroidVertexArray.emplace(s++,n,r)}}catch(h){l.e(h)}finally{l.f()}}}]),e}();function qu(e,t){var n=e.add(t)._unit();return e.x*n.x+e.y*n.y}function Xu(e,t,n,r){var i=t.sub(e)._perp()._unit(),a=n.sub(t)._perp()._unit();return Zu(e,t,n,qu(i,a),r)}function Zu(e,t,n,r,i){var a=Math.sqrt(1-r*r);return Math.min(e.dist(t)/3,t.dist(n)/3,i*a/r)}function Ku(e,t,n){return e.x<n[0].x&&t.x<n[0].x||e.x>n[1].x&&t.x>n[1].x||e.y<n[0].y&&t.y<n[0].y||e.y>n[1].y&&t.y>n[1].y}function Yu(e,t,n){if(e.x<0||e.x>=Bs||t.x<0||t.x>=Bs||n.x<0||n.x>=Bs)return!1;var r=n.sub(t),i=r.perp(),a=e.sub(t);return(r.x*a.x+r.y*a.y)/Math.sqrt((r.x*r.x+r.y*r.y)*(a.x*a.x+a.y*a.y))>-.866&&i.x*a.x+i.y*a.y<0}function $u(e,t,n){var r=t?2|e:-3&e;return n?1|r:-2&r}function Ju(){var e=Math.PI/32,t=Math.tan(e),n=Vs;return n*Math.sqrt(1+2*t*t)-n}function Qu(e,t,n){var r=1<<n.z,i=Zs(n.x/r),a=Zs((n.x+1)/r),o=Ks(n.y/r),s=Ks((n.y+1)/r);return function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,a=arguments.length>5?arguments[5]:void 0,o=[];if(!e.length||!n||!r)return o;for(var s=function(e,t){var n,r=f(e);try{for(r.s();!(n=r.n()).done;){var i=n.value;o.push({polygon:i,bounds:t})}}catch(a){r.e(a)}finally{r.f()}},l=Math.ceil(Math.log2(n)),c=Math.ceil(Math.log2(r)),u=l-c,d=[],h=0;h<Math.abs(u);h++)d.push(u>0?0:1);for(var p=0;p<Math.min(l,c);p++)d.push(0),d.push(1);var m=e;if(m=Bu(m,t[0].y-i,t[1].y+i,1),!(m=Bu(m,t[0].x-i,t[1].x+i,0)).length)return o;var v=[];for(d.length?v.push({polygons:m,bounds:t,depth:0}):s(m,t);v.length;){var g=v.pop(),y=g.depth,x=d[y],b=g.bounds[0],_=g.bounds[1],w=0===x?b.x:b.y,k=0===x?_.x:_.y,S=a?a(x,w,k):.5*(w+k),E=Bu(g.polygons,w-i,S+i,x),C=Bu(g.polygons,S-i,k+i,x);if(E.length){var T=[b,new M(0===x?S:_.x,1===x?S:_.y)];d.length>y+1?v.push({polygons:E,bounds:T,depth:y+1}):s(E,T)}if(C.length){var I=[new M(0===x?S:b.x,1===x?S:b.y),_];d.length>y+1?v.push({polygons:C,bounds:I,depth:y+1}):s(C,I)}}return o}(e,t,Math.ceil((a-i)/11.25),Math.ceil((o-s)/11.25),1,(function(e,t,i){if(0===e)return.5*(t+i);var a=Ks((n.y+t/Bs)/r);return(qs(.5*(Ks((n.y+i/Bs)/r)+a))*r-n.y)*Bs}))}na(Wu,"FillExtrusionBucket",{omit:["layers","features"]}),na(Gu,"PartMetadata");var ed=new po({"fill-extrusion-edge-radius":new uo(ut["layout_fill-extrusion"]["fill-extrusion-edge-radius"])}),td={paint:new po({"fill-extrusion-opacity":new uo(ut["paint_fill-extrusion"]["fill-extrusion-opacity"]),"fill-extrusion-color":new fo(ut["paint_fill-extrusion"]["fill-extrusion-color"]),"fill-extrusion-translate":new uo(ut["paint_fill-extrusion"]["fill-extrusion-translate"]),"fill-extrusion-translate-anchor":new uo(ut["paint_fill-extrusion"]["fill-extrusion-translate-anchor"]),"fill-extrusion-pattern":new fo(ut["paint_fill-extrusion"]["fill-extrusion-pattern"]),"fill-extrusion-height":new fo(ut["paint_fill-extrusion"]["fill-extrusion-height"]),"fill-extrusion-base":new fo(ut["paint_fill-extrusion"]["fill-extrusion-base"]),"fill-extrusion-vertical-gradient":new uo(ut["paint_fill-extrusion"]["fill-extrusion-vertical-gradient"]),"fill-extrusion-ambient-occlusion-intensity":new uo(ut["paint_fill-extrusion"]["fill-extrusion-ambient-occlusion-intensity"]),"fill-extrusion-ambient-occlusion-radius":new uo(ut["paint_fill-extrusion"]["fill-extrusion-ambient-occlusion-radius"])}),layout:ed};function nd(e,t,n){var r=2*Math.PI*6378137/256/Math.pow(2,n);return[e*r-2*Math.PI*6378137/2,t*r-2*Math.PI*6378137/2]}var rd=function(){function e(t,n,r){h(this,e),this.z=t,this.x=n,this.y=r,this.key=od(0,t,t,n,r)}return p(e,[{key:"equals",value:function(e){return this.z===e.z&&this.x===e.x&&this.y===e.y}},{key:"url",value:function(e,t){var n=function(e,t,n){var r=nd(256*e,256*(t=Math.pow(2,n)-t-1),n),i=nd(256*(e+1),256*(t+1),n);return r[0]+","+r[1]+","+i[0]+","+i[1]}(this.x,this.y,this.z),r=function(e,t,n){for(var r,i="",a=e;a>0;a--)i+=(t&(r=1<<a-1)?1:0)+(n&r?2:0);return i}(this.z,this.x,this.y);return e[(this.x+this.y)%e.length].replace("{prefix}",(this.x%16).toString(16)+(this.y%16).toString(16)).replace(/{z}/g,String(this.z)).replace(/{x}/g,String(this.x)).replace(/{y}/g,String("tms"===t?Math.pow(2,this.z)-this.y-1:this.y)).replace("{quadkey}",r).replace("{bbox-epsg-3857}",n)}},{key:"toString",value:function(){return"".concat(this.z,"/").concat(this.x,"/").concat(this.y)}}]),e}(),id=p((function e(t,n){h(this,e),this.wrap=t,this.canonical=n,this.key=od(t,n.z,n.z,n.x,n.y)})),ad=function(){function e(t,n,r,i,a){h(this,e),this.overscaledZ=t,this.wrap=n,this.canonical=new rd(r,+i,+a),this.key=0===n&&t===r?this.canonical.key:od(n,t,r,i,a)}return p(e,[{key:"equals",value:function(e){return this.overscaledZ===e.overscaledZ&&this.wrap===e.wrap&&this.canonical.equals(e.canonical)}},{key:"scaledTo",value:function(t){var n=this.canonical.z-t;return t>this.canonical.z?new e(t,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y):new e(t,this.wrap,t,this.canonical.x>>n,this.canonical.y>>n)}},{key:"calculateScaledKey",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(this.overscaledZ===e&&t)return this.key;if(e>this.canonical.z)return od(this.wrap*+t,e,this.canonical.z,this.canonical.x,this.canonical.y);var n=this.canonical.z-e;return od(this.wrap*+t,e,e,this.canonical.x>>n,this.canonical.y>>n)}},{key:"isChildOf",value:function(e){if(e.wrap!==this.wrap)return!1;var t=this.canonical.z-e.canonical.z;return 0===e.overscaledZ||e.overscaledZ<this.overscaledZ&&e.canonical.x===this.canonical.x>>t&&e.canonical.y===this.canonical.y>>t}},{key:"children",value:function(t){if(this.overscaledZ>=t)return[new e(this.overscaledZ+1,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)];var n=this.canonical.z+1,r=2*this.canonical.x,i=2*this.canonical.y;return[new e(n,this.wrap,n,r,i),new e(n,this.wrap,n,r+1,i),new e(n,this.wrap,n,r,i+1),new e(n,this.wrap,n,r+1,i+1)]}},{key:"isLessThan",value:function(e){return this.wrap<e.wrap||!(this.wrap>e.wrap)&&(this.overscaledZ<e.overscaledZ||!(this.overscaledZ>e.overscaledZ)&&(this.canonical.x<e.canonical.x||!(this.canonical.x>e.canonical.x)&&this.canonical.y<e.canonical.y))}},{key:"wrapped",value:function(){return new e(this.overscaledZ,0,this.canonical.z,this.canonical.x,this.canonical.y)}},{key:"unwrapTo",value:function(t){return new e(this.overscaledZ,t,this.canonical.z,this.canonical.x,this.canonical.y)}},{key:"overscaleFactor",value:function(){return Math.pow(2,this.overscaledZ-this.canonical.z)}},{key:"toUnwrapped",value:function(){return new id(this.wrap,this.canonical)}},{key:"toString",value:function(){return"".concat(this.overscaledZ,"/").concat(this.canonical.x,"/").concat(this.canonical.y)}}]),e}();function od(e,t,n,r,i){var a=1<<Math.min(n,22),o=a*(i%a)+r%a;return e&&n<22&&(o+=a*a*((e<0?-2*e-1:2*e)%(1<<2*(22-n)))),16*(32*o+n)+(t-n)}na(rd,"CanonicalTileID"),na(ad,"OverscaledTileID",{omit:["projMatrix"]});var sd=function(e){m(n,e);var t=v(n);function n(e,r,i){var a;return h(this,n),(a=t.call(this,e,r)).z=i,a}return p(n)}(M);function ld(e,t){return e.x*t.x+e.y*t.y}function cd(e,t){if(1===e.length){for(var n,r=0,i=t[r++];!n||i.equals(n);)if(!(n=t[r++]))return 1/0;for(;r<t.length;r++){var a=t[r],o=e[0],s=n.sub(i),l=a.sub(i),c=o.sub(i),u=ld(s,s),d=ld(s,l),h=ld(l,l),p=ld(c,s),m=ld(c,l),v=u*h-d*d,g=(h*p-d*m)/v,y=(u*m-d*p)/v,x=i.z*(1-g-y)+n.z*g+a.z*y;if(isFinite(x))return x}return 1/0}var b,_=1/0,w=f(t);try{for(w.s();!(b=w.n()).done;){var k=b.value;_=Math.min(_,k.z)}}catch(S){w.e(S)}finally{w.f()}return _}function ud(e,t,n,r,i,a,o,s){var l=o*i.getElevationAt(e,t,!0,!0),c=0!==a[0],u=c?0===a[1]?o*(a[0]/7-450):o*function(e,t,n){var r=Math.floor(t[0]/8),i=Math.floor(t[1]/8),a=10*(t[0]-8*r),o=10*(t[1]-8*i),s=e.getElevationAt(r,i,!0,!0),l=e.getMeterToDEM(n),c=Math.floor(.5*(a*l-1)),u=Math.floor(.5*(o*l-1)),d=e.tileCoordToPixel(r,i),f=2*c+1,h=2*u+1,p=function(e,t,n,r,i){return[e.getElevationAtPixel(t,n,!0),e.getElevationAtPixel(t+i,n,!0),e.getElevationAtPixel(t,n+i,!0),e.getElevationAtPixel(t+r,n+i,!0)]}(e,d.x-c,d.y-u,f,h),m=Math.abs(p[0]-p[1]),v=Math.abs(p[2]-p[3]),g=Math.abs(p[0]-p[2])+Math.abs(p[1]-p[3]),y=Math.min(.25,.5*l*(m+v)/f),x=Math.min(.25,.5*l*g/h);return s+Math.max(y*a,x*o)}(i,a,s):l;return{base:l+(0===n)?-1:n,top:c?Math.max(u+r,l+n+2):l+r}}var dd=xo([{name:"a_pos_normal",components:2,type:"Int16"},{name:"a_data",components:4,type:"Uint8"},{name:"a_linesofar",components:1,type:"Float32"}],4).members,fd=xo([{name:"a_packed",components:4,type:"Float32"}]).members,hd=Nu.types,pd=Math.cos(Math.PI/180*37.5),md=function(){function e(t){var n=this;h(this,e),this.zoom=t.zoom,this.overscaling=t.overscaling,this.layers=t.layers,this.layerIds=this.layers.map((function(e){return e.id})),this.index=t.index,this.projection=t.projection,this.hasPattern=!1,this.patternFeatures=[],this.lineClipsArray=[],this.gradients={},this.layers.forEach((function(e){n.gradients[e.id]={}})),this.layoutVertexArray=new So,this.layoutVertexArray2=new Eo,this.indexArray=new Lo,this.programConfigurations=new Ms(t.layers,t.zoom),this.segments=new Ns,this.maxLineLength=0,this.stateDependentLayerIds=this.layers.filter((function(e){return e.isStateDependent()})).map((function(e){return e.id}))}return p(e,[{key:"populate",value:function(e,t,n,r){this.hasPattern=vu("line",this.layers,t);var i,a=this.layers[0].layout.get("line-sort-key"),o=[],s=f(e);try{for(s.s();!(i=s.n()).done;){var l=i.value,c=l.feature,u=l.id,d=l.index,h=l.sourceLayerIndex,p=this.layers[0]._featureFilter.needGeometry,m=ll(c,p);if(this.layers[0]._featureFilter.filter(new to(this.zoom),m,n)){var v=a?a.evaluate(m,{},n):void 0,g={id:u,properties:c.properties,type:c.type,sourceLayerIndex:h,index:d,geometry:p?m.geometry:sl(c,n,r),patterns:{},sortKey:v};o.push(g)}}}catch(M){s.e(M)}finally{s.f()}a&&o.sort((function(e,t){return e.sortKey-t.sortKey}));for(var y=t.lineAtlas,x=t.featureIndex,b=this.addConstantDashes(y),_=0,w=o;_<w.length;_++){var k=w[_],S=k.geometry,E=k.index,C=k.sourceLayerIndex;if(b&&this.addFeatureDashes(k,y),this.hasPattern){var T=gu("line",this.layers,k,this.zoom,t);this.patternFeatures.push(T)}else this.addFeature(k,S,E,n,y.positions,t.availableImages);x.insert(e[E].feature,S,E,C,this.index)}}},{key:"addConstantDashes",value:function(e){var t,n=!1,r=f(this.layers);try{for(r.s();!(t=r.n()).done;){var i=t.value,a=i.paint.get("line-dasharray").value,o=i.layout.get("line-cap").value;if("constant"!==a.kind||"constant"!==o.kind)n=!0;else{var s=o.value,l=a.value;if(!l)continue;e.addDash(l,s)}}}catch(c){r.e(c)}finally{r.f()}return n}},{key:"addFeatureDashes",value:function(e,t){var n,r=this.zoom,i=f(this.layers);try{for(i.s();!(n=i.n()).done;){var a=n.value,o=a.paint.get("line-dasharray").value,s=a.layout.get("line-cap").value;if("constant"!==o.kind||"constant"!==s.kind){var l=void 0,c=void 0;if("constant"===o.kind){if(!(l=o.value))continue}else l=o.evaluate({zoom:r},e);c="constant"===s.kind?s.value:s.evaluate({zoom:r},e),t.addDash(l,c),e.patterns[a.id]=t.getKey(l,c)}}}catch(u){i.e(u)}finally{i.f()}}},{key:"update",value:function(e,t,n,r){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(e,t,this.stateDependentLayers,n,r)}},{key:"addFeatures",value:function(e,t,n,r,i){var a,o=f(this.patternFeatures);try{for(o.s();!(a=o.n()).done;){var s=a.value;this.addFeature(s,s.geometry,s.index,t,n,r)}}catch(l){o.e(l)}finally{o.f()}}},{key:"isEmpty",value:function(){return 0===this.layoutVertexArray.length}},{key:"uploadPending",value:function(){return!this.uploaded||this.programConfigurations.needsUpload}},{key:"upload",value:function(e){this.uploaded||(0!==this.layoutVertexArray2.length&&(this.layoutVertexBuffer2=e.createVertexBuffer(this.layoutVertexArray2,fd)),this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,dd),this.indexBuffer=e.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(e),this.uploaded=!0}},{key:"destroy",value:function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}},{key:"lineFeatureClips",value:function(e){if(e.properties&&e.properties.hasOwnProperty("mapbox_clip_start")&&e.properties.hasOwnProperty("mapbox_clip_end"))return{start:+e.properties.mapbox_clip_start,end:+e.properties.mapbox_clip_end}}},{key:"addFeature",value:function(e,t,n,r,i,a){var o=this.layers[0].layout,s=o.get("line-join").evaluate(e,{}),l=o.get("line-cap").evaluate(e,{}),c=o.get("line-miter-limit"),u=o.get("line-round-limit");this.lineClips=this.lineFeatureClips(e);var d,h=f(t);try{for(h.s();!(d=h.n()).done;){var p=d.value;this.addLine(p,e,s,l,c,u)}}catch(m){h.e(m)}finally{h.f()}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,e,n,i,a,r)}},{key:"addLine",value:function(e,t,n,r,i,a){if(this.distance=0,this.scaledDistance=0,this.totalDistance=0,this.lineSoFar=0,this.lineClips){this.lineClipsArray.push(this.lineClips);for(var o=0;o<e.length-1;o++)this.totalDistance+=e[o].dist(e[o+1]);this.updateScaledDistance(),this.maxLineLength=Math.max(this.maxLineLength,this.totalDistance)}for(var s="Polygon"===hd[t.type],l=e.length;l>=2&&e[l-1].equals(e[l-2]);)l--;for(var c=0;c<l-1&&e[c].equals(e[c+1]);)c++;if(!(l<(s?3:2))){"bevel"===n&&(i=1.05);var u,d,f,h,p,m=this.overscaling<=16?122880/(512*this.overscaling):0,v=this.segments.prepareSegment(10*l,this.layoutVertexArray,this.indexArray);this.e1=this.e2=-1,s&&(u=e[l-2],p=e[c].sub(u)._unit()._perp());for(var g=c;g<l;g++)if(!(f=g===l-1?s?e[c+1]:void 0:e[g+1])||!e[g].equals(f)){p&&(h=p),u&&(d=u),u=e[g],p=f?f.sub(u)._unit()._perp():h;var y=(h=h||p).add(p);0===y.x&&0===y.y||y._unit();var x=h.x*p.x+h.y*p.y,b=y.x*p.x+y.y*p.y,_=0!==b?1/b:1/0,w=2*Math.sqrt(2-2*b),k=b<pd&&d&&f,S=h.x*p.y-h.y*p.x>0;if(k&&g>c){var E=u.dist(d);if(E>2*m){var C=u.sub(u.sub(d)._mult(m/E)._round());this.updateDistance(d,C),this.addCurrentVertex(C,h,0,0,v),d=C}}var T=d&&f,M=T?n:s?"butt":r;if(T&&"round"===M&&(_<a?M="miter":_<=2&&(M="fakeround")),"miter"===M&&_>i&&(M="bevel"),"bevel"===M&&(_>2&&(M="flipbevel"),_<i&&(M="miter")),d&&this.updateDistance(d,u),"miter"===M)y._mult(_),this.addCurrentVertex(u,y,0,0,v);else if("flipbevel"===M){if(_>100)y=p.mult(-1);else{var I=_*h.add(p).mag()/h.sub(p).mag();y._perp()._mult(I*(S?-1:1))}this.addCurrentVertex(u,y,0,0,v),this.addCurrentVertex(u,y.mult(-1),0,0,v)}else if("bevel"===M||"fakeround"===M){var O=-Math.sqrt(_*_-1),P=S?O:0,A=S?0:O;if(d&&this.addCurrentVertex(u,h,P,A,v),"fakeround"===M)for(var z=Math.round(180*w/Math.PI/20),j=1;j<z;j++){var R=j/z;if(.5!==R){var D=R-.5;R+=R*D*(R-1)*((1.0904+x*(x*(3.55645-1.43519*x)-3.2452))*D*D+(.848013+x*(.215638*x-1.06021)))}var L=p.sub(h)._mult(R)._add(h)._unit()._mult(S?-1:1);this.addHalfVertex(u,L.x,L.y,!1,S,0,v)}f&&this.addCurrentVertex(u,p,-P,-A,v)}else if("butt"===M)this.addCurrentVertex(u,y,0,0,v);else if("square"===M){var N=d?1:-1;d||this.addCurrentVertex(u,y,N,N,v),this.addCurrentVertex(u,y,0,0,v),d&&this.addCurrentVertex(u,y,N,N,v)}else"round"===M&&(d&&(this.addCurrentVertex(u,h,0,0,v),this.addCurrentVertex(u,h,1,1,v,!0)),f&&(this.addCurrentVertex(u,p,-1,-1,v,!0),this.addCurrentVertex(u,p,0,0,v)));if(k&&g<l-1){var B=u.dist(f);if(B>2*m){var F=u.add(f.sub(u)._mult(m/B)._round());this.updateDistance(u,F),this.addCurrentVertex(F,p,0,0,v),u=F}}}}}},{key:"addCurrentVertex",value:function(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]&&arguments[5],o=t.y*r-t.x,s=-t.y-t.x*r;this.addHalfVertex(e,t.x+t.y*n,t.y-t.x*n,a,!1,n,i),this.addHalfVertex(e,o,s,a,!0,-r,i)}},{key:"addHalfVertex",value:function(e,t,n,r,i,a,o){var s=e.x,l=e.y;this.layoutVertexArray.emplaceBack((s<<1)+(r?1:0),(l<<1)+(i?1:0),Math.round(63*t)+128,Math.round(63*n)+128,1+(0===a?0:a<0?-1:1),0,this.lineSoFar),this.lineClips&&this.layoutVertexArray2.emplaceBack(this.scaledDistance,this.lineClipsArray.length,this.lineClips.start,this.lineClips.end);var c=o.vertexLength++;this.e1>=0&&this.e2>=0&&(this.indexArray.emplaceBack(this.e1,this.e2,c),o.primitiveLength++),i?this.e2=c:this.e1=c}},{key:"updateScaledDistance",value:function(){if(this.lineClips){var e=this.totalDistance/(this.lineClips.end-this.lineClips.start);this.scaledDistance=this.distance/this.totalDistance,this.lineSoFar=e*this.lineClips.start+this.distance}else this.lineSoFar=this.distance}},{key:"updateDistance",value:function(e,t){this.distance+=e.dist(t),this.updateScaledDistance()}}]),e}();na(md,"LineBucket",{omit:["layers","patternFeatures"]});var vd=new po({"line-cap":new fo(ut.layout_line["line-cap"]),"line-join":new fo(ut.layout_line["line-join"]),"line-miter-limit":new uo(ut.layout_line["line-miter-limit"]),"line-round-limit":new uo(ut.layout_line["line-round-limit"]),"line-sort-key":new fo(ut.layout_line["line-sort-key"])}),gd={paint:new po({"line-opacity":new fo(ut.paint_line["line-opacity"]),"line-color":new fo(ut.paint_line["line-color"]),"line-translate":new uo(ut.paint_line["line-translate"]),"line-translate-anchor":new uo(ut.paint_line["line-translate-anchor"]),"line-width":new fo(ut.paint_line["line-width"]),"line-gap-width":new fo(ut.paint_line["line-gap-width"]),"line-offset":new fo(ut.paint_line["line-offset"]),"line-blur":new fo(ut.paint_line["line-blur"]),"line-dasharray":new fo(ut.paint_line["line-dasharray"]),"line-pattern":new fo(ut.paint_line["line-pattern"]),"line-gradient":new ho(ut.paint_line["line-gradient"]),"line-trim-offset":new uo(ut.paint_line["line-trim-offset"])}),layout:vd},yd=new(function(e){m(n,e);var t=v(n);function n(){return h(this,n),t.apply(this,arguments)}return p(n,[{key:"possiblyEvaluate",value:function(e,t){return t=new to(Math.floor(t.zoom),{now:t.now,fadeDuration:t.fadeDuration,transition:t.transition}),o(s(n.prototype),"possiblyEvaluate",this).call(this,e,t)}},{key:"evaluate",value:function(e,t,r,i){return t=H({},t,{zoom:Math.floor(t.zoom)}),o(s(n.prototype),"evaluate",this).call(this,e,t,r,i)}}]),n}(fo))(gd.paint.properties["line-width"].specification);function xd(e,t){return t>0?t+2*e:e}yd.useIntegerZoom=!0;var bd=xo([{name:"a_pos_offset",components:4,type:"Int16"},{name:"a_tex_size",components:4,type:"Uint16"},{name:"a_pixeloffset",components:4,type:"Int16"}],4),_d=xo([{name:"a_globe_anchor",components:3,type:"Int16"},{name:"a_globe_normal",components:3,type:"Float32"}],4),wd=xo([{name:"a_projected_pos",components:4,type:"Float32"}],4);xo([{name:"a_fade_opacity",components:1,type:"Uint32"}],4);var kd=xo([{name:"a_placed",components:2,type:"Uint8"},{name:"a_shift",components:2,type:"Float32"}]),Sd=xo([{name:"a_size_scale",components:1,type:"Float32"},{name:"a_padding",components:2,type:"Float32"}]);xo([{type:"Int16",name:"projectedAnchorX"},{type:"Int16",name:"projectedAnchorY"},{type:"Int16",name:"projectedAnchorZ"},{type:"Int16",name:"tileAnchorX"},{type:"Int16",name:"tileAnchorY"},{type:"Float32",name:"x1"},{type:"Float32",name:"y1"},{type:"Float32",name:"x2"},{type:"Float32",name:"y2"},{type:"Int16",name:"padding"},{type:"Uint32",name:"featureIndex"},{type:"Uint16",name:"sourceLayerIndex"},{type:"Uint16",name:"bucketIndex"}]);var Ed=xo([{name:"a_pos",components:3,type:"Int16"},{name:"a_anchor_pos",components:2,type:"Int16"},{name:"a_extrude",components:2,type:"Int16"}],4),Cd=xo([{name:"a_pos_2f",components:2,type:"Float32"},{name:"a_radius",components:1,type:"Float32"},{name:"a_flags",components:2,type:"Int16"}],4);xo([{name:"triangle",components:3,type:"Uint16"}]),xo([{type:"Int16",name:"projectedAnchorX"},{type:"Int16",name:"projectedAnchorY"},{type:"Int16",name:"projectedAnchorZ"},{type:"Float32",name:"tileAnchorX"},{type:"Float32",name:"tileAnchorY"},{type:"Uint16",name:"glyphStartIndex"},{type:"Uint16",name:"numGlyphs"},{type:"Uint32",name:"vertexStartIndex"},{type:"Uint32",name:"lineStartIndex"},{type:"Uint32",name:"lineLength"},{type:"Uint16",name:"segment"},{type:"Uint16",name:"lowerSize"},{type:"Uint16",name:"upperSize"},{type:"Float32",name:"lineOffsetX"},{type:"Float32",name:"lineOffsetY"},{type:"Uint8",name:"writingMode"},{type:"Uint8",name:"placedOrientation"},{type:"Uint8",name:"hidden"},{type:"Uint32",name:"crossTileID"},{type:"Int16",name:"associatedIconIndex"},{type:"Uint8",name:"flipState"}]),xo([{type:"Int16",name:"projectedAnchorX"},{type:"Int16",name:"projectedAnchorY"},{type:"Int16",name:"projectedAnchorZ"},{type:"Float32",name:"tileAnchorX"},{type:"Float32",name:"tileAnchorY"},{type:"Int16",name:"rightJustifiedTextSymbolIndex"},{type:"Int16",name:"centerJustifiedTextSymbolIndex"},{type:"Int16",name:"leftJustifiedTextSymbolIndex"},{type:"Int16",name:"verticalPlacedTextSymbolIndex"},{type:"Int16",name:"placedIconSymbolIndex"},{type:"Int16",name:"verticalPlacedIconSymbolIndex"},{type:"Uint16",name:"key"},{type:"Uint16",name:"textBoxStartIndex"},{type:"Uint16",name:"textBoxEndIndex"},{type:"Uint16",name:"verticalTextBoxStartIndex"},{type:"Uint16",name:"verticalTextBoxEndIndex"},{type:"Uint16",name:"iconBoxStartIndex"},{type:"Uint16",name:"iconBoxEndIndex"},{type:"Uint16",name:"verticalIconBoxStartIndex"},{type:"Uint16",name:"verticalIconBoxEndIndex"},{type:"Uint16",name:"featureIndex"},{type:"Uint16",name:"numHorizontalGlyphVertices"},{type:"Uint16",name:"numVerticalGlyphVertices"},{type:"Uint16",name:"numIconVertices"},{type:"Uint16",name:"numVerticalIconVertices"},{type:"Uint16",name:"useRuntimeCollisionCircles"},{type:"Uint32",name:"crossTileID"},{type:"Float32",components:2,name:"textOffset"},{type:"Float32",name:"collisionCircleDiameter"}]),xo([{type:"Float32",name:"offsetX"}]),xo([{type:"Int16",name:"x"},{type:"Int16",name:"y"}]);var Td=24,Md=128;function Id(e,t){var n=t.expression;if("constant"===n.kind)return{kind:"constant",layoutSize:n.evaluate(new to(e+1))};if("source"===n.kind)return{kind:"source"};for(var r=n.zoomStops,i=n.interpolationType,a=0;a<r.length&&r[a]<=e;)a++;for(var o=a=Math.max(0,a-1);o<r.length&&r[o]<e+1;)o++;o=Math.min(r.length-1,o);var s=r[a],l=r[o];return"composite"===n.kind?{kind:"composite",minZoom:s,maxZoom:l,interpolationType:i}:{kind:"camera",minZoom:s,maxZoom:l,minSize:n.evaluate(new to(s)),maxSize:n.evaluate(new to(l)),interpolationType:i}}function Od(e,t,n){var r=t.uSize,i=t.uSizeT,a=n.lowerSize,o=n.upperSize;return"source"===e.kind?a/Md:"composite"===e.kind?Un(a/Md,o/Md,i):r}function Pd(e,t){var n=0,r=0;if("constant"===e.kind)r=e.layoutSize;else if("source"!==e.kind){var i=e.interpolationType,a=e.minZoom,o=e.maxZoom,s=i?N(cr.interpolationFactor(i,t,a,o),0,1):0;"camera"===e.kind?r=Un(e.minSize,e.maxSize,s):n=s}return{uSizeT:n,uSize:r}}var Ad=Object.freeze({__proto__:null,getSizeData:Id,evaluateSizeForFeature:Od,evaluateSizeForZoom:Pd,SIZE_PACK_FACTOR:Md});function zd(e,t,n){return e.sections.forEach((function(e){e.text=function(e,t,n){var r=t.layout.get("text-transform").evaluate(n,{});return"uppercase"===r?e=e.toLocaleUpperCase():"lowercase"===r&&(e=e.toLocaleLowerCase()),eo.applyArabicShaping&&(e=eo.applyArabicShaping(e)),e}(e.text,t,n)})),e}var jd={"!":"\ufe15","#":"\uff03",$:"\uff04","%":"\uff05","&":"\uff06","(":"\ufe35",")":"\ufe36","*":"\uff0a","+":"\uff0b",",":"\ufe10","-":"\ufe32",".":"\u30fb","/":"\uff0f",":":"\ufe13",";":"\ufe14","<":"\ufe3f","=":"\uff1d",">":"\ufe40","?":"\ufe16","@":"\uff20","[":"\ufe47","\\":"\uff3c","]":"\ufe48","^":"\uff3e",_:"\ufe33","`":"\uff40","{":"\ufe37","|":"\u2015","}":"\ufe38","~":"\uff5e","\xa2":"\uffe0","\xa3":"\uffe1","\xa5":"\uffe5","\xa6":"\uffe4","\xac":"\uffe2","\xaf":"\uffe3","\u2013":"\ufe32","\u2014":"\ufe31","\u2018":"\ufe43","\u2019":"\ufe44","\u201c":"\ufe41","\u201d":"\ufe42","\u2026":"\ufe19","\u2027":"\u30fb","\u20a9":"\uffe6","\u3001":"\ufe11","\u3002":"\ufe12","\u3008":"\ufe3f","\u3009":"\ufe40","\u300a":"\ufe3d","\u300b":"\ufe3e","\u300c":"\ufe41","\u300d":"\ufe42","\u300e":"\ufe43","\u300f":"\ufe44","\u3010":"\ufe3b","\u3011":"\ufe3c","\u3014":"\ufe39","\u3015":"\ufe3a","\u3016":"\ufe17","\u3017":"\ufe18","\uff01":"\ufe15","\uff08":"\ufe35","\uff09":"\ufe36","\uff0c":"\ufe10","\uff0d":"\ufe32","\uff0e":"\u30fb","\uff1a":"\ufe13","\uff1b":"\ufe14","\uff1c":"\ufe3f","\uff1e":"\ufe40","\uff1f":"\ufe16","\uff3b":"\ufe47","\uff3d":"\ufe48","\uff3f":"\ufe33","\uff5b":"\ufe37","\uff5c":"\u2015","\uff5d":"\ufe38","\uff5f":"\ufe35","\uff60":"\ufe36","\uff61":"\ufe12","\uff62":"\ufe41","\uff63":"\ufe42"};function Rd(e){return"\ufe36"===e||"\ufe48"===e||"\ufe38"===e||"\ufe44"===e||"\ufe42"===e||"\ufe3e"===e||"\ufe3c"===e||"\ufe3a"===e||"\ufe18"===e||"\ufe40"===e||"\ufe10"===e||"\ufe13"===e||"\ufe14"===e||"\uff40"===e||"\uffe3"===e||"\ufe11"===e||"\ufe12"===e}function Dd(e){return"\ufe35"===e||"\ufe47"===e||"\ufe37"===e||"\ufe43"===e||"\ufe41"===e||"\ufe3d"===e||"\ufe3b"===e||"\ufe39"===e||"\ufe17"===e||"\ufe3f"===e}var Ld=Fd,Nd=function(e,t,n,r,i){var a,o,s=8*i-r-1,l=(1<<s)-1,c=l>>1,u=-7,d=n?i-1:0,f=n?-1:1,h=e[t+d];for(d+=f,a=h&(1<<-u)-1,h>>=-u,u+=s;u>0;a=256*a+e[t+d],d+=f,u-=8);for(o=a&(1<<-u)-1,a>>=-u,u+=r;u>0;o=256*o+e[t+d],d+=f,u-=8);if(0===a)a=1-c;else{if(a===l)return o?NaN:1/0*(h?-1:1);o+=Math.pow(2,r),a-=c}return(h?-1:1)*o*Math.pow(2,a-r)},Bd=function(e,t,n,r,i,a){var o,s,l,c=8*a-i-1,u=(1<<c)-1,d=u>>1,f=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,h=r?0:a-1,p=r?1:-1,m=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,o=u):(o=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-o))<1&&(o--,l*=2),(t+=o+d>=1?f/l:f*Math.pow(2,1-d))*l>=2&&(o++,l/=2),o+d>=u?(s=0,o=u):o+d>=1?(s=(t*l-1)*Math.pow(2,i),o+=d):(s=t*Math.pow(2,d-1)*Math.pow(2,i),o=0));i>=8;e[n+h]=255&s,h+=p,s/=256,i-=8);for(o=o<<i|s,c+=i;c>0;e[n+h]=255&o,h+=p,o/=256,c-=8);e[n+h-p]|=128*m};function Fd(e){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(e)?e:new Uint8Array(e||0),this.pos=0,this.type=0,this.length=this.buf.length}Fd.Varint=0,Fd.Fixed64=1,Fd.Bytes=2,Fd.Fixed32=5;var Vd=4294967296,Ud=1/Vd,Hd="undefined"==typeof TextDecoder?null:new TextDecoder("utf8");function Gd(e){return e.type===Fd.Bytes?e.readVarint()+e.pos:e.pos+1}function Wd(e,t,n){return n?4294967296*t+(e>>>0):4294967296*(t>>>0)+(e>>>0)}function qd(e,t,n){var r=t<=16383?1:t<=2097151?2:t<=268435455?3:Math.floor(Math.log(t)/(7*Math.LN2));n.realloc(r);for(var i=n.pos-1;i>=e;i--)n.buf[i+r]=n.buf[i]}function Xd(e,t){for(var n=0;n<e.length;n++)t.writeVarint(e[n])}function Zd(e,t){for(var n=0;n<e.length;n++)t.writeSVarint(e[n])}function Kd(e,t){for(var n=0;n<e.length;n++)t.writeFloat(e[n])}function Yd(e,t){for(var n=0;n<e.length;n++)t.writeDouble(e[n])}function $d(e,t){for(var n=0;n<e.length;n++)t.writeBoolean(e[n])}function Jd(e,t){for(var n=0;n<e.length;n++)t.writeFixed32(e[n])}function Qd(e,t){for(var n=0;n<e.length;n++)t.writeSFixed32(e[n])}function ef(e,t){for(var n=0;n<e.length;n++)t.writeFixed64(e[n])}function tf(e,t){for(var n=0;n<e.length;n++)t.writeSFixed64(e[n])}function nf(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16)+16777216*e[t+3]}function rf(e,t,n){e[n]=t,e[n+1]=t>>>8,e[n+2]=t>>>16,e[n+3]=t>>>24}function af(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16)+(e[t+3]<<24)}function of(e,t,n){t.glyphs=[],1===e&&n.readMessage(sf,t)}function sf(e,t,n){if(3===e){var r=n.readMessage(lf,{}),i=r.id,a=r.bitmap,o=r.width,s=r.height,l=r.left,c=r.top,u=r.advance;t.glyphs.push({id:i,bitmap:new Pc({width:o+6,height:s+6},a),metrics:{width:o,height:s,left:l,top:c,advance:u}})}else 4===e?t.ascender=n.readSVarint():5===e&&(t.descender=n.readSVarint())}function lf(e,t,n){1===e?t.id=n.readVarint():2===e?t.bitmap=n.readBytes():3===e?t.width=n.readVarint():4===e?t.height=n.readVarint():5===e?t.left=n.readSVarint():6===e?t.top=n.readSVarint():7===e&&(t.advance=n.readVarint())}function cf(e){var t,n=0,r=0,i=f(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;n+=a.w*a.h,r=Math.max(r,a.w)}}catch(v){i.e(v)}finally{i.f()}e.sort((function(e,t){return t.h-e.h}));var o,s=[{x:0,y:0,w:Math.max(Math.ceil(Math.sqrt(n/.95)),r),h:1/0}],l=0,c=0,u=f(e);try{for(u.s();!(o=u.n()).done;)for(var d=o.value,h=s.length-1;h>=0;h--){var p=s[h];if(!(d.w>p.w||d.h>p.h)){if(d.x=p.x,d.y=p.y,c=Math.max(c,d.y+d.h),l=Math.max(l,d.x+d.w),d.w===p.w&&d.h===p.h){var m=s.pop();h<s.length&&(s[h]=m)}else d.h===p.h?(p.x+=d.w,p.w-=d.w):d.w===p.w?(p.y+=d.h,p.h-=d.h):(s.push({x:p.x+d.w,y:p.y,w:p.w-d.w,h:d.h}),p.y+=d.h,p.h-=d.h);break}}}catch(v){u.e(v)}finally{u.f()}return{w:l,h:c,fill:n/(l*c)||0}}Fd.prototype={destroy:function(){this.buf=null},readFields:function(e,t,n){for(n=n||this.length;this.pos<n;){var r=this.readVarint(),i=r>>3,a=this.pos;this.type=7&r,e(i,t,this),this.pos===a&&this.skip(r)}return t},readMessage:function(e,t){return this.readFields(e,t,this.readVarint()+this.pos)},readFixed32:function(){var e=nf(this.buf,this.pos);return this.pos+=4,e},readSFixed32:function(){var e=af(this.buf,this.pos);return this.pos+=4,e},readFixed64:function(){var e=nf(this.buf,this.pos)+nf(this.buf,this.pos+4)*Vd;return this.pos+=8,e},readSFixed64:function(){var e=nf(this.buf,this.pos)+af(this.buf,this.pos+4)*Vd;return this.pos+=8,e},readFloat:function(){var e=Nd(this.buf,this.pos,!0,23,4);return this.pos+=4,e},readDouble:function(){var e=Nd(this.buf,this.pos,!0,52,8);return this.pos+=8,e},readVarint:function(e){var t,n,r=this.buf;return t=127&(n=r[this.pos++]),n<128?t:(t|=(127&(n=r[this.pos++]))<<7,n<128?t:(t|=(127&(n=r[this.pos++]))<<14,n<128?t:(t|=(127&(n=r[this.pos++]))<<21,n<128?t:function(e,t,n){var r,i,a=n.buf;if(r=(112&(i=a[n.pos++]))>>4,i<128)return Wd(e,r,t);if(r|=(127&(i=a[n.pos++]))<<3,i<128)return Wd(e,r,t);if(r|=(127&(i=a[n.pos++]))<<10,i<128)return Wd(e,r,t);if(r|=(127&(i=a[n.pos++]))<<17,i<128)return Wd(e,r,t);if(r|=(127&(i=a[n.pos++]))<<24,i<128)return Wd(e,r,t);if(r|=(1&(i=a[n.pos++]))<<31,i<128)return Wd(e,r,t);throw new Error("Expected varint not more than 10 bytes")}(t|=(15&(n=r[this.pos]))<<28,e,this))))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var e=this.readVarint();return e%2==1?(e+1)/-2:e/2},readBoolean:function(){return Boolean(this.readVarint())},readString:function(){var e=this.readVarint()+this.pos,t=this.pos;return this.pos=e,e-t>=12&&Hd?function(e,t,n){return Hd.decode(e.subarray(t,n))}(this.buf,t,e):function(e,t,n){for(var r="",i=t;i<n;){var a,o,s,l=e[i],c=null,u=l>239?4:l>223?3:l>191?2:1;if(i+u>n)break;1===u?l<128&&(c=l):2===u?128==(192&(a=e[i+1]))&&(c=(31&l)<<6|63&a)<=127&&(c=null):3===u?(o=e[i+2],128==(192&(a=e[i+1]))&&128==(192&o)&&((c=(15&l)<<12|(63&a)<<6|63&o)<=2047||c>=55296&&c<=57343)&&(c=null)):4===u&&(o=e[i+2],s=e[i+3],128==(192&(a=e[i+1]))&&128==(192&o)&&128==(192&s)&&((c=(15&l)<<18|(63&a)<<12|(63&o)<<6|63&s)<=65535||c>=1114112)&&(c=null)),null===c?(c=65533,u=1):c>65535&&(c-=65536,r+=String.fromCharCode(c>>>10&1023|55296),c=56320|1023&c),r+=String.fromCharCode(c),i+=u}return r}(this.buf,t,e)},readBytes:function(){var e=this.readVarint()+this.pos,t=this.buf.subarray(this.pos,e);return this.pos=e,t},readPackedVarint:function(e,t){if(this.type!==Fd.Bytes)return e.push(this.readVarint(t));var n=Gd(this);for(e=e||[];this.pos<n;)e.push(this.readVarint(t));return e},readPackedSVarint:function(e){if(this.type!==Fd.Bytes)return e.push(this.readSVarint());var t=Gd(this);for(e=e||[];this.pos<t;)e.push(this.readSVarint());return e},readPackedBoolean:function(e){if(this.type!==Fd.Bytes)return e.push(this.readBoolean());var t=Gd(this);for(e=e||[];this.pos<t;)e.push(this.readBoolean());return e},readPackedFloat:function(e){if(this.type!==Fd.Bytes)return e.push(this.readFloat());var t=Gd(this);for(e=e||[];this.pos<t;)e.push(this.readFloat());return e},readPackedDouble:function(e){if(this.type!==Fd.Bytes)return e.push(this.readDouble());var t=Gd(this);for(e=e||[];this.pos<t;)e.push(this.readDouble());return e},readPackedFixed32:function(e){if(this.type!==Fd.Bytes)return e.push(this.readFixed32());var t=Gd(this);for(e=e||[];this.pos<t;)e.push(this.readFixed32());return e},readPackedSFixed32:function(e){if(this.type!==Fd.Bytes)return e.push(this.readSFixed32());var t=Gd(this);for(e=e||[];this.pos<t;)e.push(this.readSFixed32());return e},readPackedFixed64:function(e){if(this.type!==Fd.Bytes)return e.push(this.readFixed64());var t=Gd(this);for(e=e||[];this.pos<t;)e.push(this.readFixed64());return e},readPackedSFixed64:function(e){if(this.type!==Fd.Bytes)return e.push(this.readSFixed64());var t=Gd(this);for(e=e||[];this.pos<t;)e.push(this.readSFixed64());return e},skip:function(e){var t=7&e;if(t===Fd.Varint)for(;this.buf[this.pos++]>127;);else if(t===Fd.Bytes)this.pos=this.readVarint()+this.pos;else if(t===Fd.Fixed32)this.pos+=4;else{if(t!==Fd.Fixed64)throw new Error("Unimplemented type: "+t);this.pos+=8}},writeTag:function(e,t){this.writeVarint(e<<3|t)},realloc:function(e){for(var t=this.length||16;t<this.pos+e;)t*=2;if(t!==this.length){var n=new Uint8Array(t);n.set(this.buf),this.buf=n,this.length=t}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(e){this.realloc(4),rf(this.buf,e,this.pos),this.pos+=4},writeSFixed32:function(e){this.realloc(4),rf(this.buf,e,this.pos),this.pos+=4},writeFixed64:function(e){this.realloc(8),rf(this.buf,-1&e,this.pos),rf(this.buf,Math.floor(e*Ud),this.pos+4),this.pos+=8},writeSFixed64:function(e){this.realloc(8),rf(this.buf,-1&e,this.pos),rf(this.buf,Math.floor(e*Ud),this.pos+4),this.pos+=8},writeVarint:function(e){(e=+e||0)>268435455||e<0?function(e,t){var n,r;if(e>=0?(n=e%4294967296|0,r=e/4294967296|0):(r=~(-e/4294967296),4294967295^(n=~(-e%4294967296))?n=n+1|0:(n=0,r=r+1|0)),e>=0x10000000000000000||e<-0x10000000000000000)throw new Error("Given varint doesn't fit into 10 bytes");t.realloc(10),function(e,t,n){n.buf[n.pos++]=127&e|128,e>>>=7,n.buf[n.pos++]=127&e|128,e>>>=7,n.buf[n.pos++]=127&e|128,e>>>=7,n.buf[n.pos++]=127&e|128,n.buf[n.pos]=127&(e>>>=7)}(n,0,t),function(e,t){var n=(7&e)<<4;t.buf[t.pos++]|=n|((e>>>=3)?128:0),e&&(t.buf[t.pos++]=127&e|((e>>>=7)?128:0),e&&(t.buf[t.pos++]=127&e|((e>>>=7)?128:0),e&&(t.buf[t.pos++]=127&e|((e>>>=7)?128:0),e&&(t.buf[t.pos++]=127&e|((e>>>=7)?128:0),e&&(t.buf[t.pos++]=127&e)))))}(r,t)}(e,this):(this.realloc(4),this.buf[this.pos++]=127&e|(e>127?128:0),e<=127||(this.buf[this.pos++]=127&(e>>>=7)|(e>127?128:0),e<=127||(this.buf[this.pos++]=127&(e>>>=7)|(e>127?128:0),e<=127||(this.buf[this.pos++]=e>>>7&127))))},writeSVarint:function(e){this.writeVarint(e<0?2*-e-1:2*e)},writeBoolean:function(e){this.writeVarint(Boolean(e))},writeString:function(e){e=String(e),this.realloc(4*e.length),this.pos++;var t=this.pos;this.pos=function(e,t,n){for(var r,i,a=0;a<t.length;a++){if((r=t.charCodeAt(a))>55295&&r<57344){if(!i){r>56319||a+1===t.length?(e[n++]=239,e[n++]=191,e[n++]=189):i=r;continue}if(r<56320){e[n++]=239,e[n++]=191,e[n++]=189,i=r;continue}r=i-55296<<10|r-56320|65536,i=null}else i&&(e[n++]=239,e[n++]=191,e[n++]=189,i=null);r<128?e[n++]=r:(r<2048?e[n++]=r>>6|192:(r<65536?e[n++]=r>>12|224:(e[n++]=r>>18|240,e[n++]=r>>12&63|128),e[n++]=r>>6&63|128),e[n++]=63&r|128)}return n}(this.buf,e,this.pos);var n=this.pos-t;n>=128&&qd(t,n,this),this.pos=t-1,this.writeVarint(n),this.pos+=n},writeFloat:function(e){this.realloc(4),Bd(this.buf,e,this.pos,!0,23,4),this.pos+=4},writeDouble:function(e){this.realloc(8),Bd(this.buf,e,this.pos,!0,52,8),this.pos+=8},writeBytes:function(e){var t=e.length;this.writeVarint(t),this.realloc(t);for(var n=0;n<t;n++)this.buf[this.pos++]=e[n]},writeRawMessage:function(e,t){this.pos++;var n=this.pos;e(t,this);var r=this.pos-n;r>=128&&qd(n,r,this),this.pos=n-1,this.writeVarint(r),this.pos+=r},writeMessage:function(e,t,n){this.writeTag(e,Fd.Bytes),this.writeRawMessage(t,n)},writePackedVarint:function(e,t){t.length&&this.writeMessage(e,Xd,t)},writePackedSVarint:function(e,t){t.length&&this.writeMessage(e,Zd,t)},writePackedBoolean:function(e,t){t.length&&this.writeMessage(e,$d,t)},writePackedFloat:function(e,t){t.length&&this.writeMessage(e,Kd,t)},writePackedDouble:function(e,t){t.length&&this.writeMessage(e,Yd,t)},writePackedFixed32:function(e,t){t.length&&this.writeMessage(e,Jd,t)},writePackedSFixed32:function(e,t){t.length&&this.writeMessage(e,Qd,t)},writePackedFixed64:function(e,t){t.length&&this.writeMessage(e,ef,t)},writePackedSFixed64:function(e,t){t.length&&this.writeMessage(e,tf,t)},writeBytesField:function(e,t){this.writeTag(e,Fd.Bytes),this.writeBytes(t)},writeFixed32Field:function(e,t){this.writeTag(e,Fd.Fixed32),this.writeFixed32(t)},writeSFixed32Field:function(e,t){this.writeTag(e,Fd.Fixed32),this.writeSFixed32(t)},writeFixed64Field:function(e,t){this.writeTag(e,Fd.Fixed64),this.writeFixed64(t)},writeSFixed64Field:function(e,t){this.writeTag(e,Fd.Fixed64),this.writeSFixed64(t)},writeVarintField:function(e,t){this.writeTag(e,Fd.Varint),this.writeVarint(t)},writeSVarintField:function(e,t){this.writeTag(e,Fd.Varint),this.writeSVarint(t)},writeStringField:function(e,t){this.writeTag(e,Fd.Bytes),this.writeString(t)},writeFloatField:function(e,t){this.writeTag(e,Fd.Fixed32),this.writeFloat(t)},writeDoubleField:function(e,t){this.writeTag(e,Fd.Fixed64),this.writeDouble(t)},writeBooleanField:function(e,t){this.writeVarintField(e,Boolean(t))}};var uf=function(){function e(t,n){var r=n.pixelRatio,i=n.version,a=n.stretchX,o=n.stretchY,s=n.content;h(this,e),this.paddedRect=t,this.pixelRatio=r,this.stretchX=a,this.stretchY=o,this.content=s,this.version=i}return p(e,[{key:"tl",get:function(){return[this.paddedRect.x+1,this.paddedRect.y+1]}},{key:"br",get:function(){return[this.paddedRect.x+this.paddedRect.w-1,this.paddedRect.y+this.paddedRect.h-1]}},{key:"displaySize",get:function(){return[(this.paddedRect.w-2)/this.pixelRatio,(this.paddedRect.h-2)/this.pixelRatio]}}]),e}(),df=function(){function e(t,n){h(this,e);var r={},i={};this.haveRenderCallbacks=[];var a=[];this.addImages(t,r,a),this.addImages(n,i,a);var o=cf(a),s=o.w,l=o.h,c=new Ac({width:s||1,height:l||1});for(var u in t){var d=t[u],f=r[u].paddedRect;Ac.copy(d.data,c,{x:0,y:0},{x:f.x+1,y:f.y+1},d.data)}for(var p in n){var m=n[p],v=i[p].paddedRect,g=v.x+1,y=v.y+1,x=m.data.width,b=m.data.height;Ac.copy(m.data,c,{x:0,y:0},{x:g,y:y},m.data),Ac.copy(m.data,c,{x:0,y:b-1},{x:g,y:y-1},{width:x,height:1}),Ac.copy(m.data,c,{x:0,y:0},{x:g,y:y+b},{width:x,height:1}),Ac.copy(m.data,c,{x:x-1,y:0},{x:g-1,y:y},{width:1,height:b}),Ac.copy(m.data,c,{x:0,y:0},{x:g+x,y:y},{width:1,height:b})}this.image=c,this.iconPositions=r,this.patternPositions=i}return p(e,[{key:"addImages",value:function(e,t,n){for(var r in e){var i=e[r],a={x:0,y:0,w:i.data.width+2,h:i.data.height+2};n.push(a),t[r]=new uf(a,i),i.hasRenderCallback&&this.haveRenderCallbacks.push(r)}}},{key:"patchUpdatedImages",value:function(e,t){for(var n in this.haveRenderCallbacks=this.haveRenderCallbacks.filter((function(t){return e.hasImage(t)})),e.dispatchRenderCallbacks(this.haveRenderCallbacks),e.updatedImages)this.patchUpdatedImage(this.iconPositions[n],e.getImage(n),t),this.patchUpdatedImage(this.patternPositions[n],e.getImage(n),t)}},{key:"patchUpdatedImage",value:function(e,t,n){if(e&&t&&e.version!==t.version){e.version=t.version;var r=d(e.tl,2),i=r[0],a=r[1];n.update(t.data,void 0,{x:i,y:a})}}}]),e}();na(uf,"ImagePosition"),na(df,"ImageAtlas");var ff={horizontal:1,vertical:2,horizontalOnly:3},hf=function(){function e(){h(this,e),this.scale=1,this.fontStack="",this.imageName=null}return p(e,null,[{key:"forText",value:function(t,n){var r=new e;return r.scale=t||1,r.fontStack=n,r}},{key:"forImage",value:function(t){var n=new e;return n.imageName=t,n}}]),e}(),pf=function(){function e(){h(this,e),this.text="",this.sectionIndex=[],this.sections=[],this.imageSectionID=null}return p(e,[{key:"length",value:function(){return this.text.length}},{key:"getSection",value:function(e){return this.sections[this.sectionIndex[e]]}},{key:"getSections",value:function(){return this.sections}},{key:"getSectionIndex",value:function(e){return this.sectionIndex[e]}},{key:"getCharCode",value:function(e){return this.text.charCodeAt(e)}},{key:"verticalizePunctuation",value:function(e){this.text=function(e,t){for(var n="",r=0;r<e.length;r++){var i=e.charCodeAt(r+1)||null,a=e.charCodeAt(r-1)||null;n+=!t&&(i&&Ba(i)&&!jd[e[r+1]]||a&&Ba(a)&&!jd[e[r-1]])||!jd[e[r]]?e[r]:jd[e[r]]}return n}(this.text,e)}},{key:"trim",value:function(){for(var e=0,t=0;t<this.text.length&&vf[this.text.charCodeAt(t)];t++)e++;for(var n=this.text.length,r=this.text.length-1;r>=0&&r>=e&&vf[this.text.charCodeAt(r)];r--)n--;this.text=this.text.substring(e,n),this.sectionIndex=this.sectionIndex.slice(e,n)}},{key:"substring",value:function(t,n){var r=new e;return r.text=this.text.substring(t,n),r.sectionIndex=this.sectionIndex.slice(t,n),r.sections=this.sections,r}},{key:"toString",value:function(){return this.text}},{key:"getMaxScale",value:function(){var e=this;return this.sectionIndex.reduce((function(t,n){return Math.max(t,e.sections[n].scale)}),0)}},{key:"addTextSection",value:function(e,t){this.text+=e.text,this.sections.push(hf.forText(e.scale,e.fontStack||t));for(var n=this.sections.length-1,r=0;r<e.text.length;++r)this.sectionIndex.push(n)}},{key:"addImageSection",value:function(e){var t=e.image?e.image.name:"";if(0!==t.length){var n=this.getNextImageSectionCharCode();n?(this.text+=String.fromCharCode(n),this.sections.push(hf.forImage(t)),this.sectionIndex.push(this.sections.length-1)):te("Reached maximum number of images 6401")}else te("Can't add FormattedSection with an empty image.")}},{key:"getNextImageSectionCharCode",value:function(){return this.imageSectionID?this.imageSectionID>=63743?null:++this.imageSectionID:(this.imageSectionID=57344,this.imageSectionID)}}],[{key:"fromFeature",value:function(t,n){for(var r=new e,i=0;i<t.sections.length;i++){var a=t.sections[i];a.image?r.addImageSection(a):r.addTextSection(a,n)}return r}}]),e}();function mf(e,t,n,r,i,a,o,s,l,c,u,d,h,p,m){var v=pf.fromFeature(e,i);d===ff.vertical&&v.verticalizePunctuation(h);var g=[],y=function(e,t,n,r,i,a){if(!e)return[];for(var o,s=[],l=function(e,t,n,r,i,a){for(var o=0,s=0;s<e.length();s++){var l=e.getSection(s);o+=yf(e.getCharCode(s),l,r,i,t,a)}return o/Math.max(1,Math.ceil(o/n))}(e,t,n,r,i,a),c=e.text.indexOf("\u200b")>=0,u=0,d=0;d<e.length();d++){var f=e.getSection(d),h=e.getCharCode(d);if(vf[h]||(u+=yf(h,f,r,i,t,a)),d<e.length()-1){var p=!((o=h)<11904||!(ya(o)||ga(o)||Pa(o)||Ma(o)||wa(o)||da(o)||xa(o)||pa(o)||ka(o)||Sa(o)||_a(o)||ja(o)||ma(o)||ha(o)||fa(o)||ba(o)||va(o)||Oa(o)||Ca(o)||Ea(o)));(gf[h]||p||f.imageName)&&s.push(_f(d+1,u,l,s,bf(h,e.getCharCode(d+1),p&&c),!1))}}return wf(_f(e.length(),u,l,s,0,!0))}(v,c,a,t,r,p),x=eo.processBidirectionalText,b=eo.processStyledBidirectionalText;if(x&&1===v.sections.length){var _,w=x(v.toString(),y),k=f(w);try{for(k.s();!(_=k.n()).done;){var S=_.value,E=new pf;E.text=S,E.sections=v.sections;for(var C=0;C<S.length;C++)E.sectionIndex.push(0);g.push(E)}}catch(j){k.e(j)}finally{k.f()}}else if(b){var T,M=b(v.text,v.sectionIndex,y),I=f(M);try{for(I.s();!(T=I.n()).done;){var O=T.value,P=new pf;P.text=O[0],P.sectionIndex=O[1],P.sections=v.sections,g.push(P)}}catch(j){I.e(j)}finally{I.f()}}else g=function(e,t){var n,r=[],i=e.text,a=0,o=f(t);try{for(o.s();!(n=o.n()).done;){var s=n.value;r.push(e.substring(a,s)),a=s}}catch(j){o.e(j)}finally{o.f()}return a<i.length&&r.push(e.substring(a,i.length)),r}(v,y);var A=[],z={positionedLines:A,text:v.toString(),top:u[1],bottom:u[1],left:u[0],right:u[0],writingMode:d,iconsInText:!1,verticalizable:!1,hasBaseline:!1};return function(e,t,n,r,i,a,o,s,l,c,u,d){var h,p=0,m=0,v=0,g="right"===s?1:"left"===s?0:.5,y=!1,x=f(i);try{for(x.s();!(h=x.n()).done;){var b,_=h.value.getSections(),w=f(_);try{for(w.s();!(b=w.n()).done;){var k=b.value;if(!k.imageName){var S=t[k.fontStack];if(S&&!(y=void 0!==S.ascender&&void 0!==S.descender))break}}}catch(j){w.e(j)}finally{w.f()}if(!y)break}}catch(j){x.e(j)}finally{x.f()}var E,C,T=0,M=f(i);try{for(M.s();!(E=M.n()).done;){var I=E.value;I.trim();var O=I.getMaxScale(),P=(O-1)*Td,A={positionedGlyphs:[],lineOffset:0};e.positionedLines[T]=A;var z=A.positionedGlyphs,R=0;if(I.length()){for(var D=0,L=0,N=0;N<I.length();N++){var B=I.getSection(N),F=I.getSectionIndex(N),V=I.getCharCode(N),U=B.scale,H=null,G=null,W=null,q=Td,X=0,Z=!(l===ff.horizontal||!u&&!Na(V)||u&&(vf[V]||(C=V,la(C)||ca(C)||ua(C)||Ia(C)||za(C))));if(B.imageName){var K=r[B.imageName];if(!K)continue;W=B.imageName,e.iconsInText=e.iconsInText||!0,G=K.paddedRect;var Y=K.displaySize;U=U*Td/d,H={width:Y[0],height:Y[1],left:1,top:-3,advance:Z?Y[1]:Y[0],localGlyph:!1},X=y?-H.height*U:O*Td-17-Y[1]*U,q=H.advance;var $=(Z?Y[0]:Y[1])*U-Td*O;$>0&&$>R&&(R=$)}else{var J=n[B.fontStack];if(!J)continue;J[V]&&(G=J[V]);var Q=t[B.fontStack];if(!Q)continue;var ee=Q.glyphs[V];if(!ee)continue;if(H=ee.metrics,q=8203!==V?Td:0,y){var te=void 0!==Q.ascender?Math.abs(Q.ascender):0,ne=void 0!==Q.descender?Math.abs(Q.descender):0,re=(te+ne)*U;D<re&&(D=re,L=(te-ne)/2*U),X=-te*U}else X=(O-U)*Td-17}Z?(e.verticalizable=!0,z.push({glyph:V,imageName:W,x:p,y:m+X,vertical:Z,scale:U,localGlyph:H.localGlyph,fontStack:B.fontStack,sectionIndex:F,metrics:H,rect:G}),p+=q*U+c):(z.push({glyph:V,imageName:W,x:p,y:m+X,vertical:Z,scale:U,localGlyph:H.localGlyph,fontStack:B.fontStack,sectionIndex:F,metrics:H,rect:G}),p+=H.advance*U+c)}0!==z.length&&(v=Math.max(p-c,v),y?Sf(z,g,R,L,a*O/2):Sf(z,g,R,0,a/2)),p=0;var ie=a*O+R;A.lineOffset=Math.max(R,P),m+=ie,++T}else m+=a,++T}}catch(j){M.e(j)}finally{M.f()}var ae=m,oe=kf(o),se=oe.horizontalAlign,le=oe.verticalAlign;(function(e,t,n,r,i,a){var o,s=(t-n)*i,l=-a*r,c=f(e);try{for(c.s();!(o=c.n()).done;){var u,d=o.value,h=f(d.positionedGlyphs);try{for(h.s();!(u=h.n()).done;){var p=u.value;p.x+=s,p.y+=l}}catch(j){h.e(j)}finally{h.f()}}}catch(j){c.e(j)}finally{c.f()}})(e.positionedLines,g,se,le,v,ae),e.top+=-le*ae,e.bottom=e.top+ae,e.left+=-se*v,e.right=e.left+v,e.hasBaseline=y}(z,t,n,r,g,o,s,l,d,c,h,m),!function(e){var t,n=f(e);try{for(n.s();!(t=n.n()).done;)if(0!==t.value.positionedGlyphs.length)return!1}catch(j){n.e(j)}finally{n.f()}return!0}(A)&&z}var vf={9:!0,10:!0,11:!0,12:!0,13:!0,32:!0},gf={10:!0,32:!0,38:!0,40:!0,41:!0,43:!0,45:!0,47:!0,173:!0,183:!0,8203:!0,8208:!0,8211:!0,8231:!0};function yf(e,t,n,r,i,a){if(t.imageName){var o=r[t.imageName];return o?o.displaySize[0]*t.scale*Td/a+i:0}var s=n[t.fontStack],l=s&&s.glyphs[e];return l?l.metrics.advance*t.scale+i:0}function xf(e,t,n,r){var i=Math.pow(e-t,2);return r?e<t?i/2:2*i:i+Math.abs(n)*n}function bf(e,t,n){var r=0;return 10===e&&(r-=1e4),n&&(r+=150),40!==e&&65288!==e||(r+=50),41!==t&&65289!==t||(r+=50),r}function _f(e,t,n,r,i,a){var o,s=null,l=xf(t,n,i,a),c=f(r);try{for(c.s();!(o=c.n()).done;){var u=o.value,d=xf(t-u.x,n,i,a)+u.badness;d<=l&&(s=u,l=d)}}catch(h){c.e(h)}finally{c.f()}return{index:e,x:t,priorBreak:s,badness:l}}function wf(e){return e?wf(e.priorBreak).concat(e.index):[]}function kf(e){var t=.5,n=.5;switch(e){case"right":case"top-right":case"bottom-right":t=1;break;case"left":case"top-left":case"bottom-left":t=0}switch(e){case"bottom":case"bottom-right":case"bottom-left":n=1;break;case"top":case"top-right":case"top-left":n=0}return{horizontalAlign:t,verticalAlign:n}}function Sf(e,t,n,r,i){if(t||n||r||i)for(var a=e.length-1,o=e[a],s=(o.x+o.metrics.advance*o.scale)*t,l=0;l<=a;l++)e[l].x-=s,e[l].y+=n+r+i}function Ef(e,t,n){var r=kf(n),i=r.horizontalAlign,a=r.verticalAlign,o=t[0]-e.displaySize[0]*i,s=t[1]-e.displaySize[1]*a;return{image:e,top:s,bottom:s+e.displaySize[1],left:o,right:o+e.displaySize[0]}}function Cf(e,t,n,r,i,a){var o,s=e.image;if(s.content){var l=s.content,c=s.pixelRatio||1;o=[l[0]/c,l[1]/c,s.displaySize[0]-l[2]/c,s.displaySize[1]-l[3]/c]}var u,d,f,h,p=t.left*a,m=t.right*a;"width"===n||"both"===n?(h=i[0]+p-r[3],d=i[0]+m+r[1]):d=(h=i[0]+(p+m-s.displaySize[0])/2)+s.displaySize[0];var v=t.top*a,g=t.bottom*a;return"height"===n||"both"===n?(u=i[1]+v-r[0],f=i[1]+g+r[2]):f=(u=i[1]+(v+g-s.displaySize[1])/2)+s.displaySize[1],{image:s,top:u,right:d,bottom:f,left:h,collisionPadding:o}}var Tf=function(e){m(n,e);var t=v(n);function n(e,r,i,a,o){var s;return h(this,n),(s=t.call(this,e,r)).angle=a,s.z=i,void 0!==o&&(s.segment=o),s}return p(n,[{key:"clone",value:function(){return new n(this.x,this.y,this.z,this.angle,this.segment)}}]),n}(M);function Mf(e,t,n,r,i){if(void 0===t.segment)return!0;for(var a=t,o=t.segment+1,s=0;s>-n/2;){if(--o<0)return!1;s-=e[o].dist(a),a=e[o]}s+=e[o].dist(e[o+1]),o++;for(var l=[],c=0;s<n/2;){var u=e[o],d=e[o+1];if(!d)return!1;var f=e[o-1].angleTo(u)-u.angleTo(d);for(f=Math.abs((f+3*Math.PI)%(2*Math.PI)-Math.PI),l.push({distance:s,angleDelta:f}),c+=f;s-l[0].distance>r;)c-=l.shift().angleDelta;if(c>i)return!1;o++,s+=u.dist(d)}return!0}function If(e){for(var t=0,n=0;n<e.length-1;n++)t+=e[n].dist(e[n+1]);return t}function Of(e,t,n){return e?.6*t*n:0}function Pf(e,t){return Math.max(e?e.right-e.left:0,t?t.right-t.left:0)}function Af(e,t,n,r,i,a){for(var o=Of(n,i,a),s=Pf(n,r)*a,l=0,c=If(e)/2,u=0;u<e.length-1;u++){var d=e[u],f=e[u+1],h=d.dist(f);if(l+h>c){var p=(c-l)/h,m=Un(d.x,f.x,p),v=Un(d.y,f.y,p),g=new Tf(m,v,0,f.angleTo(d),u);return!o||Mf(e,g,s,o,t)?g:void 0}l+=h}}function zf(e,t,n,r,i,a,o,s,l){var c=Of(r,a,o),u=Pf(r,i),d=u*o,f=0===e[0].x||e[0].x===l||0===e[0].y||e[0].y===l;return t-d<t/4&&(t=d+t/4),jf(e,f?t/2*s%t:(u/2+2*a)*o*s%t,t,c,n,d,f,!1,l)}function jf(e,t,n,r,i,a,o,s,l){for(var c=a/2,u=If(e),d=0,f=t-n,h=[],p=0;p<e.length-1;p++){for(var m=e[p],v=e[p+1],g=m.dist(v),y=v.angleTo(m);f+n<d+g;){var x=((f+=n)-d)/g,b=Un(m.x,v.x,x),_=Un(m.y,v.y,x);if(b>=0&&b<l&&_>=0&&_<l&&f-c>=0&&f+c<=u){var w=new Tf(b,_,0,y,p);w._round(),r&&!Mf(e,w,a,r,i)||h.push(w)}}d+=g}return s||h.length||o||(h=jf(e,d/2,n,r,i,a,o,!0,l)),h}function Rf(e,t,n,r,i){for(var a=[],o=0;o<e.length;o++)for(var s=e[o],l=void 0,c=0;c<s.length-1;c++){var u=s[c],d=s[c+1];u.x<t&&d.x<t||(u.x<t?u=new M(t,u.y+(t-u.x)/(d.x-u.x)*(d.y-u.y))._round():d.x<t&&(d=new M(t,u.y+(t-u.x)/(d.x-u.x)*(d.y-u.y))._round()),u.y<n&&d.y<n||(u.y<n?u=new M(u.x+(n-u.y)/(d.y-u.y)*(d.x-u.x),n)._round():d.y<n&&(d=new M(u.x+(n-u.y)/(d.y-u.y)*(d.x-u.x),n)._round()),u.x>=r&&d.x>=r||(u.x>=r?u=new M(r,u.y+(r-u.x)/(d.x-u.x)*(d.y-u.y))._round():d.x>=r&&(d=new M(r,u.y+(r-u.x)/(d.x-u.x)*(d.y-u.y))._round()),u.y>=i&&d.y>=i||(u.y>=i?u=new M(u.x+(i-u.y)/(d.y-u.y)*(d.x-u.x),i)._round():d.y>=i&&(d=new M(u.x+(i-u.y)/(d.y-u.y)*(d.x-u.x),i)._round()),l&&u.equals(l[l.length-1])||(l=[u],a.push(l)),l.push(d)))))}return a}na(Tf,"Anchor");var Df=1e20;function Lf(e,t,n,r,i,a,o,s,l){for(var c=t;c<t+r;c++)Nf(e,n*a+c,a,i,o,s,l);for(var u=n;u<n+i;u++)Nf(e,u*a+t,1,r,o,s,l)}function Nf(e,t,n,r,i,a,o){a[0]=0,o[0]=-Df,o[1]=Df,i[0]=e[t];for(var s=1,l=0,c=0;s<r;s++){i[s]=e[t+s*n];var u=s*s;do{var d=a[l];c=(i[s]-i[d]+u-d*d)/(s-d)/2}while(c<=o[l]&&--l>-1);a[++l]=s,o[l]=c,o[l+1]=Df}for(var f=0,h=0;f<r;f++){for(;o[h+1]<f;)h++;var p=a[h],m=f-p;e[t+f*n]=i[p]+m*m}}var Bf={none:0,ideographs:1,all:2},Ff=function(){function e(t,n,r){h(this,e),this.requestManager=t,this.localGlyphMode=n,this.localFontFamily=r,this.entries={},this.localGlyphs={200:{},400:{},500:{},900:{}}}return p(e,[{key:"setURL",value:function(e){this.url=e}},{key:"getGlyphs",value:function(t,n){var r=this,i=[];for(var a in t){var o,s=f(t[a]);try{for(s.s();!(o=s.n()).done;){var l=o.value;i.push({stack:a,id:l})}}catch(c){s.e(c)}finally{s.f()}}V(i,(function(t,n){var i=t.stack,a=t.id,o=r.entries[i];o||(o=r.entries[i]={glyphs:{},requests:{},ranges:{},ascender:void 0,descender:void 0});var s=o.glyphs[a];if(void 0===s){if(s=r._tinySDF(o,i,a))return o.glyphs[a]=s,void n(null,{stack:i,id:a,glyph:s});var l=Math.floor(a/256);if(256*l>65535)n(new Error("glyphs > 65535 not supported"));else if(o.ranges[l])n(null,{stack:i,id:a,glyph:s});else{var u=o.requests[l];u||(u=o.requests[l]=[],e.loadGlyphRange(i,l,r.url,r.requestManager,(function(e,t){if(t){for(var n in o.ascender=t.ascender,o.descender=t.descender,t.glyphs)r._doesCharSupportLocalGlyph(+n)||(o.glyphs[+n]=t.glyphs[+n]);o.ranges[l]=!0}var i,a=f(u);try{for(a.s();!(i=a.n()).done;)(0,i.value)(e,t)}catch(c){a.e(c)}finally{a.f()}delete o.requests[l]}))),u.push((function(e,t){e?n(e):t&&n(null,{stack:i,id:a,glyph:t.glyphs[a]||null})}))}}else n(null,{stack:i,id:a,glyph:s})}),(function(e,t){if(e)n(e);else if(t){var i,a={},o=f(t);try{for(o.s();!(i=o.n()).done;){var s=i.value,l=s.stack,u=s.id,d=s.glyph;void 0===a[l]&&(a[l]={}),void 0===a[l].glyphs&&(a[l].glyphs={}),a[l].glyphs[u]=d&&{id:d.id,bitmap:d.bitmap.clone(),metrics:d.metrics},a[l].ascender=r.entries[l].ascender,a[l].descender=r.entries[l].descender}}catch(c){o.e(c)}finally{o.f()}n(null,a)}}))}},{key:"_doesCharSupportLocalGlyph",value:function(e){return this.localGlyphMode!==Bf.none&&(this.localGlyphMode===Bf.all?!!this.localFontFamily:!!this.localFontFamily&&(Sa(e)||Ta(e)||ma(e)||va(e)||pa(e)))}},{key:"_tinySDF",value:function(t,n,r){var i=this.localFontFamily;if(i&&this._doesCharSupportLocalGlyph(r)){var a=t.tinySDF;if(!a){var o="400";/bold/i.test(n)?o="900":/medium/i.test(n)?o="500":/light/i.test(n)&&(o="200"),(a=t.tinySDF=new e.TinySDF({fontFamily:i,fontWeight:o,fontSize:48,buffer:6,radius:16})).fontWeight=o}if(this.localGlyphs[a.fontWeight][r])return this.localGlyphs[a.fontWeight][r];var s=String.fromCharCode(r),l=a.draw(s),c=l.data,u=l.width,d=l.height,f=l.glyphWidth,h=l.glyphHeight,p=l.glyphLeft,m=l.glyphTop,v=l.glyphAdvance;return this.localGlyphs[a.fontWeight][r]={id:r,bitmap:new Pc({width:u,height:d},c),metrics:{width:f/2,height:h/2,left:p/2,top:m/2-27,advance:v/2,localGlyph:!0}}}}}]),e}();function Vf(e,t,n,r){var i=[],a=e.image,o=a.pixelRatio,s=a.paddedRect.w-2,l=a.paddedRect.h-2,c=e.right-e.left,u=e.bottom-e.top,d=a.stretchX||[[0,s]],f=a.stretchY||[[0,l]],h=function(e,t){return e+t[1]-t[0]},p=d.reduce(h,0),m=f.reduce(h,0),v=s-p,g=l-m,y=0,x=p,b=0,_=m,w=0,k=v,S=0,E=g;if(a.content&&r){var C=a.content;y=Uf(d,0,C[0]),b=Uf(f,0,C[1]),x=Uf(d,C[0],C[2]),_=Uf(f,C[1],C[3]),w=C[0]-y,S=C[1]-b,k=C[2]-C[0]-x,E=C[3]-C[1]-_}var T=function(r,i,s,l){var d=Gf(r.stretch-y,x,c,e.left),f=Wf(r.fixed-w,k,r.stretch,p),h=Gf(i.stretch-b,_,u,e.top),v=Wf(i.fixed-S,E,i.stretch,m),g=Gf(s.stretch-y,x,c,e.left),C=Wf(s.fixed-w,k,s.stretch,p),T=Gf(l.stretch-b,_,u,e.top),I=Wf(l.fixed-S,E,l.stretch,m),O=new M(d,h),P=new M(g,h),A=new M(g,T),z=new M(d,T),j=new M(f/o,v/o),R=new M(C/o,I/o),D=t*Math.PI/180;if(D){var L=Math.sin(D),N=Math.cos(D),B=[N,-L,L,N];O._matMult(B),P._matMult(B),z._matMult(B),A._matMult(B)}var F=r.stretch+r.fixed,V=i.stretch+i.fixed;return{tl:O,tr:P,bl:z,br:A,tex:{x:a.paddedRect.x+1+F,y:a.paddedRect.y+1+V,w:s.stretch+s.fixed-F,h:l.stretch+l.fixed-V},writingMode:void 0,glyphOffset:[0,0],sectionIndex:0,pixelOffsetTL:j,pixelOffsetBR:R,minFontScaleX:k/o/c,minFontScaleY:E/o/u,isSDF:n}};if(r&&(a.stretchX||a.stretchY))for(var I=Hf(d,v,p),O=Hf(f,g,m),P=0;P<I.length-1;P++)for(var A=I[P],z=I[P+1],j=0;j<O.length-1;j++)i.push(T(A,O[j],z,O[j+1]));else i.push(T({fixed:0,stretch:-1},{fixed:0,stretch:-1},{fixed:0,stretch:s+1},{fixed:0,stretch:l+1}));return i}function Uf(e,t,n){var r,i=0,a=f(e);try{for(a.s();!(r=a.n()).done;){var o=r.value;i+=Math.max(t,Math.min(n,o[1]))-Math.max(t,Math.min(n,o[0]))}}catch(s){a.e(s)}finally{a.f()}return i}function Hf(e,t,n){var r,i=[{fixed:-1,stretch:0}],a=f(e);try{for(a.s();!(r=a.n()).done;){var o=d(r.value,2),s=o[0],l=o[1],c=i[i.length-1];i.push({fixed:s-c.stretch,stretch:c.stretch}),i.push({fixed:s-c.stretch,stretch:c.stretch+(l-s)})}}catch(u){a.e(u)}finally{a.f()}return i.push({fixed:t+1,stretch:n}),i}function Gf(e,t,n,r){return e/t*n+r}function Wf(e,t,n,r){return e-t*n/r}function qf(e,t,n,r){var i=t+e.positionedLines[r].lineOffset;return 0===r?n+i/2:n+(i+(t+e.positionedLines[r-1].lineOffset))/2}Ff.loadGlyphRange=function(e,t,n,r,i){var a=256*t,o=a+255,s=r.transformRequest(r.normalizeGlyphsURL(n).replace("{fontstack}",e).replace("{range}","".concat(a,"-").concat(o)),xe.Glyphs);ke(s,(function(e,t){if(e)i(e);else if(t){var n,r={},a=function(e){return new Ld(e).readFields(of,{})}(t),o=f(a.glyphs);try{for(o.s();!(n=o.n()).done;){var s=n.value;r[s.id]=s}}catch(l){o.e(l)}finally{o.f()}i(null,{glyphs:r,ascender:a.ascender,descender:a.descender})}}))},Ff.TinySDF=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.fontSize,r=void 0===n?24:n,i=t.buffer,a=void 0===i?3:i,o=t.radius,s=void 0===o?8:o,l=t.cutoff,c=void 0===l?.25:l,u=t.fontFamily,d=void 0===u?"sans-serif":u,f=t.fontWeight,p=void 0===f?"normal":f,m=t.fontStyle,v=void 0===m?"normal":m;h(this,e),this.buffer=a,this.cutoff=c,this.radius=s;var g=this.size=r+4*a,y=this._createCanvas(g),x=this.ctx=y.getContext("2d",{willReadFrequently:!0});x.font="".concat(v," ").concat(p," ").concat(r,"px ").concat(d),x.textBaseline="alphabetic",x.textAlign="left",x.fillStyle="black",this.gridOuter=new Float64Array(g*g),this.gridInner=new Float64Array(g*g),this.f=new Float64Array(g),this.z=new Float64Array(g+1),this.v=new Uint16Array(g)}return p(e,[{key:"_createCanvas",value:function(e){var t=document.createElement("canvas");return t.width=t.height=e,t}},{key:"draw",value:function(e){var t=this.ctx.measureText(e),n=t.width,r=t.actualBoundingBoxAscent,i=t.actualBoundingBoxDescent,a=t.actualBoundingBoxLeft,o=t.actualBoundingBoxRight,s=Math.ceil(r),l=Math.min(this.size-this.buffer,Math.ceil(o-a)),c=Math.min(this.size-this.buffer,s+Math.ceil(i)),u=l+2*this.buffer,d=c+2*this.buffer,f=Math.max(u*d,0),h=new Uint8ClampedArray(f),p={data:h,width:u,height:d,glyphWidth:l,glyphHeight:c,glyphTop:s,glyphLeft:0,glyphAdvance:n};if(0===l||0===c)return p;var m=this.ctx,v=this.buffer,g=this.gridInner,y=this.gridOuter;m.clearRect(v,v,l,c),m.fillText(e,v,v+s);var x=m.getImageData(v,v,l,c);y.fill(Df,0,f),g.fill(0,0,f);for(var b=0;b<c;b++)for(var _=0;_<l;_++){var w=x.data[4*(b*l+_)+3]/255;if(0!==w){var k=(b+v)*u+_+v;if(1===w)y[k]=0,g[k]=Df;else{var S=.5-w;y[k]=S>0?S*S:0,g[k]=S<0?S*S:0}}}Lf(y,0,0,u,d,u,this.f,this.v,this.z),Lf(g,v,v,l,c,u,this.f,this.v,this.z);for(var E=0;E<f;E++){var C=Math.sqrt(y[E])-Math.sqrt(g[E]);h[E]=Math.round(255-255*(C/this.radius+this.cutoff))}return p}}]),e}();var Xf=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Zf;if(h(this,e),this.data=t,this.length=this.data.length,this.compare=n,this.length>0)for(var r=(this.length>>1)-1;r>=0;r--)this._down(r)}return p(e,[{key:"push",value:function(e){this.data.push(e),this.length++,this._up(this.length-1)}},{key:"pop",value:function(){if(0!==this.length){var e=this.data[0],t=this.data.pop();return this.length--,this.length>0&&(this.data[0]=t,this._down(0)),e}}},{key:"peek",value:function(){return this.data[0]}},{key:"_up",value:function(e){for(var t=this.data,n=this.compare,r=t[e];e>0;){var i=e-1>>1,a=t[i];if(n(r,a)>=0)break;t[e]=a,e=i}t[e]=r}},{key:"_down",value:function(e){for(var t=this.data,n=this.compare,r=this.length>>1,i=t[e];e<r;){var a=1+(e<<1),o=t[a],s=a+1;if(s<this.length&&n(t[s],o)<0&&(a=s,o=t[s]),n(o,i)>=0)break;t[e]=o,e=a}t[e]=i}}]),e}();function Zf(e,t){return e<t?-1:e>t?1:0}function Kf(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=1/0,i=1/0,a=-1/0,o=-1/0,s=e[0],l=0;l<s.length;l++){var c=s[l];(!l||c.x<r)&&(r=c.x),(!l||c.y<i)&&(i=c.y),(!l||c.x>a)&&(a=c.x),(!l||c.y>o)&&(o=c.y)}var u=Math.min(a-r,o-i),d=u/2,f=new Xf([],Yf);if(0===u)return new M(r,i);for(var h=r;h<a;h+=u)for(var p=i;p<o;p+=u)f.push(new $f(h+d,p+d,d,e));for(var m=function(e){for(var t=0,n=0,r=0,i=e[0],a=0,o=i.length,s=o-1;a<o;s=a++){var l=i[a],c=i[s],u=l.x*c.y-c.x*l.y;n+=(l.x+c.x)*u,r+=(l.y+c.y)*u,t+=3*u}return new $f(n/t,r/t,0,e)}(e),v=f.length;f.length;){var g=f.pop();(g.d>m.d||!m.d)&&(m=g,n&&console.log("found best %d after %d probes",Math.round(1e4*g.d)/1e4,v)),g.max-m.d<=t||(d=g.h/2,f.push(new $f(g.p.x-d,g.p.y-d,d,e)),f.push(new $f(g.p.x+d,g.p.y-d,d,e)),f.push(new $f(g.p.x-d,g.p.y+d,d,e)),f.push(new $f(g.p.x+d,g.p.y+d,d,e)),v+=4)}return n&&(console.log("num probes: ".concat(v)),console.log("best distance: ".concat(m.d))),m.p}function Yf(e,t){return t.max-e.max}function $f(e,t,n,r){this.p=new M(e,t),this.h=n,this.d=function(e,t){for(var n=!1,r=1/0,i=0;i<t.length;i++)for(var a=t[i],o=0,s=a.length,l=s-1;o<s;l=o++){var c=a[o],u=a[l];c.y>e.y!=u.y>e.y&&e.x<(u.x-c.x)*(e.y-c.y)/(u.y-c.y)+c.x&&(n=!n),r=Math.min(r,xl(e,c,u))}return(n?1:-1)*Math.sqrt(r)}(this.p,r),this.max=this.d+this.h*Math.SQRT2}var Jf=Number.POSITIVE_INFINITY,Qf=Math.sqrt(2);function eh(e,t){var n=d(t,2),r=n[0],i=n[1],a=0,o=0;if(i===Jf){r<0&&(r=0);var s=r/Qf;switch(e){case"top-right":case"top-left":o=s-7;break;case"bottom-right":case"bottom-left":o=7-s;break;case"bottom":o=7-r;break;case"top":o=r-7}switch(e){case"top-right":case"bottom-right":a=-s;break;case"top-left":case"bottom-left":a=s;break;case"left":a=r;break;case"right":a=-r}}else{switch(r=Math.abs(r),i=Math.abs(i),e){case"top-right":case"top-left":case"top":o=i-7;break;case"bottom-right":case"bottom-left":case"bottom":o=7-i}switch(e){case"top-right":case"bottom-right":case"right":a=-r;break;case"top-left":case"bottom-left":case"left":a=r}}return[a,o]}function th(e,t,n,r,i,a,o,s,l,c){e.createArrays(),e.tilePixelRatio=Bs/(512*e.overscaling),e.compareText={},e.iconsNeedLinear=!1;var u=e.layers[0].layout,d=e.layers[0]._unevaluatedLayout._values,h={};if("composite"===e.textSizeData.kind){var p=e.textSizeData,m=p.minZoom,v=p.maxZoom;h.compositeTextSizes=[d["text-size"].possiblyEvaluate(new to(m),s),d["text-size"].possiblyEvaluate(new to(v),s)]}if("composite"===e.iconSizeData.kind){var g=e.iconSizeData,y=g.minZoom,x=g.maxZoom;h.compositeIconSizes=[d["icon-size"].possiblyEvaluate(new to(y),s),d["icon-size"].possiblyEvaluate(new to(x),s)]}h.layoutTextSize=d["text-size"].possiblyEvaluate(new to(l+1),s),h.layoutIconSize=d["icon-size"].possiblyEvaluate(new to(l+1),s),h.textMaxSize=d["text-size"].possiblyEvaluate(new to(18),s);var b,_="map"===u.get("text-rotation-alignment")&&"point"!==u.get("symbol-placement"),w=u.get("text-size"),k=f(e.features);try{var S=function(){var a,l=b.value,d=u.get("text-font").evaluate(l,{},s).join(","),f=w.evaluate(l,{},s),p=h.layoutTextSize.evaluate(l,{},s),m=(h.layoutIconSize.evaluate(l,{},s),{horizontal:{},vertical:void 0}),v=l.text,g=[0,0];if(v){var y=v.toString(),x=u.get("text-letter-spacing").evaluate(l,{},s)*Td,k=u.get("text-line-height").evaluate(l,{},s)*Td,S=Da(y)?x:0,E=u.get("text-anchor").evaluate(l,{},s),C=u.get("text-variable-anchor");if(!C){var T=u.get("text-radial-offset").evaluate(l,{},s);g=T?eh(E,[T*Td,Jf]):u.get("text-offset").evaluate(l,{},s).map((function(e){return e*Td}))}var M=_?"center":u.get("text-justify").evaluate(l,{},s),I="point"===u.get("symbol-placement"),O=I?u.get("text-max-width").evaluate(l,{},s)*Td:1/0,P=function(r){e.allowVerticalPlacement&&Ra(y)&&(m.vertical=mf(v,t,n,i,d,O,k,E,r,S,g,ff.vertical,!0,p,f))};if(!_&&C){for(var A="auto"===M?C.map((function(e){return nh(e)})):[M],z=!1,j=0;j<A.length;j++){var R=A[j];if(!m.horizontal[R])if(z)m.horizontal[R]=m.horizontal[0];else{var D=mf(v,t,n,i,d,O,k,"center",R,S,g,ff.horizontal,!1,p,f);D&&(m.horizontal[R]=D,z=1===D.positionedLines.length)}}P("left")}else{if("auto"===M&&(M=nh(E)),I||u.get("text-writing-mode").indexOf("horizontal")>=0||!Ra(y)){var L=mf(v,t,n,i,d,O,k,E,M,S,g,ff.horizontal,!1,p,f);L&&(m.horizontal[M]=L)}P(I?"left":M)}}var N=!1;if(l.icon&&l.icon.name){var B=r[l.icon.name];B&&(a=Ef(i[l.icon.name],u.get("icon-offset").evaluate(l,{},s),u.get("icon-anchor").evaluate(l,{},s)),N=B.sdf,void 0===e.sdfIcons?e.sdfIcons=B.sdf:e.sdfIcons!==B.sdf&&te("Style sheet warning: Cannot mix SDF and non-SDF icons in one buffer"),(B.pixelRatio!==e.pixelRatio||0!==u.get("icon-rotate").constantOr(1))&&(e.iconsNeedLinear=!0))}var F=oh(m.horizontal)||m.vertical;e.iconsInText||(e.iconsInText=!!F&&F.iconsInText),(F||a)&&rh(e,l,m,a,r,h,p,0,g,N,o,s,c)};for(k.s();!(b=k.n()).done;)S()}catch(E){k.e(E)}finally{k.f()}a&&e.generateCollisionDebugBuffers(l,e.collisionBoxArray)}function nh(e){switch(e){case"right":case"top-right":case"bottom-right":return"right";case"left":case"top-left":case"bottom-left":return"left"}return"center"}function rh(e,t,n,r,i,a,o,s,l,c,u,h,p){var m=a.textMaxSize.evaluate(t,{},h);void 0===m&&(m=o);var v,g,y=e.layers[0].layout,x=y.get("icon-offset").evaluate(t,{},h),b=oh(n.horizontal)||n.vertical,_="globe"===p.name,w=o/24,k=e.tilePixelRatio*m/24,S=(v=e.overscaling,e.zoom>18&&v>2&&(v>>=1),Math.max(Bs/(512*v),1)*y.get("symbol-spacing")),E=y.get("text-padding")*e.tilePixelRatio,C=y.get("icon-padding")*e.tilePixelRatio,T=A(y.get("text-max-angle")),M="map"===y.get("text-rotation-alignment")&&"point"!==y.get("symbol-placement"),I="map"===y.get("icon-rotation-alignment")&&"point"!==y.get("symbol-placement"),O=y.get("symbol-placement"),P=S/2,z=y.get("icon-text-fit");r&&"none"!==z&&(e.allowVerticalPlacement&&n.vertical&&(g=Cf(r,n.vertical,z,y.get("icon-text-fit-padding"),x,w)),b&&(r=Cf(r,b,z,y.get("icon-text-fit-padding"),x,w)));var j=function(o,s,f){if(!(s.x<0||s.x>=Bs||s.y<0||s.y>=Bs)){var m=null;if(_){var v=p.projectTilePoint(s.x,s.y,f),y=v.x,b=v.y,w=v.z;m={anchor:new Tf(y,b,w,0,void 0),up:p.upVector(f,s.x,s.y)}}!function(e,t,n,r,i,a,o,s,l,c,u,f,h,p,m,v,g,y,x,b,_,w,k,S,E){var C,T,M,I,O,P,A,z,j,R=e.addToLineVertexArray(t,r),D=0,L=0,N=0,B=0,F=-1,V=-1,U={},H=as.exports(""),G=n?n.anchor:t,W=0,q=0;if(void 0===l._unevaluatedLayout.getValue("text-radial-offset")?(C=l.layout.get("text-offset").evaluate(_,{},E).map((function(e){return e*Td})),W=(T=d(C,2))[0],q=T[1]):(W=l.layout.get("text-radial-offset").evaluate(_,{},E)*Td,q=Jf),e.allowVerticalPlacement&&i.vertical){var X=i.vertical;if(m)z=lh(X),s&&(j=lh(s));else{var Z=l.layout.get("text-rotate").evaluate(_,{},E)+90;O=sh(c,G,t,u,f,h,X,p,Z,v),s&&(P=sh(c,G,t,u,f,h,s,y,Z))}}if(a){var K=l.layout.get("icon-rotate").evaluate(_,{},E),Y="none"!==l.layout.get("icon-text-fit"),$=Vf(a,K,k,Y),J=s?Vf(s,K,k,Y):void 0;I=sh(c,G,t,u,f,h,a,y,K),D=4*$.length;var Q=e.iconSizeData,ee=null;"source"===Q.kind?(ee=[Md*l.layout.get("icon-size").evaluate(_,{},E)])[0]>ih&&te("".concat(e.layerIds[0],': Value for "icon-size" is >= 255. Reduce your "icon-size".')):"composite"===Q.kind&&((ee=[Md*w.compositeIconSizes[0].evaluate(_,{},E),Md*w.compositeIconSizes[1].evaluate(_,{},E)])[0]>ih||ee[1]>ih)&&te("".concat(e.layerIds[0],': Value for "icon-size" is >= 255. Reduce your "icon-size".')),e.addSymbols(e.icon,$,ee,b,x,_,!1,n,t,R.lineStartIndex,R.lineLength,-1,S,E),F=e.icon.placedSymbolArray.length-1,J&&(L=4*J.length,e.addSymbols(e.icon,J,ee,b,x,_,ff.vertical,n,t,R.lineStartIndex,R.lineLength,-1,S,E),V=e.icon.placedSymbolArray.length-1)}for(var ne in i.horizontal){var re=i.horizontal[ne];M||(H=as.exports(re.text),m?A=lh(re):M=sh(c,G,t,u,f,h,re,p,l.layout.get("text-rotate").evaluate(_,{},E),v));var ie=1===re.positionedLines.length;if(N+=ah(e,n,t,re,o,l,m,_,v,R,i.vertical?ff.horizontal:ff.horizontalOnly,ie?Object.keys(i.horizontal):[ne],U,F,w,S,E),ie)break}i.vertical&&(B+=ah(e,n,t,i.vertical,o,l,m,_,v,R,ff.vertical,["vertical"],U,V,w,S,E));var ae=-1,oe=function(e,t){return e?Math.max(e,t):t};ae=oe(A,ae),ae=oe(z,ae);var se=(ae=oe(j,ae))>-1?1:0;e.glyphOffsetArray.length>=_p.MAX_GLYPHS&&te("Too many glyphs being rendered in a tile. See https://github.com/mapbox/mapbox-gl-js/issues/2907"),void 0!==_.sortKey&&e.addToSortKeyRanges(e.symbolInstances.length,_.sortKey),e.symbolInstances.emplaceBack(G.x,G.y,G.z,t.x,t.y,U.right>=0?U.right:-1,U.center>=0?U.center:-1,U.left>=0?U.left:-1,U.vertical>=0?U.vertical:-1,F,V,H,void 0!==M?M:e.collisionBoxArray.length,void 0!==M?M+1:e.collisionBoxArray.length,void 0!==O?O:e.collisionBoxArray.length,void 0!==O?O+1:e.collisionBoxArray.length,void 0!==I?I:e.collisionBoxArray.length,void 0!==I?I+1:e.collisionBoxArray.length,P||e.collisionBoxArray.length,P?P+1:e.collisionBoxArray.length,u,N,B,D,L,se,0,W,q,ae)}(e,s,m,o,n,r,i,g,e.layers[0],e.collisionBoxArray,t.index,t.sourceLayerIndex,e.index,E,M,l,0,C,I,x,t,a,c,u,h)}};if("line"===O){var R,D=f(Rf(t.geometry,0,0,Bs,Bs));try{for(D.s();!(R=D.n()).done;){var L,N=R.value,B=zf(N,S,T,n.vertical||b,r,24,k,e.overscaling,Bs),F=f(B);try{for(F.s();!(L=F.n()).done;){var V=L.value;b&&ch(e,b.text,P,V)||j(N,V,h)}}catch(oe){F.e(oe)}finally{F.f()}}}catch(oe){D.e(oe)}finally{D.f()}}else if("line-center"===O){var U,H=f(t.geometry);try{for(H.s();!(U=H.n()).done;){var G=U.value;if(G.length>1){var W=Af(G,T,n.vertical||b,r,24,k);W&&j(G,W,h)}}}catch(oe){H.e(oe)}finally{H.f()}}else if("Polygon"===t.type){var q,X=f(pu(t.geometry,0));try{for(X.s();!(q=X.n()).done;){var Z=q.value,K=Kf(Z,16);j(Z[0],new Tf(K.x,K.y,0,0,void 0),h)}}catch(oe){X.e(oe)}finally{X.f()}}else if("LineString"===t.type){var Y,$=f(t.geometry);try{for($.s();!(Y=$.n()).done;){var J=Y.value;j(J,new Tf(J[0].x,J[0].y,0,0,void 0),h)}}catch(oe){$.e(oe)}finally{$.f()}}else if("Point"===t.type){var Q,ee=f(t.geometry);try{for(ee.s();!(Q=ee.n()).done;){var ne,re=Q.value,ie=f(re);try{for(ie.s();!(ne=ie.n()).done;){var ae=ne.value;j([ae],new Tf(ae.x,ae.y,0,0,void 0),h)}}catch(oe){ie.e(oe)}finally{ie.f()}}}catch(oe){ee.e(oe)}finally{ee.f()}}}var ih=32640;function ah(e,t,n,r,i,o,s,l,c,d,h,p,m,v,g,y,x){var b=function(e,t,n,r,i,o,s,l){var c=[];if(0===t.positionedLines.length)return c;var d,h=r.layout.get("text-rotate").evaluate(o,{})*Math.PI/180,p=function(e){var t=e[0],n=e[1],r=t*n;return r>0?[t,-n]:r<0?[-t,n]:0===t?[n,t]:[n,-t]}(n),m=Math.abs(t.top-t.bottom),v=f(t.positionedLines);try{for(v.s();!(d=v.n()).done;)m-=d.value.lineOffset}catch(oe){v.e(oe)}finally{v.f()}for(var g=t.positionedLines.length,y=m/g,x=t.top-n[1],b=0;b<g;++b){var _=t.positionedLines[b];x=qf(t,y,x,b);var w,k=f(_.positionedGlyphs);try{for(k.s();!(w=k.n()).done;){var S=w.value;if(S.rect){var E=S.rect||{},C=4,T=!0,I=1,O=0;if(S.imageName){var P=s[S.imageName];if(!P)continue;if(P.sdf){te("SDF images are not supported in formatted text and will be ignored.");continue}T=!1,C=1/(I=P.pixelRatio)}var A=(i||l)&&S.vertical,z=S.metrics.advance*S.scale/2,j=S.metrics,R=S.rect;if(null!==R){l&&t.verticalizable&&(O=S.imageName?z-S.metrics.width*S.scale/2:0);var D=i?[S.x+z,S.y]:[0,0],L=[0,0],N=[0,0],B=!1;i||(A?(N=[S.x+z+p[0],S.y+p[1]-O],B=!0):L=[S.x+z+n[0],S.y+n[1]-O]);var F=R.w*S.scale/(I*(S.localGlyph?2:1)),V=R.h*S.scale/(I*(S.localGlyph?2:1)),U=void 0,H=void 0,G=void 0,W=void 0;if(A){var q=S.y-x,X=new M(-z,z-q),Z=-Math.PI/2,K=a(M,u(N));(U=new M(-z+L[0],L[1]))._rotateAround(Z,X)._add(K),U.x+=-q+z,U.y-=(j.left-C)*S.scale;var Y=S.imageName?j.advance*S.scale:Td*S.scale,$=String.fromCharCode(S.glyph);Rd($)?U.x+=(1-C)*S.scale:Dd($)?U.x+=Y-j.height*S.scale+(-C-1)*S.scale:U.x+=S.imageName||j.width+2*C===R.w&&j.height+2*C===R.h?(Y-V)/2:(Y-(j.height+2*C)*S.scale)/2,H=new M(U.x,U.y-F),G=new M(U.x+V,U.y),W=new M(U.x+V,U.y-F)}else{var J=(j.left-C)*S.scale-z+L[0],Q=(-j.top-C)*S.scale+L[1],ee=J+F,ne=Q+V;U=new M(J,Q),H=new M(ee,Q),G=new M(J,ne),W=new M(ee,ne)}if(h){var re=void 0;re=i?new M(0,0):B?new M(p[0],p[1]):new M(n[0],n[1]),U._rotateAround(h,re),H._rotateAround(h,re),G._rotateAround(h,re),W._rotateAround(h,re)}var ie=new M(0,0),ae=new M(0,0);c.push({tl:U,tr:H,bl:G,br:W,tex:E,writingMode:t.writingMode,glyphOffset:D,sectionIndex:S.sectionIndex,isSDF:T,pixelOffsetTL:ie,pixelOffsetBR:ae,minFontScaleX:0,minFontScaleY:0})}}}}catch(oe){k.e(oe)}finally{k.f()}}return c}(0,r,c,o,s,l,i,e.allowVerticalPlacement),_=e.textSizeData,w=null;"source"===_.kind?(w=[Md*o.layout.get("text-size").evaluate(l,{},x)])[0]>ih&&te("".concat(e.layerIds[0],': Value for "text-size" is >= 255. Reduce your "text-size".')):"composite"===_.kind&&((w=[Md*g.compositeTextSizes[0].evaluate(l,{},x),Md*g.compositeTextSizes[1].evaluate(l,{},x)])[0]>ih||w[1]>ih)&&te("".concat(e.layerIds[0],': Value for "text-size" is >= 255. Reduce your "text-size".')),e.addSymbols(e.text,b,w,c,s,l,h,t,n,d.lineStartIndex,d.lineLength,v,y,x);var k,S=f(p);try{for(S.s();!(k=S.n()).done;)m[k.value]=e.text.placedSymbolArray.length-1}catch(E){S.e(E)}finally{S.f()}return 4*b.length}function oh(e){for(var t in e)return e[t];return null}function sh(e,t,n,r,i,a,o,s,l,c){var u=o.top,d=o.bottom,f=o.left,h=o.right,p=o.collisionPadding;if(p&&(f-=p[0],u-=p[1],h+=p[2],d+=p[3]),l){var m=new M(f,u),v=new M(h,u),g=new M(f,d),y=new M(h,d),x=A(l),b=new M(0,0);c&&(b=new M(c[0],c[1])),m._rotateAround(x,b),v._rotateAround(x,b),g._rotateAround(x,b),y._rotateAround(x,b),f=Math.min(m.x,v.x,g.x,y.x),h=Math.max(m.x,v.x,g.x,y.x),u=Math.min(m.y,v.y,g.y,y.y),d=Math.max(m.y,v.y,g.y,y.y)}return e.emplaceBack(t.x,t.y,t.z,n.x,n.y,f,u,h,d,s,r,i,a),e.length-1}function lh(e){e.collisionPadding&&(e.top-=e.collisionPadding[1],e.bottom+=e.collisionPadding[3]);var t=e.bottom-e.top;return t>0?Math.max(10,t):null}function ch(e,t,n,r){var i=e.compareText;if(t in i){for(var a=i[t],o=a.length-1;o>=0;o--)if(r.dist(a[o])<n)return!0}else i[t]=[];return i[t].push(r),!1}var uh=xo([{type:"Float32",name:"a_globe_pos",components:3},{type:"Float32",name:"a_uv",components:2}]).members,dh=xo([{name:"a_pos_3",components:3,type:"Int16"}]),fh=xo([{name:"a_pos",type:"Int16",components:2}]),hh=Bs/Math.PI/2,ph=2*Xs(1,0)*hh*Math.PI,mh=64,vh=[mh,32,16],gh=-hh,yh=hh,xh=[new _c([gh,gh,gh],[yh,yh,yh]),new _c([gh,gh,gh],[0,0,yh]),new _c([0,gh,gh],[yh,0,yh]),new _c([gh,0,gh],[0,yh,yh]),new _c([0,0,gh],[yh,yh,yh])];function bh(e,t,n){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],i=Ql([],e._camera.position,e.worldSize),a=[t,n,1,1];fc(a,a,e.pixelMatrixInverse),uc(a,a,1/a[3]);var o=tc([],sc([],a,i)),s=e.globeMatrix,l=[s[12],s[13],s[14]],c=sc([],l,i),u=ql(c),d=tc([],c),f=e.worldSize/(2*Math.PI),h=nc(d,o),p=Math.asin(f/u);if(p<Math.acos(h)){if(!r)return null;var m=[],v=[];Ql(m,o,u/h),tc(v,sc(v,m,c)),tc(o,Zl(o,c,Ql(o,v,Math.tan(p)*u)))}var g=[];new yc(i,o).closestPointOnSphere(l,f,g);var y=tc([],ce(s,0)),x=tc([],ce(s,1)),b=tc([],ce(s,2)),_=nc(y,g),w=nc(x,g),k=nc(b,g),S=z(Math.asin(-w/f)),E=z(Math.atan2(_,k));E=e.center.lng+function(e,t){var n=(t-e+180)%360-180;return n<-180?n+360:n}(e.center.lng,E);var C=Ws(E),T=N(qs(S),0,1);return new Qs(C,T)}var _h=p((function e(t,n,r){h(this,e),this.a=sc([],t,r),this.b=sc([],n,r),this.center=r;var i=tc([],this.a),a=tc([],this.b);this.angle=Math.acos(nc(i,a))}));function wh(e,t){return 0===e.angle||(n=0===e.a[t]?1/e.angle*.5*Math.PI:1/e.angle*Math.atan(e.b[t]/e.a[t]/Math.sin(e.angle)-1/Math.tan(e.angle)))<0||n>1?null:function(e,t,n,r){var i=Math.sin(n);return e*(Math.sin((1-r)*n)/i)+t*(Math.sin(r*n)/i)}(e.a[t],e.b[t],e.angle,N(n,0,1))+e.center[t];var n}function kh(e){if(e.z<=1)return xh[e.z+2*e.y+e.x];var t=Ih(Mh(e));return _c.fromPoints(t)}function Sh(e,t,n){return Ql(e,e,1-n),ec(e,e,t,n)}function Eh(e,t){var n=Nh(t.zoom);if(0===n)return kh(e);var r=Mh(e),i=Ih(r),a=Ws(r.getWest())*t.worldSize,o=Ws(r.getEast())*t.worldSize,s=qs(r.getNorth())*t.worldSize,l=qs(r.getSouth())*t.worldSize,c=[a,s,0],u=[o,s,0],d=[a,l,0],f=[o,l,0],h=Rl([],t.globeMatrix);return ic(c,c,h),ic(u,u,h),ic(d,d,h),ic(f,f,h),i[0]=Sh(i[0],d,n),i[1]=Sh(i[1],f,n),i[2]=Sh(i[2],u,n),i[3]=Sh(i[3],c,n),_c.fromPoints(i)}function Ch(e,t,n){var r,i=f(e);try{for(i.s();!(r=i.n()).done;){var a=r.value;ic(a,a,t),Ql(a,a,n)}}catch(o){i.e(o)}finally{i.f()}}function Th(e,t,n){var r=t/e.worldSize,i=e.globeMatrix;if(n.z<=1){var a=kh(n).getCorners();return Ch(a,i,r),_c.fromPoints(a)}var o=Mh(n),s=Ih(o);Ch(s,i,r);var l=Number.MAX_VALUE,c=[-l,-l,-l],u=[l,l,l];if(o.contains(e.center)){var d,h=f(s);try{for(h.s();!(d=h.n()).done;){var p=d.value;$l(u,u,p),Jl(c,c,p)}}catch(B){h.e(B)}finally{h.f()}c[2]=0;var m=e.point,v=[m.x*r,m.y*r,0];return $l(u,u,v),Jl(c,c,v),new _c(u,c)}var g=[i[12]*r,i[13]*r,i[14]*r],y=o.getCenter(),x=N(e.center.lat,-85.051129,$s),b=N(y.lat,-85.051129,$s),_=Ws(e.center.lng),w=qs(x),k=_-Ws(y.lng),S=w-qs(b);k>.5?k-=1:k<-.5&&(k+=1);var E=0;Math.abs(k)>Math.abs(S)?E=k>=0?1:3:(E=S>=0?0:2,ec(g,g,[i[4]*r,i[5]*r,i[6]*r],-Math.sin(A(S>=0?o.getSouth():o.getNorth()))*hh));var C=s[E],T=s[(E+1)%4],M=new _h(C,T,g),I=[wh(M,0)||C[0],wh(M,1)||C[1],wh(M,2)||C[2]],O=Nh(e.zoom);if(O>0){for(var P=function(e,t,n,r,i){var a=e.x,o=e.y,s=1/(1<<e.z),l=a*s,c=l+s,u=o*s,d=u+s,f=0,h=(l+c)/2-r;return h>.5?f=-1:h<-.5&&(f=1),u=(u*t-(i*=t))*n+i,[[l=((l+f)*t-(r*=t))*n+r,d=(d*t-i)*n+i,0],[c=((c+f)*t-r)*n+r,d,0],[c,u,0],[l,u,0]]}(n,t,e._pixelsPerMercatorPixel,_,w),z=0;z<s.length;z++)Sh(s[z],P[z],O);var j=Zl([],P[E],P[(E+1)%4]);Ql(j,j,.5),Sh(I,j,O)}var R,D=f(s);try{for(D.s();!(R=D.n()).done;){var L=R.value;$l(u,u,L),Jl(c,c,L)}}catch(B){D.e(B)}finally{D.f()}return u[2]=Math.min(C[2],T[2]),$l(u,u,I),Jl(c,c,I),new _c(u,c)}function Mh(e){var t=e.x,n=e.y,r=1/(1<<e.z),i=new Us(Zs(t*r),Ks((n+1)*r)),a=new Us(Zs((t+1)*r),Ks(n*r));return new Fs(i,a)}function Ih(e){var t=A(e.getNorth()),n=A(e.getSouth()),r=Math.cos(t),i=Math.cos(n),a=Math.sin(t),o=Math.sin(n),s=e.getWest(),l=e.getEast();return[Oh(i,o,s),Oh(i,o,l),Oh(r,a,l),Oh(r,a,s)]}function Oh(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:hh;return n=A(n),[e*Math.sin(n)*r,-t*r,e*Math.cos(n)*r]}function Ph(e,t,n){return Oh(Math.cos(A(e)),Math.sin(A(e)),t,n)}function Ah(e,t,n,r){var i=1<<n.z,a=(e/Bs+n.x)/i;return Ph(Ks((t/Bs+n.y)/i),Zs(a),r)}function zh(e){var t=e.min,n=e.max;return 16383/Math.max(n[0]-t[0],n[1]-t[1],n[2]-t[2])}var jh=new Float64Array(16);function Rh(e){var t,n,r=zh(e),i=Vl(jh,[r,r,r]);return Ll(i,i,((t=[])[0]=-(n=e.min)[0],t[1]=-n[1],t[2]=-n[2],t))}function Dh(e){var t,n,r=(n=e.min,(t=jh)[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=n[0],t[13]=n[1],t[14]=n[2],t[15]=1,t),i=1/zh(e);return Nl(r,r,[i,i,i])}function Lh(e,t,n,r,i){var a=function(e){var t=Bs/(2*Math.PI);return e/(2*Math.PI)/t}(n),o=[e,t,-n/(2*Math.PI)],s=jl(new Float64Array(16));return Ll(s,s,o),Nl(s,s,[a,a,a]),Bl(s,s,A(-i)),Fl(s,s,A(-r)),s}function Nh(e){return B(5,6,e)}function Bh(e,t){var n,r,i,a,o,s,l,c,u,d,f=Ph(t.lat,t.lng),h=function(e){var t=Ph(e._center.lat,e._center.lng),n=rc([],Xl(0,1,0),t),r=Ul([],-e.angle,t);n=ic(n,n,r),Ul(r,-e._pitch,n);var i=tc([],t);return Ql(i,i,e.cameraToCenterDistance/e.pixelsPerMeter*ph),ic(i,i,r),Zl([],t,i)}(e);return i=(n=Kl([],h,f))[0],a=n[1],o=n[2],s=(r=f)[0],l=r[1],c=r[2],d=(u=Math.sqrt(i*i+a*a+o*o)*Math.sqrt(s*s+l*l+c*c))&&nc(n,r)/u,Math.acos(Math.min(Math.max(d,-1),1))}function Fh(e,t){return Bh(e,t)>Math.PI/2*1.01}var Vh=A(85),Uh=Math.cos(Vh),Hh=Math.sin(Vh);function Gh(e,t){var n=e.fovAboveCenter,r=e.elevation?e.elevation.getMinElevationBelowMSL()*t:0,i=(e._camera.position[2]*e.worldSize-r)/Math.cos(e._pitch),a=Math.sin(n)*i/Math.sin(Math.max(Math.PI/2-e._pitch-n,.01)),o=Math.sin(e._pitch)*a+i;return Math.min(1.01*o,i*(1/e._horizonShift))}function Wh(e,t){if(!t.isReprojectedInTileSpace)return{scale:1<<e.z,x:e.x,y:e.y,x2:e.x+1,y2:e.y+1,projection:t};var n=Math.pow(2,-e.z),r=e.x*n,i=(e.x+1)*n,a=e.y*n,o=(e.y+1)*n,s=Zs(r),l=Zs(i),c=Ks(a),u=Ks(o),d=t.project(s,c),f=t.project(l,c),h=t.project(l,u),p=t.project(s,u),m=Math.min(d.x,f.x,h.x,p.x),v=Math.min(d.y,f.y,h.y,p.y),g=Math.max(d.x,f.x,h.x,p.x),y=Math.max(d.y,f.y,h.y,p.y),x=n/16;function b(e,n,r,i,a,o){var s=(r+a)/2,l=(i+o)/2,c=t.project(Zs(s),Ks(l)),u=Math.max(0,m-c.x,v-c.y,c.x-g,c.y-y);m=Math.min(m,c.x),g=Math.max(g,c.x),v=Math.min(v,c.y),y=Math.max(y,c.y),u>x&&(b(e,c,r,i,s,l),b(c,n,s,l,a,o))}b(d,f,r,a,i,a),b(f,h,i,a,i,o),b(h,p,i,o,r,o),b(p,d,r,o,r,a),m-=x,v-=x,g+=x,y+=x;var _=1/Math.max(g-m,y-v);return{scale:_,x:m*_,y:v*_,x2:g*_,y2:y*_,projection:t}}var qh=jl(new Float32Array(16)),Xh=function(){function e(t){h(this,e),this.spec=t,this.name=t.name,this.wrap=!1,this.requiresDraping=!1,this.supportsWorldCopies=!1,this.supportsTerrain=!1,this.supportsFog=!1,this.supportsFreeCamera=!1,this.zAxisUnit="meters",this.isReprojectedInTileSpace=!0,this.unsupportedLayers=["custom"],this.center=[0,0],this.range=[3.5,7]}return p(e,[{key:"project",value:function(e,t){return{x:0,y:0,z:0}}},{key:"unproject",value:function(e,t){return new Us(0,0)}},{key:"projectTilePoint",value:function(e,t,n){return{x:e,y:t,z:0}}},{key:"locationPoint",value:function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return e._coordinatePoint(e.locationCoordinate(t),n)}},{key:"pixelsPerMeter",value:function(e,t){return Xs(1,e)*t}},{key:"pixelSpaceConversion",value:function(e,t,n){return 1}},{key:"farthestPixelDistance",value:function(e){return Gh(e,e.pixelsPerMeter)}},{key:"pointCoordinate",value:function(e,t,n,r){var i=e.horizonLineFromTop(!1),a=new M(t,Math.max(i,n));return e.rayIntersectionCoordinate(e.pointRayIntersection(a,r))}},{key:"pointCoordinate3D",value:function(e,t,n){var r=new M(t,n);if(e.elevation)return e.elevation.pointCoordinate(r);var i=this.pointCoordinate(e,r.x,r.y,0);return[i.x,i.y,i.z]}},{key:"isPointAboveHorizon",value:function(e,t){if(e.elevation)return!this.pointCoordinate3D(e,t.x,t.y);var n=e.horizonLineFromTop();return t.y<n}},{key:"createInversionMatrix",value:function(e,t){return qh}},{key:"createTileMatrix",value:function(e,t,n){var r,i,a,o=n.canonical,s=jl(new Float64Array(16));if(this.isReprojectedInTileSpace){var l=Wh(o,this);r=1,i=l.x+n.wrap*l.scale,a=l.y,Nl(s,s,[r/l.scale,r/l.scale,e.pixelsPerMeter/t])}else r=t/e.zoomScale(o.z),i=(o.x+Math.pow(2,o.z)*n.wrap)*r,a=o.y*r;return Ll(s,s,[i,a,0]),Nl(s,s,[r/Bs,r/Bs,1]),s}},{key:"upVector",value:function(e,t,n){return[0,0,1]}},{key:"upVectorScale",value:function(e,t,n){return{metersToTile:1}}}]),e}(),Zh=function(e){m(n,e);var t=v(n);function n(e){var r;h(this,n),(r=t.call(this,e)).range=[4,7],r.center=e.center||[-96,37.5];var i=r.parallels=e.parallels||[29.5,45.5],a=d(i,2),o=a[0],s=a[1],l=Math.sin(A(o));return r.n=(l+Math.sin(A(s)))/2,r.c=1+l*(2*r.n-l),r.r0=Math.sqrt(r.c)/r.n,r}return p(n,[{key:"project",value:function(e,t){var n=this.n,r=this.c,i=this.r0,a=A(e-this.center[0]),o=A(t),s=Math.sqrt(r-2*n*Math.sin(o))/n;return{x:s*Math.sin(a*n),y:s*Math.cos(a*n)-i,z:0}}},{key:"unproject",value:function(e,t){var n=this.n,r=this.c,i=this.r0+t,a=Math.atan2(e,Math.abs(i))*Math.sign(i);i*n<0&&(a-=Math.PI*Math.sign(e)*Math.sign(i));var o=A(this.center[0])*n,s=N(z((a=F(a,-Math.PI-o,Math.PI-o))/n)+this.center[0],-180,180),l=Math.asin(N((r-(e*e+i*i)*n*n)/(2*n),-1,1)),c=N(z(l),-85.051129,$s);return new Us(s,c)}}]),n}(Xh),Kh=1.340264,Yh=-.081106,$h=893e-6,Jh=.003796,Qh=Math.sqrt(3)/2,ep=function(e){m(n,e);var t=v(n);function n(){return h(this,n),t.apply(this,arguments)}return p(n,[{key:"project",value:function(e,t){t=t/180*Math.PI,e=e/180*Math.PI;var n=Math.asin(Qh*Math.sin(t)),r=n*n,i=r*r*r;return{x:.5*(e*Math.cos(n)/(Qh*(Kh+3*Yh*r+i*(7*$h+9*Jh*r)))/Math.PI+.5),y:1-.5*(n*(Kh+Yh*r+i*($h+Jh*r))/Math.PI+1),z:0}}},{key:"unproject",value:function(e,t){e=(2*e-.5)*Math.PI;for(var n,r=t=(2*(1-t)-1)*Math.PI,i=r*r,a=i*i*i,o=0;o<12&&(a=(i=(r=N(r-(n=(r*(Kh+Yh*i+a*($h+Jh*i))-t)/(Kh+3*Yh*i+a*(7*$h+9*Jh*i))),-Math.PI/3,Math.PI/3))*r)*i*i,!(Math.abs(n)<1e-12));++o);var s=Qh*e*(Kh+3*Yh*i+a*(7*$h+9*Jh*i))/Math.cos(r),l=Math.asin(Math.sin(r)/Qh),c=N(180*s/Math.PI,-180,180),u=N(180*l/Math.PI,-85.051129,$s);return new Us(c,u)}}]),n}(Xh),tp=function(e){m(n,e);var t=v(n);function n(e){var r;return h(this,n),(r=t.call(this,e)).wrap=!0,r.supportsWorldCopies=!0,r}return p(n,[{key:"project",value:function(e,t){return{x:.5+e/360,y:.5-t/360,z:0}}},{key:"unproject",value:function(e,t){var n=360*(e-.5),r=N(360*(.5-t),-85.051129,$s);return new Us(n,r)}}]),n}(Xh),np=Math.PI/2;function rp(e){return Math.tan((np+e)/2)}var ip=function(e){m(n,e);var t=v(n);function n(e){var r;h(this,n),(r=t.call(this,e)).center=e.center||[0,30];var i=r.parallels=e.parallels||[30,30],a=d(i,2),o=a[0],s=a[1],l=A(o),c=A(s);r.southernCenter=l+c<0,r.southernCenter&&(l=-l,c=-c);var u=Math.cos(l),f=rp(l);return r.n=l===c?Math.sin(l):Math.log(u/Math.cos(c))/Math.log(rp(c)/f),r.f=u*Math.pow(rp(l),r.n)/r.n,r}return p(n,[{key:"project",value:function(e,t){t=A(t),this.southernCenter&&(t=-t),e=A(e-this.center[0]);var n=1e-6,r=this.n,i=this.f;i>0?t<-np+n&&(t=-np+n):t>np-n&&(t=np-n);var a=i/Math.pow(rp(t),r),o=a*Math.sin(r*e),s=i-a*Math.cos(r*e);return o=.5*(o/Math.PI+.5),s=.5*(s/Math.PI+.5),{x:o,y:this.southernCenter?s:1-s,z:0}}},{key:"unproject",value:function(e,t){e=(2*e-.5)*Math.PI,this.southernCenter&&(t=1-t),t=(2*(1-t)-.5)*Math.PI;var n=this.n,r=this.f,i=r-t,a=Math.sign(i),o=Math.sign(n)*Math.sqrt(e*e+i*i),s=Math.atan2(e,Math.abs(i))*a;i*n<0&&(s-=Math.PI*Math.sign(e)*a);var l=N(z(s/n)+this.center[0],-180,180),c=N(z(2*Math.atan(Math.pow(r/o,1/n))-np),-85.051129,$s);return new Us(l,this.southernCenter?-c:c)}}]),n}(Xh),ap=function(e){m(n,e);var t=v(n);function n(e){var r;return h(this,n),(r=t.call(this,e)).wrap=!0,r.supportsWorldCopies=!0,r.supportsTerrain=!0,r.supportsFog=!0,r.supportsFreeCamera=!0,r.isReprojectedInTileSpace=!1,r.unsupportedLayers=[],r.range=null,r}return p(n,[{key:"project",value:function(e,t){return{x:Ws(e),y:qs(t),z:0}}},{key:"unproject",value:function(e,t){var n=Zs(e),r=Ks(t);return new Us(n,r)}}]),n}(Xh),op=A($s),sp=function(e){m(n,e);var t=v(n);function n(){return h(this,n),t.apply(this,arguments)}return p(n,[{key:"project",value:function(e,t){var n=(t=A(t))*t,r=n*n;return{x:.5*((e=A(e))*(.8707-.131979*n+r*(r*(.003971*n-.001529*r)-.013791))/Math.PI+.5),y:1-.5*(t*(1.007226+n*(.015085+r*(.028874*n-.044475-.005916*r)))/Math.PI+1),z:0}}},{key:"unproject",value:function(e,t){e=(2*e-.5)*Math.PI;var n=t=(2*(1-t)-1)*Math.PI,r=25,i=0,a=n*n;do{var o=(a=n*n)*a;n=N(n-(i=(n*(1.007226+a*(.015085+o*(.028874*a-.044475-.005916*o)))-t)/(1.007226+a*(.045255+o*(.259866*a-.311325-.005916*11*o)))),-op,op)}while(Math.abs(i)>1e-6&&--r>0);var s=N(z(e/(.8707+(a=n*n)*(a*(a*a*a*(.003971-.001529*a)-.013791)-.131979))),-180,180),l=z(n);return new Us(s,l)}}]),n}(Xh),lp=A($s),cp=function(e){m(n,e);var t=v(n);function n(){return h(this,n),t.apply(this,arguments)}return p(n,[{key:"project",value:function(e,t){t=A(t),e=A(e);var n=Math.cos(t),r=2/Math.PI,i=Math.acos(n*Math.cos(e/2)),a=Math.sin(i)/i,o=.5*(e*r+2*n*Math.sin(e/2)/a)||0,s=.5*(t+Math.sin(t)/a)||0;return{x:.5*(o/Math.PI+.5),y:1-.5*(s/Math.PI+1),z:0}}},{key:"unproject",value:function(e,t){var n=e=(2*e-.5)*Math.PI,r=t=(2*(1-t)-1)*Math.PI,i=25,a=1e-6,o=0,s=0;do{var l=Math.cos(r),c=Math.sin(r),u=2*c*l,d=c*c,f=l*l,h=Math.cos(n/2),p=Math.sin(n/2),m=2*h*p,v=p*p,g=1-f*h*h,y=g?1/g:0,x=g?Math.acos(l*h)*Math.sqrt(1/g):0,b=.5*(2*x*l*p+2*n/Math.PI)-e,_=.5*(x*c+r)-t,w=.5*y*(f*v+x*l*h*d)+1/Math.PI,k=y*(m*u/4-x*c*p),S=.125*y*(u*p-x*c*f*m),E=.5*y*(d*h+x*v*l)+.5,C=k*S-E*w;s=(b*S-_*w)/C,n=N(n-(o=(_*k-b*E)/C),-Math.PI,Math.PI),r=N(r-s,-lp,lp)}while((Math.abs(o)>a||Math.abs(s)>a)&&--i>0);return new Us(z(n),z(r))}}]),n}(Xh),up=function(e){m(n,e);var t=v(n);function n(e){var r;return h(this,n),(r=t.call(this,e)).center=e.center||[0,0],r.parallels=e.parallels||[0,0],r.cosPhi=Math.max(.01,Math.cos(A(r.parallels[0]))),r.scale=1/(2*Math.max(Math.PI*r.cosPhi,1/r.cosPhi)),r.wrap=!0,r.supportsWorldCopies=!0,r}return p(n,[{key:"project",value:function(e,t){var n=this.scale,r=this.cosPhi;return{x:A(e)*r*n+.5,y:-Math.sin(A(t))/r*n+.5,z:0}}},{key:"unproject",value:function(e,t){var n=this.scale,r=this.cosPhi,i=-(t-.5)/n,a=N(z((e-.5)/n)/r,-180,180),o=Math.asin(N(i*r,-1,1)),s=N(z(o),-85.051129,$s);return new Us(a,s)}}]),n}(Xh),dp=function(e){m(n,e);var t=v(n);function n(e){var r;return h(this,n),(r=t.call(this,e)).requiresDraping=!0,r.supportsWorldCopies=!1,r.supportsFog=!0,r.zAxisUnit="pixels",r.unsupportedLayers=["debug","custom"],r.range=[3,5],r}return p(n,[{key:"projectTilePoint",value:function(e,t,n){var r=Ah(e,t,n);return ic(r,r,Rh(kh(n))),{x:r[0],y:r[1],z:r[2]}}},{key:"locationPoint",value:function(e,t){var n=Ph(t.lat,t.lng),r=tc([],n),i=e.elevation?e.elevation.getAtPointOrZero(e.locationCoordinate(t),e._centerAltitude):e._centerAltitude;ec(n,n,r,Xs(1,0)*Bs*i);var a=jl(new Float64Array(16));return Dl(a,e.pixelMatrix,e.globeMatrix),ic(n,n,a),new M(n[0],n[1])}},{key:"pixelsPerMeter",value:function(e,t){return Xs(1,0)*t}},{key:"pixelSpaceConversion",value:function(e,t,n){var r=Xs(1,e)*t,i=Un(Xs(1,45)*t,r,n);return this.pixelsPerMeter(e,t)/i}},{key:"createTileMatrix",value:function(e,t,n){var r=Dh(kh(n.canonical));return Dl(new Float64Array(16),e.globeMatrix,r)}},{key:"createInversionMatrix",value:function(e,t){var n=e.center,r=Rh(kh(t));return Fl(r,r,A(n.lng)),Bl(r,r,A(n.lat)),Nl(r,r,[e._pixelsPerMercatorPixel,e._pixelsPerMercatorPixel,1]),Float32Array.from(r)}},{key:"pointCoordinate",value:function(e,t,n,r){return bh(e,t,n,!0)||new Qs(0,0)}},{key:"pointCoordinate3D",value:function(e,t,n){var r=this.pointCoordinate(e,t,n,0);return[r.x,r.y,r.z]}},{key:"isPointAboveHorizon",value:function(e,t){return!bh(e,t.x,t.y,!1)}},{key:"farthestPixelDistance",value:function(e){var t=function(e,t){var n,r=e.cameraToCenterDistance,i=e._centerAltitude*t,a=e._camera,o=e._camera.forward(),s=Zl([],Ql([],o,-r),[0,0,i]),l=e.worldSize/(2*Math.PI),c=[0,0,-l],u=e.width/e.height,d=Math.tan(e.fovAboveCenter),f=Ql([],a.up(),d),h=Ql([],a.right(),d*u),p=tc([],Zl([],Zl([],o,f),h)),m=[];if(new yc(s,p).closestPointOnSphere(c,l,m)){var v=Zl([],m,c),g=sc([],v,s);n=Math.cos(e.fovAboveCenter)*ql(g)}else{var y=sc([],s,c),x=sc([],c,s);tc(x,x);var b=ql(y)-l;n=Math.sqrt(b*(b+2*l));var _=Math.acos(n/(l+b))-Math.acos(nc(o,x));n*=Math.cos(_)}return 1.01*n}(e,this.pixelsPerMeter(e.center.lat,e.worldSize)),n=Nh(e.zoom);if(n>0){var r=Gh(e,Xs(1,e.center.lat)*e.worldSize),i=e.worldSize/(2*Math.PI),a=Math.max(e.width,e.height)/e.worldSize*Math.PI;return Un(t,r+i*(1-Math.cos(a)),Math.pow(n,10))}return t}},{key:"upVector",value:function(e,t,n){return Ah(t,n,e,1)}},{key:"upVectorScale",value:function(e){return{metersToTile:ph*zh(kh(e))}}}]),n}(ap);function fp(e){var t=e.parallels,n=!!t&&Math.abs(t[0]+t[1])<.01;switch(e.name){case"mercator":return new ap(e);case"equirectangular":return new tp(e);case"naturalEarth":return new sp(e);case"equalEarth":return new ep(e);case"winkelTripel":return new cp(e);case"albers":return n?new up(e):new Zh(e);case"lambertConformalConic":return n?new up(e):new ip(e);case"globe":return new dp(e)}throw new Error("Invalid projection name: ".concat(e.name))}var hp=Nu.types,pp=[{name:"a_fade_opacity",components:1,type:"Uint8",offset:0}];function mp(e,t,n,r,i,a,o,s,l,c,u,d,f){var h=s?Math.min(ih,Math.round(s[0])):0,p=s?Math.min(ih,Math.round(s[1])):0;e.emplaceBack(t,n,Math.round(32*r),Math.round(32*i),a,o,(h<<1)+(l?1:0),p,16*c,16*u,256*d,256*f)}function vp(e,t,n,r,i,a,o){e.emplaceBack(t,n,r,i,a,o)}function gp(e,t,n,r,i){e.emplaceBack(t,n,r,i),e.emplaceBack(t,n,r,i),e.emplaceBack(t,n,r,i),e.emplaceBack(t,n,r,i)}function yp(e){var t,n=f(e.sections);try{for(n.s();!(t=n.n()).done;)if(Ua(t.value.text))return!0}catch(r){n.e(r)}finally{n.f()}return!1}var xp=function(){function e(t){h(this,e),this.layoutVertexArray=new Io,this.indexArray=new Lo,this.programConfigurations=t,this.segments=new Ns,this.dynamicLayoutVertexArray=new Eo,this.opacityVertexArray=new Po,this.placedSymbolArray=new Ko,this.globeExtVertexArray=new Oo}return p(e,[{key:"isEmpty",value:function(){return 0===this.layoutVertexArray.length&&0===this.indexArray.length&&0===this.dynamicLayoutVertexArray.length&&0===this.opacityVertexArray.length}},{key:"upload",value:function(e,t,n,r){this.isEmpty()||(n&&(this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,bd.members),this.indexBuffer=e.createIndexBuffer(this.indexArray,t),this.dynamicLayoutVertexBuffer=e.createVertexBuffer(this.dynamicLayoutVertexArray,wd.members,!0),this.opacityVertexBuffer=e.createVertexBuffer(this.opacityVertexArray,pp,!0),this.globeExtVertexArray.length>0&&(this.globeExtVertexBuffer=e.createVertexBuffer(this.globeExtVertexArray,_d.members,!0)),this.opacityVertexBuffer.itemSize=1),(n||r)&&this.programConfigurations.upload(e))}},{key:"destroy",value:function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.dynamicLayoutVertexBuffer.destroy(),this.opacityVertexBuffer.destroy(),this.globeExtVertexBuffer&&this.globeExtVertexBuffer.destroy())}}]),e}();na(xp,"SymbolBuffers");var bp=function(){function e(t,n,r){h(this,e),this.layoutVertexArray=new t,this.layoutAttributes=n,this.indexArray=new r,this.segments=new Ns,this.collisionVertexArray=new Ro,this.collisionVertexArrayExt=new Do}return p(e,[{key:"upload",value:function(e){this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,this.layoutAttributes),this.indexBuffer=e.createIndexBuffer(this.indexArray),this.collisionVertexBuffer=e.createVertexBuffer(this.collisionVertexArray,kd.members,!0),this.collisionVertexBufferExt=e.createVertexBuffer(this.collisionVertexArrayExt,Sd.members,!0)}},{key:"destroy",value:function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy(),this.collisionVertexBuffer.destroy(),this.collisionVertexBufferExt.destroy())}}]),e}();na(bp,"CollisionBuffers");var _p=function(){function e(t){h(this,e),this.collisionBoxArray=t.collisionBoxArray,this.zoom=t.zoom,this.overscaling=t.overscaling,this.layers=t.layers,this.layerIds=this.layers.map((function(e){return e.id})),this.index=t.index,this.pixelRatio=t.pixelRatio,this.sourceLayerIndex=t.sourceLayerIndex,this.hasPattern=!1,this.hasRTLText=!1,this.fullyClipped=!1,this.sortKeyRanges=[],this.collisionCircleArray=[],this.placementInvProjMatrix=jl([]),this.placementViewportMatrix=jl([]);var n=this.layers[0]._unevaluatedLayout._values;this.textSizeData=Id(this.zoom,n["text-size"]),this.iconSizeData=Id(this.zoom,n["icon-size"]);var r=this.layers[0].layout,i=r.get("symbol-sort-key"),a=r.get("symbol-z-order");this.canOverlap=r.get("text-allow-overlap")||r.get("icon-allow-overlap")||r.get("text-ignore-placement")||r.get("icon-ignore-placement"),this.sortFeaturesByKey="viewport-y"!==a&&void 0!==i.constantOr(1),this.sortFeaturesByY=("viewport-y"===a||"auto"===a&&!this.sortFeaturesByKey)&&this.canOverlap,this.writingModes=r.get("text-writing-mode").map((function(e){return ff[e]})),this.stateDependentLayerIds=this.layers.filter((function(e){return e.isStateDependent()})).map((function(e){return e.id})),this.sourceID=t.sourceID,this.projection=t.projection}return p(e,[{key:"createArrays",value:function(){this.text=new xp(new Ms(this.layers,this.zoom,(function(e){return/^text/.test(e)}))),this.icon=new xp(new Ms(this.layers,this.zoom,(function(e){return/^icon/.test(e)}))),this.glyphOffsetArray=new Jo,this.lineVertexArray=new Qo,this.symbolInstances=new $o}},{key:"calculateGlyphDependencies",value:function(e,t,n,r,i){for(var a=0;a<e.length;a++)if(t[e.charCodeAt(a)]=!0,r&&i){var o=jd[e.charAt(a)];o&&(t[o.charCodeAt(0)]=!0)}}},{key:"populate",value:function(e,t,n,r){var i=this,a=this.layers[0],o=a.layout,s="globe"===this.projection.name,l=o.get("text-font"),c=o.get("text-field"),u=o.get("icon-image"),d=("constant"!==c.value.kind||c.value.value instanceof Gt&&!c.value.value.isEmpty()||c.value.value.toString().length>0)&&("constant"!==l.value.kind||l.value.value.length>0),h="constant"!==u.value.kind||!!u.value.value||Object.keys(u.parameters).length>0,p=o.get("symbol-sort-key");if(this.features=[],d||h){var m,v=t.iconDependencies,g=t.glyphDependencies,y=t.availableImages,x=new to(this.zoom),b=f(e);try{var _=function(){var e,t,c=m.value,u=c.feature,b=c.id,_=c.index,w=c.sourceLayerIndex,k=a._featureFilter.needGeometry,S=ll(u,k);if(!a._featureFilter.filter(x,S,n))return"continue";if(k||(S.geometry=sl(u,n,r)),s&&1!==u.type&&n.z<=5)for(var E=S.geometry,C=.98078528056,T=function(e,t){return nc(Ah(e.x,e.y,n,1),Ah(t.x,t.y,n,1))<C},M=0;M<E.length;M++)E[M]=rl(E[M],T);if(d){var I=a.getValueAndResolveTokens("text-field",S,n,y),O=Gt.factory(I);yp(O)&&(i.hasRTLText=!0),(!i.hasRTLText||"unavailable"===Ja()||i.hasRTLText&&eo.isParsed())&&(e=zd(O,a,S))}if(h){var P=a.getValueAndResolveTokens("icon-image",S,n,y);t=P instanceof Wt?P:Wt.fromString(P)}if(!e&&!t)return"continue";var A=i.sortFeaturesByKey?p.evaluate(S,{},n):void 0;if(i.features.push({id:b,text:e,icon:t,index:_,sourceLayerIndex:w,geometry:S.geometry,properties:u.properties,type:hp[u.type],sortKey:A}),t&&(v[t.name]=!0),e){var z=l.evaluate(S,{},n).join(","),j="map"===o.get("text-rotation-alignment")&&"point"!==o.get("symbol-placement");i.allowVerticalPlacement=i.writingModes&&i.writingModes.indexOf(ff.vertical)>=0;var R,D=f(e.sections);try{for(D.s();!(R=D.n()).done;){var L=R.value;if(L.image)v[L.image.name]=!0;else{var N=Ra(e.toString()),B=L.fontStack||z,F=g[B]=g[B]||{};i.calculateGlyphDependencies(L.text,F,j,i.allowVerticalPlacement,N)}}}catch(V){D.e(V)}finally{D.f()}}};for(b.s();!(m=b.n()).done;)_()}catch(w){b.e(w)}finally{b.f()}"line"===o.get("symbol-placement")&&(this.features=function(e){var t={},n={},r=[],i=0;function a(t){r.push(e[t]),i++}function o(e,t,i){var a=n[e];return delete n[e],n[t]=a,r[a].geometry[0].pop(),r[a].geometry[0]=r[a].geometry[0].concat(i[0]),a}function s(e,n,i){var a=t[n];return delete t[n],t[e]=a,r[a].geometry[0].shift(),r[a].geometry[0]=i[0].concat(r[a].geometry[0]),a}function l(e,t,n){var r=n?t[0][t[0].length-1]:t[0][0];return"".concat(e,":").concat(r.x,":").concat(r.y)}for(var c=0;c<e.length;c++){var u=e[c],d=u.geometry,f=u.text?u.text.toString():null;if(f){var h=l(f,d),p=l(f,d,!0);if(h in n&&p in t&&n[h]!==t[p]){var m=s(h,p,d),v=o(h,p,r[m].geometry);delete t[h],delete n[p],n[l(f,r[v].geometry,!0)]=v,r[m].geometry=null}else h in n?o(h,p,d):p in t?s(h,p,d):(a(c),t[h]=i-1,n[p]=i-1)}else a(c)}return r.filter((function(e){return e.geometry}))}(this.features)),this.sortFeaturesByKey&&this.features.sort((function(e,t){return e.sortKey-t.sortKey}))}}},{key:"update",value:function(e,t,n,r){this.stateDependentLayers.length&&(this.text.programConfigurations.updatePaintArrays(e,t,this.layers,n,r),this.icon.programConfigurations.updatePaintArrays(e,t,this.layers,n,r))}},{key:"isEmpty",value:function(){return 0===this.symbolInstances.length&&!this.hasRTLText}},{key:"uploadPending",value:function(){return!this.uploaded||this.text.programConfigurations.needsUpload||this.icon.programConfigurations.needsUpload}},{key:"upload",value:function(e){!this.uploaded&&this.hasDebugData()&&(this.textCollisionBox.upload(e),this.iconCollisionBox.upload(e)),this.text.upload(e,this.sortFeaturesByY,!this.uploaded,this.text.programConfigurations.needsUpload),this.icon.upload(e,this.sortFeaturesByY,!this.uploaded,this.icon.programConfigurations.needsUpload),this.uploaded=!0}},{key:"destroyDebugData",value:function(){this.textCollisionBox.destroy(),this.iconCollisionBox.destroy()}},{key:"getProjection",value:function(){return this.projectionInstance||(this.projectionInstance=fp(this.projection)),this.projectionInstance}},{key:"destroy",value:function(){this.text.destroy(),this.icon.destroy(),this.hasDebugData()&&this.destroyDebugData()}},{key:"addToLineVertexArray",value:function(e,t){var n=this.lineVertexArray.length;if(void 0!==e.segment){var r,i=f(t);try{for(i.s();!(r=i.n()).done;){var a=r.value,o=a.x,s=a.y;this.lineVertexArray.emplaceBack(o,s)}}catch(l){i.e(l)}finally{i.f()}}return{lineStartIndex:n,lineLength:this.lineVertexArray.length-n}}},{key:"addSymbols",value:function(e,t,n,r,i,a,o,s,l,c,u,f,h,p){for(var m=e.indexArray,v=e.layoutVertexArray,g=e.globeExtVertexArray,y=e.segments.prepareSegment(4*t.length,v,m,this.canOverlap?a.sortKey:void 0),x=this.glyphOffsetArray.length,b=y.vertexLength,_=this.allowVerticalPlacement&&o===ff.vertical?Math.PI/2:0,w=a.text&&a.text.sections,k=0;k<t.length;k++){var S=t[k],E=S.tl,C=S.tr,T=S.bl,M=S.br,I=S.tex,O=S.pixelOffsetTL,P=S.pixelOffsetBR,A=S.minFontScaleX,z=S.minFontScaleY,j=S.glyphOffset,R=S.isSDF,D=S.sectionIndex,L=y.vertexLength,N=j[1];if(mp(v,l.x,l.y,E.x,N+E.y,I.x,I.y,n,R,O.x,O.y,A,z),mp(v,l.x,l.y,C.x,N+C.y,I.x+I.w,I.y,n,R,P.x,O.y,A,z),mp(v,l.x,l.y,T.x,N+T.y,I.x,I.y+I.h,n,R,O.x,P.y,A,z),mp(v,l.x,l.y,M.x,N+M.y,I.x+I.w,I.y+I.h,n,R,P.x,P.y,A,z),s){var B=s.anchor,F=B.x,V=B.y,U=B.z,H=d(s.up,3),G=H[0],W=H[1],q=H[2];vp(g,F,V,U,G,W,q),vp(g,F,V,U,G,W,q),vp(g,F,V,U,G,W,q),vp(g,F,V,U,G,W,q),gp(e.dynamicLayoutVertexArray,F,V,U,_)}else gp(e.dynamicLayoutVertexArray,l.x,l.y,l.z,_);m.emplaceBack(L,L+1,L+2),m.emplaceBack(L+1,L+2,L+3),y.vertexLength+=4,y.primitiveLength+=2,this.glyphOffsetArray.emplaceBack(j[0]),k!==t.length-1&&D===t[k+1].sectionIndex||e.programConfigurations.populatePaintArrays(v.length,a,a.index,{},h,p,w&&w[D])}var X=s?s.anchor:l;e.placedSymbolArray.emplaceBack(X.x,X.y,X.z,l.x,l.y,x,this.glyphOffsetArray.length-x,b,c,u,l.segment,n?n[0]:0,n?n[1]:0,r[0],r[1],o,0,!1,0,f,0)}},{key:"_commitLayoutVertex",value:function(e,t,n,r,i,a,o){e.emplaceBack(t,n,r,i,a,Math.round(o.x),Math.round(o.y))}},{key:"_addCollisionDebugVertices",value:function(e,t,n,r,i,a,o){for(var s=n.segments.prepareSegment(4,n.layoutVertexArray,n.indexArray),l=s.vertexLength,c=o.tileAnchorX,u=o.tileAnchorY,d=0;d<4;d++)n.collisionVertexArray.emplaceBack(0,0,0,0);n.collisionVertexArrayExt.emplaceBack(t,-e.padding,-e.padding),n.collisionVertexArrayExt.emplaceBack(t,e.padding,-e.padding),n.collisionVertexArrayExt.emplaceBack(t,e.padding,e.padding),n.collisionVertexArrayExt.emplaceBack(t,-e.padding,e.padding),this._commitLayoutVertex(n.layoutVertexArray,r,i,a,c,u,new M(e.x1,e.y1)),this._commitLayoutVertex(n.layoutVertexArray,r,i,a,c,u,new M(e.x2,e.y1)),this._commitLayoutVertex(n.layoutVertexArray,r,i,a,c,u,new M(e.x2,e.y2)),this._commitLayoutVertex(n.layoutVertexArray,r,i,a,c,u,new M(e.x1,e.y2)),s.vertexLength+=4;var f=n.indexArray;f.emplaceBack(l,l+1),f.emplaceBack(l+1,l+2),f.emplaceBack(l+2,l+3),f.emplaceBack(l+3,l),s.primitiveLength+=4}},{key:"_addTextDebugCollisionBoxes",value:function(e,t,n,r,i,a){for(var o=r;o<i;o++){var s=n.get(o),l=this.getSymbolInstanceTextSize(e,a,t,o);this._addCollisionDebugVertices(s,l,this.textCollisionBox,s.projectedAnchorX,s.projectedAnchorY,s.projectedAnchorZ,a)}}},{key:"_addIconDebugCollisionBoxes",value:function(e,t,n,r,i,a){for(var o=r;o<i;o++){var s=n.get(o),l=this.getSymbolInstanceIconSize(e,t,a.placedIconSymbolIndex);this._addCollisionDebugVertices(s,l,this.iconCollisionBox,s.projectedAnchorX,s.projectedAnchorY,s.projectedAnchorZ,a)}}},{key:"generateCollisionDebugBuffers",value:function(e,t){this.hasDebugData()&&this.destroyDebugData(),this.textCollisionBox=new bp(zo,Ed.members,Ho),this.iconCollisionBox=new bp(zo,Ed.members,Ho);for(var n=Pd(this.iconSizeData,e),r=Pd(this.textSizeData,e),i=0;i<this.symbolInstances.length;i++){var a=this.symbolInstances.get(i);this._addTextDebugCollisionBoxes(r,e,t,a.textBoxStartIndex,a.textBoxEndIndex,a),this._addTextDebugCollisionBoxes(r,e,t,a.verticalTextBoxStartIndex,a.verticalTextBoxEndIndex,a),this._addIconDebugCollisionBoxes(n,e,t,a.iconBoxStartIndex,a.iconBoxEndIndex,a),this._addIconDebugCollisionBoxes(n,e,t,a.verticalIconBoxStartIndex,a.verticalIconBoxEndIndex,a)}}},{key:"getSymbolInstanceTextSize",value:function(e,t,n,r){var i=this.text.placedSymbolArray.get(t.rightJustifiedTextSymbolIndex>=0?t.rightJustifiedTextSymbolIndex:t.centerJustifiedTextSymbolIndex>=0?t.centerJustifiedTextSymbolIndex:t.leftJustifiedTextSymbolIndex>=0?t.leftJustifiedTextSymbolIndex:t.verticalPlacedTextSymbolIndex>=0?t.verticalPlacedTextSymbolIndex:r),a=Od(this.textSizeData,e,i)/Td;return this.tilePixelRatio*a}},{key:"getSymbolInstanceIconSize",value:function(e,t,n){var r=this.icon.placedSymbolArray.get(n),i=Od(this.iconSizeData,e,r);return this.tilePixelRatio*i}},{key:"_commitDebugCollisionVertexUpdate",value:function(e,t,n){e.emplaceBack(t,-n,-n),e.emplaceBack(t,n,-n),e.emplaceBack(t,n,n),e.emplaceBack(t,-n,n)}},{key:"_updateTextDebugCollisionBoxes",value:function(e,t,n,r,i,a){for(var o=r;o<i;o++){var s=n.get(o),l=this.getSymbolInstanceTextSize(e,a,t,o);this._commitDebugCollisionVertexUpdate(this.textCollisionBox.collisionVertexArrayExt,l,s.padding)}}},{key:"_updateIconDebugCollisionBoxes",value:function(e,t,n,r,i,a){for(var o=r;o<i;o++){var s=n.get(o),l=this.getSymbolInstanceIconSize(e,t,a);this._commitDebugCollisionVertexUpdate(this.iconCollisionBox.collisionVertexArrayExt,l,s.padding)}}},{key:"updateCollisionDebugBuffers",value:function(e,t){if(this.hasDebugData()){this.hasTextCollisionBoxData()&&this.textCollisionBox.collisionVertexArrayExt.clear(),this.hasIconCollisionBoxData()&&this.iconCollisionBox.collisionVertexArrayExt.clear();for(var n=Pd(this.iconSizeData,e),r=Pd(this.textSizeData,e),i=0;i<this.symbolInstances.length;i++){var a=this.symbolInstances.get(i);this._updateTextDebugCollisionBoxes(r,e,t,a.textBoxStartIndex,a.textBoxEndIndex,a),this._updateTextDebugCollisionBoxes(r,e,t,a.verticalTextBoxStartIndex,a.verticalTextBoxEndIndex,a),this._updateIconDebugCollisionBoxes(n,e,t,a.iconBoxStartIndex,a.iconBoxEndIndex,a.placedIconSymbolIndex),this._updateIconDebugCollisionBoxes(n,e,t,a.verticalIconBoxStartIndex,a.verticalIconBoxEndIndex,a.placedIconSymbolIndex)}this.hasTextCollisionBoxData()&&this.textCollisionBox.collisionVertexBufferExt&&this.textCollisionBox.collisionVertexBufferExt.updateData(this.textCollisionBox.collisionVertexArrayExt),this.hasIconCollisionBoxData()&&this.iconCollisionBox.collisionVertexBufferExt&&this.iconCollisionBox.collisionVertexBufferExt.updateData(this.iconCollisionBox.collisionVertexArrayExt)}}},{key:"_deserializeCollisionBoxesForSymbol",value:function(e,t,n,r,i,a,o,s,l){var c={};if(t<n){var u=e.get(t),d=u.x1,f=u.y1,h=u.x2,p=u.y2,m=u.padding,v=u.projectedAnchorX,g=u.projectedAnchorY,y=u.projectedAnchorZ,x=u.tileAnchorX,b=u.tileAnchorY,_=u.featureIndex;c.textBox={x1:d,y1:f,x2:h,y2:p,padding:m,projectedAnchorX:v,projectedAnchorY:g,projectedAnchorZ:y,tileAnchorX:x,tileAnchorY:b},c.textFeatureIndex=_}if(r<i){var w=e.get(r),k=w.x1,S=w.y1,E=w.x2,C=w.y2,T=w.padding,M=w.projectedAnchorX,I=w.projectedAnchorY,O=w.projectedAnchorZ,P=w.tileAnchorX,A=w.tileAnchorY,z=w.featureIndex;c.verticalTextBox={x1:k,y1:S,x2:E,y2:C,padding:T,projectedAnchorX:M,projectedAnchorY:I,projectedAnchorZ:O,tileAnchorX:P,tileAnchorY:A},c.verticalTextFeatureIndex=z}if(a<o){var j=e.get(a),R=j.x1,D=j.y1,L=j.x2,N=j.y2,B=j.padding,F=j.projectedAnchorX,V=j.projectedAnchorY,U=j.projectedAnchorZ,H=j.tileAnchorX,G=j.tileAnchorY,W=j.featureIndex;c.iconBox={x1:R,y1:D,x2:L,y2:N,padding:B,projectedAnchorX:F,projectedAnchorY:V,projectedAnchorZ:U,tileAnchorX:H,tileAnchorY:G},c.iconFeatureIndex=W}if(s<l){var q=e.get(s),X=q.x1,Z=q.y1,K=q.x2,Y=q.y2,$=q.padding,J=q.projectedAnchorX,Q=q.projectedAnchorY,ee=q.projectedAnchorZ,te=q.tileAnchorX,ne=q.tileAnchorY,re=q.featureIndex;c.verticalIconBox={x1:X,y1:Z,x2:K,y2:Y,padding:$,projectedAnchorX:J,projectedAnchorY:Q,projectedAnchorZ:ee,tileAnchorX:te,tileAnchorY:ne},c.verticalIconFeatureIndex=re}return c}},{key:"deserializeCollisionBoxes",value:function(e){this.collisionArrays=[];for(var t=0;t<this.symbolInstances.length;t++){var n=this.symbolInstances.get(t);this.collisionArrays.push(this._deserializeCollisionBoxesForSymbol(e,n.textBoxStartIndex,n.textBoxEndIndex,n.verticalTextBoxStartIndex,n.verticalTextBoxEndIndex,n.iconBoxStartIndex,n.iconBoxEndIndex,n.verticalIconBoxStartIndex,n.verticalIconBoxEndIndex))}}},{key:"hasTextData",value:function(){return this.text.segments.get().length>0}},{key:"hasIconData",value:function(){return this.icon.segments.get().length>0}},{key:"hasDebugData",value:function(){return this.textCollisionBox&&this.iconCollisionBox}},{key:"hasTextCollisionBoxData",value:function(){return this.hasDebugData()&&this.textCollisionBox.segments.get().length>0}},{key:"hasIconCollisionBoxData",value:function(){return this.hasDebugData()&&this.iconCollisionBox.segments.get().length>0}},{key:"addIndicesForPlacedSymbol",value:function(e,t){for(var n=e.placedSymbolArray.get(t),r=n.vertexStartIndex+4*n.numGlyphs,i=n.vertexStartIndex;i<r;i+=4)e.indexArray.emplaceBack(i,i+1,i+2),e.indexArray.emplaceBack(i+1,i+2,i+3)}},{key:"getSortedSymbolIndexes",value:function(e){if(this.sortedAngle===e&&void 0!==this.symbolInstanceIndexes)return this.symbolInstanceIndexes;for(var t=Math.sin(e),n=Math.cos(e),r=[],i=[],a=[],o=0;o<this.symbolInstances.length;++o){a.push(o);var s=this.symbolInstances.get(o);r.push(0|Math.round(t*s.tileAnchorX+n*s.tileAnchorY)),i.push(s.featureIndex)}return a.sort((function(e,t){return r[e]-r[t]||i[t]-i[e]})),a}},{key:"addToSortKeyRanges",value:function(e,t){var n=this.sortKeyRanges[this.sortKeyRanges.length-1];n&&n.sortKey===t?n.symbolInstanceEnd=e+1:this.sortKeyRanges.push({sortKey:t,symbolInstanceStart:e,symbolInstanceEnd:e+1})}},{key:"sortFeatures",value:function(e){if(this.sortFeaturesByY&&this.sortedAngle!==e&&!(this.text.segments.get().length>1||this.icon.segments.get().length>1)){this.symbolInstanceIndexes=this.getSortedSymbolIndexes(e),this.sortedAngle=e,this.text.indexArray.clear(),this.icon.indexArray.clear(),this.featureSortOrder=[];var t,n=f(this.symbolInstanceIndexes);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=this.symbolInstances.get(r);this.featureSortOrder.push(i.featureIndex);var a=i.rightJustifiedTextSymbolIndex,o=i.centerJustifiedTextSymbolIndex,s=i.leftJustifiedTextSymbolIndex,l=i.verticalPlacedTextSymbolIndex,c=i.placedIconSymbolIndex,u=i.verticalPlacedIconSymbolIndex;a>=0&&this.addIndicesForPlacedSymbol(this.text,a),o>=0&&o!==a&&this.addIndicesForPlacedSymbol(this.text,o),s>=0&&s!==o&&s!==a&&this.addIndicesForPlacedSymbol(this.text,s),l>=0&&this.addIndicesForPlacedSymbol(this.text,l),c>=0&&this.addIndicesForPlacedSymbol(this.icon,c),u>=0&&this.addIndicesForPlacedSymbol(this.icon,u)}}catch(d){n.e(d)}finally{n.f()}this.text.indexBuffer&&this.text.indexBuffer.updateData(this.text.indexArray),this.icon.indexBuffer&&this.icon.indexBuffer.updateData(this.icon.indexArray)}}}]),e}();na(_p,"SymbolBucket",{omit:["layers","collisionBoxArray","features","compareText"]}),_p.MAX_GLYPHS=65535,_p.addDynamicAttributes=gp;var wp=new po({"symbol-placement":new uo(ut.layout_symbol["symbol-placement"]),"symbol-spacing":new uo(ut.layout_symbol["symbol-spacing"]),"symbol-avoid-edges":new uo(ut.layout_symbol["symbol-avoid-edges"]),"symbol-sort-key":new fo(ut.layout_symbol["symbol-sort-key"]),"symbol-z-order":new uo(ut.layout_symbol["symbol-z-order"]),"icon-allow-overlap":new uo(ut.layout_symbol["icon-allow-overlap"]),"icon-ignore-placement":new uo(ut.layout_symbol["icon-ignore-placement"]),"icon-optional":new uo(ut.layout_symbol["icon-optional"]),"icon-rotation-alignment":new uo(ut.layout_symbol["icon-rotation-alignment"]),"icon-size":new fo(ut.layout_symbol["icon-size"]),"icon-text-fit":new uo(ut.layout_symbol["icon-text-fit"]),"icon-text-fit-padding":new uo(ut.layout_symbol["icon-text-fit-padding"]),"icon-image":new fo(ut.layout_symbol["icon-image"]),"icon-rotate":new fo(ut.layout_symbol["icon-rotate"]),"icon-padding":new uo(ut.layout_symbol["icon-padding"]),"icon-keep-upright":new uo(ut.layout_symbol["icon-keep-upright"]),"icon-offset":new fo(ut.layout_symbol["icon-offset"]),"icon-anchor":new fo(ut.layout_symbol["icon-anchor"]),"icon-pitch-alignment":new uo(ut.layout_symbol["icon-pitch-alignment"]),"text-pitch-alignment":new uo(ut.layout_symbol["text-pitch-alignment"]),"text-rotation-alignment":new uo(ut.layout_symbol["text-rotation-alignment"]),"text-field":new fo(ut.layout_symbol["text-field"]),"text-font":new fo(ut.layout_symbol["text-font"]),"text-size":new fo(ut.layout_symbol["text-size"]),"text-max-width":new fo(ut.layout_symbol["text-max-width"]),"text-line-height":new fo(ut.layout_symbol["text-line-height"]),"text-letter-spacing":new fo(ut.layout_symbol["text-letter-spacing"]),"text-justify":new fo(ut.layout_symbol["text-justify"]),"text-radial-offset":new fo(ut.layout_symbol["text-radial-offset"]),"text-variable-anchor":new uo(ut.layout_symbol["text-variable-anchor"]),"text-anchor":new fo(ut.layout_symbol["text-anchor"]),"text-max-angle":new uo(ut.layout_symbol["text-max-angle"]),"text-writing-mode":new uo(ut.layout_symbol["text-writing-mode"]),"text-rotate":new fo(ut.layout_symbol["text-rotate"]),"text-padding":new uo(ut.layout_symbol["text-padding"]),"text-keep-upright":new uo(ut.layout_symbol["text-keep-upright"]),"text-transform":new fo(ut.layout_symbol["text-transform"]),"text-offset":new fo(ut.layout_symbol["text-offset"]),"text-allow-overlap":new uo(ut.layout_symbol["text-allow-overlap"]),"text-ignore-placement":new uo(ut.layout_symbol["text-ignore-placement"]),"text-optional":new uo(ut.layout_symbol["text-optional"])}),kp={paint:new po({"icon-opacity":new fo(ut.paint_symbol["icon-opacity"]),"icon-color":new fo(ut.paint_symbol["icon-color"]),"icon-halo-color":new fo(ut.paint_symbol["icon-halo-color"]),"icon-halo-width":new fo(ut.paint_symbol["icon-halo-width"]),"icon-halo-blur":new fo(ut.paint_symbol["icon-halo-blur"]),"icon-translate":new uo(ut.paint_symbol["icon-translate"]),"icon-translate-anchor":new uo(ut.paint_symbol["icon-translate-anchor"]),"text-opacity":new fo(ut.paint_symbol["text-opacity"]),"text-color":new fo(ut.paint_symbol["text-color"],{runtimeType:wt,getOverride:function(e){return e.textColor},hasOverride:function(e){return!!e.textColor}}),"text-halo-color":new fo(ut.paint_symbol["text-halo-color"]),"text-halo-width":new fo(ut.paint_symbol["text-halo-width"]),"text-halo-blur":new fo(ut.paint_symbol["text-halo-blur"]),"text-translate":new uo(ut.paint_symbol["text-translate"]),"text-translate-anchor":new uo(ut.paint_symbol["text-translate-anchor"])}),layout:wp},Sp=function(){function e(t){h(this,e),this.type=t.property.overrides?t.property.overrides.runtimeType:yt,this.defaultValue=t}return p(e,[{key:"evaluate",value:function(e){if(e.formattedSection){var t=this.defaultValue.property.overrides;if(t&&t.hasOverride(e.formattedSection))return t.getOverride(e.formattedSection)}return e.feature&&e.featureState?this.defaultValue.evaluate(e.feature,e.featureState):this.defaultValue.property.specification.default}},{key:"eachChild",value:function(e){this.defaultValue.isConstant()||e(this.defaultValue.value._styleExpression.expression)}},{key:"outputDefined",value:function(){return!1}},{key:"serialize",value:function(){return null}}]),e}();na(Sp,"FormatSectionOverride",{omit:["defaultValue"]});var Ep=function(e){m(n,e);var t=v(n);function n(e){return h(this,n),t.call(this,e,kp)}return p(n,[{key:"recalculate",value:function(e,t){o(s(n.prototype),"recalculate",this).call(this,e,t),"auto"===this.layout.get("icon-rotation-alignment")&&(this.layout._values["icon-rotation-alignment"]="point"!==this.layout.get("symbol-placement")?"map":"viewport"),"auto"===this.layout.get("text-rotation-alignment")&&(this.layout._values["text-rotation-alignment"]="point"!==this.layout.get("symbol-placement")?"map":"viewport"),"auto"===this.layout.get("text-pitch-alignment")&&(this.layout._values["text-pitch-alignment"]=this.layout.get("text-rotation-alignment")),"auto"===this.layout.get("icon-pitch-alignment")&&(this.layout._values["icon-pitch-alignment"]=this.layout.get("icon-rotation-alignment"));var r=this.layout.get("text-writing-mode");if(r){var i,a=[],l=f(r);try{for(l.s();!(i=l.n()).done;){var c=i.value;a.indexOf(c)<0&&a.push(c)}}catch(u){l.e(u)}finally{l.f()}this.layout._values["text-writing-mode"]=a}else this.layout._values["text-writing-mode"]="point"===this.layout.get("symbol-placement")?["horizontal"]:["horizontal","vertical"];this._setPaintOverrides()}},{key:"getValueAndResolveTokens",value:function(e,t,n,r){var i=this.layout.get(e).evaluate(t,{},n,r),a=this._unevaluatedLayout._values[e];return a.isDataDriven()||ii(a.value)||!i?i:function(e,t){return t.replace(/{([^{}]+)}/g,(function(t,n){return n in e?String(e[n]):""}))}(t.properties,i)}},{key:"createBucket",value:function(e){return new _p(e)}},{key:"queryRadius",value:function(){return 0}},{key:"queryIntersectsFeature",value:function(){return!1}},{key:"_setPaintOverrides",value:function(){var e,t=f(kp.paint.overridableProperties);try{for(t.s();!(e=t.n()).done;){var r=e.value;if(n.hasPaintOverride(this.layout,r)){var i=this.paint.get(r),a=new Sp(i),o=new ri(a,i.property.specification),s=null;s="constant"===i.value.kind||"source"===i.value.kind?new oi("source",o):new si("composite",o,i.value.zoomStops,i.value._interpolationType),this.paint._values[r]=new lo(i.property,s,i.parameters)}}}catch(l){t.e(l)}finally{t.f()}}},{key:"_handleOverridablePaintPropertyUpdate",value:function(e,t,r){return!(!this.layout||t.isDataDriven()||r.isDataDriven())&&n.hasPaintOverride(this.layout,e)}},{key:"getProgramConfiguration",value:function(e){return new Ts(this,e)}}],[{key:"hasPaintOverride",value:function(e,t){var n=e.get("text-field"),r=kp.paint.properties[t],i=!1,a=function(e){var t,n=f(e);try{for(n.s();!(t=n.n()).done;){var a=t.value;if(r.overrides&&r.overrides.hasOverride(a))return void(i=!0)}}catch(o){n.e(o)}finally{n.f()}};if("constant"===n.value.kind&&n.value.value instanceof Gt)a(n.value.value.sections);else if("source"===n.value.kind){var o=function e(t){i||(t instanceof $t&&Zt(t.value)===Ct?a(t.value.sections):t instanceof nn?a(t.sections):t.eachChild(e))},s=n.value;s._styleExpression&&o(s._styleExpression.expression)}return i}}]),n}(Rs),Cp={paint:new po({"background-color":new uo(ut.paint_background["background-color"]),"background-pattern":new uo(ut.paint_background["background-pattern"]),"background-opacity":new uo(ut.paint_background["background-opacity"])})},Tp={paint:new po({"raster-opacity":new uo(ut.paint_raster["raster-opacity"]),"raster-hue-rotate":new uo(ut.paint_raster["raster-hue-rotate"]),"raster-brightness-min":new uo(ut.paint_raster["raster-brightness-min"]),"raster-brightness-max":new uo(ut.paint_raster["raster-brightness-max"]),"raster-saturation":new uo(ut.paint_raster["raster-saturation"]),"raster-contrast":new uo(ut.paint_raster["raster-contrast"]),"raster-resampling":new uo(ut.paint_raster["raster-resampling"]),"raster-fade-duration":new uo(ut.paint_raster["raster-fade-duration"])})},Mp=function(e){m(n,e);var t=v(n);function n(e){var r;return h(this,n),(r=t.call(this,e,{})).implementation=e,r}return p(n,[{key:"is3D",value:function(){return"3d"===this.implementation.renderingMode}},{key:"hasOffscreenPass",value:function(){return void 0!==this.implementation.prerender}},{key:"recalculate",value:function(){}},{key:"updateTransitions",value:function(){}},{key:"hasTransition",value:function(){return!1}},{key:"serialize",value:function(){}},{key:"onAdd",value:function(e){this.implementation.onAdd&&this.implementation.onAdd(e,e.painter.context.gl)}},{key:"onRemove",value:function(e){this.implementation.onRemove&&this.implementation.onRemove(e,e.painter.context.gl)}}]),n}(Rs),Ip={paint:new po({"sky-type":new uo(ut.paint_sky["sky-type"]),"sky-atmosphere-sun":new uo(ut.paint_sky["sky-atmosphere-sun"]),"sky-atmosphere-sun-intensity":new uo(ut.paint_sky["sky-atmosphere-sun-intensity"]),"sky-gradient-center":new uo(ut.paint_sky["sky-gradient-center"]),"sky-gradient-radius":new uo(ut.paint_sky["sky-gradient-radius"]),"sky-gradient":new ho(ut.paint_sky["sky-gradient"]),"sky-atmosphere-halo-color":new uo(ut.paint_sky["sky-atmosphere-halo-color"]),"sky-atmosphere-color":new uo(ut.paint_sky["sky-atmosphere-color"]),"sky-opacity":new uo(ut.paint_sky["sky-opacity"])})};function Op(e,t,n){var r=[0,0,1],i=pc([]);return vc(i,i,n?-A(e)+Math.PI:A(e)),mc(i,i,-A(t)),ac(r,r,i),tc(r,r)}for(var Pp={circle:function(e){m(n,e);var t=v(n);function n(e){return h(this,n),t.call(this,e,Il)}return p(n,[{key:"createBucket",value:function(e){return new dl(e)}},{key:"queryRadius",value:function(e){var t=e;return Sl("circle-radius",this,t)+Sl("circle-stroke-width",this,t)+El(this.paint.get("circle-translate"))}},{key:"queryIntersectsFeature",value:function(e,t,n,r,i,a,o,s){var l=Tl(this.paint.get("circle-translate"),this.paint.get("circle-translate-anchor"),a.angle,e.pixelToTileUnitsFactor),c=this.paint.get("circle-radius").evaluate(t,n)+this.paint.get("circle-stroke-width").evaluate(t,n);return wc(e,r,a,o,s,"map"===this.paint.get("circle-pitch-alignment"),"map"===this.paint.get("circle-pitch-scale"),l,c)}},{key:"getProgramIds",value:function(){return["circle"]}},{key:"getProgramConfiguration",value:function(e){return new Ts(this,e)}}]),n}(Rs),heatmap:function(e){m(n,e);var t=v(n);function n(e){var r;return h(this,n),(r=t.call(this,e,zc))._updateColorRamp(),r}return p(n,[{key:"createBucket",value:function(e){return new Tc(e)}},{key:"_handleSpecialPaintPropertyUpdate",value:function(e){"heatmap-color"===e&&this._updateColorRamp()}},{key:"_updateColorRamp",value:function(){this.colorRamp=jc({expression:this._transitionablePaint._values["heatmap-color"].value.expression,evaluationKey:"heatmapDensity",image:this.colorRamp}),this.colorRampTexture=null}},{key:"resize",value:function(){this.heatmapFbo&&(this.heatmapFbo.destroy(),this.heatmapFbo=null)}},{key:"queryRadius",value:function(e){return Sl("heatmap-radius",this,e)}},{key:"queryIntersectsFeature",value:function(e,t,n,r,i,a,o,s){var l=this.paint.get("heatmap-radius").evaluate(t,n);return wc(e,r,a,o,s,!0,!0,new M(0,0),l)}},{key:"hasOffscreenPass",value:function(){return 0!==this.paint.get("heatmap-opacity")&&"none"!==this.visibility}},{key:"getProgramIds",value:function(){return["heatmap","heatmapTexture"]}},{key:"getProgramConfiguration",value:function(e){return new Ts(this,e)}}]),n}(Rs),hillshade:function(e){m(n,e);var t=v(n);function n(e){return h(this,n),t.call(this,e,Rc)}return p(n,[{key:"hasOffscreenPass",value:function(){return 0!==this.paint.get("hillshade-exaggeration")&&"none"!==this.visibility}},{key:"getProgramIds",value:function(){return["hillshade","hillshadePrepare"]}}]),n}(Rs),fill:function(e){m(n,e);var t=v(n);function n(e){return h(this,n),t.call(this,e,bu)}return p(n,[{key:"getProgramIds",value:function(){var e=this.paint.get("fill-pattern"),t=e&&e.constantOr(1),n=[t?"fillPattern":"fill"];return this.paint.get("fill-antialias")&&n.push(t&&!this.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline"),n}},{key:"getProgramConfiguration",value:function(e){return new Ts(this,e)}},{key:"recalculate",value:function(e,t){o(s(n.prototype),"recalculate",this).call(this,e,t);var r=this.paint._values["fill-outline-color"];"constant"===r.value.kind&&void 0===r.value.value&&(this.paint._values["fill-outline-color"]=this.paint._values["fill-color"])}},{key:"createBucket",value:function(e){return new yu(e)}},{key:"queryRadius",value:function(){return El(this.paint.get("fill-translate"))}},{key:"queryIntersectsFeature",value:function(e,t,n,r,i,a){return!e.queryGeometry.isAboveHorizon&&pl(Cl(e.tilespaceGeometry,this.paint.get("fill-translate"),this.paint.get("fill-translate-anchor"),a.angle,e.pixelToTileUnitsFactor),r)}},{key:"isTileClipped",value:function(){return!0}}]),n}(Rs),"fill-extrusion":function(e){m(n,e);var t=v(n);function n(e){return h(this,n),t.call(this,e,td)}return p(n,[{key:"createBucket",value:function(e){return new Wu(e)}},{key:"queryRadius",value:function(){return El(this.paint.get("fill-extrusion-translate"))}},{key:"is3D",value:function(){return!0}},{key:"getProgramIds",value:function(){return[this.paint.get("fill-extrusion-pattern").constantOr(1)?"fillExtrusionPattern":"fillExtrusion"]}},{key:"getProgramConfiguration",value:function(e){return new Ts(this,e)}},{key:"queryIntersectsFeature",value:function(e,t,n,r,i,a,o,s,l){var c=Tl(this.paint.get("fill-extrusion-translate"),this.paint.get("fill-extrusion-translate-anchor"),a.angle,e.pixelToTileUnitsFactor),u=this.paint.get("fill-extrusion-height").evaluate(t,n),h=this.paint.get("fill-extrusion-base").evaluate(t,n),p=[0,0],m=s&&a.elevation,v=a.elevation?a.elevation.exaggeration():1,g=e.tile.getBucket(this);if(m&&g instanceof Wu){var y=g.centroidVertexArray,x=l+1;x<y.length&&(p[0]=y.geta_centroid_pos0(x),p[1]=y.geta_centroid_pos1(x))}if(0===p[0]&&1===p[1])return!1;"globe"===a.projection.name&&(r=Qu([r],[new M(0,0),new M(Bs,Bs)],e.tileID.canonical).map((function(e){return e.polygon})).flat());var b=function(e,t,n,r,i,a,o,s,l,c,u){return"globe"===e.projection.name?function(e,t,n,r,i,a,o,s,l,c,u){var d=[],h=[],p=e.projection.upVectorScale(u,e.center.lat,e.worldSize).metersToTile,m=[0,0,0,1],v=[0,0,0,1],g=function(e,t,n,r){e[0]=t,e[1]=n,e[2]=r,e[3]=1},y=Ju();n>0&&(n+=y),r+=y;var x,b=f(t);try{for(b.s();!(x=b.n()).done;){var _,w=x.value,k=[],S=[],E=f(w);try{for(E.s();!(_=E.n()).done;){var C=_.value,T=C.x+i.x,M=C.y+i.y,I=e.projection.projectTilePoint(T,M,u),O=e.projection.upVector(u,C.x,C.y),P=n,A=r;if(o){var z=ud(T,M,n,r,o,s,l,c);P+=z.base,A+=z.top}0!==n?g(m,I.x+O[0]*p*P,I.y+O[1]*p*P,I.z+O[2]*p*P):g(m,I.x,I.y,I.z),g(v,I.x+O[0]*p*A,I.y+O[1]*p*A,I.z+O[2]*p*A),ic(m,m,a),ic(v,v,a),k.push(new sd(m[0],m[1],m[2])),S.push(new sd(v[0],v[1],v[2]))}}catch(j){E.e(j)}finally{E.f()}d.push(k),h.push(S)}}catch(j){b.e(j)}finally{b.f()}return[d,h]}(e,t,n,r,i,a,o,s,l,c,u):o?function(e,t,n,r,i,a,o,s,l){var c,u=[],d=[],h=[0,0,0,1],p=f(e);try{for(p.s();!(c=p.n()).done;){var m,v=c.value,g=[],y=[],x=f(v);try{for(x.s();!(m=x.n()).done;){var b=m.value,_=b.x+r.x,w=b.y+r.y,k=ud(_,w,t,n,a,o,s,l);h[0]=_,h[1]=w,h[2]=k.base,h[3]=1,fc(h,h,i),h[3]=Math.max(h[3],1e-5);var S=new sd(h[0]/h[3],h[1]/h[3],h[2]/h[3]);h[0]=_,h[1]=w,h[2]=k.top,h[3]=1,fc(h,h,i),h[3]=Math.max(h[3],1e-5);var E=new sd(h[0]/h[3],h[1]/h[3],h[2]/h[3]);g.push(S),y.push(E)}}catch(C){x.e(C)}finally{x.f()}u.push(g),d.push(y)}}catch(C){p.e(C)}finally{p.f()}return[u,d]}(t,n,r,i,a,o,s,l,c):function(e,t,n,r,i){var a,o=[],s=[],l=i[8]*t,c=i[9]*t,u=i[10]*t,d=i[11]*t,h=i[8]*n,p=i[9]*n,m=i[10]*n,v=i[11]*n,g=f(e);try{for(g.s();!(a=g.n()).done;){var y,x=a.value,b=[],_=[],w=f(x);try{for(w.s();!(y=w.n()).done;){var k=y.value,S=k.x+r.x,E=k.y+r.y,C=i[0]*S+i[4]*E+i[12],T=i[1]*S+i[5]*E+i[13],M=i[2]*S+i[6]*E+i[14],I=i[3]*S+i[7]*E+i[15],O=C+l,P=T+c,A=M+u,z=Math.max(I+d,1e-5),j=C+h,R=T+p,D=M+m,L=Math.max(I+v,1e-5);b.push(new sd(O/z,P/z,A/z)),_.push(new sd(j/L,R/L,D/L))}}catch(N){w.e(N)}finally{w.f()}o.push(b),s.push(_)}}catch(N){g.e(N)}finally{g.f()}return[o,s]}(t,n,r,i,a)}(a,r,h,u,c,o,m?s:null,p,v,a.center.lat,e.tileID.canonical),_=d(b,2),w=_[0],k=_[1],S=e.queryGeometry;return function(e,t,n){var r=1/0;pl(n,t)&&(r=cd(n,t[0]));for(var i=0;i<t.length;i++)for(var a=t[i],o=e[i],s=0;s<a.length-1;s++){var l=a[s],c=[l,a[s+1],o[s+1],o[s],l];fl(n,c)&&(r=Math.min(r,cd(n,c)))}return r!==1/0&&r}(w,k,S.isPointQuery()?S.screenBounds:S.screenGeometry)}}]),n}(Rs),line:function(e){m(n,e);var t=v(n);function n(e){var r;return h(this,n),(r=t.call(this,e,gd)).gradientVersion=0,r}return p(n,[{key:"_handleSpecialPaintPropertyUpdate",value:function(e){if("line-gradient"===e){var t=this._transitionablePaint._values["line-gradient"].value.expression;this.stepInterpolant=t._styleExpression&&t._styleExpression.expression instanceof Vn,this.gradientVersion=(this.gradientVersion+1)%Number.MAX_SAFE_INTEGER}}},{key:"gradientExpression",value:function(){return this._transitionablePaint._values["line-gradient"].value.expression}},{key:"recalculate",value:function(e,t){o(s(n.prototype),"recalculate",this).call(this,e,t),this.paint._values["line-floorwidth"]=yd.possiblyEvaluate(this._transitioningPaint._values["line-width"].value,e)}},{key:"createBucket",value:function(e){return new md(e)}},{key:"getProgramIds",value:function(){return[this.paint.get("line-pattern").constantOr(1)?"linePattern":"line"]}},{key:"getProgramConfiguration",value:function(e){return new Ts(this,e)}},{key:"queryRadius",value:function(e){var t=e,n=xd(Sl("line-width",this,t),Sl("line-gap-width",this,t)),r=Sl("line-offset",this,t);return n/2+Math.abs(r)+El(this.paint.get("line-translate"))}},{key:"queryIntersectsFeature",value:function(e,t,n,r,i,a){if(e.queryGeometry.isAboveHorizon)return!1;var o=Cl(e.tilespaceGeometry,this.paint.get("line-translate"),this.paint.get("line-translate-anchor"),a.angle,e.pixelToTileUnitsFactor),s=e.pixelToTileUnitsFactor/2*xd(this.paint.get("line-width").evaluate(t,n),this.paint.get("line-gap-width").evaluate(t,n)),l=this.paint.get("line-offset").evaluate(t,n);return l&&(r=function(e,t){for(var n=[],r=new M(0,0),i=0;i<e.length;i++){for(var a=e[i],o=[],s=0;s<a.length;s++){var l=a[s-1],c=a[s],u=a[s+1],d=0===s?r:c.sub(l)._unit()._perp(),f=s===a.length-1?r:u.sub(c)._unit()._perp(),h=d._add(f)._unit();h._mult(1/(h.x*f.x+h.y*f.y)),o.push(h._mult(t)._add(c))}n.push(o)}return n}(r,l*e.pixelToTileUnitsFactor)),function(e,t,n){for(var r=0;r<t.length;r++){var i=t[r];if(e.length>=3)for(var a=0;a<i.length;a++)if(_l(e,i[a]))return!0;if(ml(e,i,n))return!0}return!1}(o,r,s)}},{key:"isTileClipped",value:function(){return!0}}]),n}(Rs),symbol:Ep,background:function(e){m(n,e);var t=v(n);function n(e){return h(this,n),t.call(this,e,Cp)}return p(n,[{key:"getProgramIds",value:function(){return[this.paint.get("background-pattern")?"backgroundPattern":"background"]}}]),n}(Rs),raster:function(e){m(n,e);var t=v(n);function n(e){return h(this,n),t.call(this,e,Tp)}return p(n,[{key:"getProgramIds",value:function(){return["raster"]}}]),n}(Rs),sky:function(e){m(n,e);var t=v(n);function n(e){var r;return h(this,n),(r=t.call(this,e,Ip))._updateColorRamp(),r}return p(n,[{key:"_handleSpecialPaintPropertyUpdate",value:function(e){"sky-gradient"===e?this._updateColorRamp():"sky-atmosphere-sun"!==e&&"sky-atmosphere-halo-color"!==e&&"sky-atmosphere-color"!==e&&"sky-atmosphere-sun-intensity"!==e||(this._skyboxInvalidated=!0)}},{key:"_updateColorRamp",value:function(){this.colorRamp=jc({expression:this._transitionablePaint._values["sky-gradient"].value.expression,evaluationKey:"skyRadialProgress"}),this.colorRampTexture&&(this.colorRampTexture.destroy(),this.colorRampTexture=null)}},{key:"needsSkyboxCapture",value:function(e){if(this._skyboxInvalidated||!this.skyboxTexture||!this.skyboxGeometry)return!0;if(!this.paint.get("sky-atmosphere-sun")){var t=e.style.light.properties.get("position");return this._lightPosition.azimuthal!==t.azimuthal||this._lightPosition.polar!==t.polar}return!1}},{key:"getCenter",value:function(e,t){if("atmosphere"===this.paint.get("sky-type")){var n=this.paint.get("sky-atmosphere-sun"),r=!n,i=e.style.light,a=i.properties.get("position");return r&&"viewport"===i.properties.get("anchor")&&te("The sun direction is attached to a light with viewport anchor, lighting may behave unexpectedly."),r?Op(a.azimuthal,90-a.polar,t):Op(n[0],90-n[1],t)}var o=this.paint.get("sky-gradient-center");return Op(o[0],90-o[1],t)}},{key:"is3D",value:function(){return!1}},{key:"isSky",value:function(){return!0}},{key:"markSkyboxValid",value:function(e){this._skyboxInvalidated=!1,this._lightPosition=e.style.light.properties.get("position")}},{key:"hasOffscreenPass",value:function(){return!0}},{key:"getProgramIds",value:function(){var e=this.paint.get("sky-type");return"atmosphere"===e?["skyboxCapture","skybox"]:"gradient"===e?["skyboxGradient"]:null}}]),n}(Rs)},Ap=function(){function e(t,n,r,i){h(this,e),this.context=t,this.format=r,this.texture=t.gl.createTexture(),this.update(n,i)}return p(e,[{key:"update",value:function(e,t,n){var r=e.width,i=e.height,a=this.context,o=a.gl,s=y.HTMLImageElement,l=y.HTMLCanvasElement,c=y.HTMLVideoElement,u=y.ImageData,d=y.ImageBitmap;if(o.bindTexture(o.TEXTURE_2D,this.texture),a.pixelStoreUnpackFlipY.set(!1),a.pixelStoreUnpack.set(1),a.pixelStoreUnpackPremultiplyAlpha.set(this.format===o.RGBA&&(!t||!1!==t.premultiply)),n||this.size&&this.size[0]===r&&this.size[1]===i){var f=n||{x:0,y:0},h=f.x,p=f.y;e instanceof s||e instanceof l||e instanceof c||e instanceof u||d&&e instanceof d?o.texSubImage2D(o.TEXTURE_2D,0,h,p,o.RGBA,o.UNSIGNED_BYTE,e):o.texSubImage2D(o.TEXTURE_2D,0,h,p,r,i,o.RGBA,o.UNSIGNED_BYTE,e.data)}else this.size=[r,i],e instanceof s||e instanceof l||e instanceof c||e instanceof u||d&&e instanceof d?o.texImage2D(o.TEXTURE_2D,0,this.format,this.format,o.UNSIGNED_BYTE,e):o.texImage2D(o.TEXTURE_2D,0,this.format,r,i,0,this.format,o.UNSIGNED_BYTE,e.data);this.useMipmap=Boolean(t&&t.useMipmap&&this.isSizePowerOfTwo()),this.useMipmap&&o.generateMipmap(o.TEXTURE_2D)}},{key:"bind",value:function(e,t){var n=this.context.gl;n.bindTexture(n.TEXTURE_2D,this.texture),e!==this.filter&&(n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MAG_FILTER,e),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,this.useMipmap?e===n.NEAREST?n.NEAREST_MIPMAP_NEAREST:n.LINEAR_MIPMAP_NEAREST:e),this.filter=e),t!==this.wrap&&(n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_S,t),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_T,t),this.wrap=t)}},{key:"isSizePowerOfTwo",value:function(){return this.size[0]===this.size[1]&&Math.log(this.size[0])/Math.LN2%1==0}},{key:"destroy",value:function(){this.context.gl.deleteTexture(this.texture),this.texture=null}}]),e}(),zp=function(){function e(t){var n=this;h(this,e),this._callback=t,this._triggered=!1,"undefined"!=typeof MessageChannel&&(this._channel=new MessageChannel,this._channel.port2.onmessage=function(){n._triggered=!1,n._callback()})}return p(e,[{key:"trigger",value:function(){var e=this;this._triggered||(this._triggered=!0,this._channel?this._channel.port1.postMessage(!0):setTimeout((function(){e._triggered=!1,e._callback()}),0))}},{key:"remove",value:function(){this._channel=void 0,this._callback=function(){}}}]),e}(),jp=function(){function e(){h(this,e),this.tasks={},this.taskQueue=[],K(["process"],this),this.invoker=new zp(this.process),this.nextId=0}return p(e,[{key:"add",value:function(e,t){var n=this,r=this.nextId++,i=function(e){var t=e.type,n=e.isSymbolTile,r=e.zoom;return r=r||0,"message"===t?0:"maybePrepare"!==t||n?"parseTile"!==t||n?"parseTile"===t&&n?300-r:"maybePrepare"===t&&n?400-r:500:200-r:100-r}(t);if(0===i){ie();try{e()}finally{}return{cancel:function(){}}}return this.tasks[r]={fn:e,metadata:t,priority:i,id:r},this.taskQueue.push(r),this.invoker.trigger(),{cancel:function(){delete n.tasks[r]}}}},{key:"process",value:function(){var e=this;ie();try{if(this.taskQueue=this.taskQueue.filter((function(t){return!!e.tasks[t]})),!this.taskQueue.length)return;var t=this.pick();if(null===t)return;var n=this.tasks[t];if(delete this.tasks[t],this.taskQueue.length&&this.invoker.trigger(),!n)return;n.fn()}finally{}}},{key:"pick",value:function(){for(var e=null,t=1/0,n=0;n<this.taskQueue.length;n++){var r=this.tasks[this.taskQueue[n]];r.priority<t&&(t=r.priority,e=n)}if(null===e)return null;var i=this.taskQueue[e];return this.taskQueue.splice(e,1),i}},{key:"remove",value:function(){this.invoker.remove()}}]),e}(),Rp=function(){function e(t){h(this,e),this._stringToNumber={},this._numberToString=[];for(var n=0;n<t.length;n++){var r=t[n];this._stringToNumber[r]=n,this._numberToString[n]=r}}return p(e,[{key:"encode",value:function(e){return this._stringToNumber[e]}},{key:"decode",value:function(e){return this._numberToString[e]}}]),e}(),Dp=["tile","layer","source","sourceLayer","state"],Lp=function(){function e(t,n,r,i,a){h(this,e),this.type="Feature",this._vectorTileFeature=t,this._z=n,this._x=r,this._y=i,this.properties=t.properties,this.id=a}return p(e,[{key:"geometry",get:function(){return void 0===this._geometry&&(this._geometry=this._vectorTileFeature.toGeoJSON(this._x,this._y,this._z).geometry),this._geometry},set:function(e){this._geometry=e}},{key:"toJSON",value:function(){var e={type:"Feature",geometry:this.geometry,properties:this.properties};void 0!==this.id&&(e.id=this.id);for(var t=0,n=Dp;t<n.length;t++){var r=n[t];void 0!==this[r]&&(e[r]=this[r])}return e}}]),e}(),Np=32,Bp=33,Fp=new Uint16Array(8184),Vp=0;Vp<2046;Vp++){var Up=Vp+2,Hp=0,Gp=0,Wp=0,qp=0,Xp=0,Zp=0;for(1&Up?Wp=qp=Xp=Np:Hp=Gp=Zp=Np;(Up>>=1)>1;){var Kp=Hp+Wp>>1,Yp=Gp+qp>>1;1&Up?(Wp=Hp,qp=Gp,Hp=Xp,Gp=Zp):(Hp=Wp,Gp=qp,Wp=Xp,qp=Zp),Xp=Kp,Zp=Yp}var $p=4*Vp;Fp[$p+0]=Hp,Fp[$p+1]=Gp,Fp[$p+2]=Wp,Fp[$p+3]=qp}var Jp=new Uint16Array(2178),Qp=new Uint8Array(1089),em=new Uint16Array(1089);function tm(e){return 0===e?-.03125:32===e?.03125:0}var nm=xo([{name:"a_pos",type:"Int16",components:2},{name:"a_texture_pos",type:"Int16",components:2}]),rm={type:2,extent:Bs,loadGeometry:function(){return[[new M(0,0),new M(8193,0),new M(8193,8193),new M(0,8193),new M(0,0)]]}},im=function(){function e(t,n,r,i,a){h(this,e),this.tileID=t,this.uid=W(),this.uses=0,this.tileSize=n,this.tileZoom=r,this.buckets={},this.expirationTime=null,this.queryPadding=0,this.hasSymbolBuckets=!1,this.hasRTLText=!1,this.dependencies={},this.isRaster=a,this.expiredRequestCount=0,this.state="loading",i&&i.transform&&(this.projection=i.transform.projection)}return p(e,[{key:"registerFadeDuration",value:function(e){var t=e+this.timeAdded;t<it.now()||this.fadeEndTime&&t<this.fadeEndTime||(this.fadeEndTime=t)}},{key:"wasRequested",value:function(){return"errored"===this.state||"loaded"===this.state||"reloading"===this.state}},{key:"tileTransform",get:function(){return this._tileTransform||(this._tileTransform=Wh(this.tileID.canonical,this.projection)),this._tileTransform}},{key:"loadVectorData",value:function(e,t,n){if(this.unloadVectorData(),this.state="loaded",e){for(var r in e.featureIndex&&(this.latestFeatureIndex=e.featureIndex,e.rawTileData?(this.latestRawTileData=e.rawTileData,this.latestFeatureIndex.rawTileData=e.rawTileData):this.latestRawTileData&&(this.latestFeatureIndex.rawTileData=this.latestRawTileData)),this.collisionBoxArray=e.collisionBoxArray,this.buckets=function(e,t){var n={};if(!t)return n;var r,i=f(e);try{var a=function(){var e=r.value,i=e.layerIds.map((function(e){return t.getLayer(e)})).filter(Boolean);if(0!==i.length){e.layers=i,e.stateDependentLayerIds&&(e.stateDependentLayers=e.stateDependentLayerIds.map((function(e){return i.filter((function(t){return t.id===e}))[0]})));var a,o=f(i);try{for(o.s();!(a=o.n()).done;){var s=a.value;n[s.id]=e}}catch(l){o.e(l)}finally{o.f()}}};for(i.s();!(r=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return n}(e.buckets,t.style),this.hasSymbolBuckets=!1,this.buckets){var i=this.buckets[r];if(i instanceof _p){if(this.hasSymbolBuckets=!0,!n)break;i.justReloaded=!0}}if(this.hasRTLText=!1,this.hasSymbolBuckets)for(var a in this.buckets){var o=this.buckets[a];if(o instanceof _p&&o.hasRTLText){this.hasRTLText=!0,eo.isLoading()||eo.isLoaded()||"deferred"!==Ja()||Qa();break}}for(var s in this.queryPadding=0,this.buckets){var l=this.buckets[s];this.queryPadding=Math.max(this.queryPadding,t.style.getLayer(s).queryRadius(l))}e.imageAtlas&&(this.imageAtlas=e.imageAtlas),e.glyphAtlasImage&&(this.glyphAtlasImage=e.glyphAtlasImage),e.lineAtlas&&(this.lineAtlas=e.lineAtlas)}else this.collisionBoxArray=new Xo}},{key:"unloadVectorData",value:function(){if(this.hasData()){for(var e in this.buckets)this.buckets[e].destroy();this.buckets={},this.imageAtlas&&(this.imageAtlas=null),this.lineAtlas&&(this.lineAtlas=null),this.imageAtlasTexture&&this.imageAtlasTexture.destroy(),this.glyphAtlasTexture&&this.glyphAtlasTexture.destroy(),this.lineAtlasTexture&&this.lineAtlasTexture.destroy(),this._tileBoundsBuffer&&(this._tileBoundsBuffer.destroy(),this._tileBoundsIndexBuffer.destroy(),this._tileBoundsSegments.destroy(),this._tileBoundsBuffer=null),this._tileDebugBuffer&&(this._tileDebugBuffer.destroy(),this._tileDebugSegments.destroy(),this._tileDebugBuffer=null),this._tileDebugIndexBuffer&&(this._tileDebugIndexBuffer.destroy(),this._tileDebugIndexBuffer=null),this._globeTileDebugBorderBuffer&&(this._globeTileDebugBorderBuffer.destroy(),this._globeTileDebugBorderBuffer=null),this._tileDebugTextBuffer&&(this._tileDebugTextBuffer.destroy(),this._tileDebugTextSegments.destroy(),this._tileDebugTextIndexBuffer.destroy(),this._tileDebugTextBuffer=null),this._globeTileDebugTextBuffer&&(this._globeTileDebugTextBuffer.destroy(),this._globeTileDebugTextBuffer=null),this.latestFeatureIndex=null,this.state="unloaded"}}},{key:"getBucket",value:function(e){return this.buckets[e.id]}},{key:"upload",value:function(e){for(var t in this.buckets){var n=this.buckets[t];n.uploadPending()&&n.upload(e)}var r=e.gl;this.imageAtlas&&!this.imageAtlas.uploaded&&(this.imageAtlasTexture=new Ap(e,this.imageAtlas.image,r.RGBA),this.imageAtlas.uploaded=!0),this.glyphAtlasImage&&(this.glyphAtlasTexture=new Ap(e,this.glyphAtlasImage,r.ALPHA),this.glyphAtlasImage=null),this.lineAtlas&&!this.lineAtlas.uploaded&&(this.lineAtlasTexture=new Ap(e,this.lineAtlas.image,r.ALPHA),this.lineAtlas.uploaded=!0)}},{key:"prepare",value:function(e){this.imageAtlas&&this.imageAtlas.patchUpdatedImages(e,this.imageAtlasTexture)}},{key:"queryRenderedFeatures",value:function(e,t,n,r,i,a,o,s){return this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData?this.latestFeatureIndex.query({tileResult:r,pixelPosMatrix:o,transform:a,params:i,tileTransform:this.tileTransform},e,t,n):{}}},{key:"querySourceFeatures",value:function(e,t){var n=this.latestFeatureIndex;if(n&&n.rawTileData){var r=n.loadVTLayers(),i=t?t.sourceLayer:"",a=r._geojsonTileLayer||r[i];if(a)for(var o=bi(t&&t.filter),s=this.tileID.canonical,l=s.z,c=s.x,u=s.y,d={z:l,x:c,y:u},f=0;f<a.length;f++){var h=a.feature(f);if(o.needGeometry){var p=ll(h,!0);if(!o.filter(new to(this.tileID.overscaledZ),p,this.tileID.canonical))continue}else if(!o.filter(new to(this.tileID.overscaledZ),h))continue;var m=n.getId(h,i),v=new Lp(h,l,c,u,m);v.tile=d,e.push(v)}}}},{key:"hasData",value:function(){return"loaded"===this.state||"reloading"===this.state||"expired"===this.state}},{key:"patternsLoaded",value:function(){return!!this.imageAtlas&&!!Object.keys(this.imageAtlas.patternPositions).length}},{key:"setExpiryData",value:function(e){var t=this.expirationTime;if(e.cacheControl){var n=ae(e.cacheControl);n["max-age"]&&(this.expirationTime=Date.now()+1e3*n["max-age"])}else e.expires&&(this.expirationTime=new Date(e.expires).getTime());if(this.expirationTime){var r=Date.now(),i=!1;if(this.expirationTime>r)i=!1;else if(t)if(this.expirationTime<t)i=!0;else{var a=this.expirationTime-t;a?this.expirationTime=r+Math.max(a,3e4):i=!0}else i=!0;i?(this.expiredRequestCount++,this.state="expired"):this.expiredRequestCount=0}}},{key:"getExpiryTimeout",value:function(){if(this.expirationTime)return this.expiredRequestCount?1e3*(1<<Math.min(this.expiredRequestCount-1,31)):Math.min(this.expirationTime-(new Date).getTime(),Math.pow(2,31)-1)}},{key:"setFeatureState",value:function(e,t){if(this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData&&0!==Object.keys(e).length&&t){var n=this.latestFeatureIndex.loadVTLayers(),r=t.style.listImages();for(var i in this.buckets)if(t.style.hasLayer(i)){var a=this.buckets[i],o=a.layers[0].sourceLayer||"_geojsonTileLayer",s=n[o],l=e[o];if(s&&l&&0!==Object.keys(l).length){if(a.update(l,s,r,this.imageAtlas&&this.imageAtlas.patternPositions||{}),a instanceof md||a instanceof yu){var c=t.style._getSourceCache(a.layers[0].source);t._terrain&&t._terrain.enabled&&c&&a.programConfigurations.needsUpload&&t._terrain._clearRenderCacheForTile(c.id,this.tileID)}var u=t&&t.style&&t.style.getLayer(i);u&&(this.queryPadding=Math.max(this.queryPadding,u.queryRadius(a)))}}}}},{key:"holdingForFade",value:function(){return void 0!==this.symbolFadeHoldUntil}},{key:"symbolFadeFinished",value:function(){return!this.symbolFadeHoldUntil||this.symbolFadeHoldUntil<it.now()}},{key:"clearFadeHold",value:function(){this.symbolFadeHoldUntil=void 0}},{key:"setHoldDuration",value:function(e){this.symbolFadeHoldUntil=it.now()+e}},{key:"setTexture",value:function(e,t){var n=t.context,r=n.gl;this.texture=this.texture||t.getTileTexture(e.width),this.texture?this.texture.update(e,{useMipmap:!0}):(this.texture=new Ap(n,e,r.RGBA,{useMipmap:!0}),this.texture.bind(r.LINEAR,r.CLAMP_TO_EDGE),n.extTextureFilterAnisotropic&&r.texParameterf(r.TEXTURE_2D,n.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,n.extTextureFilterAnisotropicMax))}},{key:"setDependencies",value:function(e,t){var n,r={},i=f(t);try{for(i.s();!(n=i.n()).done;)r[n.value]=!0}catch(a){i.e(a)}finally{i.f()}this.dependencies[e]=r}},{key:"hasDependency",value:function(e,t){var n,r=f(e);try{for(r.s();!(n=r.n()).done;){var i=n.value,a=this.dependencies[i];if(a){var o,s=f(t);try{for(s.s();!(o=s.n()).done;)if(a[o.value])return!0}catch(l){s.e(l)}finally{s.f()}}}}catch(l){r.e(l)}finally{r.f()}return!1}},{key:"clearQueryDebugViz",value:function(){}},{key:"_makeDebugTileBoundsBuffers",value:function(e,t){if(t&&"mercator"!==t.name&&!this._tileDebugBuffer){for(var n=sl(rm,this.tileID.canonical,this.tileTransform)[0],r=new _o,i=new Go,a=0;a<n.length;a++){var o=n[a],s=o.x,l=o.y;r.emplaceBack(s,l),i.emplaceBack(a)}i.emplaceBack(0),this._tileDebugIndexBuffer=e.createIndexBuffer(i),this._tileDebugBuffer=e.createVertexBuffer(r,fh.members),this._tileDebugSegments=Ns.simpleSegment(0,0,r.length,i.length)}}},{key:"_makeTileBoundsBuffers",value:function(e,t){if(!this._tileBoundsBuffer&&t&&"mercator"!==t.name){var n,r,i=sl(rm,this.tileID.canonical,this.tileTransform)[0];if(this.isRaster){var a=function(e,t){for(var n=Wh(e,t),r=Math.pow(2,e.z),i=0;i<Bp;i++)for(var a=0;a<Bp;a++){var o=Zs((e.x+(a+tm(a))/Np)/r),s=Ks((e.y+(i+tm(i))/Np)/r),l=t.project(o,s),c=i*Bp+a;Jp[2*c+0]=Math.round((l.x*n.scale-n.x)*Bs),Jp[2*c+1]=Math.round((l.y*n.scale-n.y)*Bs)}Qp.fill(0),em.fill(0);for(var u=2045;u>=0;u--){var d=4*u,f=Fp[d+0],h=Fp[d+1],p=Fp[d+2],m=Fp[d+3],v=f+p>>1,g=h+m>>1,y=v+g-h,x=g+f-v,b=h*Bp+f,_=m*Bp+p,w=g*Bp+v,k=Math.hypot((Jp[2*b+0]+Jp[2*_+0])/2-Jp[2*w+0],(Jp[2*b+1]+Jp[2*_+1])/2-Jp[2*w+1])>=16;if(Qp[w]=Qp[w]||(k?1:0),u<1022){var S=(h+x>>1)*Bp+(f+y>>1),E=(m+x>>1)*Bp+(p+y>>1);Qp[w]=Qp[w]||Qp[S]||Qp[E]}}var C=new ko,T=new Lo,M=0;function I(e,t){var n=t*Bp+e;return 0===em[n]&&(C.emplaceBack(Jp[2*n+0],Jp[2*n+1],e*Bs/Np,t*Bs/Np),em[n]=++M),em[n]-1}function O(e,t,n,r,i,a){var o=e+n>>1,s=t+r>>1;if(Math.abs(e-i)+Math.abs(t-a)>1&&Qp[s*Bp+o])O(i,a,e,t,o,s),O(n,r,i,a,o,s);else{var l=I(e,t),c=I(n,r),u=I(i,a);T.emplaceBack(l,c,u)}}return O(0,0,Np,Np,Np,0),O(Np,Np,0,0,0,Np),{vertices:C,indices:T}}(this.tileID.canonical,t);n=a.vertices,r=a.indices}else{n=new ko,r=new Lo;var o,s=f(i);try{for(s.s();!(o=s.n()).done;){var l=o.value,c=l.x,u=l.y;n.emplaceBack(c,u,0,0)}}catch(p){s.e(p)}finally{s.f()}for(var d=Lc.exports(n.int16,void 0,4),h=0;h<d.length;h+=3)r.emplaceBack(d[h],d[h+1],d[h+2])}this._tileBoundsBuffer=e.createVertexBuffer(n,nm.members),this._tileBoundsIndexBuffer=e.createIndexBuffer(r),this._tileBoundsSegments=Ns.simpleSegment(0,0,n.length,r.length)}}},{key:"_makeGlobeTileDebugBuffers",value:function(e,t){var n=t.projection;if(n&&"globe"===n.name&&!t.freezeTileCoverage){var r,i=this.tileID.canonical,a=Rh(Eh(i,t)),o=Nh(t.zoom);o>0&&(r=Rl(new Float64Array(16),t.globeMatrix)),this._makeGlobeTileDebugBorderBuffer(e,i,t,a,r,o),this._makeGlobeTileDebugTextBuffer(e,i,t,a,r,o)}}},{key:"_globePoint",value:function(e,t,n,r,i,a,o){var s=Ah(e,t,n);if(a){var l=1<<n.z,c=Ws(r.center.lng),u=qs(r.center.lat),d=(n.x+.5)/l-c,f=0;d>.5?f=-1:d<-.5&&(f=1);var h=(e/Bs+n.x)/l+f,p=(t/Bs+n.y)/l;h=(h-c)*r._pixelsPerMercatorPixel+c,p=(p-u)*r._pixelsPerMercatorPixel+u;var m=[h*r.worldSize,p*r.worldSize,0];ic(m,m,a),s=Sh(s,m,o)}return ic(s,s,i)}},{key:"_makeGlobeTileDebugBorderBuffer",value:function(e,t,n,r,i,a){var o=this,s=new _o,l=new Go,c=new wo,u=function(e,u,d,f,h){for(var p=(d-e)/(h-1),m=(f-u)/(h-1),v=s.length,g=0;g<h;g++){var y=e+g*p,x=u+g*m;s.emplaceBack(y,x);var b=o._globePoint(y,x,t,n,r,i,a);c.emplaceBack(b[0],b[1],b[2]),l.emplaceBack(v+g)}},d=Bs;u(0,0,d,0,16),u(d,0,d,d,16),u(d,d,0,d,16),u(0,d,0,0,16),this._tileDebugIndexBuffer=e.createIndexBuffer(l),this._tileDebugBuffer=e.createVertexBuffer(s,fh.members),this._globeTileDebugBorderBuffer=e.createVertexBuffer(c,dh.members),this._tileDebugSegments=Ns.simpleSegment(0,0,s.length,l.length)}},{key:"_makeGlobeTileDebugTextBuffer",value:function(e,t,n,r,i,a){var o=new _o,s=new Lo,l=new wo,c=25;s.reserve(32),o.reserve(c),l.reserve(c);for(var u=function(e,t){return c*e+t},d=0;d<c;d++)for(var f=2048*d,h=0;h<c;h++){var p=2048*h;o.emplaceBack(p,f);var m=this._globePoint(p,f,t,n,r,i,a);l.emplaceBack(m[0],m[1],m[2])}for(var v=0;v<4;v++)for(var g=0;g<4;g++){var y=u(v,g),x=u(v,g+1),b=u(v+1,g),_=u(v+1,g+1);s.emplaceBack(y,x,b),s.emplaceBack(b,x,_)}this._tileDebugTextIndexBuffer=e.createIndexBuffer(s),this._tileDebugTextBuffer=e.createVertexBuffer(o,fh.members),this._globeTileDebugTextBuffer=e.createVertexBuffer(l,dh.members),this._tileDebugTextSegments=Ns.simpleSegment(0,0,c,32)}}]),e}(),am=function(){function e(){h(this,e),this.state={},this.stateChanges={},this.deletedStates={}}return p(e,[{key:"updateState",value:function(e,t,n){var r=String(t);if(this.stateChanges[e]=this.stateChanges[e]||{},this.stateChanges[e][r]=this.stateChanges[e][r]||{},H(this.stateChanges[e][r],n),null===this.deletedStates[e])for(var i in this.deletedStates[e]={},this.state[e])i!==r&&(this.deletedStates[e][i]=null);else if(this.deletedStates[e]&&null===this.deletedStates[e][r])for(var a in this.deletedStates[e][r]={},this.state[e][r])n[a]||(this.deletedStates[e][r][a]=null);else for(var o in n)this.deletedStates[e]&&this.deletedStates[e][r]&&null===this.deletedStates[e][r][o]&&delete this.deletedStates[e][r][o]}},{key:"removeFeatureState",value:function(e,t,n){if(null!==this.deletedStates[e]){var r=String(t);if(this.deletedStates[e]=this.deletedStates[e]||{},n&&void 0!==t)null!==this.deletedStates[e][r]&&(this.deletedStates[e][r]=this.deletedStates[e][r]||{},this.deletedStates[e][r][n]=null);else if(void 0!==t)if(this.stateChanges[e]&&this.stateChanges[e][r])for(n in this.deletedStates[e][r]={},this.stateChanges[e][r])this.deletedStates[e][r][n]=null;else this.deletedStates[e][r]=null;else this.deletedStates[e]=null}}},{key:"getState",value:function(e,t){var n=String(t),r=H({},(this.state[e]||{})[n],(this.stateChanges[e]||{})[n]);if(null===this.deletedStates[e])return{};if(this.deletedStates[e]){var i=this.deletedStates[e][t];if(null===i)return{};for(var a in i)delete r[a]}return r}},{key:"initializeTileState",value:function(e,t){e.setFeatureState(this.state,t)}},{key:"coalesceChanges",value:function(e,t){var n={};for(var r in this.stateChanges){this.state[r]=this.state[r]||{};var i={};for(var a in this.stateChanges[r])this.state[r][a]||(this.state[r][a]={}),H(this.state[r][a],this.stateChanges[r][a]),i[a]=this.state[r][a];n[r]=i}for(var o in this.deletedStates){this.state[o]=this.state[o]||{};var s={};if(null===this.deletedStates[o])for(var l in this.state[o])s[l]={},this.state[o][l]={};else for(var c in this.deletedStates[o]){if(null===this.deletedStates[o][c])this.state[o][c]={};else for(var u=0,d=Object.keys(this.deletedStates[o][c]);u<d.length;u++){var f=d[u];delete this.state[o][c][f]}s[c]=this.state[o][c]}n[o]=n[o]||{},H(n[o],s)}if(this.stateChanges={},this.deletedStates={},0!==Object.keys(n).length)for(var h in e)e[h].setFeatureState(n,t)}}]),e}(),om=function(){function e(t){h(this,e),this.size=t,this.minimums=[],this.maximums=[],this.leaves=[]}return p(e,[{key:"getElevation",value:function(e,t){var n=this.toIdx(e,t);return{min:this.minimums[n],max:this.maximums[n]}}},{key:"isLeaf",value:function(e,t){return this.leaves[this.toIdx(e,t)]}},{key:"toIdx",value:function(e,t){return t*this.size+e}}]),e}();function sm(e,t,n,r){for(var i=0,a=Number.MAX_VALUE,o=0;o<3;o++)if(Math.abs(r[o])<1e-15){if(n[o]<e[o]||n[o]>t[o])return null}else{var s=1/r[o],l=(e[o]-n[o])*s,c=(t[o]-n[o])*s;if(l>c){var u=l;l=c,c=u}if(l>i&&(i=l),c<a&&(a=c),i>a)return null}return i}function lm(e,t,n,r,i,a,o,s,l,c,u){var d=r-e,f=i-t,h=a-n,p=o-e,m=s-t,v=l-n,g=u[1]*v-u[2]*m,y=u[2]*p-u[0]*v,x=u[0]*m-u[1]*p,b=d*g+f*y+h*x;if(Math.abs(b)<1e-15)return null;var _=1/b,w=c[0]-e,k=c[1]-t,S=c[2]-n,E=(w*g+k*y+S*x)*_;if(E<0||E>1)return null;var C=k*h-S*f,T=S*d-w*h,M=w*f-k*d,I=(u[0]*C+u[1]*T+u[2]*M)*_;return I<0||E+I>1?null:(p*C+m*T+v*M)*_}function cm(e,t,n){return(e-t)/(n-t)}function um(e,t,n,r,i,a,o,s,l){var c=1<<n,u=a-r,d=o-i,f=(e+1)/c*u+r,h=(t+0)/c*d+i,p=(t+1)/c*d+i;s[0]=(e+0)/c*u+r,s[1]=h,l[0]=f,l[1]=p}var dm=function(){function e(t){if(h(this,e),this.maximums=[],this.minimums=[],this.leaves=[],this.childOffsets=[],this.nodeCount=0,this.dem=t,this._siblingOffset=[[0,0],[1,0],[0,1],[1,1]],this.dem){var n=function(e){for(var t=Math.ceil(Math.log2(e.dim/8)),n=[],r=Math.ceil(Math.pow(2,t)),i=1/r,a=function(e,t,n,r,i){var a=r?1:0,o=(e+1)*n-a,s=t*n,l=(t+1)*n-a;i[0]=e*n,i[1]=s,i[2]=o,i[3]=l},o=new om(r),s=[],l=0;l<r*r;l++){a(l%r,Math.floor(l/r),i,!1,s);var c=hm(s[0],s[1],e),u=hm(s[2],s[1],e),d=hm(s[2],s[3],e),f=hm(s[0],s[3],e);o.minimums.push(Math.min(c,u,d,f)),o.maximums.push(Math.max(c,u,d,f)),o.leaves.push(1)}for(n.push(o),r/=2;r>=1;r/=2){var h=n[n.length-1];o=new om(r);for(var p=0;p<r*r;p++){a(p%r,Math.floor(p/r),2,!0,s);var m=h.getElevation(s[0],s[1]),v=h.getElevation(s[2],s[1]),g=h.getElevation(s[2],s[3]),y=h.getElevation(s[0],s[3]),x=h.isLeaf(s[0],s[1]),b=h.isLeaf(s[2],s[1]),_=h.isLeaf(s[2],s[3]),w=h.isLeaf(s[0],s[3]),k=Math.min(m.min,v.min,g.min,y.min),S=Math.max(m.max,v.max,g.max,y.max),E=x&&b&&_&&w;o.maximums.push(S),o.minimums.push(k),o.leaves.push(S-k<=5&&E?1:0)}n.push(o)}return n}(this.dem),r=n.length-1,i=n[r];this._addNode(i.minimums[0],i.maximums[0],i.leaves[0]),this._construct(n,0,0,r,0)}}return p(e,[{key:"raycastRoot",value:function(e,t,n,r,i,a){var o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:1;return sm([e,t,-100],[n,r,this.maximums[0]*o],i,a)}},{key:"raycast",value:function(e,t,n,r,i,a){var o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:1;if(!this.nodeCount)return null;var s=this.raycastRoot(e,t,n,r,i,a,o);if(null==s)return null;for(var l=[],c=[],u=[],d=[],f=[{idx:0,t:s,nodex:0,nodey:0,depth:0}];f.length>0;){var h=f.pop(),p=h.idx,m=h.t,v=h.nodex,g=h.nodey,y=h.depth;if(this.leaves[p]){um(v,g,y,e,t,n,r,u,d);var x=1<<y,b=(v+0)/x,_=(v+1)/x,w=(g+0)/x,k=(g+1)/x,S=hm(b,w,this.dem)*o,E=hm(_,w,this.dem)*o,C=hm(_,k,this.dem)*o,T=hm(b,k,this.dem)*o,M=lm(u[0],u[1],S,d[0],u[1],E,d[0],d[1],C,i,a),I=lm(d[0],d[1],C,u[0],d[1],T,u[0],u[1],S,i,a),O=Math.min(null!==M?M:Number.MAX_VALUE,null!==I?I:Number.MAX_VALUE);if(O!==Number.MAX_VALUE)return O;var P=ec([],i,a,m);if(fm(S,E,T,C,cm(P[0],u[0],d[0]),cm(P[1],u[1],d[1]))>=P[2])return m}else{for(var A=0,z=0;z<this._siblingOffset.length;z++){um((v<<1)+this._siblingOffset[z][0],(g<<1)+this._siblingOffset[z][1],y+1,e,t,n,r,u,d),u[2]=-100,d[2]=this.maximums[this.childOffsets[p]+z]*o;var j=sm(u,d,i,a);if(null!=j){var R=j;l[z]=R;for(var D=!1,L=0;L<A&&!D;L++)R>=l[c[L]]&&(c.splice(L,0,z),D=!0);D||(c[A]=z),A++}}for(var N=0;N<A;N++){var B=c[N];f.push({idx:this.childOffsets[p]+B,t:l[B],nodex:(v<<1)+this._siblingOffset[B][0],nodey:(g<<1)+this._siblingOffset[B][1],depth:y+1})}}}return null}},{key:"_addNode",value:function(e,t,n){return this.minimums.push(e),this.maximums.push(t),this.leaves.push(n),this.childOffsets.push(0),this.nodeCount++}},{key:"_construct",value:function(e,t,n,r,i){if(1!==e[r].isLeaf(t,n)){this.childOffsets[i]||(this.childOffsets[i]=this.nodeCount);for(var a=r-1,o=e[a],s=0,l=0,c=0;c<this._siblingOffset.length;c++){var u=2*t+this._siblingOffset[c][0],d=2*n+this._siblingOffset[c][1],f=o.getElevation(u,d),h=o.isLeaf(u,d),p=this._addNode(f.min,f.max,h);h&&(s|=1<<c),l||(l=p)}for(var m=0;m<this._siblingOffset.length;m++)s&1<<m||this._construct(e,2*t+this._siblingOffset[m][0],2*n+this._siblingOffset[m][1],a,l+m)}}}]),e}();function fm(e,t,n,r,i,a){return Un(Un(e,n,a),Un(t,r,a),i)}function hm(e,t,n){var r=n.dim,i=N(e*r-.5,0,r-1),a=N(t*r-.5,0,r-1),o=Math.floor(i),s=Math.floor(a),l=Math.min(o+1,r-1),c=Math.min(s+1,r-1);return fm(n.get(o,s),n.get(l,s),n.get(o,c),n.get(l,c),i-o,a-s)}var pm={mapbox:[6553.6,25.6,.1,1e4],terrarium:[256,1,1/256,32768]},mm=function(){function e(t,n,r){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(h(this,e),this.uid=t,n.height!==n.width)throw new RangeError("DEM tiles must be square");if(r&&"mapbox"!==r&&"terrarium"!==r)return te('"'.concat(r,'" is not a valid encoding type. Valid types include "mapbox" and "terrarium".'));this.stride=n.height;var o=this.dim=n.height-2,s=new Uint32Array(n.data.buffer);if(this.pixels=new Uint8Array(n.data.buffer),this.encoding=r||"mapbox",this.borderReady=i,!i){for(var l=0;l<o;l++)s[this._idx(-1,l)]=s[this._idx(0,l)],s[this._idx(o,l)]=s[this._idx(o-1,l)],s[this._idx(l,-1)]=s[this._idx(l,0)],s[this._idx(l,o)]=s[this._idx(l,o-1)];s[this._idx(-1,-1)]=s[this._idx(0,0)],s[this._idx(o,-1)]=s[this._idx(o-1,0)],s[this._idx(-1,o)]=s[this._idx(0,o-1)],s[this._idx(o,o)]=s[this._idx(o-1,o-1)],a&&this._buildQuadTree()}}return p(e,[{key:"tree",get:function(){return this._tree||this._buildQuadTree(),this._tree}},{key:"_buildQuadTree",value:function(){this._tree=new dm(this)}},{key:"get",value:function(e,t){arguments.length>2&&void 0!==arguments[2]&&arguments[2]&&(e=N(e,-1,this.dim),t=N(t,-1,this.dim));var n=4*this._idx(e,t);return("terrarium"===this.encoding?this._unpackTerrarium:this._unpackMapbox)(this.pixels[n],this.pixels[n+1],this.pixels[n+2])}},{key:"unpackVector",get:function(){return pm[this.encoding]}},{key:"_idx",value:function(e,t){if(e<-1||e>=this.dim+1||t<-1||t>=this.dim+1)throw new RangeError("out of range source coordinates for DEM data");return(t+1)*this.stride+(e+1)}},{key:"_unpackMapbox",value:function(e,t,n){return(256*e*256+256*t+n)/10-1e4}},{key:"_unpackTerrarium",value:function(e,t,n){return 256*e+t+n/256-32768}},{key:"getPixels",value:function(){return new Ac({width:this.stride,height:this.stride},this.pixels)}},{key:"backfillBorder",value:function(e,t,n){if(this.dim!==e.dim)throw new Error("dem dimension mismatch");var r=t*this.dim,i=t*this.dim+this.dim,a=n*this.dim,o=n*this.dim+this.dim;switch(t){case-1:r=i-1;break;case 1:i=r+1}switch(n){case-1:a=o-1;break;case 1:o=a+1}for(var s=-t*this.dim,l=-n*this.dim,c=a;c<o;c++)for(var u=r;u<i;u++){var d=4*this._idx(u,c),f=4*this._idx(u+s,c+l);this.pixels[d+0]=e.pixels[f+0],this.pixels[d+1]=e.pixels[f+1],this.pixels[d+2]=e.pixels[f+2],this.pixels[d+3]=e.pixels[f+3]}}},{key:"onDeserialize",value:function(){this._tree&&(this._tree.dem=this)}}],[{key:"getUnpackVector",value:function(e){return pm[e]}},{key:"pack",value:function(t,n){var r=[0,0,0,0],i=e.getUnpackVector(n),a=Math.floor((t+i[3])/i[2]);return r[2]=a%256,a=Math.floor(a/256),r[1]=a%256,a=Math.floor(a/256),r[0]=a,r}}]),e}();na(mm,"DEMData"),na(dm,"DemMinMaxQuadTree",{omit:["dem"]});var vm=function(){function e(t,n){h(this,e),this.max=t,this.onRemove=n,this.reset()}return p(e,[{key:"reset",value:function(){for(var e in this.data){var t,n=f(this.data[e]);try{for(n.s();!(t=n.n()).done;){var r=t.value;r.timeout&&clearTimeout(r.timeout),this.onRemove(r.value)}}catch(i){n.e(i)}finally{n.f()}}return this.data={},this.order=[],this}},{key:"add",value:function(e,t,n){var r=this,i=e.wrapped().key;void 0===this.data[i]&&(this.data[i]=[]);var a={value:t,timeout:void 0};if(void 0!==n&&(a.timeout=setTimeout((function(){r.remove(e,a)}),n)),this.data[i].push(a),this.order.push(i),this.order.length>this.max){var o=this._getAndRemoveByKey(this.order[0]);o&&this.onRemove(o)}return this}},{key:"has",value:function(e){return e.wrapped().key in this.data}},{key:"getAndRemove",value:function(e){return this.has(e)?this._getAndRemoveByKey(e.wrapped().key):null}},{key:"_getAndRemoveByKey",value:function(e){var t=this.data[e].shift();return t.timeout&&clearTimeout(t.timeout),0===this.data[e].length&&delete this.data[e],this.order.splice(this.order.indexOf(e),1),t.value}},{key:"getByKey",value:function(e){var t=this.data[e];return t?t[0].value:null}},{key:"get",value:function(e){return this.has(e)?this.data[e.wrapped().key][0].value:null}},{key:"remove",value:function(e,t){if(!this.has(e))return this;var n=e.wrapped().key,r=void 0===t?0:this.data[n].indexOf(t),i=this.data[n][r];return this.data[n].splice(r,1),i.timeout&&clearTimeout(i.timeout),0===this.data[n].length&&delete this.data[n],this.onRemove(i.value),this.order.splice(this.order.indexOf(n),1),this}},{key:"setMaxSize",value:function(e){for(this.max=e;this.order.length>this.max;){var t=this._getAndRemoveByKey(this.order[0]);t&&this.onRemove(t)}return this}},{key:"filter",value:function(e){var t=[];for(var n in this.data){var r,i=f(this.data[n]);try{for(i.s();!(r=i.n()).done;){var a=r.value;e(a.value)||t.push(a)}}catch(c){i.e(c)}finally{i.f()}}for(var o=0,s=t;o<s.length;o++){var l=s[o];this.remove(l.value.tileID,l)}}}]),e}(),gm=p((function e(t,n,r){h(this,e),this.func=t,this.mask=n,this.range=r}));gm.ReadOnly=!1,gm.ReadWrite=!0,gm.disabled=new gm(519,gm.ReadOnly,[0,1]);var ym=7680,xm=p((function e(t,n,r,i,a,o){h(this,e),this.test=t,this.ref=n,this.mask=r,this.fail=i,this.depthFail=a,this.pass=o}));xm.disabled=new xm({func:519,mask:0},0,0,ym,ym,ym);var bm=p((function e(t,n,r){h(this,e),this.blendFunction=t,this.blendColor=n,this.mask=r}));bm.Replace=[1,0],bm.disabled=new bm(bm.Replace,Vt.transparent,[!1,!1,!1,!1]),bm.unblended=new bm(bm.Replace,Vt.transparent,[!0,!0,!0,!0]),bm.alphaBlended=new bm([1,771],Vt.transparent,[!0,!0,!0,!0]);var _m=1029,wm=2305,km=p((function e(t,n,r){h(this,e),this.enable=t,this.mode=n,this.frontFace=r}));km.disabled=new km(!1,_m,wm),km.backCCW=new km(!0,_m,wm),km.backCW=new km(!0,_m,2304),km.frontCW=new km(!0,1028,2304),km.frontCCW=new km(!0,1028,wm);var Sm=function(e){m(n,e);var t=v(n);function n(e,r,a){var o;return h(this,n),(o=t.call(this)).id=e,o._onlySymbols=a,r.on("data",(function(e){"source"===e.dataType&&"metadata"===e.sourceDataType&&(o._sourceLoaded=!0),o._sourceLoaded&&!o._paused&&"source"===e.dataType&&"content"===e.sourceDataType&&(o.reload(),o.transform&&o.update(o.transform))})),r.on("error",(function(){o._sourceErrored=!0})),o._source=r,o._tiles={},o._cache=new vm(0,o._unloadTile.bind(i(o))),o._timers={},o._cacheTimers={},o._minTileCacheSize=r.minTileCacheSize,o._maxTileCacheSize=r.maxTileCacheSize,o._loadedParentTiles={},o._coveredTiles={},o._state=new am,o._isRaster="raster"===o._source.type||"raster-dem"===o._source.type||"custom"===o._source.type&&"raster"===o._source._dataType,o}return p(n,[{key:"onAdd",value:function(e){this.map=e,this._minTileCacheSize=void 0===this._minTileCacheSize&&e?e._minTileCacheSize:this._minTileCacheSize,this._maxTileCacheSize=void 0===this._maxTileCacheSize&&e?e._maxTileCacheSize:this._maxTileCacheSize}},{key:"loaded",value:function(){if(this._sourceErrored)return!0;if(!this._sourceLoaded)return!1;if(!this._source.loaded())return!1;for(var e in this._tiles){var t=this._tiles[e];if("loaded"!==t.state&&"errored"!==t.state)return!1}return!0}},{key:"getSource",value:function(){return this._source}},{key:"pause",value:function(){this._paused=!0}},{key:"resume",value:function(){if(this._paused){var e=this._shouldReloadOnResume;this._paused=!1,this._shouldReloadOnResume=!1,e&&this.reload(),this.transform&&this.update(this.transform)}}},{key:"_loadTile",value:function(e,t){return e.isSymbolTile=this._onlySymbols,this._source.loadTile(e,t)}},{key:"_unloadTile",value:function(e){if(this._source.unloadTile)return this._source.unloadTile(e,(function(){}))}},{key:"_abortTile",value:function(e){if(this._source.abortTile)return this._source.abortTile(e,(function(){}))}},{key:"serialize",value:function(){return this._source.serialize()}},{key:"prepare",value:function(e){for(var t in this._source.prepare&&this._source.prepare(),this._state.coalesceChanges(this._tiles,this.map?this.map.painter:null),this._tiles){var n=this._tiles[t];n.upload(e),n.prepare(this.map.style.imageManager)}}},{key:"getIds",value:function(){return U(this._tiles).map((function(e){return e.tileID})).sort(Em).map((function(e){return e.key}))}},{key:"getRenderableIds",value:function(e){var t=this,n=[];for(var r in this._tiles)this._isIdRenderable(+r,e)&&n.push(this._tiles[r]);return e?n.sort((function(e,n){var r=e.tileID,i=n.tileID,a=new M(r.canonical.x,r.canonical.y)._rotate(t.transform.angle),o=new M(i.canonical.x,i.canonical.y)._rotate(t.transform.angle);return r.overscaledZ-i.overscaledZ||o.y-a.y||o.x-a.x})).map((function(e){return e.tileID.key})):n.map((function(e){return e.tileID})).sort(Em).map((function(e){return e.key}))}},{key:"hasRenderableParent",value:function(e){var t=this.findLoadedParent(e,0);return!!t&&this._isIdRenderable(t.tileID.key)}},{key:"_isIdRenderable",value:function(e,t){return this._tiles[e]&&this._tiles[e].hasData()&&!this._coveredTiles[e]&&(t||!this._tiles[e].holdingForFade())}},{key:"reload",value:function(){if(this._paused)this._shouldReloadOnResume=!0;else for(var e in this._cache.reset(),this._tiles)"errored"!==this._tiles[e].state&&this._reloadTile(+e,"reloading")}},{key:"_reloadTile",value:function(e,t){var n=this._tiles[e];n&&("loading"!==n.state&&(n.state=t),this._loadTile(n,this._tileLoaded.bind(this,n,e,t)))}},{key:"_tileLoaded",value:function(e,t,n,r){if(r)if(e.state="errored",404!==r.status)this._source.fire(new lt(r,{tile:e}));else if("raster-dem"===this._source.type&&this.usedForTerrain&&this.map.painter.terrain){var i=this.map.painter.terrain;this.update(this.transform,i.getScaledDemTileSize(),!0),i.resetTileLookupCache(this.id)}else this.update(this.transform);else e.timeAdded=it.now(),"expired"===n&&(e.refreshedUponExpiration=!0),this._setTileReloadTimer(t,e),"raster-dem"===this._source.type&&e.dem&&this._backfillDEM(e),this._state.initializeTileState(e,this.map?this.map.painter:null),this._source.fire(new st("data",{dataType:"source",tile:e,coord:e.tileID,sourceCacheId:this.id}))}},{key:"_backfillDEM",value:function(e){for(var t=this.getRenderableIds(),n=0;n<t.length;n++){var r=t[n];if(e.neighboringTiles&&e.neighboringTiles[r]){var i=this.getTileByID(r);a(e,i),a(i,e)}}function a(e,t){if(e.dem&&!e.dem.borderReady){e.needsHillshadePrepare=!0,e.needsDEMTextureUpload=!0;var n=t.tileID.canonical.x-e.tileID.canonical.x,r=t.tileID.canonical.y-e.tileID.canonical.y,i=Math.pow(2,e.tileID.canonical.z),a=t.tileID.key;0===n&&0===r||Math.abs(r)>1||(Math.abs(n)>1&&(1===Math.abs(n+i)?n+=i:1===Math.abs(n-i)&&(n-=i)),t.dem&&e.dem&&(e.dem.backfillBorder(t.dem,n,r),e.neighboringTiles&&e.neighboringTiles[a]&&(e.neighboringTiles[a].backfilled=!0)))}}}},{key:"getTile",value:function(e){return this.getTileByID(e.key)}},{key:"getTileByID",value:function(e){return this._tiles[e]}},{key:"_retainLoadedChildren",value:function(e,t,n,r){for(var i in this._tiles){var a=this._tiles[i];if(!(r[i]||!a.hasData()||a.tileID.overscaledZ<=t||a.tileID.overscaledZ>n)){for(var o=a.tileID;a&&a.tileID.overscaledZ>t+1;){var s=a.tileID.scaledTo(a.tileID.overscaledZ-1);(a=this._tiles[s.key])&&a.hasData()&&(o=s)}for(var l=o;l.overscaledZ>t;)if(e[(l=l.scaledTo(l.overscaledZ-1)).key]){r[o.key]=o;break}}}}},{key:"findLoadedParent",value:function(e,t){if(e.key in this._loadedParentTiles){var n=this._loadedParentTiles[e.key];return n&&n.tileID.overscaledZ>=t?n:null}for(var r=e.overscaledZ-1;r>=t;r--){var i=e.scaledTo(r),a=this._getLoadedTile(i);if(a)return a}}},{key:"_getLoadedTile",value:function(e){var t=this._tiles[e.key];return t&&t.hasData()?t:this._cache.getByKey(this._source.reparseOverscaled?e.wrapped().key:e.canonical.key)}},{key:"updateCacheSize",value:function(e,t){t=t||this._source.tileSize;var n=Math.ceil(e.width/t)+1,r=Math.ceil(e.height/t)+1,i=Math.floor(n*r*5),a="number"==typeof this._minTileCacheSize?Math.max(this._minTileCacheSize,i):i,o="number"==typeof this._maxTileCacheSize?Math.min(this._maxTileCacheSize,a):a;this._cache.setMaxSize(o)}},{key:"handleWrapJump",value:function(e){var t=Math.round((e-(void 0===this._prevLng?e:this._prevLng))/360);if(this._prevLng=e,t){var n={};for(var r in this._tiles){var i=this._tiles[r];i.tileID=i.tileID.unwrapTo(i.tileID.wrap+t),n[i.tileID.key]=i}for(var a in this._tiles=n,this._timers)clearTimeout(this._timers[a]),delete this._timers[a];for(var o in this._tiles)this._setTileReloadTimer(+o,this._tiles[o])}}},{key:"update",value:function(e,t,r){var i=this;if(this.transform=e,this._sourceLoaded&&!this._paused&&!this.transform.freezeTileCoverage&&(!this.usedForTerrain||r)){var a;this.updateCacheSize(e,t),"globe"!==this.transform.projection.name&&this.handleWrapJump(this.transform.center.lng),this._coveredTiles={},this.used||this.usedForTerrain?this._source.tileID?a=e.getVisibleUnwrappedCoordinates(this._source.tileID).map((function(e){return new ad(e.canonical.z,e.wrap,e.canonical.z,e.canonical.x,e.canonical.y)})):(a=e.coveringTiles({tileSize:t||this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom&&!r,reparseOverscaled:this._source.reparseOverscaled,isTerrainDEM:this.usedForTerrain}),this._source.hasTile&&(a=a.filter((function(e){return i._source.hasTile(e)})))):a=[];var o=this._updateRetainedTiles(a);if(Cm(this._source.type)&&0!==a.length){for(var s={},l={},c=0,u=Object.keys(o);c<u.length;c++){var d=u[c],h=o[d],p=this._tiles[d];if(p&&!(p.fadeEndTime&&p.fadeEndTime<=it.now())){var m=this.findLoadedParent(h,Math.max(h.overscaledZ-n.maxOverzooming,this._source.minzoom));m&&(this._addTile(m.tileID),s[m.tileID.key]=m.tileID),l[d]=h}}var v=a[a.length-1].overscaledZ;for(var g in this._tiles){var y=this._tiles[g];if(!o[g]&&y.hasData())for(var x=y.tileID;x.overscaledZ>v;){x=x.scaledTo(x.overscaledZ-1);var b=this._tiles[x.key];if(b&&b.hasData()&&l[x.key]){o[g]=y.tileID;break}}}for(var _ in s)o[_]||(this._coveredTiles[_]=!0,o[_]=s[_])}for(var w in o)this._tiles[w].clearFadeHold();var k,S=function(e,t){var n=[];for(var r in e)r in t||n.push(r);return n}(this._tiles,o),E=f(S);try{for(E.s();!(k=E.n()).done;){var C=k.value,T=this._tiles[C];T.hasSymbolBuckets&&!T.holdingForFade()?T.setHoldDuration(this.map._fadeDuration):T.hasSymbolBuckets&&!T.symbolFadeFinished()||this._removeTile(+C)}}catch(M){E.e(M)}finally{E.f()}this._updateLoadedParentTileCache(),this._onlySymbols&&this._source.afterUpdate&&this._source.afterUpdate()}}},{key:"releaseSymbolFadeTiles",value:function(){for(var e in this._tiles)this._tiles[e].holdingForFade()&&this._removeTile(+e)}},{key:"_updateRetainedTiles",value:function(e){var t={};if(0===e.length)return t;var r,i={},a=e.reduce((function(e,t){return Math.min(e,t.overscaledZ)}),1/0),o=e[0].overscaledZ,s=Math.max(o-n.maxOverzooming,this._source.minzoom),l=Math.max(o+n.maxUnderzooming,this._source.minzoom),c={},u=f(e);try{for(u.s();!(r=u.n()).done;){var d=r.value,h=this._addTile(d);t[d.key]=d,h.hasData()||a<this._source.maxzoom&&(c[d.key]=d)}}catch(S){u.e(S)}finally{u.f()}this._retainLoadedChildren(c,a,l,t);var p,m=f(e);try{for(m.s();!(p=m.n()).done;){var v=p.value,g=this._tiles[v.key];if(!g.hasData()){if(v.canonical.z>=this._source.maxzoom){var y=v.children(this._source.maxzoom)[0],x=this.getTile(y);if(x&&x.hasData()){t[y.key]=y;continue}}else{var b=v.children(this._source.maxzoom);if(t[b[0].key]&&t[b[1].key]&&t[b[2].key]&&t[b[3].key])continue}for(var _=g.wasRequested(),w=v.overscaledZ-1;w>=s;--w){var k=v.scaledTo(w);if(i[k.key])break;if(i[k.key]=!0,!(g=this.getTile(k))&&_&&(g=this._addTile(k)),g&&(t[k.key]=k,_=g.wasRequested(),g.hasData()))break}}}}catch(S){m.e(S)}finally{m.f()}return t}},{key:"_updateLoadedParentTileCache",value:function(){for(var e in this._loadedParentTiles={},this._tiles){for(var t=[],n=void 0,r=this._tiles[e].tileID;r.overscaledZ>0;){if(r.key in this._loadedParentTiles){n=this._loadedParentTiles[r.key];break}t.push(r.key);var i=r.scaledTo(r.overscaledZ-1);if(n=this._getLoadedTile(i))break;r=i}for(var a=0,o=t;a<o.length;a++){var s=o[a];this._loadedParentTiles[s]=n}}}},{key:"_addTile",value:function(e){var t=this._tiles[e.key];if(t)return t;(t=this._cache.getAndRemove(e))&&(this._setTileReloadTimer(e.key,t),t.tileID=e,this._state.initializeTileState(t,this.map?this.map.painter:null),this._cacheTimers[e.key]&&(clearTimeout(this._cacheTimers[e.key]),delete this._cacheTimers[e.key],this._setTileReloadTimer(e.key,t)));var n=Boolean(t);if(!n){var r=this.map?this.map.painter:null;t=new im(e,this._source.tileSize*e.overscaleFactor(),this.transform.tileZoom,r,this._isRaster),this._loadTile(t,this._tileLoaded.bind(this,t,e.key,t.state))}return t?(t.uses++,this._tiles[e.key]=t,n||this._source.fire(new st("dataloading",{tile:t,coord:t.tileID,dataType:"source"})),t):null}},{key:"_setTileReloadTimer",value:function(e,t){var n=this;e in this._timers&&(clearTimeout(this._timers[e]),delete this._timers[e]);var r=t.getExpiryTimeout();r&&(this._timers[e]=setTimeout((function(){n._reloadTile(e,"expired"),delete n._timers[e]}),r))}},{key:"_removeTile",value:function(e){var t=this._tiles[e];t&&(t.uses--,delete this._tiles[e],this._timers[e]&&(clearTimeout(this._timers[e]),delete this._timers[e]),t.uses>0||(t.hasData()&&"reloading"!==t.state?this._cache.add(t.tileID,t,t.getExpiryTimeout()):(t.aborted=!0,this._abortTile(t),this._unloadTile(t))))}},{key:"clearTiles",value:function(){for(var e in this._shouldReloadOnResume=!1,this._paused=!1,this._tiles)this._removeTile(+e);this._source._clear&&this._source._clear(),this._cache.reset(),this.map&&this.usedForTerrain&&this.map.painter.terrain&&this.map.painter.terrain.resetTileLookupCache(this.id)}},{key:"tilesIn",value:function(e,t,n){var r=[],i=this.transform;if(!i)return r;var a="globe"===i.projection.name,o=Ws(i.center.lng);for(var s in this._tiles){var l=this._tiles[s];if(n&&l.clearQueryDebugViz(),!l.holdingForFade()){var c=void 0;if(a){var d=l.tileID.canonical;if(0===d.z){var h=[Math.abs(N.apply(void 0,[o].concat(u(Tm(d,-1))))-o),Math.abs(N.apply(void 0,[o].concat(u(Tm(d,1))))-o)];c=[0,2*h.indexOf(Math.min.apply(Math,h))-1]}else{var p=[Math.abs(N.apply(void 0,[o].concat(u(Tm(d,-1))))-o),Math.abs(N.apply(void 0,[o].concat(u(Tm(d,0))))-o),Math.abs(N.apply(void 0,[o].concat(u(Tm(d,1))))-o)];c=[p.indexOf(Math.min.apply(Math,p))-1]}}else c=[0];var m,v=f(c);try{for(v.s();!(m=v.n()).done;){var g=m.value,y=e.containsTile(l,i,t,g);y&&r.push(y)}}catch(x){v.e(x)}finally{v.f()}}}return r}},{key:"getVisibleCoordinates",value:function(e){var t,n=this,r=this.getRenderableIds(e).map((function(e){return n._tiles[e].tileID})),i=f(r);try{for(i.s();!(t=i.n()).done;){var a=t.value;a.projMatrix=this.transform.calculateProjMatrix(a.toUnwrapped())}}catch(o){i.e(o)}finally{i.f()}return r}},{key:"hasTransition",value:function(){if(this._source.hasTransition())return!0;if(Cm(this._source.type))for(var e in this._tiles){var t=this._tiles[e];if(void 0!==t.fadeEndTime&&t.fadeEndTime>=it.now())return!0}return!1}},{key:"setFeatureState",value:function(e,t,n){this._state.updateState(e=e||"_geojsonTileLayer",t,n)}},{key:"removeFeatureState",value:function(e,t,n){this._state.removeFeatureState(e=e||"_geojsonTileLayer",t,n)}},{key:"getFeatureState",value:function(e,t){return this._state.getState(e=e||"_geojsonTileLayer",t)}},{key:"setDependencies",value:function(e,t,n){var r=this._tiles[e];r&&r.setDependencies(t,n)}},{key:"reloadTilesForDependencies",value:function(e,t){for(var n in this._tiles)this._tiles[n].hasDependency(e,t)&&this._reloadTile(+n,"reloading");this._cache.filter((function(n){return!n.hasDependency(e,t)}))}},{key:"_preloadTiles",value:function(e,t){var n,r=this,i=new Map,a=Array.isArray(e)?e:[e],o=this.map.painter.terrain,s=this.usedForTerrain&&o?o.getScaledDemTileSize():this._source.tileSize,l=f(a);try{for(l.s();!(n=l.n()).done;){var c,u=n.value,d=u.coveringTiles({tileSize:s,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom&&!this.usedForTerrain,reparseOverscaled:this._source.reparseOverscaled,isTerrainDEM:this.usedForTerrain}),h=f(d);try{for(h.s();!(c=h.n()).done;){var p=c.value;i.set(p.key,p)}}catch(m){h.e(m)}finally{h.f()}this.usedForTerrain&&u.updateElevation(!1)}}catch(m){l.e(m)}finally{l.f()}V(Array.from(i.values()),(function(e,t){var n=new im(e,r._source.tileSize*e.overscaleFactor(),r.transform.tileZoom,r.map.painter,r._isRaster);r._loadTile(n,(function(e){"raster-dem"===r._source.type&&n.dem&&r._backfillDEM(n),t(e,n)}))}),t)}}]),n}(ct);function Em(e,t){var n=Math.abs(2*e.wrap)-+(e.wrap<0),r=Math.abs(2*t.wrap)-+(t.wrap<0);return e.overscaledZ-t.overscaledZ||r-n||t.canonical.y-e.canonical.y||t.canonical.x-e.canonical.x}function Cm(e){return"raster"===e||"image"===e||"video"===e||"custom"===e}function Tm(e,t){var n=1<<e.z;return[e.x/n+t,(e.x+1)/n+t]}Sm.maxOverzooming=10,Sm.maxUnderzooming=3;var Mm=function(){function e(t,n,r){h(this,e),this._demTile=t,this._dem=this._demTile.dem,this._scale=n,this._offset=r}return p(e,[{key:"tileCoordToPixel",value:function(e,t){var n=t*this._scale+this._offset[1],r=Math.floor(e*this._scale+this._offset[0]),i=Math.floor(n);return new M(r,i)}},{key:"getElevationAt",value:function(e,t,n,r){var i=e*this._scale+this._offset[0],a=t*this._scale+this._offset[1],o=Math.floor(i),s=Math.floor(a),l=this._dem;return r=!!r,n?Un(Un(l.get(o,s,r),l.get(o,s+1,r),a-s),Un(l.get(o+1,s,r),l.get(o+1,s+1,r),a-s),i-o):l.get(o,s,r)}},{key:"getElevationAtPixel",value:function(e,t,n){return this._dem.get(e,t,!!n)}},{key:"getMeterToDEM",value:function(e){return(1<<this._demTile.tileID.canonical.z)*Xs(1,e)*this._dem.stride}}],[{key:"create",value:function(t,n,r){var i=r||t.findDEMTileFor(n);if(i&&i.dem){var a=i.dem,o=i.tileID,s=1<<n.canonical.z-o.canonical.z;return new e(i,i.tileSize/Bs/s,[(n.canonical.x/s-o.canonical.x)*a.dim,(n.canonical.y/s-o.canonical.y)*a.dim])}}}]),e}(),Im=function(){function e(t,n){h(this,e),this.tileID=t,this.x=t.canonical.x,this.y=t.canonical.y,this.z=t.canonical.z,this.grid=new Qi(Bs,16,0),this.featureIndexArray=new ts,this.promoteId=n}return p(e,[{key:"insert",value:function(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,o=this.featureIndexArray.length;this.featureIndexArray.emplaceBack(n,r,i,a);for(var s=this.grid,l=0;l<t.length;l++){for(var c=t[l],u=[1/0,1/0,-1/0,-1/0],d=0;d<c.length;d++){var f=c[d];u[0]=Math.min(u[0],f.x),u[1]=Math.min(u[1],f.y),u[2]=Math.max(u[2],f.x),u[3]=Math.max(u[3],f.y)}u[0]<Bs&&u[1]<Bs&&u[2]>=0&&u[3]>=0&&s.insert(o,u[0],u[1],u[2],u[3])}}},{key:"loadVTLayers",value:function(){if(!this.vtLayers)for(var e in this.vtLayers=new Lu(new Ld(this.rawTileData)).layers,this.sourceLayerCoder=new Rp(this.vtLayers?Object.keys(this.vtLayers).sort():["_geojsonTileLayer"]),this.vtFeatures={},this.vtLayers)this.vtFeatures[e]=[];return this.vtLayers}},{key:"query",value:function(e,t,n,r){var i=this;this.loadVTLayers();var a=e.params||{},o=bi(a.filter),s=e.tileResult,l=e.transform,c=s.bufferedTilespaceBounds,u=this.grid.query(c.min.x,c.min.y,c.max.x,c.max.y,(function(e,t,n,r){return wl(s.bufferedTilespaceGeometry,e,t,n,r)}));u.sort(Pm);var d=null;l.elevation&&u.length>0&&(d=Mm.create(l.elevation,this.tileID));for(var f,h={},p=function(){var l=u[m];if(l===f)return"continue";f=l;var c=i.featureIndexArray.get(l),p=null;i.loadMatchingFeature(h,c,o,a.layers,a.availableImages,t,n,r,(function(t,n,r){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;return p||(p=sl(t,i.tileID.canonical,e.tileTransform)),n.queryIntersectsFeature(s,t,r,p,i.z,e.transform,e.pixelPosMatrix,d,a)}))},m=0;m<u.length;m++)p();return h}},{key:"loadMatchingFeature",value:function(e,t,n,r,i,a,o,s,l){var c=t.featureIndex,u=t.bucketIndex,d=t.sourceLayerIndex,f=t.layoutVertexArrayOffset,h=this.bucketLayerIDs[u];if(!r||function(e,t){for(var n=0;n<e.length;n++)if(t.indexOf(e[n])>=0)return!0;return!1}(r,h)){var p=this.sourceLayerCoder.decode(d),m=this.vtLayers[p].feature(c);if(n.needGeometry){var v=ll(m,!0);if(!n.filter(new to(this.tileID.overscaledZ),v,this.tileID.canonical))return}else if(!n.filter(new to(this.tileID.overscaledZ),m))return;for(var g=this.getId(m,p),y=0;y<h.length;y++){var x=h[y];if(!(r&&r.indexOf(x)<0)){var b=a[x];if(b){var _={};void 0!==g&&s&&(_=s.getState(b.sourceLayer||"_geojsonTileLayer",g));var w=H({},o[x]);w.paint=Om(w.paint,b.paint,m,_,i),w.layout=Om(w.layout,b.layout,m,_,i);var k=!l||l(m,b,_,f);if(k){var S=new Lp(m,this.z,this.x,this.y,g);S.layer=w;var E=e[x];void 0===E&&(E=e[x]=[]),E.push({featureIndex:c,feature:S,intersectionZ:k})}}}}}}},{key:"lookupSymbolFeatures",value:function(e,t,n,r,i,a,o,s){var l={};this.loadVTLayers();var c,u=bi(i),d=f(e);try{for(d.s();!(c=d.n()).done;){var h=c.value;this.loadMatchingFeature(l,{bucketIndex:n,sourceLayerIndex:r,featureIndex:h,layoutVertexArrayOffset:0},u,a,o,s,t)}}catch(p){d.e(p)}finally{d.f()}return l}},{key:"loadFeature",value:function(e){var t=e.featureIndex,n=e.sourceLayerIndex;this.loadVTLayers();var r=this.sourceLayerCoder.decode(n),i=this.vtFeatures[r];if(i[t])return i[t];var a=this.vtLayers[r].feature(t);return i[t]=a,a}},{key:"hasLayer",value:function(e){var t,n=f(this.bucketLayerIDs);try{for(n.s();!(t=n.n()).done;){var r,i=t.value,a=f(i);try{for(a.s();!(r=a.n()).done;)if(e===r.value)return!0}catch(o){a.e(o)}finally{a.f()}}}catch(o){n.e(o)}finally{n.f()}return!1}},{key:"getId",value:function(e,t){var n=e.id;if(this.promoteId){var r="string"==typeof this.promoteId?this.promoteId:this.promoteId[t];null!=r&&(n=e.properties[r]),"boolean"==typeof n&&(n=Number(n))}return n}}]),e}();function Om(e,t,n,r,i){return $(e,(function(e,a){var o=t instanceof co?t.get(a):null;return o&&o.evaluate?o.evaluate(n,r,i):o}))}function Pm(e,t){return t-e}na(Im,"FeatureIndex",{omit:["rawTileData","sourceLayerCoder"]});var Am=function(){function e(t,n){h(this,e),this.width=t,this.height=n,this.nextRow=0,this.image=new Pc({width:t,height:n}),this.positions={},this.uploaded=!1}return p(e,[{key:"getDash",value:function(e,t){var n=this.getKey(e,t);return this.positions[n]}},{key:"trim",value:function(){var e=this.width,t=this.height=X(this.nextRow);this.image.resize({width:e,height:t})}},{key:"getKey",value:function(e,t){return e.join(",")+t}},{key:"getDashRanges",value:function(e,t,n){var r=[],i=e.length%2==1?-e[e.length-1]*n:0,a=e[0]*n,o=!0;r.push({left:i,right:a,isDash:o,zeroLength:0===e[0]});for(var s=e[0],l=1;l<e.length;l++){o=!o;var c=e[l];i=s*n,a=(s+=c)*n,r.push({left:i,right:a,isDash:o,zeroLength:0===c})}return r}},{key:"addRoundDash",value:function(e,t,n){for(var r=t/2,i=-n;i<=n;i++)for(var a=this.width*(this.nextRow+n+i),o=0,s=e[o],l=0;l<this.width;l++){l/s.right>1&&(s=e[++o]);var c=Math.abs(l-s.left),u=Math.abs(l-s.right),d=Math.min(c,u),f=void 0,h=i/n*(r+1);if(s.isDash){var p=r-Math.abs(h);f=Math.sqrt(d*d+p*p)}else f=r-Math.sqrt(d*d+h*h);this.image.data[a+l]=Math.max(0,Math.min(255,f+128))}}},{key:"addRegularDash",value:function(e,t){for(var n=e.length-1;n>=0;--n){var r=e[n],i=e[n+1];r.zeroLength?e.splice(n,1):i&&i.isDash===r.isDash&&(i.left=r.left,e.splice(n,1))}var a=e[0],o=e[e.length-1];a.isDash===o.isDash&&(a.left=o.left-this.width,o.right=a.right+this.width);for(var s=this.width*this.nextRow,l=0,c=e[l],u=0;u<this.width;u++){u/c.right>1&&(c=e[++l]);var d=Math.abs(u-c.left),f=Math.abs(u-c.right),h=Math.min(d,f);this.image.data[s+u]=Math.max(0,Math.min(255,(c.isDash?h:-h)+t+128))}}},{key:"addDash",value:function(e,t){var n=this.getKey(e,t);if(this.positions[n])return this.positions[n];var r="round"===t,i=r?7:0,a=2*i+1;if(this.nextRow+a>this.height)return te("LineAtlas out of space"),null;0===e.length&&e.push(1);for(var o=0,s=0;s<e.length;s++)e[s]<0&&(te("Negative value is found in line dasharray, replacing values with 0"),e[s]=0),o+=e[s];if(0!==o){var l=this.width/o,c=this.getDashRanges(e,this.width,l);r?this.addRoundDash(c,l,i):this.addRegularDash(c,"square"===t?.5*l:0)}var u=this.nextRow+i;this.nextRow+=a;var d={tl:[u,i],br:[o,0]};return this.positions[n]=d,d}}]),e}();na(Am,"LineAtlas");var zm=p((function e(t){h(this,e);var n={},r=[];for(var i in t){var a=t[i],o=n[i]={};for(var s in a.glyphs){var l=a.glyphs[+s];if(l&&0!==l.bitmap.width&&0!==l.bitmap.height){var c=l.metrics.localGlyph?2:1,u={x:0,y:0,w:l.bitmap.width+2*c,h:l.bitmap.height+2*c};r.push(u),o[s]=u}}}var d=cf(r),f=d.w,p=d.h,m=new Pc({width:f||1,height:p||1});for(var v in t){var g=t[v];for(var y in g.glyphs){var x=g.glyphs[+y];if(x&&0!==x.bitmap.width&&0!==x.bitmap.height){var b=n[v][y],_=x.metrics.localGlyph?2:1;Pc.copy(x.bitmap,m,{x:0,y:0},{x:b.x+_,y:b.y+_},x.bitmap)}}}this.image=m,this.positions=n}));na(zm,"GlyphAtlas");var jm=function(){function e(t){h(this,e),this.tileID=new ad(t.tileID.overscaledZ,t.tileID.wrap,t.tileID.canonical.z,t.tileID.canonical.x,t.tileID.canonical.y),this.tileZoom=t.tileZoom,this.uid=t.uid,this.zoom=t.zoom,this.canonical=t.tileID.canonical,this.pixelRatio=t.pixelRatio,this.tileSize=t.tileSize,this.source=t.source,this.overscaling=this.tileID.overscaleFactor(),this.showCollisionBoxes=t.showCollisionBoxes,this.collectResourceTiming=!!t.collectResourceTiming,this.returnDependencies=!!t.returnDependencies,this.promoteId=t.promoteId,this.enableTerrain=!!t.enableTerrain,this.isSymbolTile=t.isSymbolTile,this.tileTransform=Wh(t.tileID.canonical,t.projection),this.projection=t.projection}return p(e,[{key:"parse",value:function(e,t,n,r,i){var a=this;this.status="parsing",this.data=e,this.collisionBoxArray=new Xo;var o=new Rp(Object.keys(e.layers).sort()),s=new Im(this.tileID,this.promoteId);s.bucketLayerIDs=[];var l,c,u,d,h={},p=new Am(256,256),m={featureIndex:s,iconDependencies:{},patternDependencies:{},glyphDependencies:{},lineAtlas:p,availableImages:n},v=t.familiesBySource[this.source];for(var g in v){var y=e.layers[g];if(y){var x,b=!1,_=!1,w=f(v[g]);try{for(w.s();!(x=w.n()).done;)"symbol"===x.value[0].type?b=!0:_=!0}catch(L){w.e(L)}finally{w.f()}if((!0!==this.isSymbolTile||b)&&(!1!==this.isSymbolTile||_)){1===y.version&&te('Vector tile source "'.concat(this.source,'" layer "').concat(g,'" does not use vector tile spec v2 and therefore may have some rendering errors.'));for(var k=o.encode(g),S=[],E=0;E<y.length;E++){var C=y.feature(E),T=s.getId(C,g);S.push({feature:C,id:T,index:E,sourceLayerIndex:k})}var M,I=f(v[g]);try{for(I.s();!(M=I.n()).done;){var O=M.value,P=O[0];void 0!==this.isSymbolTile&&"symbol"===P.type!==this.isSymbolTile||P.minzoom&&this.zoom<Math.floor(P.minzoom)||P.maxzoom&&this.zoom>=P.maxzoom||"none"!==P.visibility&&(Rm(O,this.zoom,n),(h[P.id]=P.createBucket({index:s.bucketLayerIDs.length,layers:O,zoom:this.zoom,canonical:this.canonical,pixelRatio:this.pixelRatio,overscaling:this.overscaling,collisionBoxArray:this.collisionBoxArray,sourceLayerIndex:k,sourceID:this.source,enableTerrain:this.enableTerrain,projection:this.projection.spec,availableImages:n})).populate(S,m,this.tileID.canonical,this.tileTransform),s.bucketLayerIDs.push(O.map((function(e){return e.id}))))}}catch(L){I.e(L)}finally{I.f()}}}}p.trim();var A={type:"maybePrepare",isSymbolTile:this.isSymbolTile,zoom:this.zoom},z=$(m.glyphDependencies,(function(e){return Object.keys(e).map(Number)}));Object.keys(z).length?r.send("getGlyphs",{uid:this.uid,stacks:z},(function(e,t){l||(l=e,c=t,D.call(a))}),void 0,!1,A):c={};var j=Object.keys(m.iconDependencies);j.length?r.send("getImages",{icons:j,source:this.source,tileID:this.tileID,type:"icons"},(function(e,t){l||(l=e,u=t,D.call(a))}),void 0,!1,A):u={};var R=Object.keys(m.patternDependencies);function D(){if(l)return i(l);if(c&&u&&d){var e=new zm(c),t=new df(u,d);for(var r in h){var a=h[r];a instanceof _p?(Rm(a.layers,this.zoom,n),th(a,c,e.positions,u,t.iconPositions,this.showCollisionBoxes,n,this.tileID.canonical,this.tileZoom,this.projection)):a.hasPattern&&(a instanceof md||a instanceof yu||a instanceof Wu)&&(Rm(a.layers,this.zoom,n),a.addFeatures(m,this.tileID.canonical,t.patternPositions,n,this.tileTransform))}this.status="done",i(null,{buckets:U(h).filter((function(e){return!e.isEmpty()})),featureIndex:s,collisionBoxArray:this.collisionBoxArray,glyphAtlasImage:e.image,lineAtlas:p,imageAtlas:t,glyphMap:this.returnDependencies?c:null,iconMap:this.returnDependencies?u:null,glyphPositions:this.returnDependencies?e.positions:null})}}R.length?r.send("getImages",{icons:R,source:this.source,tileID:this.tileID,type:"patterns"},(function(e,t){l||(l=e,d=t,D.call(a))}),void 0,!1,A):d={},D.call(this)}}]),e}();function Rm(e,t,n){var r,i=new to(t),a=f(e);try{for(a.s();!(r=a.n()).done;)r.value.recalculate(i,n)}catch(o){a.e(o)}finally{a.f()}}var Dm=function(){function e(t){h(this,e),this.entries={},this.scheduler=t}return p(e,[{key:"request",value:function(e,t,n,r){var i=this,a=this.entries[e]=this.entries[e]||{callbacks:[]};if(a.result){var o=d(a.result,2),s=o[0],l=o[1];return this.scheduler?this.scheduler.add((function(){r(s,l)}),t):r(s,l),function(){}}return a.callbacks.push(r),a.cancel||(a.cancel=n((function(n,r){a.result=[n,r];var o,s=f(a.callbacks);try{var l=function(){var e=o.value;i.scheduler?i.scheduler.add((function(){e(n,r)}),t):e(n,r)};for(s.s();!(o=s.n()).done;)l()}catch(c){s.e(c)}finally{s.f()}setTimeout((function(){return delete i.entries[e]}),3e3)}))),function(){a.result||(a.callbacks=a.callbacks.filter((function(e){return e!==r})),a.callbacks.length||(a.cancel(),delete i.entries[e]))}}}]),e}();function Lm(e,t,n){var r=JSON.stringify(e.request);return e.data&&(this.deduped.entries[r]={result:[null,e.data]}),this.deduped.request(r,{type:"parseTile",isSymbolTile:e.isSymbolTile,zoom:e.tileZoom},(function(t){var r=ke(e.request,(function(e,r,i,a){e?t(e):r&&t(null,{vectorTile:n?void 0:new Lu(new Ld(r)),rawData:r,cacheControl:i,expires:a})}));return function(){r.cancel(),t()}}),t)}e.ARRAY_TYPE=Pl,e.AUTH_ERR_MSG=Ie,e.Aabb=_c,e.Actor=function(){function e(t,n,r){h(this,e),this.target=t,this.parent=n,this.mapId=r,this.callbacks={},this.cancelCallbacks={},K(["receive"],this),this.target.addEventListener("message",this.receive,!1),this.globalScope=ie()?t:y,this.scheduler=new jp}return p(e,[{key:"send",value:function(e,t,n,r){var i=this,a=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=arguments.length>5?arguments[5]:void 0,s=Math.round(1e18*Math.random()).toString(36).substring(0,10);n&&(n.metadata=o,this.callbacks[s]=n);var l=se(this.globalScope)?void 0:[];return this.target.postMessage({id:s,type:e,hasCallback:!!n,targetMapId:r,mustQueue:a,sourceMapId:this.mapId,data:oa(t,l)},l),{cancel:function(){n&&delete i.callbacks[s],i.target.postMessage({id:s,type:"<cancel>",targetMapId:r,sourceMapId:i.mapId})}}}},{key:"receive",value:function(e){var t=this,n=e.data,r=n.id;if(r&&(!n.targetMapId||this.mapId===n.targetMapId))if("<cancel>"===n.type){var i=this.cancelCallbacks[r];delete this.cancelCallbacks[r],i&&i.cancel()}else if(n.mustQueue||ie()){var a=this.callbacks[r];this.cancelCallbacks[r]=this.scheduler.add((function(){return t.processTask(r,n)}),a&&a.metadata||{type:"message"})}else this.processTask(r,n)}},{key:"processTask",value:function(e,t){var n=this;if("<response>"===t.type){var r=this.callbacks[e];delete this.callbacks[e],r&&(t.error?r(sa(t.error)):r(null,sa(t.data)))}else{var i=se(this.globalScope)?void 0:[],a=t.hasCallback?function(t,r){delete n.cancelCallbacks[e],n.target.postMessage({id:e,type:"<response>",sourceMapId:n.mapId,error:t?oa(t):null,data:oa(r,i)},i)}:function(e){},o=sa(t.data);if(this.parent[t.type])this.parent[t.type](t.sourceMapId,o,a);else if(this.parent.getWorkerSource){var s=t.type.split(".");this.parent.getWorkerSource(t.sourceMapId,s[0],o.source)[s[1]](o,a)}else a(new Error("Could not find function ".concat(t.type)))}}},{key:"remove",value:function(){this.scheduler.remove(),this.target.removeEventListener("message",this.receive,!1)}}]),e}(),e.CanonicalTileID=rd,e.Color=Vt,e.ColorMode=bm,e.CullFaceMode=km,e.DEMData=mm,e.DataConstantProperty=uo,e.DedupedRequest=Dm,e.DepthMode=gm,e.EXTENT=Bs,e.Elevation=function(){function e(){h(this,e)}return p(e,[{key:"isDataAvailableAtPoint",value:function(e){var t=this._source();if(this.isUsingMockSource()||!t||e.y<0||e.y>1)return!1;var n=t.getSource().maxzoom,r=1<<n,i=Math.floor(e.x),a=Math.floor((e.x-i)*r),o=Math.floor(e.y*r),s=this.findDEMTileFor(new ad(n,i,n,a,o));return!(!s||!s.dem)}},{key:"getAtPointOrZero",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.getAtPoint(e,t)||0}},{key:"getAtPoint",value:function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(this.isUsingMockSource())return null;null==t&&(t=null);var r=this._source();if(!r)return t;if(e.y<0||e.y>1)return t;var i=r.getSource().maxzoom,a=1<<i,o=Math.floor(e.x),s=e.x-o,l=new ad(i,o,i,Math.floor(s*a),Math.floor(e.y*a)),c=this.findDEMTileFor(l);if(!c||!c.dem)return t;var u=c.dem,d=1<<c.tileID.canonical.z,f=(s*d-c.tileID.canonical.x)*u.dim,h=(e.y*d-c.tileID.canonical.y)*u.dim,p=Math.floor(f),m=Math.floor(h);return(n?this.exaggeration():1)*Un(Un(u.get(p,m),u.get(p,m+1),h-m),Un(u.get(p+1,m),u.get(p+1,m+1),h-m),f-p)}},{key:"getAtTileOffset",value:function(e,t,n){var r=1<<e.canonical.z;return this.getAtPointOrZero(new Qs(e.wrap+(e.canonical.x+t/Bs)/r,(e.canonical.y+n/Bs)/r))}},{key:"getAtTileOffsetFunc",value:function(e,t,n,r){var i=this;return function(a){var o=i.getAtTileOffset(e,a.x,a.y),s=r.upVector(e.canonical,a.x,a.y);return Ql(s,s,o*r.upVectorScale(e.canonical,t,n).metersToTile),s}}},{key:"getForTilePoints",value:function(e,t,n,r){var i=this;if(this.isUsingMockSource())return!1;var a=Mm.create(this,e,r);return!!a&&(t.forEach((function(e){e[2]=i.exaggeration()*a.getElevationAt(e[0],e[1],n)})),!0)}},{key:"getMinMaxForTile",value:function(e){if(this.isUsingMockSource())return null;var t=this.findDEMTileFor(e);if(!t||!t.dem)return null;for(var n=t.dem.tree,r=t.tileID,i=1<<e.canonical.z-r.canonical.z,a=e.canonical.x/i-r.canonical.x,o=e.canonical.y/i-r.canonical.y,s=0,l=0;l<e.canonical.z-r.canonical.z&&!n.leaves[s];l++){a*=2,o*=2;var c=2*Math.floor(o)+Math.floor(a);s=n.childOffsets[s]+c,a%=1,o%=1}return{min:this.exaggeration()*n.minimums[s],max:this.exaggeration()*n.maximums[s]}}},{key:"getMinElevationBelowMSL",value:function(){throw new Error("Pure virtual method called.")}},{key:"raycast",value:function(e,t,n){throw new Error("Pure virtual method called.")}},{key:"pointCoordinate",value:function(e){throw new Error("Pure virtual method called.")}},{key:"_source",value:function(){throw new Error("Pure virtual method called.")}},{key:"isUsingMockSource",value:function(){throw new Error("Pure virtual method called.")}},{key:"exaggeration",value:function(){throw new Error("Pure virtual method called.")}},{key:"findDEMTileFor",value:function(e){throw new Error("Pure virtual method called.")}},{key:"visibleDemTiles",get:function(){throw new Error("Getter must be implemented in subclass.")}}]),e}(),e.ErrorEvent=lt,e.EvaluationParameters=to,e.Event=st,e.Evented=ct,e.FillExtrusionBucket=Wu,e.Frustum=bc,e.FrustumCorners=xc,e.GLOBE_METERS_TO_ECEF=ph,e.GLOBE_RADIUS=hh,e.GLOBE_SCALE_MATCH_LATITUDE=45,e.GLOBE_ZOOM_THRESHOLD_MAX=6,e.GLOBE_ZOOM_THRESHOLD_MIN=5,e.GlobeSharedBuffers=function(){function e(t){h(this,e),this._createGrid(t),this._createPoles(t)}return p(e,[{key:"destroy",value:function(){this._poleIndexBuffer.destroy(),this._gridBuffer.destroy(),this._gridIndexBuffer.destroy(),this._poleNorthVertexBuffer.destroy(),this._poleSouthVertexBuffer.destroy();var e,t=f(this._poleSegments);try{for(t.s();!(e=t.n()).done;)e.value.destroy()}catch(o){t.e(o)}finally{t.f()}var n,r=f(this._gridSegments);try{for(r.s();!(n=r.n()).done;)n.value.destroy()}catch(o){r.e(o)}finally{r.f()}if(this._wireframeIndexBuffer){this._wireframeIndexBuffer.destroy();var i,a=f(this._wireframeSegments);try{for(a.s();!(i=a.n()).done;)i.value.destroy()}catch(o){a.e(o)}finally{a.f()}}}},{key:"_createGrid",value:function(e){for(var t=new _o,n=new Lo,r=65,i=0;i<r;i++)for(var a=0;a<r;a++)t.emplaceBack(a,i);this._gridSegments=[];for(var o=0,s=0;o<vh.length;o++){for(var l=vh[o],c=0;c<l;c++)for(var u=0;u<64;u++){var d=c*r+u;n.emplaceBack(d+1,d,d+r),n.emplaceBack(d+r,d+r+1,d+1)}var f=64*l*2;this._gridSegments.push(Ns.simpleSegment(0,s,(l+1)*r,f)),s+=f}this._gridBuffer=e.createVertexBuffer(t,fh.members),this._gridIndexBuffer=e.createIndexBuffer(n,!0)}},{key:"_createPoles",value:function(e){for(var t=new Lo,n=0;n<=mh;n++)t.emplaceBack(0,n+1,n+2);this._poleIndexBuffer=e.createIndexBuffer(t,!0);var r=new Vo,i=new Vo;this._poleSegments=[];for(var a=0,o=0;a<5;a++){var s=360/(1<<a);r.emplaceBack(0,-hh,0,.5,0),i.emplaceBack(0,-hh,0,.5,1);for(var l=0;l<=mh;l++){var c=l/mh,u=Un(0,s,c),f=Oh(Uh,Hh,u,hh),h=d(f,3),p=h[0],m=h[1],v=h[2];r.emplaceBack(p,m,v,c,0),i.emplaceBack(p,m,v,c,1)}this._poleSegments.push(Ns.simpleSegment(o,0,66,64)),o+=66}this._poleNorthVertexBuffer=e.createVertexBuffer(r,uh,!1),this._poleSouthVertexBuffer=e.createVertexBuffer(i,uh,!1)}},{key:"getGridBuffers",value:function(e){return[this._gridBuffer,this._gridIndexBuffer,this._gridSegments[e]]}},{key:"getPoleBuffers",value:function(e){return[this._poleNorthVertexBuffer,this._poleSouthVertexBuffer,this._poleIndexBuffer,this._poleSegments[e]]}},{key:"getWirefameBuffers",value:function(e,t){if(!this._wireframeSegments){var n=new Ho,r=mh,i=r+1;this._wireframeSegments=[];for(var a=0,o=0;a<vh.length;a++){for(var s=vh[a],l=0;l<s;l++)for(var c=0;c<r;c++){var u=l*i+c;n.emplaceBack(u,u+1),n.emplaceBack(u,u+i),n.emplaceBack(u,u+i+1)}var d=s*r*3;this._wireframeSegments.push(Ns.simpleSegment(0,o,(s+1)*i,d)),o+=d}this._wireframeIndexBuffer=e.createIndexBuffer(n)}return[this._gridBuffer,this._wireframeIndexBuffer,this._wireframeSegments[t]]}}]),e}(),e.GlyphManager=Ff,e.ImagePosition=uf,e.LivePerformanceUtils=Ye,e.LngLat=Us,e.LngLatBounds=Fs,e.LocalGlyphMode=Bf,e.MAX_MERCATOR_LATITUDE=$s,e.MercatorCoordinate=Qs,e.ONE_EM=Td,e.OverscaledTileID=ad,e.PerformanceMarkers=Ke,e.Properties=po,e.RGBAImage=Ac,e.Ray=yc,e.RequestManager=function(){function e(t,n,r){h(this,e),this._transformRequestFn=t,this._customAccessToken=n,this._silenceAuthErrors=!!r,this._createSkuToken()}return p(e,[{key:"_createSkuToken",value:function(){var e=function(){for(var e="",t=0;t<10;t++)e+="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"[Math.floor(62*Math.random())];return{token:["1",E,e].join(""),tokenExpiresAt:Date.now()+432e5}}();this._skuToken=e.token,this._skuTokenExpiresAt=e.tokenExpiresAt}},{key:"_isSkuTokenExpired",value:function(){return Date.now()>this._skuTokenExpiresAt}},{key:"transformRequest",value:function(e,t){return this._transformRequestFn&&this._transformRequestFn(e,t)||{url:e}}},{key:"normalizeStyleURL",value:function(e,t){if(!Oe(e))return e;var n=De(e);return n.path="/styles/v1".concat(n.path),this._makeAPIURL(n,this._customAccessToken||t)}},{key:"normalizeGlyphsURL",value:function(e,t){if(!Oe(e))return e;var n=De(e);return n.path="/fonts/v1".concat(n.path),this._makeAPIURL(n,this._customAccessToken||t)}},{key:"normalizeSourceURL",value:function(e,t,n,r){if(!Oe(e))return e;var i=De(e);return i.path="/v4/".concat(i.authority,".json"),i.params.push("secure"),n&&i.params.push("language=".concat(n)),r&&i.params.push("worldview=".concat(r)),this._makeAPIURL(i,this._customAccessToken||t)}},{key:"normalizeSpriteURL",value:function(e,t,n,r){var i=De(e);return Oe(e)?(i.path="/styles/v1".concat(i.path,"/sprite").concat(t).concat(n),this._makeAPIURL(i,this._customAccessToken||r)):(i.path+="".concat(t).concat(n),Le(i))}},{key:"normalizeTileURL",value:function(e,t,n){if(this._isSkuTokenExpired()&&this._createSkuToken(),e&&!Oe(e))return e;var r=De(e);r.path=r.path.replace(/(\.(png|jpg)\d*)(?=$)/,"".concat(t||n&&"raster"!==r.authority&&512===n?"@2x":"").concat(_.supported?".webp":"$1")),"raster"===r.authority?r.path="/".concat(b.RASTER_URL_PREFIX).concat(r.path):(r.path=r.path.replace(/^.+\/v4\//,"/"),r.path="/".concat(b.TILE_URL_VERSION).concat(r.path));var i=this._customAccessToken||function(e){var t,n=f(e);try{for(n.s();!(t=n.n()).done;){var r=t.value.match(/^access_token=(.*)$/);if(r)return r[1]}}catch(i){n.e(i)}finally{n.f()}return null}(r.params)||b.ACCESS_TOKEN;return b.REQUIRE_ACCESS_TOKEN&&i&&this._skuToken&&r.params.push("sku=".concat(this._skuToken)),this._makeAPIURL(r,i)}},{key:"canonicalizeTileURL",value:function(e,t){var n=De(e);if(!n.path.match(/^(\/v4\/|\/raster\/v1\/)/)||!n.path.match(/\.[\w]+$/))return e;var r="mapbox://";n.path.match(/^\/raster\/v1\//)?r+="raster/".concat(n.path.replace("/".concat(b.RASTER_URL_PREFIX,"/"),"")):r+="tiles/".concat(n.path.replace("/".concat(b.TILE_URL_VERSION,"/"),""));var i=n.params;return t&&(i=i.filter((function(e){return!e.match(/^access_token=/)}))),i.length&&(r+="?".concat(i.join("&"))),r}},{key:"canonicalizeTileset",value:function(e,t){var n,r=!!t&&Oe(t),i=[],a=f(e.tiles||[]);try{for(a.s();!(n=a.n()).done;){var o=n.value;Pe(o)?i.push(this.canonicalizeTileURL(o,r)):i.push(o)}}catch(s){a.e(s)}finally{a.f()}return i}},{key:"_makeAPIURL",value:function(e,t){var n="See https://docs.mapbox.com/api/overview/#access-tokens-and-token-scopes",r=De(b.API_URL);if(e.protocol=r.protocol,e.authority=r.authority,"http"===e.protocol){var i=e.params.indexOf("secure");i>=0&&e.params.splice(i,1)}if("/"!==r.path&&(e.path="".concat(r.path).concat(e.path)),!b.REQUIRE_ACCESS_TOKEN)return Le(e);if(t=t||b.ACCESS_TOKEN,!this._silenceAuthErrors){if(!t)throw new Error("An API access token is required to use Mapbox GL. ".concat(n));if("s"===t[0])throw new Error("Use a public access token (pk.*) with Mapbox GL, not a secret access token (sk.*). ".concat(n))}return e.params=e.params.filter((function(e){return-1===e.indexOf("access_token")})),e.params.push("access_token=".concat(t||"")),Le(e)}}]),e}(),e.ResourceType=xe,e.SegmentVector=Ns,e.SourceCache=Sm,e.StencilMode=xm,e.StructArrayLayout1ui2=Go,e.StructArrayLayout2f1f2i16=jo,e.StructArrayLayout2i4=_o,e.StructArrayLayout2ui4=Ho,e.StructArrayLayout3f12=Do,e.StructArrayLayout3ui6=Lo,e.StructArrayLayout4i8=ko,e.StructArrayLayout5f20=Vo,e.Texture=Ap,e.Tile=im,e.Transitionable=io,e.Uniform1f=ms,e.Uniform1i=function(e){m(n,e);var t=v(n);function n(e){var r;return h(this,n),(r=t.call(this,e)).current=0,r}return p(n,[{key:"set",value:function(e,t,n){this.fetchUniformLocation(e,t)&&this.current!==n&&(this.current=n,this.gl.uniform1i(this.location,n))}}]),n}(ps),e.Uniform2f=function(e){m(n,e);var t=v(n);function n(e){var r;return h(this,n),(r=t.call(this,e)).current=[0,0],r}return p(n,[{key:"set",value:function(e,t,n){this.fetchUniformLocation(e,t)&&(n[0]===this.current[0]&&n[1]===this.current[1]||(this.current=n,this.gl.uniform2f(this.location,n[0],n[1])))}}]),n}(ps),e.Uniform3f=function(e){m(n,e);var t=v(n);function n(e){var r;return h(this,n),(r=t.call(this,e)).current=[0,0,0],r}return p(n,[{key:"set",value:function(e,t,n){this.fetchUniformLocation(e,t)&&(n[0]===this.current[0]&&n[1]===this.current[1]&&n[2]===this.current[2]||(this.current=n,this.gl.uniform3f(this.location,n[0],n[1],n[2])))}}]),n}(ps),e.Uniform4f=vs,e.UniformColor=gs,e.UniformMatrix2f=function(e){m(n,e);var t=v(n);function n(e){var r;return h(this,n),(r=t.call(this,e)).current=bs,r}return p(n,[{key:"set",value:function(e,t,n){if(this.fetchUniformLocation(e,t))for(var r=0;r<4;r++)if(n[r]!==this.current[r]){this.current=n,this.gl.uniformMatrix2fv(this.location,!1,n);break}}}]),n}(ps),e.UniformMatrix3f=function(e){m(n,e);var t=v(n);function n(e){var r;return h(this,n),(r=t.call(this,e)).current=xs,r}return p(n,[{key:"set",value:function(e,t,n){if(this.fetchUniformLocation(e,t))for(var r=0;r<9;r++)if(n[r]!==this.current[r]){this.current=n,this.gl.uniformMatrix3fv(this.location,!1,n);break}}}]),n}(ps),e.UniformMatrix4f=function(e){m(n,e);var t=v(n);function n(e){var r;return h(this,n),(r=t.call(this,e)).current=ys,r}return p(n,[{key:"set",value:function(e,t,n){if(this.fetchUniformLocation(e,t)){if(n[12]!==this.current[12]||n[0]!==this.current[0])return this.current=n,void this.gl.uniformMatrix4fv(this.location,!1,n);for(var r=1;r<16;r++)if(n[r]!==this.current[r]){this.current=n,this.gl.uniformMatrix4fv(this.location,!1,n);break}}}}]),n}(ps),e.UnwrappedTileID=id,e.ValidationError=di,e.VectorTileFeature=Nu,e.VectorTileWorkerSource=function(e){m(n,e);var t=v(n);function n(e,r,i,a,o){var s;return h(this,n),(s=t.call(this)).actor=e,s.layerIndex=r,s.availableImages=i,s.loadVectorData=o||Lm,s.loading={},s.loaded={},s.deduped=new Dm(e.scheduler),s.isSpriteLoaded=a,s.scheduler=e.scheduler,s}return p(n,[{key:"loadTile",value:function(e,t){var n=this,r=e.uid,i=e&&e.request,a=i&&i.collectResourceTiming,o=this.loading[r]=new jm(e);o.abort=this.loadVectorData(e,(function(s,l){var c=!n.loading[r];if(delete n.loading[r],c||s||!l)return o.status="done",c||(n.loaded[r]=o),t(s);var u=l.rawData,d={};l.expires&&(d.expires=l.expires),l.cacheControl&&(d.cacheControl=l.cacheControl),o.vectorTile=l.vectorTile||new Lu(new Ld(u));var f=function(){o.parse(o.vectorTile,n.layerIndex,n.availableImages,n.actor,(function(e,n){if(e||!n)return t(e);var r={};if(a){var o=rt(i);o.length>0&&(r.resourceTiming=JSON.parse(JSON.stringify(o)))}t(null,H({rawTileData:u.slice(0)},n,d,r))}))};n.isSpriteLoaded?f():n.once("isSpriteLoaded",(function(){n.scheduler?n.scheduler.add(f,{type:"parseTile",isSymbolTile:e.isSymbolTile,zoom:e.tileZoom}):f()})),n.loaded=n.loaded||{},n.loaded[r]=o}))}},{key:"reloadTile",value:function(e,t){var n=this,r=this.loaded,i=e.uid,a=this;if(r&&r[i]){var o=r[i];o.showCollisionBoxes=e.showCollisionBoxes,o.enableTerrain=!!e.enableTerrain,o.projection=e.projection,o.tileTransform=Wh(e.tileID.canonical,e.projection);var s=function(e,r){var i=o.reloadCallback;i&&(delete o.reloadCallback,o.parse(o.vectorTile,a.layerIndex,n.availableImages,a.actor,i)),t(e,r)};"parsing"===o.status?o.reloadCallback=s:"done"===o.status&&(o.vectorTile?o.parse(o.vectorTile,this.layerIndex,this.availableImages,this.actor,s):s())}}},{key:"abortTile",value:function(e,t){var n=e.uid,r=this.loading[n];r&&(r.abort&&r.abort(),delete this.loading[n]),t()}},{key:"removeTile",value:function(e,t){var n=this.loaded,r=e.uid;n&&n[r]&&delete n[r],t()}}]),n}(ct),e.WritingMode=ff,e.add=Zl,e.addDynamicAttributes=gp,e.adjoint=function(e,t){var n=t[0],r=t[1],i=t[2],a=t[3],o=t[4],s=t[5],l=t[6],c=t[7],u=t[8];return e[0]=o*u-s*c,e[1]=i*c-r*u,e[2]=r*s-i*o,e[3]=s*l-a*u,e[4]=n*u-i*l,e[5]=i*a-n*s,e[6]=a*c-o*l,e[7]=r*l-n*c,e[8]=n*o-r*a,e},e.asyncAll=V,e.bezier=D,e.bindAll=K,e.boundsAttributes=nm,e.bufferConvexPolygon=function(e,t){for(var n=[],r=0;r<e.length;r++){var i=F(r-1,-1,e.length-1),a=F(r+1,-1,e.length-1),o=e[r],s=e[a],l=e[i].sub(o).unit(),c=s.sub(o).unit(),u=c.angleWithSep(l.x,l.y),d=l.add(c).unit().mult(-1*t/Math.sin(u/2));n.push(o.add(d))}return n},e.cacheEntryPossiblyAdded=function(e){++ye>pe&&(e.getActor().send("enforceCacheSizeLimit",he),ye=0)},e.calculateGlobeLabelMatrix=function(e,t){var n=e.point,r=Lh(n.x,n.y,e.worldSize/e._pixelsPerMercatorPixel,0,0);return Dl(r,r,Dh(kh(t)))},e.calculateGlobeMatrix=function(e){var t=e.point,n=t.x,r=t.y,i=e._center,a=i.lng,o=i.lat;return Lh(n,r,e.worldSize,a,o)},e.calculateGlobeMercatorMatrix=function(e){var t=e.pixelsPerMeter,n=t/Xs(1,e.center.lat),r=jl(new Float64Array(16));return Ll(r,r,[e.point.x,e.point.y,0]),Nl(r,r,[n,n,t]),Float32Array.from(r)},e.circumferenceAtLatitude=Gs,e.clamp=N,e.clearTileCache=function(e){if(me()){var t=y.caches.delete(fe);e&&t.catch(e).then((function(){return e()}))}},e.clipLine=Rf,e.clone=function(e){var t=new Pl(16);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t},e.clone$1=Q,e.collisionCircleLayout=Cd,e.config=b,e.conjugate=function(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e[3]=t[3],e},e.create=function(){var e=new Pl(16);return Pl!=Float32Array&&(e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0),e[0]=1,e[5]=1,e[10]=1,e[15]=1,e},e.create$1=Al,e.createExpression=ai,e.createLayout=xo,e.createStyleLayer=function(e){return"custom"===e.type?new Mp(e):new Pp[e.type](e)},e.cross=rc,e.degToRad=A,e.distance=function(e,t){return Math.hypot(t[0]-e[0],t[1]-e[1],t[2]-e[2])},e.div=function(e,t,n){return e[0]=t[0]/n[0],e[1]=t[1]/n[1],e[2]=t[2]/n[2],e},e.dot=nc,e.earthRadius=Vs,e.ease=L,e.easeCubicInOut=R,e.ecefToLatLng=function(e){var t=d(e,3),n=t[0],r=t[1],i=t[2],a=Math.hypot(n,r,i),o=Math.atan2(n,i),s=.5*Math.PI-Math.acos(-r/a);return new Us(z(o),z(s))},e.emitValidationErrors=Ji,e.endsWith=Y,e.enforceCacheSizeLimit=function(e){ve(),ue&&ue.then((function(t){t.keys().then((function(n){for(var r=0;r<n.length-e;r++)t.delete(n[r])}))}))},e.evaluateSizeForFeature=Od,e.evaluateSizeForZoom=Pd,e.evaluateVariableOffset=eh,e.evented=$a,e.exactEquals=function(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]},e.exactEquals$1=function(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]},e.exported=it,e.exported$1=_,e.extend=H,e.extend$1=dt,e.fillExtrusionHeightLift=Ju,e.filterObject=J,e.fromMat4=function(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[4],e[4]=t[5],e[5]=t[6],e[6]=t[8],e[7]=t[9],e[8]=t[10],e},e.fromQuat=function(e,t){var n=t[0],r=t[1],i=t[2],a=t[3],o=n+n,s=r+r,l=i+i,c=n*o,u=r*o,d=r*s,f=i*o,h=i*s,p=i*l,m=a*o,v=a*s,g=a*l;return e[0]=1-d-p,e[1]=u+g,e[2]=f-v,e[3]=0,e[4]=u-g,e[5]=1-c-p,e[6]=h+m,e[7]=0,e[8]=f+v,e[9]=h-m,e[10]=1-c-d,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e},e.fromRotation=function(e,t){var n=Math.sin(t),r=Math.cos(t);return e[0]=r,e[1]=n,e[2]=0,e[3]=-n,e[4]=r,e[5]=0,e[6]=0,e[7]=0,e[8]=1,e},e.fromScaling=Vl,e.furthestTileCorner=function(e){var t=Math.round((e+45+360)%360/90)%4;return j[t]},e.getAABBPointSquareDist=function(e,t,n){for(var r=0,i=0;i<2;++i){var a=n?n[i]:0;e[i]>a&&(r+=(e[i]-a)*(e[i]-a)),t[i]<a&&(r+=(a-t[i])*(a-t[i]))}return r},e.getAnchorAlignment=kf,e.getAnchorJustification=nh,e.getBounds=function(e){var t,n=1/0,r=1/0,i=-1/0,a=-1/0,o=f(e);try{for(o.s();!(t=o.n()).done;){var s=t.value;n=Math.min(n,s.x),r=Math.min(r,s.y),i=Math.max(i,s.x),a=Math.max(a,s.y)}}catch(l){o.e(l)}finally{o.f()}return{min:new M(n,r),max:new M(i,a)}},e.getColumn=ce,e.getGridMatrix=function(e,t,n,r){var i=t.getNorth(),a=t.getSouth(),o=t.getWest(),s=t.getEast(),l=1<<e.z,c=s-o,u=i-a,d=c/mh,f=-u/vh[n],h=[0,d,0,f,0,0,i,o,0];if(e.z>0){var p=180/r;zl(h,h,[p/c+1,0,0,0,p/u+1,0,-.5*p/d,.5*p/f,1])}return h[2]=l,h[5]=e.x,h[8]=e.y,h},e.getImage=Me,e.getJSON=function(e,t){return we(H(e,{type:"json"}),t)},e.getLatitudinalLod=function(e){var t=80.051129;e=N(e,-80.051129,t)/t*90;var n=Math.pow(Math.abs(Math.sin(A(e))),3);return Math.round(n*(vh.length-1))},e.getMapSessionAPI=Xe,e.getPerformanceMeasurement=rt,e.getProjection=fp,e.getRTLTextPluginStatus=Ja,e.getReferrer=_e,e.getTilePoint=function(e,t){var n=t.x,r=t.y;return new M(((n-(arguments.length>2&&void 0!==arguments[2]?arguments[2]:0))*e.scale-e.x)*Bs,(r*e.scale-e.y)*Bs)},e.getTileVec3=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return Xl(((t.x-n)*e.scale-e.x)*Bs,(t.y*e.scale-e.y)*Bs,Ys(t.z,t.y))},e.getVideo=function(e,t){var n=y.document.createElement("video");n.muted=!0,n.onloadstart=function(){t(null,n)};for(var r=0;r<e.length;r++){var i=y.document.createElement("source");Se(e[r])||(n.crossOrigin="Anonymous"),i.src=e[r],n.appendChild(i)}return{cancel:function(){}}},e.globeCenterToScreenPoint=function(e){var t=[0,0,0],n=jl(new Float64Array(16));return Dl(n,e.pixelMatrix,e.globeMatrix),ic(t,t,n),new M(t[0],t[1])},e.globeDenormalizeECEF=Dh,e.globeECEFOrigin=function(e,t){var n=[0,0,0];return ic(n,n,Rh(kh(t.canonical))),ic(n,n,e),n},e.globeNormalizeECEF=Rh,e.globePixelsToTileUnits=function(e,t){return Bs/(512*Math.pow(2,e))*zh(kh(t))},e.globePoleMatrixForTile=function(e,t,n){var r=jl(new Float64Array(16)),i=(t/(1<<e)-.5)*Math.PI*2;return Fl(r,n.globeMatrix,i),Float32Array.from(r)},e.globeTileBounds=kh,e.globeTiltAtLngLat=Bh,e.globeToMercatorTransition=Nh,e.globeUseCustomAntiAliasing=function(e,t,n){var r=Nh(n.zoom),i=e.style.map._antialias,a=!!t.extStandardDerivatives,o=t.extStandardDerivativesForceOff||e.terrain&&e.terrain.exaggeration()>0;return 0===r&&!i&&!o&&a},e.identity=jl,e.identity$1=pc,e.invert=Rl,e.isFullscreen=function(){return!!y.document.fullscreenElement||!!y.document.webkitFullscreenElement},e.isLngLatBehindGlobe=Fh,e.isMapAuthenticated=function(e){return Ze.has(e)},e.isMapboxURL=Oe,e.isSafariWithAntialiasingBug=function(e){var t=e.navigator?e.navigator.userAgent:null;return!!se(e)&&t&&(t.match("Version/15.4")||t.match("Version/15.5")||t.match(/CPU (OS|iPhone OS) (15_4|15_5) like Mac OS X/))},e.latFromMercatorY=Ks,e.latLngToECEF=Ph,e.len=cc,e.length=ql,e.length$1=function(e){return Math.hypot(e[0],e[1],e[2],e[3])},e.lngFromMercatorX=Zs,e.loadVectorTile=Lm,e.makeRequest=we,e.mapValue=function(e,t,n,r,i){return N((e-t)/(n-t)*(i-r)+r,r,i)},e.mercatorScale=Js,e.mercatorXfromLng=Ws,e.mercatorYfromLat=qs,e.mercatorZfromAltitude=Xs,e.mul=Hl,e.mul$1=lc,e.multiply=Dl,e.multiply$1=zl,e.multiply$2=Yl,e.nextPowerOfTwo=X,e.normalize=tc,e.normalize$1=gc,e.normalize$2=dc,e.number=Un,e.ortho=function(e,t,n,r,i,a,o){var s=1/(t-n),l=1/(r-i),c=1/(a-o);return e[0]=-2*s,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=-2*l,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=2*c,e[11]=0,e[12]=(t+n)*s,e[13]=(i+r)*l,e[14]=(o+a)*c,e[15]=1,e},e.pbf=Ld,e.perspective=function(e,t,n,r,i){var a,o=1/Math.tan(t/2);return e[0]=o/n,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=o,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=-1,e[12]=0,e[13]=0,e[15]=0,null!=i&&i!==1/0?(e[10]=(i+r)*(a=1/(r-i)),e[14]=2*i*r*a):(e[10]=-1,e[14]=-2*r),e},e.pick=function(e,t){for(var n={},r=0;r<t.length;r++){var i=t[r];i in e&&(n[i]=e[i])}return n},e.plugin=eo,e.pointGeometry=M,e.polesInViewport=function(e){var t=jl(new Float64Array(16));Dl(t,e.pixelMatrix,e.globeMatrix);var n=[0,gh,0],r=[0,yh,0];return ic(n,n,t),ic(r,r,t),[n[0]>0&&n[0]<=e.width&&n[1]>0&&n[1]<=e.height&&!Fh(e,new Us(e.center.lat,90)),r[0]>0&&r[0]<=e.width&&r[1]>0&&r[1]<=e.height&&!Fh(e,new Us(e.center.lat,-90))]},e.polygonContainsPoint=_l,e.polygonIntersectsBox=wl,e.polygonIntersectsPolygon=fl,e.polygonizeBounds=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],i=new M(n,n),a=e.sub(i),o=t.add(i),s=[a,new M(o.x,a.y),o,new M(a.x,o.y)];return r&&s.push(a.clone()),s},e.posAttributes=fh,e.postMapLoadEvent=He,e.postPerformanceEvent=We,e.postTurnstileEvent=Ve,e.potpack=cf,e.prevPowerOfTwo=function(e){return e<=1?1:Math.pow(2,Math.floor(Math.log(e)/Math.LN2))},e.radToDeg=z,e.refProperties=["type","source","source-layer","minzoom","maxzoom","filter","layout"],e.registerForPluginStateChange=function(e){return e({pluginStatus:Xa,pluginURL:Za}),$a.on("pluginStateChange",e),e},e.removeAuthState=function(e){Ze.delete(e)},e.renderColorRamp=jc,e.resample=tl,e.rotateX=Bl,e.rotateX$1=mc,e.rotateY=Fl,e.rotateY$1=vc,e.rotateZ=function(e,t,n){var r=Math.sin(n),i=Math.cos(n),a=t[0],o=t[1],s=t[2],l=t[3],c=t[4],u=t[5],d=t[6],f=t[7];return t!==e&&(e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=a*i+c*r,e[1]=o*i+u*r,e[2]=s*i+d*r,e[3]=l*i+f*r,e[4]=c*i-a*r,e[5]=u*i-o*r,e[6]=d*i-s*r,e[7]=f*i-l*r,e},e.rotateZ$1=function(e,t,n){n*=.5;var r=t[0],i=t[1],a=t[2],o=t[3],s=Math.sin(n),l=Math.cos(n);return e[0]=r*l+i*s,e[1]=i*l-r*s,e[2]=a*l+o*s,e[3]=o*l-a*s,e},e.scale=Nl,e.scale$1=uc,e.scale$2=Ql,e.scaleAndAdd=ec,e.set=function(e,t,n,r){return e[0]=t,e[1]=n,e[2]=r,e},e.setCacheLimits=function(e,t){he=e,pe=t},e.setColumn=function(e,t,n){e[4*t+0]=n[0],e[4*t+1]=n[1],e[4*t+2]=n[2],e[4*t+3]=n[3]},e.setRTLTextPlugin=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(Xa===Ha||Xa===Ga||Xa===Wa)throw new Error("setRTLTextPlugin cannot be called multiple times.");Za=it.resolveURL(e),Xa=Ha,qa=t,Ya(),n||Qa()},e.smoothstep=B,e.spec=ut,e.squaredLength=function(e){var t=e[0],n=e[1],r=e[2];return t*t+n*n+r*r},e.storeAuthState=function(e,t){t?Ze.add(e):Ze.delete(e)},e.sub=sc,e.subtract=Kl,e.symbolSize=Ad,e.tileAABB=function(e,t,n,r,i,a,o,s,l){if("globe"===l.name)return Th(e,t,new rd(n,r,i));var c=Wh({z:n,x:r,y:i},l);return new _c([(a+c.x/c.scale)*t,t*(c.y/c.scale),o],[(a+c.x2/c.scale)*t,t*(c.y2/c.scale),s])},e.tileCornersToBounds=Mh,e.tileTransform=Wh,e.transformMat3=function(e,t,n){var r=t[0],i=t[1],a=t[2];return e[0]=r*n[0]+i*n[3]+a*n[6],e[1]=r*n[1]+i*n[4]+a*n[7],e[2]=r*n[2]+i*n[5]+a*n[8],e},e.transformMat4=ic,e.transformMat4$1=fc,e.transformQuat=ac,e.transitionTileAABBinECEF=Eh,e.translate=Ll,e.transpose=function(e,t){if(e===t){var n=t[1],r=t[2],i=t[5];e[1]=t[3],e[2]=t[6],e[3]=n,e[5]=t[7],e[6]=r,e[7]=i}else e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8];return e},e.triggerPluginCompletionEvent=Ka,e.uniqueId=W,e.updateGlobeVertexNormal=function(e,t,n,r,i){var a=5*t+2;e.float32[a+0]=n,e.float32[a+1]=r,e.float32[a+2]=i},e.validateCustomStyleLayer=function(e){var t=[],n=e.id;return void 0===n&&t.push({message:"layers.".concat(n,': missing required property "id"')}),void 0===e.render&&t.push({message:"layers.".concat(n,': missing required method "render"')}),e.renderingMode&&"2d"!==e.renderingMode&&"3d"!==e.renderingMode&&t.push({message:"layers.".concat(n,': property "renderingMode" must be either "2d" or "3d"')}),t},e.validateFilter=function(e){return $i(Ai(e))},e.validateFog=function(e){return $i(Gi(e))},e.validateLayer=function(e){return $i(Li(e))},e.validateLight=function(e){return $i(Ui(e))},e.validateSource=function(e){return $i(Fi(e))},e.validateStyle=Zi,e.validateTerrain=function(e){return $i(Hi(e))},e.values=U,e.vectorTile=Eu,e.version=x,e.warnOnce=te,e.window=y,e.wrap=F})),y(["./shared"],(function(e){function t(e){if("number"==typeof e||"boolean"==typeof e||"string"==typeof e||null==e)return JSON.stringify(e);if(Array.isArray(e)){var n,r="[",i=f(e);try{for(i.s();!(n=i.n()).done;){var a=n.value;r+="".concat(t(a),",")}}catch(u){i.e(u)}finally{i.f()}return"".concat(r,"]")}var o,s="{",l=f(Object.keys(e).sort());try{for(l.s();!(o=l.n()).done;){var c=o.value;s+="".concat(c,":").concat(t(e[c]),",")}}catch(u){l.e(u)}finally{l.f()}return"".concat(s,"}")}function n(n){var r,i="",a=f(e.refProperties);try{for(a.s();!(r=a.n()).done;){var o=r.value;i+="/".concat(t(n[o]))}}catch(s){a.e(s)}finally{a.f()}return i}var r=function(){function t(e){h(this,t),this.keyCache={},e&&this.replace(e)}return p(t,[{key:"replace",value:function(e){this._layerConfigs={},this._layers={},this.update(e,[])}},{key:"update",value:function(t,r){var i,a=this,o=f(t);try{for(o.s();!(i=o.n()).done;){var s=i.value;this._layerConfigs[s.id]=s,(this._layers[s.id]=e.createStyleLayer(s)).compileFilter(),this.keyCache[s.id]&&delete this.keyCache[s.id]}}catch(_){o.e(_)}finally{o.f()}var l,c=f(r);try{for(c.s();!(l=c.n()).done;){var u=l.value;delete this.keyCache[u],delete this._layerConfigs[u],delete this._layers[u]}}catch(_){c.e(_)}finally{c.f()}this.familiesBySource={};var d,h=function(e,t){for(var r={},i=0;i<e.length;i++){var a=t&&t[e[i].id]||n(e[i]);t&&(t[e[i].id]=a);var o=r[a];o||(o=r[a]=[]),o.push(e[i])}var s=[];for(var l in r)s.push(r[l]);return s}(e.values(this._layerConfigs),this.keyCache),p=f(h);try{for(p.s();!(d=p.n()).done;){var m=d.value.map((function(e){return a._layers[e.id]})),v=m[0];if("none"!==v.visibility){var g=v.source||"",y=this.familiesBySource[g];y||(y=this.familiesBySource[g]={});var x=v.sourceLayer||"_geojsonTileLayer",b=y[x];b||(b=y[x]=[]),b.push(m)}}}catch(_){p.e(_)}finally{p.f()}}}]),t}(),i=function(){function t(){h(this,t)}return p(t,[{key:"loadTile",value:function(t,n){var r=t.uid,i=t.encoding,a=t.rawImageData,o=t.padding,s=t.buildQuadTree,l=e.window.ImageBitmap&&a instanceof e.window.ImageBitmap?this.getImageData(a,o):a;n(null,new e.DEMData(r,l,i,o<1,s))}},{key:"getImageData",value:function(e,t){this.offscreenCanvas&&this.offscreenCanvasContext||(this.offscreenCanvas=new OffscreenCanvas(e.width,e.height),this.offscreenCanvasContext=this.offscreenCanvas.getContext("2d",{willReadFrequently:!0})),this.offscreenCanvas.width=e.width,this.offscreenCanvas.height=e.height,this.offscreenCanvasContext.drawImage(e,0,0,e.width,e.height);var n=this.offscreenCanvasContext.getImageData(-t,-t,e.width+2*t,e.height+2*t);return this.offscreenCanvasContext.clearRect(0,0,this.offscreenCanvas.width,this.offscreenCanvas.height),n}}]),t}(),a=function e(t,n){var r,i=t&&t.type;if("FeatureCollection"===i)for(r=0;r<t.features.length;r++)e(t.features[r],n);else if("GeometryCollection"===i)for(r=0;r<t.geometries.length;r++)e(t.geometries[r],n);else if("Feature"===i)e(t.geometry,n);else if("Polygon"===i)l(t.coordinates,n);else if("MultiPolygon"===i)for(r=0;r<t.coordinates.length;r++)l(t.coordinates[r],n);return t};function l(e,t){if(0!==e.length){c(e[0],t);for(var n=1;n<e.length;n++)c(e[n],!t)}}function c(e,t){for(var n=0,r=0,i=0,a=e.length,o=a-1;i<a;o=i++){var s=(e[i][0]-e[o][0])*(e[o][1]+e[i][1]),l=n+s;r+=Math.abs(n)>=Math.abs(s)?n-l+s:s-l+n,n=l}n+r>=0!=!!t&&e.reverse()}var u=e.VectorTileFeature.prototype.toGeoJSON,g=function(){function t(n){h(this,t),this._feature=n,this.extent=e.EXTENT,this.type=n.type,this.properties=n.tags,"id"in n&&!isNaN(n.id)&&(this.id=parseInt(n.id,10))}return p(t,[{key:"loadGeometry",value:function(){if(1===this._feature.type){var t,n=[],r=f(this._feature.geometry);try{for(r.s();!(t=r.n()).done;){var i=t.value;n.push([new e.pointGeometry(i[0],i[1])])}}catch(p){r.e(p)}finally{r.f()}return n}var a,o=[],s=f(this._feature.geometry);try{for(s.s();!(a=s.n()).done;){var l,c=a.value,u=[],d=f(c);try{for(d.s();!(l=d.n()).done;){var h=l.value;u.push(new e.pointGeometry(h[0],h[1]))}}catch(p){d.e(p)}finally{d.f()}o.push(u)}}catch(p){s.e(p)}finally{s.f()}return o}},{key:"toGeoJSON",value:function(e,t,n){return u.call(this,e,t,n)}}]),t}(),y=function(){function t(n){h(this,t),this.layers={_geojsonTileLayer:this},this.name="_geojsonTileLayer",this.extent=e.EXTENT,this.length=n.length,this._features=n}return p(t,[{key:"feature",value:function(e){return new g(this._features[e])}}]),t}(),x={exports:{}},b=e.pointGeometry,_=e.vectorTile.VectorTileFeature,w=k;function k(e,t){this.options=t||{},this.features=e,this.length=e.length}function S(e,t){this.id="number"==typeof e.id?e.id:void 0,this.type=e.type,this.rawGeometry=1===e.type?[e.geometry]:e.geometry,this.properties=e.tags,this.extent=t||4096}k.prototype.feature=function(e){return new S(this.features[e],this.options.extent)},S.prototype.loadGeometry=function(){var e=this.rawGeometry;this.geometry=[];for(var t=0;t<e.length;t++){for(var n=e[t],r=[],i=0;i<n.length;i++)r.push(new b(n[i][0],n[i][1]));this.geometry.push(r)}return this.geometry},S.prototype.bbox=function(){this.geometry||this.loadGeometry();for(var e=this.geometry,t=1/0,n=-1/0,r=1/0,i=-1/0,a=0;a<e.length;a++)for(var o=e[a],s=0;s<o.length;s++){var l=o[s];t=Math.min(t,l.x),n=Math.max(n,l.x),r=Math.min(r,l.y),i=Math.max(i,l.y)}return[t,r,n,i]},S.prototype.toGeoJSON=_.prototype.toGeoJSON;var E=e.pbf,C=w;function T(e){var t=new E;return function(e,t){for(var n in e.layers)t.writeMessage(3,M,e.layers[n])}(e,t),t.finish()}function M(e,t){var n;t.writeVarintField(15,e.version||1),t.writeStringField(1,e.name||""),t.writeVarintField(5,e.extent||4096);var r={keys:[],values:[],keycache:{},valuecache:{}};for(n=0;n<e.length;n++)r.feature=e.feature(n),t.writeMessage(2,I,r);var i=r.keys;for(n=0;n<i.length;n++)t.writeStringField(3,i[n]);var a=r.values;for(n=0;n<a.length;n++)t.writeMessage(4,j,a[n])}function I(e,t){var n=e.feature;void 0!==n.id&&t.writeVarintField(1,n.id),t.writeMessage(2,O,e),t.writeVarintField(3,n.type),t.writeMessage(4,z,n)}function O(e,t){var n=e.feature,r=e.keys,i=e.values,a=e.keycache,o=e.valuecache;for(var s in n.properties){var l=n.properties[s],c=a[s];if(null!==l){void 0===c&&(r.push(s),a[s]=c=r.length-1),t.writeVarint(c);var u=typeof l;"string"!==u&&"boolean"!==u&&"number"!==u&&(l=JSON.stringify(l));var d=u+":"+l,f=o[d];void 0===f&&(i.push(l),o[d]=f=i.length-1),t.writeVarint(f)}}}function P(e,t){return(t<<3)+(7&e)}function A(e){return e<<1^e>>31}function z(e,t){for(var n=e.loadGeometry(),r=e.type,i=0,a=0,o=n.length,s=0;s<o;s++){var l=n[s],c=1;1===r&&(c=l.length),t.writeVarint(P(1,c));for(var u=3===r?l.length-1:l.length,d=0;d<u;d++){1===d&&1!==r&&t.writeVarint(P(2,u-1));var f=l[d].x-i,h=l[d].y-a;t.writeVarint(A(f)),t.writeVarint(A(h)),i+=f,a+=h}3===r&&t.writeVarint(P(7,1))}}function j(e,t){var n=typeof e;"string"===n?t.writeStringField(1,e):"boolean"===n?t.writeBooleanField(7,e):"number"===n&&(e%1!=0?t.writeDoubleField(3,e):e<0?t.writeSVarintField(6,e):t.writeVarintField(5,e))}function R(e,t,n,r,i,a){if(!(i-r<=n)){var o=r+i>>1;D(e,t,o,r,i,a%2),R(e,t,n,r,o-1,a+1),R(e,t,n,o+1,i,a+1)}}function D(e,t,n,r,i,a){for(;i>r;){if(i-r>600){var o=i-r+1,s=n-r+1,l=Math.log(o),c=.5*Math.exp(2*l/3),u=.5*Math.sqrt(l*c*(o-c)/o)*(s-o/2<0?-1:1);D(e,t,n,Math.max(r,Math.floor(n-s*c/o+u)),Math.min(i,Math.floor(n+(o-s)*c/o+u)),a)}var d=t[2*n+a],f=r,h=i;for(L(e,t,r,n),t[2*i+a]>d&&L(e,t,r,i);f<h;){for(L(e,t,f,h),f++,h--;t[2*f+a]<d;)f++;for(;t[2*h+a]>d;)h--}t[2*r+a]===d?L(e,t,r,h):L(e,t,++h,i),h<=n&&(r=h+1),n<=h&&(i=h-1)}}function L(e,t,n,r){N(e,n,r),N(t,2*n,2*r),N(t,2*n+1,2*r+1)}function N(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function B(e,t,n,r){var i=e-n,a=t-r;return i*i+a*a}x.exports=T,x.exports.fromVectorTileJs=T,x.exports.fromGeojsonVt=function(e,t){t=t||{};var n={};for(var r in e)n[r]=new C(e[r].features,t),n[r].name=r,n[r].version=t.version,n[r].extent=t.extent;return T({layers:n})},x.exports.GeoJSONWrapper=C;var F,V=function(e){return e[0]},U=function(e){return e[1]},H=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:V,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:U,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:64,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Float64Array;h(this,e),this.nodeSize=i,this.points=t;for(var o=t.length<65536?Uint16Array:Uint32Array,s=this.ids=new o(t.length),l=this.coords=new a(2*t.length),c=0;c<t.length;c++)s[c]=c,l[2*c]=n(t[c]),l[2*c+1]=r(t[c]);R(s,l,i,0,s.length-1,0)}return p(e,[{key:"range",value:function(e,t,n,r){return function(e,t,n,r,i,a,o){for(var s,l,c=[0,e.length-1,0],u=[];c.length;){var d=c.pop(),f=c.pop(),h=c.pop();if(f-h<=o)for(var p=h;p<=f;p++)s=t[2*p],l=t[2*p+1],s>=n&&s<=i&&l>=r&&l<=a&&u.push(e[p]);else{var m=Math.floor((h+f)/2);s=t[2*m],l=t[2*m+1],s>=n&&s<=i&&l>=r&&l<=a&&u.push(e[m]);var v=(d+1)%2;(0===d?n<=s:r<=l)&&(c.push(h),c.push(m-1),c.push(v)),(0===d?i>=s:a>=l)&&(c.push(m+1),c.push(f),c.push(v))}}return u}(this.ids,this.coords,e,t,n,r,this.nodeSize)}},{key:"within",value:function(e,t,n){return function(e,t,n,r,i,a){for(var o=[0,e.length-1,0],s=[],l=i*i;o.length;){var c=o.pop(),u=o.pop(),d=o.pop();if(u-d<=a)for(var f=d;f<=u;f++)B(t[2*f],t[2*f+1],n,r)<=l&&s.push(e[f]);else{var h=Math.floor((d+u)/2),p=t[2*h],m=t[2*h+1];B(p,m,n,r)<=l&&s.push(e[h]);var v=(c+1)%2;(0===c?n-i<=p:r-i<=m)&&(o.push(d),o.push(h-1),o.push(v)),(0===c?n+i>=p:r+i>=m)&&(o.push(h+1),o.push(u),o.push(v))}}return s}(this.ids,this.coords,e,t,n,this.nodeSize)}}]),e}(),G={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:function(e){return e}},W=Math.fround||(F=new Float32Array(1),function(e){return F[0]=+e,F[0]}),q=function(){function e(t){h(this,e),this.options=ee(Object.create(G),t),this.trees=new Array(this.options.maxZoom+1)}return p(e,[{key:"load",value:function(e){var t=this.options,n=t.log,r=t.minZoom,i=t.maxZoom,a=t.nodeSize;n&&console.time("total time");var o="prepare ".concat(e.length," points");n&&console.time(o),this.points=e;for(var s=[],l=0;l<e.length;l++)e[l].geometry&&s.push(Z(e[l],l));this.trees[i+1]=new H(s,te,ne,a,Float32Array),n&&console.timeEnd(o);for(var c=i;c>=r;c--){var u=+Date.now();s=this._cluster(s,c),this.trees[c]=new H(s,te,ne,a,Float32Array),n&&console.log("z%d: %d clusters in %dms",c,s.length,+Date.now()-u)}return n&&console.timeEnd("total time"),this}},{key:"getClusters",value:function(e,t){var n=((e[0]+180)%360+360)%360-180,r=Math.max(-90,Math.min(90,e[1])),i=180===e[2]?180:((e[2]+180)%360+360)%360-180,a=Math.max(-90,Math.min(90,e[3]));if(e[2]-e[0]>=360)n=-180,i=180;else if(n>i){var o=this.getClusters([n,r,180,a],t),s=this.getClusters([-180,r,i,a],t);return o.concat(s)}var l,c=this.trees[this._limitZoom(t)],u=c.range($(n),J(a),$(i),J(r)),d=[],h=f(u);try{for(h.s();!(l=h.n()).done;){var p=l.value,m=c.points[p];d.push(m.numPoints?K(m):this.points[m.index])}}catch(v){h.e(v)}finally{h.f()}return d}},{key:"getChildren",value:function(e){var t=this._getOriginId(e),n=this._getOriginZoom(e),r="No cluster with the specified id.",i=this.trees[n];if(!i)throw new Error(r);var a=i.points[t];if(!a)throw new Error(r);var o,s=this.options.radius/(this.options.extent*Math.pow(2,n-1)),l=i.within(a.x,a.y,s),c=[],u=f(l);try{for(u.s();!(o=u.n()).done;){var d=o.value,h=i.points[d];h.parentId===e&&c.push(h.numPoints?K(h):this.points[h.index])}}catch(p){u.e(p)}finally{u.f()}if(0===c.length)throw new Error(r);return c}},{key:"getLeaves",value:function(e,t,n){var r=[];return this._appendLeaves(r,e,t=t||10,n=n||0,0),r}},{key:"getTile",value:function(e,t,n){var r=this.trees[this._limitZoom(e)],i=Math.pow(2,e),a=this.options,o=a.extent,s=a.radius/o,l=(n-s)/i,c=(n+1+s)/i,u={features:[]};return this._addTileFeatures(r.range((t-s)/i,l,(t+1+s)/i,c),r.points,t,n,i,u),0===t&&this._addTileFeatures(r.range(1-s/i,l,1,c),r.points,i,n,i,u),t===i-1&&this._addTileFeatures(r.range(0,l,s/i,c),r.points,-1,n,i,u),u.features.length?u:null}},{key:"getClusterExpansionZoom",value:function(e){for(var t=this._getOriginZoom(e)-1;t<=this.options.maxZoom;){var n=this.getChildren(e);if(t++,1!==n.length)break;e=n[0].properties.cluster_id}return t}},{key:"_appendLeaves",value:function(e,t,n,r,i){var a,o=this.getChildren(t),s=f(o);try{for(s.s();!(a=s.n()).done;){var l=a.value,c=l.properties;if(c&&c.cluster?i+c.point_count<=r?i+=c.point_count:i=this._appendLeaves(e,c.cluster_id,n,r,i):i<r?i++:e.push(l),e.length===n)break}}catch(u){s.e(u)}finally{s.f()}return i}},{key:"_addTileFeatures",value:function(e,t,n,r,i,a){var o,s=f(e);try{for(s.s();!(o=s.n()).done;){var l=t[o.value],c=l.numPoints,u=void 0,d=void 0,h=void 0;if(c)u=Y(l),d=l.x,h=l.y;else{var p=this.points[l.index];u=p.properties,d=$(p.geometry.coordinates[0]),h=J(p.geometry.coordinates[1])}var m={type:1,geometry:[[Math.round(this.options.extent*(d*i-n)),Math.round(this.options.extent*(h*i-r))]],tags:u},v=void 0;c?v=l.id:this.options.generateId?v=l.index:this.points[l.index].id&&(v=this.points[l.index].id),void 0!==v&&(m.id=v),a.features.push(m)}}catch(g){s.e(g)}finally{s.f()}}},{key:"_limitZoom",value:function(e){return Math.max(this.options.minZoom,Math.min(Math.floor(+e),this.options.maxZoom+1))}},{key:"_cluster",value:function(e,t){for(var n=[],r=this.options,i=r.radius,a=r.extent,o=r.reduce,s=r.minPoints,l=i/(a*Math.pow(2,t)),c=0;c<e.length;c++){var u=e[c];if(!(u.zoom<=t)){u.zoom=t;var d,h=this.trees[t+1],p=h.within(u.x,u.y,l),m=u.numPoints||1,v=m,g=f(p);try{for(g.s();!(d=g.n()).done;){var y=d.value,x=h.points[y];x.zoom>t&&(v+=x.numPoints||1)}}catch(z){g.e(z)}finally{g.f()}if(v>m&&v>=s){var b,_=u.x*m,w=u.y*m,k=o&&m>1?this._map(u,!0):null,S=(c<<5)+(t+1)+this.points.length,E=f(p);try{for(E.s();!(b=E.n()).done;){var C=b.value,T=h.points[C];if(!(T.zoom<=t)){T.zoom=t;var M=T.numPoints||1;_+=T.x*M,w+=T.y*M,T.parentId=S,o&&(k||(k=this._map(u,!0)),o(k,this._map(T)))}}}catch(z){E.e(z)}finally{E.f()}u.parentId=S,n.push(X(_/v,w/v,S,v,k))}else if(n.push(u),v>1){var I,O=f(p);try{for(O.s();!(I=O.n()).done;){var P=I.value,A=h.points[P];A.zoom<=t||(A.zoom=t,n.push(A))}}catch(z){O.e(z)}finally{O.f()}}}}return n}},{key:"_getOriginId",value:function(e){return e-this.points.length>>5}},{key:"_getOriginZoom",value:function(e){return(e-this.points.length)%32}},{key:"_map",value:function(e,t){if(e.numPoints)return t?ee({},e.properties):e.properties;var n=this.points[e.index].properties,r=this.options.map(n);return t&&r===n?ee({},r):r}}]),e}();function X(e,t,n,r,i){return{x:W(e),y:W(t),zoom:1/0,id:n,parentId:-1,numPoints:r,properties:i}}function Z(e,t){var n=d(e.geometry.coordinates,2),r=n[0],i=n[1];return{x:W($(r)),y:W(J(i)),zoom:1/0,index:t,parentId:-1}}function K(e){return{type:"Feature",id:e.id,properties:Y(e),geometry:{type:"Point",coordinates:[(t=e.x,360*(t-.5)),Q(e.y)]}};var t}function Y(e){var t=e.numPoints,n=t>=1e4?"".concat(Math.round(t/1e3),"k"):t>=1e3?Math.round(t/100)/10+"k":t;return ee(ee({},e.properties),{cluster:!0,cluster_id:e.id,point_count:t,point_count_abbreviated:n})}function $(e){return e/360+.5}function J(e){var t=Math.sin(e*Math.PI/180),n=.5-.25*Math.log((1+t)/(1-t))/Math.PI;return n<0?0:n>1?1:n}function Q(e){var t=(180-360*e)*Math.PI/180;return 360*Math.atan(Math.exp(t))/Math.PI-90}function ee(e,t){for(var n in t)e[n]=t[n];return e}function te(e){return e.x}function ne(e){return e.y}function re(e,t,n,r){for(var i,a=r,o=n-t>>1,s=n-t,l=e[t],c=e[t+1],u=e[n],d=e[n+1],f=t+3;f<n;f+=3){var h=ie(e[f],e[f+1],l,c,u,d);if(h>a)i=f,a=h;else if(h===a){var p=Math.abs(f-o);p<s&&(i=f,s=p)}}a>r&&(i-t>3&&re(e,t,i,r),e[i+2]=a,n-i>3&&re(e,i,n,r))}function ie(e,t,n,r,i,a){var o=i-n,s=a-r;if(0!==o||0!==s){var l=((e-n)*o+(t-r)*s)/(o*o+s*s);l>1?(n=i,r=a):l>0&&(n+=o*l,r+=s*l)}return(o=e-n)*o+(s=t-r)*s}function ae(e,t,n,r){var i={id:void 0===e?null:e,type:t,geometry:n,tags:r,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0};return function(e){var t=e.geometry,n=e.type;if("Point"===n||"MultiPoint"===n||"LineString"===n)oe(e,t);else if("Polygon"===n||"MultiLineString"===n)for(var r=0;r<t.length;r++)oe(e,t[r]);else if("MultiPolygon"===n)for(r=0;r<t.length;r++)for(var i=0;i<t[r].length;i++)oe(e,t[r][i])}(i),i}function oe(e,t){for(var n=0;n<t.length;n+=3)e.minX=Math.min(e.minX,t[n]),e.minY=Math.min(e.minY,t[n+1]),e.maxX=Math.max(e.maxX,t[n]),e.maxY=Math.max(e.maxY,t[n+1])}function se(e,t,n,r){if(t.geometry){var i=t.geometry.coordinates,a=t.geometry.type,o=Math.pow(n.tolerance/((1<<n.maxZoom)*n.extent),2),s=[],l=t.id;if(n.promoteId?l=t.properties[n.promoteId]:n.generateId&&(l=r||0),"Point"===a)le(i,s);else if("MultiPoint"===a)for(var c=0;c<i.length;c++)le(i[c],s);else if("LineString"===a)ce(i,s,o,!1);else if("MultiLineString"===a){if(n.lineMetrics){for(c=0;c<i.length;c++)ce(i[c],s=[],o,!1),e.push(ae(l,"LineString",s,t.properties));return}ue(i,s,o,!1)}else if("Polygon"===a)ue(i,s,o,!0);else{if("MultiPolygon"!==a){if("GeometryCollection"===a){for(c=0;c<t.geometry.geometries.length;c++)se(e,{id:l,geometry:t.geometry.geometries[c],properties:t.properties},n,r);return}throw new Error("Input data is not a valid GeoJSON object.")}for(c=0;c<i.length;c++){var u=[];ue(i[c],u,o,!0),s.push(u)}}e.push(ae(l,a,s,t.properties))}}function le(e,t){t.push(de(e[0])),t.push(fe(e[1])),t.push(0)}function ce(e,t,n,r){for(var i,a,o=0,s=0;s<e.length;s++){var l=de(e[s][0]),c=fe(e[s][1]);t.push(l),t.push(c),t.push(0),s>0&&(o+=r?(i*c-l*a)/2:Math.sqrt(Math.pow(l-i,2)+Math.pow(c-a,2))),i=l,a=c}var u=t.length-3;t[2]=1,re(t,0,u,n),t[u+2]=1,t.size=Math.abs(o),t.start=0,t.end=t.size}function ue(e,t,n,r){for(var i=0;i<e.length;i++){var a=[];ce(e[i],a,n,r),t.push(a)}}function de(e){return e/360+.5}function fe(e){var t=Math.sin(e*Math.PI/180),n=.5-.25*Math.log((1+t)/(1-t))/Math.PI;return n<0?0:n>1?1:n}function he(e,t,n,r,i,a,o,s){if(r/=t,a>=(n/=t)&&o<r)return e;if(o<n||a>=r)return null;for(var l=[],c=0;c<e.length;c++){var u=e[c],d=u.geometry,f=u.type,h=0===i?u.minX:u.minY,p=0===i?u.maxX:u.maxY;if(h>=n&&p<r)l.push(u);else if(!(p<n||h>=r)){var m=[];if("Point"===f||"MultiPoint"===f)pe(d,m,n,r,i);else if("LineString"===f)me(d,m,n,r,i,!1,s.lineMetrics);else if("MultiLineString"===f)ge(d,m,n,r,i,!1);else if("Polygon"===f)ge(d,m,n,r,i,!0);else if("MultiPolygon"===f)for(var v=0;v<d.length;v++){var g=[];ge(d[v],g,n,r,i,!0),g.length&&m.push(g)}if(m.length){if(s.lineMetrics&&"LineString"===f){for(v=0;v<m.length;v++)l.push(ae(u.id,f,m[v],u.tags));continue}"LineString"!==f&&"MultiLineString"!==f||(1===m.length?(f="LineString",m=m[0]):f="MultiLineString"),"Point"!==f&&"MultiPoint"!==f||(f=3===m.length?"Point":"MultiPoint"),l.push(ae(u.id,f,m,u.tags))}}}return l.length?l:null}function pe(e,t,n,r,i){for(var a=0;a<e.length;a+=3){var o=e[a+i];o>=n&&o<=r&&(t.push(e[a]),t.push(e[a+1]),t.push(e[a+2]))}}function me(e,t,n,r,i,a,o){for(var s,l,c=ve(e),u=0===i?xe:be,d=e.start,f=0;f<e.length-3;f+=3){var h=e[f],p=e[f+1],m=e[f+2],v=e[f+3],g=e[f+4],y=0===i?h:p,x=0===i?v:g,b=!1;o&&(s=Math.sqrt(Math.pow(h-v,2)+Math.pow(p-g,2))),y<n?x>n&&(l=u(c,h,p,v,g,n),o&&(c.start=d+s*l)):y>r?x<r&&(l=u(c,h,p,v,g,r),o&&(c.start=d+s*l)):ye(c,h,p,m),x<n&&y>=n&&(l=u(c,h,p,v,g,n),b=!0),x>r&&y<=r&&(l=u(c,h,p,v,g,r),b=!0),!a&&b&&(o&&(c.end=d+s*l),t.push(c),c=ve(e)),o&&(d+=s)}var _=e.length-3;h=e[_],p=e[_+1],m=e[_+2],(y=0===i?h:p)>=n&&y<=r&&ye(c,h,p,m),_=c.length-3,a&&_>=3&&(c[_]!==c[0]||c[_+1]!==c[1])&&ye(c,c[0],c[1],c[2]),c.length&&t.push(c)}function ve(e){var t=[];return t.size=e.size,t.start=e.start,t.end=e.end,t}function ge(e,t,n,r,i,a){for(var o=0;o<e.length;o++)me(e[o],t,n,r,i,a,!1)}function ye(e,t,n,r){e.push(t),e.push(n),e.push(r)}function xe(e,t,n,r,i,a){var o=(a-t)/(r-t);return e.push(a),e.push(n+(i-n)*o),e.push(1),o}function be(e,t,n,r,i,a){var o=(a-n)/(i-n);return e.push(t+(r-t)*o),e.push(a),e.push(1),o}function _e(e,t){for(var n=[],r=0;r<e.length;r++){var i,a=e[r],o=a.type;if("Point"===o||"MultiPoint"===o||"LineString"===o)i=we(a.geometry,t);else if("MultiLineString"===o||"Polygon"===o){i=[];for(var s=0;s<a.geometry.length;s++)i.push(we(a.geometry[s],t))}else if("MultiPolygon"===o)for(i=[],s=0;s<a.geometry.length;s++){for(var l=[],c=0;c<a.geometry[s].length;c++)l.push(we(a.geometry[s][c],t));i.push(l)}n.push(ae(a.id,o,i,a.tags))}return n}function we(e,t){var n=[];n.size=e.size,void 0!==e.start&&(n.start=e.start,n.end=e.end);for(var r=0;r<e.length;r+=3)n.push(e[r]+t,e[r+1],e[r+2]);return n}function ke(e,t){if(e.transformed)return e;var n,r,i,a=1<<e.z,o=e.x,s=e.y;for(n=0;n<e.features.length;n++){var l=e.features[n],c=l.geometry,u=l.type;if(l.geometry=[],1===u)for(r=0;r<c.length;r+=2)l.geometry.push(Se(c[r],c[r+1],t,a,o,s));else for(r=0;r<c.length;r++){var d=[];for(i=0;i<c[r].length;i+=2)d.push(Se(c[r][i],c[r][i+1],t,a,o,s));l.geometry.push(d)}}return e.transformed=!0,e}function Se(e,t,n,r,i,a){return[Math.round(n*(e*r-i)),Math.round(n*(t*r-a))]}function Ee(e,t,n,r,i){for(var a=t===i.maxZoom?0:i.tolerance/((1<<t)*i.extent),o={features:[],numPoints:0,numSimplified:0,numFeatures:0,source:null,x:n,y:r,z:t,transformed:!1,minX:2,minY:1,maxX:-1,maxY:0},s=0;s<e.length;s++){o.numFeatures++,Ce(o,e[s],a,i);var l=e[s].minX,c=e[s].minY,u=e[s].maxX,d=e[s].maxY;l<o.minX&&(o.minX=l),c<o.minY&&(o.minY=c),u>o.maxX&&(o.maxX=u),d>o.maxY&&(o.maxY=d)}return o}function Ce(e,t,n,r){var i=t.geometry,a=t.type,o=[];if("Point"===a||"MultiPoint"===a)for(var s=0;s<i.length;s+=3)o.push(i[s]),o.push(i[s+1]),e.numPoints++,e.numSimplified++;else if("LineString"===a)Te(o,i,e,n,!1,!1);else if("MultiLineString"===a||"Polygon"===a)for(s=0;s<i.length;s++)Te(o,i[s],e,n,"Polygon"===a,0===s);else if("MultiPolygon"===a)for(var l=0;l<i.length;l++){var c=i[l];for(s=0;s<c.length;s++)Te(o,c[s],e,n,!0,0===s)}if(o.length){var u=t.tags||null;if("LineString"===a&&r.lineMetrics){for(var d in u={},t.tags)u[d]=t.tags[d];u.mapbox_clip_start=i.start/i.size,u.mapbox_clip_end=i.end/i.size}var f={geometry:o,type:"Polygon"===a||"MultiPolygon"===a?3:"LineString"===a||"MultiLineString"===a?2:1,tags:u};null!==t.id&&(f.id=t.id),e.features.push(f)}}function Te(e,t,n,r,i,a){var o=r*r;if(r>0&&t.size<(i?o:r))n.numPoints+=t.length/3;else{for(var s=[],l=0;l<t.length;l+=3)(0===r||t[l+2]>o)&&(n.numSimplified++,s.push(t[l]),s.push(t[l+1])),n.numPoints++;i&&function(e,t){for(var n=0,r=0,i=e.length,a=i-2;r<i;a=r,r+=2)n+=(e[r]-e[a])*(e[r+1]+e[a+1]);if(n>0===t)for(r=0,i=e.length;r<i/2;r+=2){var o=e[r],s=e[r+1];e[r]=e[i-2-r],e[r+1]=e[i-1-r],e[i-2-r]=o,e[i-1-r]=s}}(s,a),e.push(s)}}function Me(e,t){var n=(t=this.options=function(e,t){for(var n in t)e[n]=t[n];return e}(Object.create(this.options),t)).debug;if(n&&console.time("preprocess data"),t.maxZoom<0||t.maxZoom>24)throw new Error("maxZoom should be in the 0-24 range");if(t.promoteId&&t.generateId)throw new Error("promoteId and generateId cannot be used together.");var r=function(e,t){var n=[];if("FeatureCollection"===e.type)for(var r=0;r<e.features.length;r++)se(n,e.features[r],t,r);else se(n,"Feature"===e.type?e:{geometry:e},t);return n}(e,t);this.tiles={},this.tileCoords=[],n&&(console.timeEnd("preprocess data"),console.log("index: maxZoom: %d, maxPoints: %d",t.indexMaxZoom,t.indexMaxPoints),console.time("generate tiles"),this.stats={},this.total=0),r=function(e,t){var n=t.buffer/t.extent,r=e,i=he(e,1,-1-n,n,0,-1,2,t),a=he(e,1,1-n,2+n,0,-1,2,t);return(i||a)&&(r=he(e,1,-n,1+n,0,-1,2,t)||[],i&&(r=_e(i,1).concat(r)),a&&(r=r.concat(_e(a,-1)))),r}(r,t),r.length&&this.splitTile(r,0,0,0),n&&(r.length&&console.log("features: %d, points: %d",this.tiles[0].numFeatures,this.tiles[0].numPoints),console.timeEnd("generate tiles"),console.log("tiles generated:",this.total,JSON.stringify(this.stats)))}function Ie(e,t,n){return 32*((1<<e)*n+t)+e}function Oe(e,t){var n=e.tileID.canonical;if(!this._geoJSONIndex)return t(null,null);var r=this._geoJSONIndex.getTile(n.z,n.x,n.y);if(!r)return t(null,null);var i=new y(r.features),a=x.exports(i);0===a.byteOffset&&a.byteLength===a.buffer.byteLength||(a=new Uint8Array(a)),t(null,{vectorTile:i,rawData:a.buffer})}Me.prototype.options={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,tolerance:3,extent:4096,buffer:64,lineMetrics:!1,promoteId:null,generateId:!1,debug:0},Me.prototype.splitTile=function(e,t,n,r,i,a,o){for(var s=[e,t,n,r],l=this.options,c=l.debug;s.length;){r=s.pop(),n=s.pop(),t=s.pop(),e=s.pop();var u=1<<t,d=Ie(t,n,r),f=this.tiles[d];if(!f&&(c>1&&console.time("creation"),f=this.tiles[d]=Ee(e,t,n,r,l),this.tileCoords.push({z:t,x:n,y:r}),c)){c>1&&(console.log("tile z%d-%d-%d (features: %d, points: %d, simplified: %d)",t,n,r,f.numFeatures,f.numPoints,f.numSimplified),console.timeEnd("creation"));var h="z"+t;this.stats[h]=(this.stats[h]||0)+1,this.total++}if(f.source=e,i){if(t===l.maxZoom||t===i)continue;var p=1<<i-t;if(n!==Math.floor(a/p)||r!==Math.floor(o/p))continue}else if(t===l.indexMaxZoom||f.numPoints<=l.indexMaxPoints)continue;if(f.source=null,0!==e.length){c>1&&console.time("clipping");var m,v,g,y,x,b,_=.5*l.buffer/l.extent,w=.5-_,k=.5+_,S=1+_;m=v=g=y=null,x=he(e,u,n-_,n+k,0,f.minX,f.maxX,l),b=he(e,u,n+w,n+S,0,f.minX,f.maxX,l),e=null,x&&(m=he(x,u,r-_,r+k,1,f.minY,f.maxY,l),v=he(x,u,r+w,r+S,1,f.minY,f.maxY,l),x=null),b&&(g=he(b,u,r-_,r+k,1,f.minY,f.maxY,l),y=he(b,u,r+w,r+S,1,f.minY,f.maxY,l),b=null),c>1&&console.timeEnd("clipping"),s.push(m||[],t+1,2*n,2*r),s.push(v||[],t+1,2*n,2*r+1),s.push(g||[],t+1,2*n+1,2*r),s.push(y||[],t+1,2*n+1,2*r+1)}}},Me.prototype.getTile=function(e,t,n){var r=this.options,i=r.extent,a=r.debug;if(e<0||e>24)return null;var o=1<<e,s=Ie(e,t=(t%o+o)%o,n);if(this.tiles[s])return ke(this.tiles[s],i);a>1&&console.log("drilling down to z%d-%d-%d",e,t,n);for(var l,c=e,u=t,d=n;!l&&c>0;)c--,u=Math.floor(u/2),d=Math.floor(d/2),l=this.tiles[Ie(c,u,d)];return l&&l.source?(a>1&&console.log("found parent tile z%d-%d-%d",c,u,d),a>1&&console.time("drilling down"),this.splitTile(l.source,c,u,d,e,t,n),a>1&&console.timeEnd("drilling down"),this.tiles[s]?ke(this.tiles[s],i):null):null};var Pe=function(t){m(r,t);var n=v(r);function r(e,t,i,a,o){var s;return h(this,r),s=n.call(this,e,t,i,a,Oe),o&&(s.loadGeoJSON=o),s}return p(r,[{key:"loadData",value:function(t,n){var r=this,i=t&&t.request,o=i&&i.collectResourceTiming;this.loadGeoJSON(t,(function(s,l){if(s||!l)return n(s);if("object"!=typeof l)return n(new Error("Input data given to '".concat(t.source,"' is not a valid GeoJSON object.")));a(l,!0);try{if(t.filter){var c=e.createExpression(t.filter,{type:"boolean","property-type":"data-driven",overridable:!1,transition:!1});if("error"===c.result)throw new Error(c.value.map((function(e){return"".concat(e.key,": ").concat(e.message)})).join(", "));var u=l.features.filter((function(e){return c.value.evaluate({zoom:0},e)}));l={type:"FeatureCollection",features:u}}r._geoJSONIndex=t.cluster?new q(function(t){var n=t.superclusterOptions,r=t.clusterProperties;if(!r||!n)return n;for(var i={},a={},o={accumulated:null,zoom:0},s={properties:null},l=Object.keys(r),c=0,u=l;c<u.length;c++){var f=u[c],h=d(r[f],2),p=h[0],m=h[1],v=e.createExpression(m),g=e.createExpression("string"==typeof p?[p,["accumulated"],["get",f]]:p);i[f]=v.value,a[f]=g.value}return n.map=function(e){s.properties=e;for(var t={},n=0,r=l;n<r.length;n++){var a=r[n];t[a]=i[a].evaluate(o,s)}return t},n.reduce=function(e,t){s.properties=t;for(var n=0,r=l;n<r.length;n++){var i=r[n];o.accumulated=e[i],e[i]=a[i].evaluate(o,s)}},n}(t)).load(l.features):function(e,t){return new Me(e,t)}(l,t.geojsonVtOptions)}catch(s){return n(s)}r.loaded={};var f={};if(o){var h=e.getPerformanceMeasurement(i);h&&(f.resourceTiming={},f.resourceTiming[t.source]=JSON.parse(JSON.stringify(h)))}n(null,f)}))}},{key:"reloadTile",value:function(e,t){var n=this.loaded;return n&&n[e.uid]?o(s(r.prototype),"reloadTile",this).call(this,e,t):this.loadTile(e,t)}},{key:"loadGeoJSON",value:function(t,n){if(t.request)e.getJSON(t.request,n);else{if("string"!=typeof t.data)return n(new Error("Input data given to '".concat(t.source,"' is not a valid GeoJSON object.")));try{return n(null,JSON.parse(t.data))}catch(e){return n(new Error("Input data given to '".concat(t.source,"' is not a valid GeoJSON object.")))}}}},{key:"getClusterExpansionZoom",value:function(e,t){try{t(null,this._geoJSONIndex.getClusterExpansionZoom(e.clusterId))}catch(e){t(e)}}},{key:"getClusterChildren",value:function(e,t){try{t(null,this._geoJSONIndex.getChildren(e.clusterId))}catch(e){t(e)}}},{key:"getClusterLeaves",value:function(e,t){try{t(null,this._geoJSONIndex.getLeaves(e.clusterId,e.limit,e.offset))}catch(e){t(e)}}}]),r}(e.VectorTileWorkerSource),Ae=function(){function t(n){var r=this;h(this,t),this.self=n,this.actor=new e.Actor(n,this),this.layerIndexes={},this.availableImages={},this.isSpriteLoaded={},this.projections={},this.defaultProjection=e.getProjection({name:"mercator"}),this.workerSourceTypes={vector:e.VectorTileWorkerSource,geojson:Pe},this.workerSources={},this.demWorkerSources={},this.self.registerWorkerSource=function(e,t){if(r.workerSourceTypes[e])throw new Error('Worker source with name "'.concat(e,'" already registered.'));r.workerSourceTypes[e]=t},this.self.registerRTLTextPlugin=function(t){if(e.plugin.isParsed())throw new Error("RTL text plugin already registered.");e.plugin.applyArabicShaping=t.applyArabicShaping,e.plugin.processBidirectionalText=t.processBidirectionalText,e.plugin.processStyledBidirectionalText=t.processStyledBidirectionalText}}return p(t,[{key:"clearCaches",value:function(e,t,n){delete this.layerIndexes[e],delete this.availableImages[e],delete this.workerSources[e],delete this.demWorkerSources[e],n()}},{key:"checkIfReady",value:function(e,t,n){n()}},{key:"setReferrer",value:function(e,t){this.referrer=t}},{key:"spriteLoaded",value:function(t,n){for(var r in this.isSpriteLoaded[t]=n,this.workerSources[t]){var i=this.workerSources[t][r];for(var a in i)i[a]instanceof e.VectorTileWorkerSource&&(i[a].isSpriteLoaded=n,i[a].fire(new e.Event("isSpriteLoaded")))}}},{key:"setImages",value:function(e,t,n){for(var r in this.availableImages[e]=t,this.workerSources[e]){var i=this.workerSources[e][r];for(var a in i)i[a].availableImages=t}n()}},{key:"enableTerrain",value:function(e,t,n){this.terrain=t,n()}},{key:"setProjection",value:function(t,n){this.projections[t]=e.getProjection(n)}},{key:"setLayers",value:function(e,t,n){this.getLayerIndex(e).replace(t),n()}},{key:"updateLayers",value:function(e,t,n){this.getLayerIndex(e).update(t.layers,t.removedIds),n()}},{key:"loadTile",value:function(t,n,r){var i=this.enableTerrain?e.extend({enableTerrain:this.terrain},n):n;i.projection=this.projections[t]||this.defaultProjection,this.getWorkerSource(t,n.type,n.source).loadTile(i,r)}},{key:"loadDEMTile",value:function(t,n,r){var i=this.enableTerrain?e.extend({buildQuadTree:this.terrain},n):n;this.getDEMWorkerSource(t,n.source).loadTile(i,r)}},{key:"reloadTile",value:function(t,n,r){var i=this.enableTerrain?e.extend({enableTerrain:this.terrain},n):n;i.projection=this.projections[t]||this.defaultProjection,this.getWorkerSource(t,n.type,n.source).reloadTile(i,r)}},{key:"abortTile",value:function(e,t,n){this.getWorkerSource(e,t.type,t.source).abortTile(t,n)}},{key:"removeTile",value:function(e,t,n){this.getWorkerSource(e,t.type,t.source).removeTile(t,n)}},{key:"removeSource",value:function(e,t,n){if(this.workerSources[e]&&this.workerSources[e][t.type]&&this.workerSources[e][t.type][t.source]){var r=this.workerSources[e][t.type][t.source];delete this.workerSources[e][t.type][t.source],void 0!==r.removeSource?r.removeSource(t,n):n()}}},{key:"loadWorkerSource",value:function(e,t,n){try{this.self.importScripts(t.url),n()}catch(e){n(e.toString())}}},{key:"syncRTLPluginState",value:function(t,n,r){try{e.plugin.setState(n);var i=e.plugin.getPluginURL();if(e.plugin.isLoaded()&&!e.plugin.isParsed()&&null!=i){this.self.importScripts(i);var a=e.plugin.isParsed();r(a?void 0:new Error("RTL Text Plugin failed to import scripts from ".concat(i)),a)}}catch(e){r(e.toString())}}},{key:"getAvailableImages",value:function(e){var t=this.availableImages[e];return t||(t=[]),t}},{key:"getLayerIndex",value:function(e){var t=this.layerIndexes[e];return t||(t=this.layerIndexes[e]=new r),t}},{key:"getWorkerSource",value:function(e,t,n){var r=this;if(this.workerSources[e]||(this.workerSources[e]={}),this.workerSources[e][t]||(this.workerSources[e][t]={}),!this.workerSources[e][t][n]){var i={send:function(t,n,i,a,o,s){r.actor.send(t,n,i,e,o,s)},scheduler:this.actor.scheduler};this.workerSources[e][t][n]=new this.workerSourceTypes[t](i,this.getLayerIndex(e),this.getAvailableImages(e),this.isSpriteLoaded[e])}return this.workerSources[e][t][n]}},{key:"getDEMWorkerSource",value:function(e,t){return this.demWorkerSources[e]||(this.demWorkerSources[e]={}),this.demWorkerSources[e][t]||(this.demWorkerSources[e][t]=new i),this.demWorkerSources[e][t]}},{key:"enforceCacheSizeLimit",value:function(t,n){e.enforceCacheSizeLimit(n)}},{key:"getWorkerPerformanceMetrics",value:function(e,t,n){n(void 0,void 0)}}]),t}();return"undefined"!=typeof WorkerGlobalScope&&"undefined"!=typeof self&&self instanceof WorkerGlobalScope&&(self.worker=new Ae(self)),Ae})),y(["./shared"],(function(e){function t(e,n){if(Array.isArray(e)){if(!Array.isArray(n)||e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(!t(e[r],n[r]))return!1;return!0}if("object"==typeof e&&null!==e&&null!==n){if("object"!=typeof n)return!1;if(Object.keys(e).length!==Object.keys(n).length)return!1;for(var i in e)if(!t(e[i],n[i]))return!1;return!0}return e===n}var n=c;function c(e){return!function(e){return"undefined"==typeof window||"undefined"==typeof document?"not a browser":Array.prototype&&Array.prototype.every&&Array.prototype.filter&&Array.prototype.forEach&&Array.prototype.indexOf&&Array.prototype.lastIndexOf&&Array.prototype.map&&Array.prototype.some&&Array.prototype.reduce&&Array.prototype.reduceRight&&Array.isArray?Function.prototype&&Function.prototype.bind?Object.keys&&Object.create&&Object.getPrototypeOf&&Object.getOwnPropertyNames&&Object.isSealed&&Object.isFrozen&&Object.isExtensible&&Object.getOwnPropertyDescriptor&&Object.defineProperty&&Object.defineProperties&&Object.seal&&Object.freeze&&Object.preventExtensions?"JSON"in window&&"parse"in JSON&&"stringify"in JSON?function(){if(!("Worker"in window&&"Blob"in window&&"URL"in window))return!1;var e,t,n=new Blob([""],{type:"text/javascript"}),r=URL.createObjectURL(n);try{t=new Worker(r),e=!0}catch(t){e=!1}return t&&t.terminate(),URL.revokeObjectURL(r),e}()?"Uint8ClampedArray"in window?ArrayBuffer.isView?function(){var e=document.createElement("canvas");e.width=e.height=1;var t=e.getContext("2d");if(!t)return!1;var n=t.getImageData(0,0,1,1);return n&&n.width===e.width}()?(void 0===g[t=e&&e.failIfMajorPerformanceCaveat]&&(g[t]=function(e){var t,n=function(e){var t=document.createElement("canvas"),n=Object.create(c.webGLContextAttributes);return n.failIfMajorPerformanceCaveat=e,t.getContext("webgl",n)||t.getContext("experimental-webgl",n)}(e);if(!n)return!1;try{t=n.createShader(n.VERTEX_SHADER)}catch(e){return!1}return!(!t||n.isContextLost())&&(n.shaderSource(t,"void main() {}"),n.compileShader(t),!0===n.getShaderParameter(t,n.COMPILE_STATUS))}(t)),g[t]?document.documentMode?"insufficient ECMAScript 6 support":void 0:"insufficient WebGL support"):"insufficient Canvas/getImageData support":"insufficient ArrayBuffer support":"insufficient Uint8ClampedArray support":"insufficient worker support":"insufficient JSON support":"insufficient Object support":"insufficient Function support":"insufficent Array support";var t}(e)}var g={};function y(t,n,r){var i=e.window.document.createElement(t);return void 0!==n&&(i.className=n),r&&r.appendChild(i),i}function x(t,n,r){for(var i=e.window.document.createElementNS("http://www.w3.org/2000/svg",t),a=0,o=Object.keys(n);a<o.length;a++){var s=o[a];i.setAttributeNS(null,s,n[s])}return r&&r.appendChild(i),i}c.webGLContextAttributes={antialias:!1,alpha:!0,stencil:!0,depth:!0};var b,_=e.window.document&&e.window.document.documentElement.style,w=_&&void 0!==_.userSelect?"userSelect":"WebkitUserSelect";function k(){_&&w&&(b=_[w],_[w]="none")}function S(){_&&w&&(_[w]=b)}function E(t){t.preventDefault(),t.stopPropagation(),e.window.removeEventListener("click",E,!0)}function C(){e.window.addEventListener("click",E,!0),e.window.setTimeout((function(){e.window.removeEventListener("click",E,!0)}),0)}function T(e,t){var n=e.getBoundingClientRect();return O(e,n,t)}function M(e,t){for(var n=e.getBoundingClientRect(),r=[],i=0;i<t.length;i++)r.push(O(e,n,t[i]));return r}function I(t){return void 0!==e.window.InstallTrigger&&2===t.button&&t.ctrlKey&&e.window.navigator.platform.toUpperCase().indexOf("MAC")>=0?0:t.button}function O(t,n,r){var i=t.offsetWidth===n.width?1:t.offsetWidth/n.width;return new e.pointGeometry((r.clientX-n.left)*i,(r.clientY-n.top)*i)}function P(e,t){var n=t[0],r=t[1],i=t[2],a=t[3],o=n*a-i*r;return o?(e[0]=a*(o=1/o),e[1]=-r*o,e[2]=-i*o,e[3]=n*o,e):null}function A(e){var t=e.userImage;return!!(t&&t.render&&t.render())&&(e.data.replace(new Uint8Array(t.data.buffer)),!0)}var z=function(t){m(r,t);var n=v(r);function r(){var t;return h(this,r),(t=n.call(this)).images={},t.updatedImages={},t.callbackDispatchedThisFrame={},t.loaded=!1,t.requestors=[],t.patterns={},t.atlasImage=new e.RGBAImage({width:1,height:1}),t.dirty=!0,t}return p(r,[{key:"isLoaded",value:function(){return this.loaded}},{key:"setLoaded",value:function(e){if(this.loaded!==e&&(this.loaded=e,e)){var t,n=f(this.requestors);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.ids,a=r.callback;this._notify(i,a)}}catch(o){n.e(o)}finally{n.f()}this.requestors=[]}}},{key:"hasImage",value:function(e){return!!this.getImage(e)}},{key:"getImage",value:function(e){return this.images[e]}},{key:"addImage",value:function(e,t){this._validate(e,t)&&(this.images[e]=t)}},{key:"_validate",value:function(t,n){var r=!0;return this._validateStretch(n.stretchX,n.data&&n.data.width)||(this.fire(new e.ErrorEvent(new Error('Image "'.concat(t,'" has invalid "stretchX" value')))),r=!1),this._validateStretch(n.stretchY,n.data&&n.data.height)||(this.fire(new e.ErrorEvent(new Error('Image "'.concat(t,'" has invalid "stretchY" value')))),r=!1),this._validateContent(n.content,n)||(this.fire(new e.ErrorEvent(new Error('Image "'.concat(t,'" has invalid "content" value')))),r=!1),r}},{key:"_validateStretch",value:function(e,t){if(!e)return!0;var n,r=0,i=f(e);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a[0]<r||a[1]<a[0]||t<a[1])return!1;r=a[1]}}catch(o){i.e(o)}finally{i.f()}return!0}},{key:"_validateContent",value:function(e,t){return!(e&&(4!==e.length||e[0]<0||t.data.width<e[0]||e[1]<0||t.data.height<e[1]||e[2]<0||t.data.width<e[2]||e[3]<0||t.data.height<e[3]||e[2]<e[0]||e[3]<e[1]))}},{key:"updateImage",value:function(e,t){t.version=this.images[e].version+1,this.images[e]=t,this.updatedImages[e]=!0}},{key:"removeImage",value:function(e){var t=this.images[e];delete this.images[e],delete this.patterns[e],t.userImage&&t.userImage.onRemove&&t.userImage.onRemove()}},{key:"listImages",value:function(){return Object.keys(this.images)}},{key:"getImages",value:function(e,t){var n=!0;if(!this.isLoaded()){var r,i=f(e);try{for(i.s();!(r=i.n()).done;){var a=r.value;this.images[a]||(n=!1)}}catch(o){i.e(o)}finally{i.f()}}this.isLoaded()||n?this._notify(e,t):this.requestors.push({ids:e,callback:t})}},{key:"_notify",value:function(t,n){var r,i={},a=f(t);try{for(a.s();!(r=a.n()).done;){var o=r.value;this.images[o]||this.fire(new e.Event("styleimagemissing",{id:o}));var s=this.images[o];s?i[o]={data:s.data.clone(),pixelRatio:s.pixelRatio,sdf:s.sdf,version:s.version,stretchX:s.stretchX,stretchY:s.stretchY,content:s.content,hasRenderCallback:Boolean(s.userImage&&s.userImage.render)}:e.warnOnce('Image "'.concat(o,'" could not be loaded. Please make sure you have added the image with map.addImage() or a "sprite" property in your style. You can provide missing images by listening for the "styleimagemissing" map event.'))}}catch(l){a.e(l)}finally{a.f()}n(null,i)}},{key:"getPixelSize",value:function(){var e=this.atlasImage;return{width:e.width,height:e.height}}},{key:"getPattern",value:function(t){var n=this.patterns[t],r=this.getImage(t);if(!r)return null;if(n&&n.position.version===r.version)return n.position;if(n)n.position.version=r.version;else{var i={w:r.data.width+2,h:r.data.height+2,x:0,y:0},a=new e.ImagePosition(i,r);this.patterns[t]={bin:i,position:a}}return this._updatePatternAtlas(),this.patterns[t].position}},{key:"bind",value:function(t){var n=t.gl;this.atlasTexture?this.dirty&&(this.atlasTexture.update(this.atlasImage),this.dirty=!1):this.atlasTexture=new e.Texture(t,this.atlasImage,n.RGBA),this.atlasTexture.bind(n.LINEAR,n.CLAMP_TO_EDGE)}},{key:"_updatePatternAtlas",value:function(){var t=[];for(var n in this.patterns)t.push(this.patterns[n].bin);var r=e.potpack(t),i=r.w,a=r.h,o=this.atlasImage;for(var s in o.resize({width:i||1,height:a||1}),this.patterns){var l=this.patterns[s].bin,c=l.x+1,u=l.y+1,d=this.images[s].data,f=d.width,h=d.height;e.RGBAImage.copy(d,o,{x:0,y:0},{x:c,y:u},{width:f,height:h}),e.RGBAImage.copy(d,o,{x:0,y:h-1},{x:c,y:u-1},{width:f,height:1}),e.RGBAImage.copy(d,o,{x:0,y:0},{x:c,y:u+h},{width:f,height:1}),e.RGBAImage.copy(d,o,{x:f-1,y:0},{x:c-1,y:u},{width:1,height:h}),e.RGBAImage.copy(d,o,{x:0,y:0},{x:c+f,y:u},{width:1,height:h})}this.dirty=!0}},{key:"beginFrame",value:function(){this.callbackDispatchedThisFrame={}}},{key:"dispatchRenderCallbacks",value:function(e){var t,n=f(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(!this.callbackDispatchedThisFrame[r]){this.callbackDispatchedThisFrame[r]=!0;var i=this.images[r];A(i)&&this.updateImage(r,i)}}}catch(a){n.e(a)}finally{n.f()}}}]),r}(e.Evented),j=new e.Properties({anchor:new e.DataConstantProperty(e.spec.light.anchor),position:new(function(){function t(){h(this,t),this.specification=e.spec.light.position}return p(t,[{key:"possiblyEvaluate",value:function(t,n){return function(t){var n=d(t,3),r=n[0],i=n[1],a=n[2],o=e.degToRad(i+90),s=e.degToRad(a);return{x:r*Math.cos(o)*Math.sin(s),y:r*Math.sin(o)*Math.sin(s),z:r*Math.cos(s),azimuthal:i,polar:a}}(t.expression.evaluate(n))}},{key:"interpolate",value:function(t,n,r){return{x:e.number(t.x,n.x,r),y:e.number(t.y,n.y,r),z:e.number(t.z,n.z,r),azimuthal:e.number(t.azimuthal,n.azimuthal,r),polar:e.number(t.polar,n.polar,r)}}}]),t}()),color:new e.DataConstantProperty(e.spec.light.color),intensity:new e.DataConstantProperty(e.spec.light.intensity)}),R="-transition",D=function(t){m(r,t);var n=v(r);function r(t){var i;return h(this,r),(i=n.call(this))._transitionable=new e.Transitionable(j),i.setLight(t),i._transitioning=i._transitionable.untransitioned(),i}return p(r,[{key:"getLight",value:function(){return this._transitionable.serialize()}},{key:"setLight",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!this._validate(e.validateLight,t,n))for(var r in t){var i=t[r];e.endsWith(r,R)?this._transitionable.setTransition(r.slice(0,-R.length),i):this._transitionable.setValue(r,i)}}},{key:"updateTransitions",value:function(e){this._transitioning=this._transitionable.transitioned(e,this._transitioning)}},{key:"hasTransition",value:function(){return this._transitioning.hasTransition()}},{key:"recalculate",value:function(e){this.properties=this._transitioning.possiblyEvaluate(e)}},{key:"_validate",value:function(t,n,r){return(!r||!1!==r.validate)&&e.emitValidationErrors(this,t.call(e.validateStyle,e.extend({value:n,style:{glyphs:!0,sprite:!0},styleSpec:e.spec})))}}]),r}(e.Evented),L=new e.Properties({source:new e.DataConstantProperty(e.spec.terrain.source),exaggeration:new e.DataConstantProperty(e.spec.terrain.exaggeration)}),N="-transition",B=function(t){m(r,t);var n=v(r);function r(t,i){var a;return h(this,r),(a=n.call(this))._transitionable=new e.Transitionable(L),a.set(t),a._transitioning=a._transitionable.untransitioned(),a.drapeRenderMode=i,a}return p(r,[{key:"get",value:function(){return this._transitionable.serialize()}},{key:"set",value:function(t){for(var n in t){var r=t[n];e.endsWith(n,N)?this._transitionable.setTransition(n.slice(0,-N.length),r):this._transitionable.setValue(n,r)}}},{key:"updateTransitions",value:function(e){this._transitioning=this._transitionable.transitioned(e,this._transitioning)}},{key:"hasTransition",value:function(){return this._transitioning.hasTransition()}},{key:"recalculate",value:function(e){this.properties=this._transitioning.possiblyEvaluate(e)}}]),r}(e.Evented);function F(t,n,r,i){var a=e.smoothstep(45,65,r),o=V(t,i),s=d(o,2),l=s[0],c=s[1],u=e.length(n),f=1-Math.min(1,Math.exp((u-l)/(c-l)*-6));return f*=f*f,(f=Math.min(1,1.00747*f))*a*t.alpha}function V(e,t){var n=.5/Math.tan(.5*t);return[e.range[0]+n,e.range[1]+n]}var U=new e.Properties({range:new e.DataConstantProperty(e.spec.fog.range),color:new e.DataConstantProperty(e.spec.fog.color),"high-color":new e.DataConstantProperty(e.spec.fog["high-color"]),"space-color":new e.DataConstantProperty(e.spec.fog["space-color"]),"horizon-blend":new e.DataConstantProperty(e.spec.fog["horizon-blend"]),"star-intensity":new e.DataConstantProperty(e.spec.fog["star-intensity"])}),H="-transition",G=function(t){m(r,t);var n=v(r);function r(t,i){var a;return h(this,r),(a=n.call(this))._transitionable=new e.Transitionable(U),a.set(t),a._transitioning=a._transitionable.untransitioned(),a._transform=i,a}return p(r,[{key:"state",get:function(){var t=this._transform,n="globe"===t.projection.name,r=e.globeToMercatorTransition(t.zoom),i=this.properties.get("range"),a=[.5,3];return{range:n?[e.number(a[0],i[0],r),e.number(a[1],i[1],r)]:i,horizonBlend:this.properties.get("horizon-blend"),alpha:this.properties.get("color").a}}},{key:"get",value:function(){return this._transitionable.serialize()}},{key:"set",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!this._validate(e.validateFog,t,n)){for(var r=0,i=Object.keys(e.spec.fog);r<i.length;r++){var a=i[r];t&&void 0===t[a]&&(t[a]=e.spec.fog[a].default)}for(var o in t){var s=t[o];e.endsWith(o,H)?this._transitionable.setTransition(o.slice(0,-H.length),s):this._transitionable.setValue(o,s)}}}},{key:"getOpacity",value:function(t){if(!this._transform.projection.supportsFog)return 0;var n=this.properties&&this.properties.get("color")||1;return("globe"===this._transform.projection.name?1:e.smoothstep(45,65,t))*n.a}},{key:"getOpacityAtLatLng",value:function(t,n){return this._transform.projection.supportsFog?function(t,n,r){var i=e.MercatorCoordinate.fromLngLat(n),a=r.elevation?r.elevation.getAtPointOrZero(i):0,o=[i.x,i.y,a];return e.transformMat4(o,o,r.mercatorFogMatrix),F(t,o,r.pitch,r._fov)}(this.state,t,n):0}},{key:"getFovAdjustedRange",value:function(e){return this._transform.projection.supportsFog?V(this.state,e):[0,1]}},{key:"updateTransitions",value:function(e){this._transitioning=this._transitionable.transitioned(e,this._transitioning)}},{key:"hasTransition",value:function(){return this._transitioning.hasTransition()}},{key:"recalculate",value:function(e){this.properties=this._transitioning.possiblyEvaluate(e)}},{key:"_validate",value:function(t,n,r){return(!r||!1!==r.validate)&&e.emitValidationErrors(this,t.call(e.validateStyle,e.extend({value:n,style:{glyphs:!0,sprite:!0},styleSpec:e.spec})))}}]),r}(e.Evented),W=function(){function t(n,r){var i=this;h(this,t),this.workerPool=n,this.actors=[],this.currentActor=0,this.id=e.uniqueId();for(var a=this.workerPool.acquire(this.id),o=0;o<a.length;o++){var s=new t.Actor(a[o],r,this.id);s.name="Worker ".concat(o),this.actors.push(s)}this.ready=!1,this.broadcast("checkIfReady",null,(function(){i.ready=!0}))}return p(t,[{key:"broadcast",value:function(t,n,r){e.asyncAll(this.actors,(function(e,r){e.send(t,n,r)}),r=r||function(){})}},{key:"getActor",value:function(){return this.currentActor=(this.currentActor+1)%this.actors.length,this.actors[this.currentActor]}},{key:"remove",value:function(){this.actors.forEach((function(e){e.remove()})),this.actors=[],this.workerPool.release(this.id)}}]),t}();function q(t,n,r){return n*(e.EXTENT/(t.tileSize*Math.pow(2,r-t.tileID.overscaledZ)))}W.Actor=e.Actor;var X=function(){function t(e,n,r,i){h(this,t),this.screenBounds=e,this.cameraPoint=n,this._screenRaycastCache={},this._cameraRaycastCache={},this.isAboveHorizon=r,this.screenGeometry=this.bufferedScreenGeometry(0),this.screenGeometryMercator=this._bufferedScreenMercator(0,i)}return p(t,[{key:"isPointQuery",value:function(){return 1===this.screenBounds.length}},{key:"bufferedScreenGeometry",value:function(t){return e.polygonizeBounds(this.screenBounds[0],1===this.screenBounds.length?this.screenBounds[0]:this.screenBounds[1],t)}},{key:"bufferedCameraGeometry",value:function(t){var n=this.screenBounds[0],r=1===this.screenBounds.length?this.screenBounds[0].add(new e.pointGeometry(1,1)):this.screenBounds[1],i=e.polygonizeBounds(n,r,0,!1);return this.cameraPoint.y>r.y&&(this.cameraPoint.x>n.x&&this.cameraPoint.x<r.x?i.splice(3,0,this.cameraPoint):this.cameraPoint.x>=r.x?i[2]=this.cameraPoint:this.cameraPoint.x<=n.x&&(i[3]=this.cameraPoint)),e.bufferConvexPolygon(i,t)}},{key:"bufferedCameraGeometryGlobe",value:function(t){var n=this.screenBounds[0],r=1===this.screenBounds.length?this.screenBounds[0].add(new e.pointGeometry(1,1)):this.screenBounds[1],i=e.polygonizeBounds(n,r,t),a=this.cameraPoint.clone();switch(3*((a.y>n.y)+(a.y>r.y))+((a.x>n.x)+(a.x>r.x))){case 0:i[0]=a,i[4]=a.clone();break;case 1:i.splice(1,0,a);break;case 2:i[1]=a;break;case 3:i.splice(4,0,a);break;case 5:i.splice(2,0,a);break;case 6:i[3]=a;break;case 7:i.splice(3,0,a);break;case 8:i[2]=a}return i}},{key:"containsTile",value:function(t,n,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,a=t.queryPadding/n._pixelsPerMercatorPixel+1,o=r?this._bufferedCameraMercator(a,n):this._bufferedScreenMercator(a,n),s=t.tileID.wrap+(o.unwrapped?i:0),l=o.polygon.map((function(n){return e.getTilePoint(t.tileTransform,n,s)}));if(e.polygonIntersectsBox(l,0,0,e.EXTENT,e.EXTENT)){s=t.tileID.wrap+(this.screenGeometryMercator.unwrapped?i:0);var c,u=this.screenGeometryMercator.polygon.map((function(n){return e.getTileVec3(t.tileTransform,n,s)})),d=u.map((function(t){return new e.pointGeometry(t[0],t[1])})),f=n.getFreeCameraOptions().position||new e.MercatorCoordinate(0,0,0),h=e.getTileVec3(t.tileTransform,f,s),p=u.map((function(t){var n=e.sub(t,t,h);return e.normalize(n,n),new e.Ray(h,n)})),m=q(t,1,n.zoom)*n._pixelsPerMercatorPixel;return{queryGeometry:this,tilespaceGeometry:d,tilespaceRays:p,bufferedTilespaceGeometry:l,bufferedTilespaceBounds:(c=e.getBounds(l),c.min.x=e.clamp(c.min.x,0,e.EXTENT),c.min.y=e.clamp(c.min.y,0,e.EXTENT),c.max.x=e.clamp(c.max.x,0,e.EXTENT),c.max.y=e.clamp(c.max.y,0,e.EXTENT),c),tile:t,tileID:t.tileID,pixelToTileUnitsFactor:m}}}},{key:"_bufferedScreenMercator",value:function(e,t){var n,r=Y(e);return this._screenRaycastCache[r]?this._screenRaycastCache[r]:(n="globe"===t.projection.name?this._projectAndResample(this.bufferedScreenGeometry(e),t):{polygon:this.bufferedScreenGeometry(e).map((function(e){return t.pointCoordinate3D(e)})),unwrapped:!0},this._screenRaycastCache[r]=n,n)}},{key:"_bufferedCameraMercator",value:function(e,t){var n,r=Y(e);return this._cameraRaycastCache[r]?this._cameraRaycastCache[r]:(n="globe"===t.projection.name?this._projectAndResample(this.bufferedCameraGeometryGlobe(e),t):{polygon:this.bufferedCameraGeometry(e).map((function(e){return t.pointCoordinate3D(e)})),unwrapped:!0},this._cameraRaycastCache[r]=n,n)}},{key:"_projectAndResample",value:function(t,n){var r=function(t,n){var r=e.multiply([],n.pixelMatrix,n.globeMatrix),i=[0,-e.GLOBE_RADIUS,0,1],a=[0,e.GLOBE_RADIUS,0,1],o=[0,0,0,1];e.transformMat4$1(i,i,r),e.transformMat4$1(a,a,r),e.transformMat4$1(o,o,r);var s=new e.pointGeometry(i[0]/i[3],i[1]/i[3]),l=new e.pointGeometry(a[0]/a[3],a[1]/a[3]),c=e.polygonContainsPoint(t,s)&&i[3]<o[3],d=e.polygonContainsPoint(t,l)&&a[3]<o[3];if(!c&&!d)return null;var f=function(e,t,n){for(var r=1;r<e.length;r++){var i=K(t.pointCoordinate3D(e[r-1]).x),a=K(t.pointCoordinate3D(e[r]).x);if(n<0){if(i<a)return{idx:r,t:-i/(a-1-i)}}else if(a<i)return{idx:r,t:(1-i)/(a+1-i)}}return null}(t,n,c?-1:1);if(!f)return null;var h=f.idx,p=f.t,m=h>1?Z(t.slice(0,h),n):[],v=h<t.length?Z(t.slice(h),n):[];m=m.map((function(t){return new e.pointGeometry(K(t.x),t.y)})),v=v.map((function(t){return new e.pointGeometry(K(t.x),t.y)}));var g=u(m);0===g.length&&g.push(v[v.length-1]);var y,x=e.number(g[g.length-1].y,(0===v.length?m[0]:v[0]).y,p);return y=c?[new e.pointGeometry(0,x),new e.pointGeometry(0,0),new e.pointGeometry(1,0),new e.pointGeometry(1,x)]:[new e.pointGeometry(1,x),new e.pointGeometry(1,1),new e.pointGeometry(0,1),new e.pointGeometry(0,x)],g.push.apply(g,u(y)),0===v.length?g.push(m[0]):g.push.apply(g,u(v)),{polygon:g.map((function(t){return new e.MercatorCoordinate(t.x,t.y)})),unwrapped:!1}}(t,n);if(r)return r;var i=function(t,n){for(var r=!1,i=-1/0,a=0,o=0;o<t.length-1;o++)t[o].x>i&&(i=t[o].x,a=o);for(var s=0;s<t.length-1;s++){var l=(a+s)%(t.length-1),c=t[l],u=t[l+1];Math.abs(c.x-u.x)>.5&&(c.x<u.x?(c.x+=1,0===l&&(t[t.length-1].x+=1)):(u.x+=1,l+1===t.length-1&&(t[0].x+=1)),r=!0)}var d=e.mercatorXfromLng(n.center.lng);return r&&d<Math.abs(d-1)&&t.forEach((function(e){e.x-=1})),{polygon:t,unwrapped:r}}(Z(t,n).map((function(t){return new e.pointGeometry(K(t.x),t.y)})),n);return{polygon:i.polygon.map((function(t){return new e.MercatorCoordinate(t.x,t.y)})),unwrapped:i.unwrapped}}}],[{key:"createFromScreenPoints",value:function(n,r){var i,a;if(n instanceof e.pointGeometry||"number"==typeof n[0]){var o=e.pointGeometry.convert(n);i=[o],a=r.isPointAboveHorizon(o)}else{var s=e.pointGeometry.convert(n[0]),l=e.pointGeometry.convert(n[1]);i=[s,l],a=e.polygonizeBounds(s,l).every((function(e){return r.isPointAboveHorizon(e)}))}return new t(i,r.getCameraPoint(),a,r)}}]),t}();function Z(t,n){return e.resample(t,(function(e){var t=n.pointCoordinate3D(e);e.x=t.x,e.y=t.y}),1/256)}function K(e){return e<0?1+e%1:e%1}function Y(e){return 100*e|0}function $(t,n,r,i,a){var o=function(r,i){if(r)return a(r);if(i){t.url&&i.tiles&&t.tiles&&delete t.tiles;var o=e.pick(e.extend(i,t),["tiles","minzoom","maxzoom","attribution","mapbox_logo","bounds","scheme","tileSize","encoding"]);i.vector_layers&&(o.vectorLayers=i.vector_layers,o.vectorLayerIds=o.vectorLayers.map((function(e){return e.id}))),o.tiles=n.canonicalizeTileset(o,t.url),a(null,o)}};return t.url?e.getJSON(n.transformRequest(n.normalizeSourceURL(t.url,null,r,i),e.ResourceType.Source),o):e.exported.frame((function(){return o(null,t)}))}var J,Q=function(){function t(n,r,i){h(this,t),this.bounds=e.LngLatBounds.convert(this.validateBounds(n)),this.minzoom=r||0,this.maxzoom=i||24}return p(t,[{key:"validateBounds",value:function(e){return Array.isArray(e)&&4===e.length?[Math.max(-180,e[0]),Math.max(-90,e[1]),Math.min(180,e[2]),Math.min(90,e[3])]:[-180,-90,180,90]}},{key:"contains",value:function(t){var n=Math.pow(2,t.z),r=Math.floor(e.mercatorXfromLng(this.bounds.getWest())*n),i=Math.floor(e.mercatorYfromLat(this.bounds.getNorth())*n),a=Math.ceil(e.mercatorXfromLng(this.bounds.getEast())*n),o=Math.ceil(e.mercatorYfromLat(this.bounds.getSouth())*n);return t.x>=r&&t.x<a&&t.y>=i&&t.y<o}}]),t}(),ee=function(){function e(t,n,r){h(this,e),this.context=t;var i=t.gl;this.buffer=i.createBuffer(),this.dynamicDraw=Boolean(r),this.context.unbindVAO(),t.bindElementBuffer.set(this.buffer),i.bufferData(i.ELEMENT_ARRAY_BUFFER,n.arrayBuffer,this.dynamicDraw?i.DYNAMIC_DRAW:i.STATIC_DRAW),this.dynamicDraw||n.destroy()}return p(e,[{key:"bind",value:function(){this.context.bindElementBuffer.set(this.buffer)}},{key:"updateData",value:function(e){var t=this.context.gl;this.context.unbindVAO(),this.bind(),t.bufferSubData(t.ELEMENT_ARRAY_BUFFER,0,e.arrayBuffer)}},{key:"destroy",value:function(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)}}]),e}(),te={Int8:"BYTE",Uint8:"UNSIGNED_BYTE",Int16:"SHORT",Uint16:"UNSIGNED_SHORT",Int32:"INT",Uint32:"UNSIGNED_INT",Float32:"FLOAT"},ne=function(){function e(t,n,r,i){h(this,e),this.length=n.length,this.attributes=r,this.itemSize=n.bytesPerElement,this.dynamicDraw=i,this.context=t;var a=t.gl;this.buffer=a.createBuffer(),t.bindVertexBuffer.set(this.buffer),a.bufferData(a.ARRAY_BUFFER,n.arrayBuffer,this.dynamicDraw?a.DYNAMIC_DRAW:a.STATIC_DRAW),this.dynamicDraw||n.destroy()}return p(e,[{key:"bind",value:function(){this.context.bindVertexBuffer.set(this.buffer)}},{key:"updateData",value:function(e){var t=this.context.gl;this.bind(),t.bufferSubData(t.ARRAY_BUFFER,0,e.arrayBuffer)}},{key:"enableAttributes",value:function(e,t){for(var n=0;n<this.attributes.length;n++){var r=t.attributes[this.attributes[n].name];void 0!==r&&e.enableVertexAttribArray(r)}}},{key:"setVertexAttribPointers",value:function(e,t,n){for(var r=0;r<this.attributes.length;r++){var i=this.attributes[r],a=t.attributes[i.name];void 0!==a&&e.vertexAttribPointer(a,i.components,e[te[i.type]],!1,this.itemSize,i.offset+this.itemSize*(n||0))}}},{key:"destroy",value:function(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)}}]),e}(),re=function(){function e(t){h(this,e),this.gl=t.gl,this.default=this.getDefault(),this.current=this.default,this.dirty=!1}return p(e,[{key:"get",value:function(){return this.current}},{key:"set",value:function(e){}},{key:"getDefault",value:function(){return this.default}},{key:"setDefault",value:function(){this.set(this.default)}}]),e}(),ie=function(t){m(r,t);var n=v(r);function r(){return h(this,r),n.apply(this,arguments)}return p(r,[{key:"getDefault",value:function(){return e.Color.transparent}},{key:"set",value:function(e){var t=this.current;(e.r!==t.r||e.g!==t.g||e.b!==t.b||e.a!==t.a||this.dirty)&&(this.gl.clearColor(e.r,e.g,e.b,e.a),this.current=e,this.dirty=!1)}}]),r}(re),ae=function(e){m(n,e);var t=v(n);function n(){return h(this,n),t.apply(this,arguments)}return p(n,[{key:"getDefault",value:function(){return 1}},{key:"set",value:function(e){(e!==this.current||this.dirty)&&(this.gl.clearDepth(e),this.current=e,this.dirty=!1)}}]),n}(re),oe=function(e){m(n,e);var t=v(n);function n(){return h(this,n),t.apply(this,arguments)}return p(n,[{key:"getDefault",value:function(){return 0}},{key:"set",value:function(e){(e!==this.current||this.dirty)&&(this.gl.clearStencil(e),this.current=e,this.dirty=!1)}}]),n}(re),se=function(e){m(n,e);var t=v(n);function n(){return h(this,n),t.apply(this,arguments)}return p(n,[{key:"getDefault",value:function(){return[!0,!0,!0,!0]}},{key:"set",value:function(e){var t=this.current;(e[0]!==t[0]||e[1]!==t[1]||e[2]!==t[2]||e[3]!==t[3]||this.dirty)&&(this.gl.colorMask(e[0],e[1],e[2],e[3]),this.current=e,this.dirty=!1)}}]),n}(re),le=function(e){m(n,e);var t=v(n);function n(){return h(this,n),t.apply(this,arguments)}return p(n,[{key:"getDefault",value:function(){return!0}},{key:"set",value:function(e){(e!==this.current||this.dirty)&&(this.gl.depthMask(e),this.current=e,this.dirty=!1)}}]),n}(re),ce=function(e){m(n,e);var t=v(n);function n(){return h(this,n),t.apply(this,arguments)}return p(n,[{key:"getDefault",value:function(){return 255}},{key:"set",value:function(e){(e!==this.current||this.dirty)&&(this.gl.stencilMask(e),this.current=e,this.dirty=!1)}}]),n}(re),ue=function(e){m(n,e);var t=v(n);function n(){return h(this,n),t.apply(this,arguments)}return p(n,[{key:"getDefault",value:function(){return{func:this.gl.ALWAYS,ref:0,mask:255}}},{key:"set",value:function(e){var t=this.current;(e.func!==t.func||e.ref!==t.ref||e.mask!==t.mask||this.dirty)&&(this.gl.stencilFunc(e.func,e.ref,e.mask),this.current=e,this.dirty=!1)}}]),n}(re),de=function(e){m(n,e);var t=v(n);function n(){return h(this,n),t.apply(this,arguments)}return p(n,[{key:"getDefault",value:function(){var e=this.gl;return[e.KEEP,e.KEEP,e.KEEP]}},{key:"set",value:function(e){var t=this.current;(e[0]!==t[0]||e[1]!==t[1]||e[2]!==t[2]||this.dirty)&&(this.gl.stencilOp(e[0],e[1],e[2]),this.current=e,this.dirty=!1)}}]),n}(re),fe=function(e){m(n,e);var t=v(n);function n(){return h(this,n),t.apply(this,arguments)}return p(n,[{key:"getDefault",value:function(){return!1}},{key:"set",value:function(e){if(e!==this.current||this.dirty){var t=this.gl;e?t.enable(t.STENCIL_TEST):t.disable(t.STENCIL_TEST),this.current=e,this.dirty=!1}}}]),n}(re),he=function(e){m(n,e);var t=v(n);function n(){return h(this,n),t.apply(this,arguments)}return p(n,[{key:"getDefault",value:function(){return[0,1]}},{key:"set",value:function(e){var t=this.current;(e[0]!==t[0]||e[1]!==t[1]||this.dirty)&&(this.gl.depthRange(e[0],e[1]),this.current=e,this.dirty=!1)}}]),n}(re),pe=function(e){m(n,e);var t=v(n);function n(){return h(this,n),t.apply(this,arguments)}return p(n,[{key:"getDefault",value:function(){return!1}},{key:"set",value:function(e){if(e!==this.current||this.dirty){var t=this.gl;e?t.enable(t.DEPTH_TEST):t.disable(t.DEPTH_TEST),this.current=e,this.dirty=!1}}}]),n}(re),me=function(e){m(n,e);var t=v(n);function n(){return h(this,n),t.apply(this,arguments)}return p(n,[{key:"getDefault",value:function(){return this.gl.LESS}},{key:"set",value:function(e){(e!==this.current||this.dirty)&&(this.gl.depthFunc(e),this.current=e,this.dirty=!1)}}]),n}(re),ve=function(e){m(n,e);var t=v(n);function n(){return h(this,n),t.apply(this,arguments)}return p(n,[{key:"getDefault",value:function(){return!1}},{key:"set",value:function(e){if(e!==this.current||this.dirty){var t=this.gl;e?t.enable(t.BLEND):t.disable(t.BLEND),this.current=e,this.dirty=!1}}}]),n}(re),ge=function(e){m(n,e);var t=v(n);function n(){return h(this,n),t.apply(this,arguments)}return p(n,[{key:"getDefault",value:function(){var e=this.gl;return[e.ONE,e.ZERO]}},{key:"set",value:function(e){var t=this.current;(e[0]!==t[0]||e[1]!==t[1]||this.dirty)&&(this.gl.blendFunc(e[0],e[1]),this.current=e,this.dirty=!1)}}]),n}(re),ye=function(t){m(r,t);var n=v(r);function r(){return h(this,r),n.apply(this,arguments)}return p(r,[{key:"getDefault",value:function(){return e.Color.transparent}},{key:"set",value:function(e){var t=this.current;(e.r!==t.r||e.g!==t.g||e.b!==t.b||e.a!==t.a||this.dirty)&&(this.gl.blendColor(e.r,e.g,e.b,e.a),this.current=e,this.dirty=!1)}}]),r}(re),xe=function(e){m(n,e);var t=v(n);function n(){return h(this,n),t.apply(this,arguments)}return p(n,[{key:"getDefault",value:function(){return this.gl.FUNC_ADD}},{key:"set",value:function(e){(e!==this.current||this.dirty)&&(this.gl.blendEquation(e),this.current=e,this.dirty=!1)}}]),n}(re),be=function(e){m(n,e);var t=v(n);function n(){return h(this,n),t.apply(this,arguments)}return p(n,[{key:"getDefault",value:function(){return!1}},{key:"set",value:function(e){if(e!==this.current||this.dirty){var t=this.gl;e?t.enable(t.CULL_FACE):t.disable(t.CULL_FACE),this.current=e,this.dirty=!1}}}]),n}(re),_e=function(e){m(n,e);var t=v(n);function n(){return h(this,n),t.apply(this,arguments)}return p(n,[{key:"getDefault",value:function(){return this.gl.BACK}},{key:"set",value:function(e){(e!==this.current||this.dirty)&&(this.gl.cullFace(e),this.current=e,this.dirty=!1)}}]),n}(re),we=function(e){m(n,e);var t=v(n);function n(){return h(this,n),t.apply(this,arguments)}return p(n,[{key:"getDefault",value:function(){return this.gl.CCW}},{key:"set",value:function(e){(e!==this.current||this.dirty)&&(this.gl.frontFace(e),this.current=e,this.dirty=!1)}}]),n}(re),ke=function(e){m(n,e);var t=v(n);function n(){return h(this,n),t.apply(this,arguments)}return p(n,[{key:"getDefault",value:function(){return null}},{key:"set",value:function(e){(e!==this.current||this.dirty)&&(this.gl.useProgram(e),this.current=e,this.dirty=!1)}}]),n}(re),Se=function(e){m(n,e);var t=v(n);function n(){return h(this,n),t.apply(this,arguments)}return p(n,[{key:"getDefault",value:function(){return this.gl.TEXTURE0}},{key:"set",value:function(e){(e!==this.current||this.dirty)&&(this.gl.activeTexture(e),this.current=e,this.dirty=!1)}}]),n}(re),Ee=function(e){m(n,e);var t=v(n);function n(){return h(this,n),t.apply(this,arguments)}return p(n,[{key:"getDefault",value:function(){var e=this.gl;return[0,0,e.drawingBufferWidth,e.drawingBufferHeight]}},{key:"set",value:function(e){var t=this.current;(e[0]!==t[0]||e[1]!==t[1]||e[2]!==t[2]||e[3]!==t[3]||this.dirty)&&(this.gl.viewport(e[0],e[1],e[2],e[3]),this.current=e,this.dirty=!1)}}]),n}(re),Ce=function(e){m(n,e);var t=v(n);function n(){return h(this,n),t.apply(this,arguments)}return p(n,[{key:"getDefault",value:function(){return null}},{key:"set",value:function(e){if(e!==this.current||this.dirty){var t=this.gl;t.bindFramebuffer(t.FRAMEBUFFER,e),this.current=e,this.dirty=!1}}}]),n}(re),Te=function(e){m(n,e);var t=v(n);function n(){return h(this,n),t.apply(this,arguments)}return p(n,[{key:"getDefault",value:function(){return null}},{key:"set",value:function(e){if(e!==this.current||this.dirty){var t=this.gl;t.bindRenderbuffer(t.RENDERBUFFER,e),this.current=e,this.dirty=!1}}}]),n}(re),Me=function(e){m(n,e);var t=v(n);function n(){return h(this,n),t.apply(this,arguments)}return p(n,[{key:"getDefault",value:function(){return null}},{key:"set",value:function(e){if(e!==this.current||this.dirty){var t=this.gl;t.bindTexture(t.TEXTURE_2D,e),this.current=e,this.dirty=!1}}}]),n}(re),Ie=function(e){m(n,e);var t=v(n);function n(){return h(this,n),t.apply(this,arguments)}return p(n,[{key:"getDefault",value:function(){return null}},{key:"set",value:function(e){if(e!==this.current||this.dirty){var t=this.gl;t.bindBuffer(t.ARRAY_BUFFER,e),this.current=e,this.dirty=!1}}}]),n}(re),Oe=function(e){m(n,e);var t=v(n);function n(){return h(this,n),t.apply(this,arguments)}return p(n,[{key:"getDefault",value:function(){return null}},{key:"set",value:function(e){var t=this.gl;t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,e),this.current=e,this.dirty=!1}}]),n}(re),Pe=function(e){m(n,e);var t=v(n);function n(e){var r;return h(this,n),(r=t.call(this,e)).vao=e.extVertexArrayObject,r}return p(n,[{key:"getDefault",value:function(){return null}},{key:"set",value:function(e){this.vao&&(e!==this.current||this.dirty)&&(this.vao.bindVertexArrayOES(e),this.current=e,this.dirty=!1)}}]),n}(re),Ae=function(e){m(n,e);var t=v(n);function n(){return h(this,n),t.apply(this,arguments)}return p(n,[{key:"getDefault",value:function(){return 4}},{key:"set",value:function(e){if(e!==this.current||this.dirty){var t=this.gl;t.pixelStorei(t.UNPACK_ALIGNMENT,e),this.current=e,this.dirty=!1}}}]),n}(re),ze=function(e){m(n,e);var t=v(n);function n(){return h(this,n),t.apply(this,arguments)}return p(n,[{key:"getDefault",value:function(){return!1}},{key:"set",value:function(e){if(e!==this.current||this.dirty){var t=this.gl;t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,e),this.current=e,this.dirty=!1}}}]),n}(re),je=function(e){m(n,e);var t=v(n);function n(){return h(this,n),t.apply(this,arguments)}return p(n,[{key:"getDefault",value:function(){return!1}},{key:"set",value:function(e){if(e!==this.current||this.dirty){var t=this.gl;t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,e),this.current=e,this.dirty=!1}}}]),n}(re),Re=function(e){m(n,e);var t=v(n);function n(e,r){var i;return h(this,n),(i=t.call(this,e)).context=e,i.parent=r,i}return p(n,[{key:"getDefault",value:function(){return null}}]),n}(re),De=function(e){m(n,e);var t=v(n);function n(){return h(this,n),t.apply(this,arguments)}return p(n,[{key:"setDirty",value:function(){this.dirty=!0}},{key:"set",value:function(e){if(e!==this.current||this.dirty){this.context.bindFramebuffer.set(this.parent);var t=this.gl;t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,e,0),this.current=e,this.dirty=!1}}}]),n}(Re),Le=function(e){m(n,e);var t=v(n);function n(){return h(this,n),t.apply(this,arguments)}return p(n,[{key:"attachment",value:function(){return this.gl.DEPTH_ATTACHMENT}},{key:"set",value:function(e){if(e!==this.current||this.dirty){this.context.bindFramebuffer.set(this.parent);var t=this.gl;t.framebufferRenderbuffer(t.FRAMEBUFFER,this.attachment(),t.RENDERBUFFER,e),this.current=e,this.dirty=!1}}}]),n}(Re),Ne=function(e){m(n,e);var t=v(n);function n(){return h(this,n),t.apply(this,arguments)}return p(n,[{key:"attachment",value:function(){return this.gl.DEPTH_STENCIL_ATTACHMENT}}]),n}(Le),Be=function(){function e(t,n,r,i){h(this,e),this.context=t,this.width=n,this.height=r;var a=this.framebuffer=t.gl.createFramebuffer();this.colorAttachment=new De(t,a),i&&(this.depthAttachment=new Le(t,a))}return p(e,[{key:"destroy",value:function(){var e=this.context.gl,t=this.colorAttachment.get();if(t&&e.deleteTexture(t),this.depthAttachment){var n=this.depthAttachment.get();n&&e.deleteRenderbuffer(n)}e.deleteFramebuffer(this.framebuffer)}}]),e}(),Fe=function(){function n(e){h(this,n),this.gl=e,this.extVertexArrayObject=this.gl.getExtension("OES_vertex_array_object"),this.clearColor=new ie(this),this.clearDepth=new ae(this),this.clearStencil=new oe(this),this.colorMask=new se(this),this.depthMask=new le(this),this.stencilMask=new ce(this),this.stencilFunc=new ue(this),this.stencilOp=new de(this),this.stencilTest=new fe(this),this.depthRange=new he(this),this.depthTest=new pe(this),this.depthFunc=new me(this),this.blend=new ve(this),this.blendFunc=new ge(this),this.blendColor=new ye(this),this.blendEquation=new xe(this),this.cullFace=new be(this),this.cullFaceSide=new _e(this),this.frontFace=new we(this),this.program=new ke(this),this.activeTexture=new Se(this),this.viewport=new Ee(this),this.bindFramebuffer=new Ce(this),this.bindRenderbuffer=new Te(this),this.bindTexture=new Me(this),this.bindVertexBuffer=new Ie(this),this.bindElementBuffer=new Oe(this),this.bindVertexArrayOES=this.extVertexArrayObject&&new Pe(this),this.pixelStoreUnpack=new Ae(this),this.pixelStoreUnpackPremultiplyAlpha=new ze(this),this.pixelStoreUnpackFlipY=new je(this),this.extTextureFilterAnisotropic=e.getExtension("EXT_texture_filter_anisotropic")||e.getExtension("MOZ_EXT_texture_filter_anisotropic")||e.getExtension("WEBKIT_EXT_texture_filter_anisotropic"),this.extTextureFilterAnisotropic&&(this.extTextureFilterAnisotropicMax=e.getParameter(this.extTextureFilterAnisotropic.MAX_TEXTURE_MAX_ANISOTROPY_EXT)),this.extTextureFilterAnisotropicForceOff=!1,this.extStandardDerivativesForceOff=!1,this.extDebugRendererInfo=e.getExtension("WEBGL_debug_renderer_info"),this.extDebugRendererInfo&&(this.renderer=e.getParameter(this.extDebugRendererInfo.UNMASKED_RENDERER_WEBGL),this.vendor=e.getParameter(this.extDebugRendererInfo.UNMASKED_VENDOR_WEBGL)),this.extTextureHalfFloat=e.getExtension("OES_texture_half_float"),this.extTextureHalfFloat&&(e.getExtension("OES_texture_half_float_linear"),this.extRenderToTextureHalfFloat=e.getExtension("EXT_color_buffer_half_float")),this.extStandardDerivatives=e.getExtension("OES_standard_derivatives"),this.extTimerQuery=e.getExtension("EXT_disjoint_timer_query"),this.maxTextureSize=e.getParameter(e.MAX_TEXTURE_SIZE)}return p(n,[{key:"setDefault",value:function(){this.unbindVAO(),this.clearColor.setDefault(),this.clearDepth.setDefault(),this.clearStencil.setDefault(),this.colorMask.setDefault(),this.depthMask.setDefault(),this.stencilMask.setDefault(),this.stencilFunc.setDefault(),this.stencilOp.setDefault(),this.stencilTest.setDefault(),this.depthRange.setDefault(),this.depthTest.setDefault(),this.depthFunc.setDefault(),this.blend.setDefault(),this.blendFunc.setDefault(),this.blendColor.setDefault(),this.blendEquation.setDefault(),this.cullFace.setDefault(),this.cullFaceSide.setDefault(),this.frontFace.setDefault(),this.program.setDefault(),this.activeTexture.setDefault(),this.bindFramebuffer.setDefault(),this.pixelStoreUnpack.setDefault(),this.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.pixelStoreUnpackFlipY.setDefault()}},{key:"setDirty",value:function(){this.clearColor.dirty=!0,this.clearDepth.dirty=!0,this.clearStencil.dirty=!0,this.colorMask.dirty=!0,this.depthMask.dirty=!0,this.stencilMask.dirty=!0,this.stencilFunc.dirty=!0,this.stencilOp.dirty=!0,this.stencilTest.dirty=!0,this.depthRange.dirty=!0,this.depthTest.dirty=!0,this.depthFunc.dirty=!0,this.blend.dirty=!0,this.blendFunc.dirty=!0,this.blendColor.dirty=!0,this.blendEquation.dirty=!0,this.cullFace.dirty=!0,this.cullFaceSide.dirty=!0,this.frontFace.dirty=!0,this.program.dirty=!0,this.activeTexture.dirty=!0,this.viewport.dirty=!0,this.bindFramebuffer.dirty=!0,this.bindRenderbuffer.dirty=!0,this.bindTexture.dirty=!0,this.bindVertexBuffer.dirty=!0,this.bindElementBuffer.dirty=!0,this.extVertexArrayObject&&(this.bindVertexArrayOES.dirty=!0),this.pixelStoreUnpack.dirty=!0,this.pixelStoreUnpackPremultiplyAlpha.dirty=!0,this.pixelStoreUnpackFlipY.dirty=!0}},{key:"createIndexBuffer",value:function(e,t){return new ee(this,e,t)}},{key:"createVertexBuffer",value:function(e,t,n){return new ne(this,e,t,n)}},{key:"createRenderbuffer",value:function(e,t,n){var r=this.gl,i=r.createRenderbuffer();return this.bindRenderbuffer.set(i),r.renderbufferStorage(r.RENDERBUFFER,e,t,n),this.bindRenderbuffer.set(null),i}},{key:"createFramebuffer",value:function(e,t,n){return new Be(this,e,t,n)}},{key:"clear",value:function(e){var t=e.color,n=e.depth,r=e.stencil,i=this.gl,a=0;t&&(a|=i.COLOR_BUFFER_BIT,this.clearColor.set(t),this.colorMask.set([!0,!0,!0,!0])),void 0!==n&&(a|=i.DEPTH_BUFFER_BIT,this.depthRange.set([0,1]),this.clearDepth.set(n),this.depthMask.set(!0)),void 0!==r&&(a|=i.STENCIL_BUFFER_BIT,this.clearStencil.set(r),this.stencilMask.set(255)),i.clear(a)}},{key:"setCullFace",value:function(e){!1===e.enable?this.cullFace.set(!1):(this.cullFace.set(!0),this.cullFaceSide.set(e.mode),this.frontFace.set(e.frontFace))}},{key:"setDepthMode",value:function(e){e.func!==this.gl.ALWAYS||e.mask?(this.depthTest.set(!0),this.depthFunc.set(e.func),this.depthMask.set(e.mask),this.depthRange.set(e.range)):this.depthTest.set(!1)}},{key:"setStencilMode",value:function(e){e.test.func!==this.gl.ALWAYS||e.mask?(this.stencilTest.set(!0),this.stencilMask.set(e.mask),this.stencilOp.set([e.fail,e.depthFail,e.pass]),this.stencilFunc.set({func:e.test.func,ref:e.ref,mask:e.test.mask})):this.stencilTest.set(!1)}},{key:"setColorMode",value:function(n){t(n.blendFunction,e.ColorMode.Replace)?this.blend.set(!1):(this.blend.set(!0),this.blendFunc.set(n.blendFunction),this.blendColor.set(n.blendColor)),this.colorMask.set(n.mask)}},{key:"unbindVAO",value:function(){this.extVertexArrayObject&&this.bindVertexArrayOES.set(null)}}]),n}(),Ve=function(t){m(r,t);var n=v(r);function r(t,a,o,s){var l;return h(this,r),(l=n.call(this)).id=t,l.dispatcher=o,l.setEventedParent(s),l.type="raster",l.minzoom=0,l.maxzoom=22,l.roundZoom=!0,l.scheme="xyz",l.tileSize=512,l._loaded=!1,l._options=e.extend({type:"raster"},a),e.extend(i(l),e.pick(a,["url","scheme","tileSize"])),l}return p(r,[{key:"load",value:function(){var t=this;this._loaded=!1,this.fire(new e.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=$(this._options,this.map._requestManager,null,null,(function(n,r){t._tileJSONRequest=null,t._loaded=!0,n?t.fire(new e.ErrorEvent(n)):r&&(e.extend(t,r),r.bounds&&(t.tileBounds=new Q(r.bounds,t.minzoom,t.maxzoom)),e.postTurnstileEvent(r.tiles),t.fire(new e.Event("data",{dataType:"source",sourceDataType:"metadata"})),t.fire(new e.Event("data",{dataType:"source",sourceDataType:"content"})))}))}},{key:"loaded",value:function(){return this._loaded}},{key:"onAdd",value:function(e){this.map=e,this.load()}},{key:"onRemove",value:function(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)}},{key:"serialize",value:function(){return e.extend({},this._options)}},{key:"hasTile",value:function(e){return!this.tileBounds||this.tileBounds.contains(e.canonical)}},{key:"loadTile",value:function(t,n){var r=this,i=e.exported.devicePixelRatio>=2,a=this.map._requestManager.normalizeTileURL(t.tileID.canonical.url(this.tiles,this.scheme),i,this.tileSize);t.request=e.getImage(this.map._requestManager.transformRequest(a,e.ResourceType.Tile),(function(i,a,o,s){return delete t.request,t.aborted?(t.state="unloaded",n(null)):i?(t.state="errored",n(i)):a?(r.map._refreshExpiredTiles&&t.setExpiryData({cacheControl:o,expires:s}),t.setTexture(a,r.map.painter),t.state="loaded",e.cacheEntryPossiblyAdded(r.dispatcher),void n(null)):n(null)}))}},{key:"abortTile",value:function(e,t){e.request&&(e.request.cancel(),delete e.request),t()}},{key:"unloadTile",value:function(e,t){e.texture&&this.map.painter.saveTileTexture(e.texture),t()}},{key:"hasTransition",value:function(){return!1}}],[{key:"loadTileData",value:function(e,t,n){e.setTexture(t,n)}},{key:"unloadTileData",value:function(e,t){e.texture&&t.saveTileTexture(e.texture)}}]),r}(e.Evented);function Ue(t,n,r,i,a,o,s,l){var c=[t,r,a,n,i,o,1,1,1],u=[s,l,1],f=e.adjoint([],c),h=e.transformMat3(u,u,e.transpose(f,f)),p=d(h,3),m=p[0],v=p[1],g=p[2];return e.multiply$1(c,[m,0,0,0,v,0,0,0,g],c)}var He=function(t){m(r,t);var n=v(r);function r(e,t,i,a){var o;return h(this,r),(o=n.call(this)).id=e,o.dispatcher=i,o.coordinates=t.coordinates,o.type="image",o.minzoom=0,o.maxzoom=22,o.tileSize=512,o.tiles={},o._loaded=!1,o.setEventedParent(a),o.options=t,o._dirty=!1,o}return p(r,[{key:"load",value:function(t,n){var r=this;this._loaded=n||!1,this.fire(new e.Event("dataloading",{dataType:"source"})),this.url=this.options.url,this._imageRequest=e.getImage(this.map._requestManager.transformRequest(this.url,e.ResourceType.Image),(function(n,i){if(r._imageRequest=null,r._loaded=!0,n)r.fire(new e.ErrorEvent(n));else if(i){var a=e.window.HTMLImageElement;r.image=i instanceof a?e.exported.getImageData(i):i,r._dirty=!0,r.width=r.image.width,r.height=r.image.height,t&&(r.coordinates=t),r._finishLoading()}}))}},{key:"loaded",value:function(){return this._loaded}},{key:"updateImage",value:function(e){return this.image&&e.url?(this._imageRequest&&e.url!==this.options.url&&(this._imageRequest.cancel(),this._imageRequest=null),this.options.url=e.url,this.load(e.coordinates,this._loaded),this):this}},{key:"_finishLoading",value:function(){this.map&&(this.setCoordinates(this.coordinates),this.fire(new e.Event("data",{dataType:"source",sourceDataType:"metadata"})))}},{key:"onAdd",value:function(e){this.map=e,this.load()}},{key:"onRemove",value:function(){this._imageRequest&&(this._imageRequest.cancel(),this._imageRequest=null),this.texture&&this.texture.destroy()}},{key:"setCoordinates",value:function(t){this.coordinates=t,this._boundsArray=void 0;var n=t.map(e.MercatorCoordinate.fromLngLat);return this.tileID=function(t){var n,r=1/0,i=1/0,a=-1/0,o=-1/0,s=f(t);try{for(s.s();!(n=s.n()).done;){var l=n.value;r=Math.min(r,l.x),i=Math.min(i,l.y),a=Math.max(a,l.x),o=Math.max(o,l.y)}}catch(h){s.e(h)}finally{s.f()}var c=Math.max(a-r,o-i),u=Math.max(0,Math.floor(-Math.log(c)/Math.LN2)),d=Math.pow(2,u);return new e.CanonicalTileID(u,Math.floor((r+a)/2*d),Math.floor((i+o)/2*d))}(n),this.minzoom=this.maxzoom=this.tileID.z,this.fire(new e.Event("data",{dataType:"source",sourceDataType:"content"})),this}},{key:"_clear",value:function(){this._boundsArray=void 0}},{key:"_prepareData",value:function(t){for(var n in this.tiles){var r=this.tiles[n];"loaded"!==r.state&&(r.state="loaded",r.texture=this.texture)}if(!this._boundsArray){var i=e.tileTransform(this.tileID,this.map.transform.projection),a=this.coordinates.map((function(t){var n=i.projection.project(t[0],t[1]);return e.getTilePoint(i,n)._round()})),o=d(a,4),s=o[0],l=o[1],c=o[2],u=o[3];this.perspectiveTransform=function(t,n,r,i,a,o,s,l,c,u){var d=Ue(0,0,t,0,0,n,t,n),f=Ue(r,i,a,o,s,l,c,u);return e.multiply$1(f,e.adjoint(d,d),f),[f[6]/f[8]*t/e.EXTENT,f[7]/f[8]*n/e.EXTENT]}(this.width,this.height,s.x,s.y,l.x,l.y,u.x,u.y,c.x,c.y);var f=this._boundsArray=new e.StructArrayLayout4i8;f.emplaceBack(s.x,s.y,0,0),f.emplaceBack(l.x,l.y,e.EXTENT,0),f.emplaceBack(u.x,u.y,0,e.EXTENT),f.emplaceBack(c.x,c.y,e.EXTENT,e.EXTENT),this.boundsBuffer&&this.boundsBuffer.destroy(),this.boundsBuffer=t.createVertexBuffer(f,e.boundsAttributes.members),this.boundsSegments=e.SegmentVector.simpleSegment(0,0,4,2)}}},{key:"prepare",value:function(){if(0!==Object.keys(this.tiles).length&&this.image){var t=this.map.painter.context,n=t.gl;this._dirty&&(this.texture?this.texture.update(this.image):(this.texture=new e.Texture(t,this.image,n.RGBA),this.texture.bind(n.LINEAR,n.CLAMP_TO_EDGE)),this._dirty=!1),this._prepareData(t)}}},{key:"loadTile",value:function(e,t){this.tileID&&this.tileID.equals(e.tileID.canonical)?(this.tiles[String(e.tileID.wrap)]=e,e.buckets={},t(null)):(e.state="errored",t(null))}},{key:"serialize",value:function(){return{type:"image",url:this.options.url,coordinates:this.coordinates}}},{key:"hasTransition",value:function(){return!1}}]),r}(e.Evented),Ge={vector:function(t){m(r,t);var n=v(r);function r(t,a,o,s){var c;if(h(this,r),(c=n.call(this)).id=t,c.dispatcher=o,c.type="vector",c.minzoom=0,c.maxzoom=22,c.scheme="xyz",c.tileSize=512,c.reparseOverscaled=!0,c.isTileClipped=!0,c._loaded=!1,e.extend(i(c),e.pick(a,["url","scheme","tileSize","promoteId"])),c._options=e.extend({type:"vector"},a),c._collectResourceTiming=a.collectResourceTiming,512!==c.tileSize)throw new Error("vector tile sources must have a tileSize of 512");return c.setEventedParent(s),c._tileWorkers={},c._deduped=new e.DedupedRequest,l(c)}return p(r,[{key:"load",value:function(t){var n=this;this._loaded=!1,this.fire(new e.Event("dataloading",{dataType:"source"}));var r=Array.isArray(this.map._language)?this.map._language.join():this.map._language,i=this.map._worldview;this._tileJSONRequest=$(this._options,this.map._requestManager,r,i,(function(a,o){n._tileJSONRequest=null,n._loaded=!0,a?(r&&console.warn("Ensure that your requested language string is a valid BCP-47 code or list of codes. Found: ".concat(r)),i&&2!==i.length&&console.warn("Requested worldview strings must be a valid ISO alpha-2 code. Found: ".concat(i)),n.fire(new e.ErrorEvent(a))):o&&(e.extend(n,o),o.bounds&&(n.tileBounds=new Q(o.bounds,n.minzoom,n.maxzoom)),e.postTurnstileEvent(o.tiles,n.map._requestManager._customAccessToken),n.fire(new e.Event("data",{dataType:"source",sourceDataType:"metadata"})),n.fire(new e.Event("data",{dataType:"source",sourceDataType:"content"}))),t&&t(a)}))}},{key:"loaded",value:function(){return this._loaded}},{key:"hasTile",value:function(e){return!this.tileBounds||this.tileBounds.contains(e.canonical)}},{key:"onAdd",value:function(e){this.map=e,this.load()}},{key:"reload",value:function(){var e=this;this.cancelTileJSONRequest(),this.load((function(){var t,n=e.map.style._getSourceCaches(e.id),r=f(n);try{for(r.s();!(t=r.n()).done;)t.value.clearTiles()}catch(i){r.e(i)}finally{r.f()}}))}},{key:"setSourceProperty",value:function(e){e(),this.reload()}},{key:"setTiles",value:function(e){return this._options.tiles=e,this.reload(),this}},{key:"setUrl",value:function(e){return this.url=e,this._options.url=e,this.reload(),this}},{key:"onRemove",value:function(){this.cancelTileJSONRequest()}},{key:"serialize",value:function(){return e.extend({},this._options)}},{key:"loadTile",value:function(t,n){var r=this,i=this.map._requestManager.normalizeTileURL(t.tileID.canonical.url(this.tiles,this.scheme)),a={request:this.map._requestManager.transformRequest(i,e.ResourceType.Tile),data:void 0,uid:t.uid,tileID:t.tileID,tileZoom:t.tileZoom,zoom:t.tileID.overscaledZ,tileSize:this.tileSize*t.tileID.overscaleFactor(),type:this.type,source:this.id,pixelRatio:e.exported.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId,isSymbolTile:t.isSymbolTile};if(a.request.collectResourceTiming=this._collectResourceTiming,t.actor&&"expired"!==t.state)"loading"===t.state?t.reloadCallback=n:t.request=t.actor.send("reloadTile",a,s.bind(this));else if(t.actor=this._tileWorkers[i]=this._tileWorkers[i]||this.dispatcher.getActor(),this.dispatcher.ready)t.request=t.actor.send("loadTile",a,s.bind(this),void 0,!0);else{var o=e.loadVectorTile.call({deduped:this._deduped},a,(function(e,n){e||!n?s.call(r,e):(a.data={cacheControl:n.cacheControl,expires:n.expires,rawData:n.rawData.slice(0)},t.actor&&t.actor.send("loadTile",a,s.bind(r),void 0,!0))}),!0);t.request={cancel:o}}function s(r,i){return delete t.request,t.aborted?n(null):r&&404!==r.status?n(r):(i&&i.resourceTiming&&(t.resourceTiming=i.resourceTiming),this.map._refreshExpiredTiles&&i&&t.setExpiryData(i),t.loadVectorData(i,this.map.painter),e.cacheEntryPossiblyAdded(this.dispatcher),n(null),void(t.reloadCallback&&(this.loadTile(t,t.reloadCallback),t.reloadCallback=null)))}}},{key:"abortTile",value:function(e){e.request&&(e.request.cancel(),delete e.request),e.actor&&e.actor.send("abortTile",{uid:e.uid,type:this.type,source:this.id})}},{key:"unloadTile",value:function(e){e.unloadVectorData(),e.actor&&e.actor.send("removeTile",{uid:e.uid,type:this.type,source:this.id})}},{key:"hasTransition",value:function(){return!1}},{key:"afterUpdate",value:function(){this._tileWorkers={}}},{key:"cancelTileJSONRequest",value:function(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)}}]),r}(e.Evented),raster:Ve,"raster-dem":function(t){m(r,t);var n=v(r);function r(t,i,a,o){var s;return h(this,r),(s=n.call(this,t,i,a,o)).type="raster-dem",s.maxzoom=22,s._options=e.extend({type:"raster-dem"},i),s.encoding=i.encoding||"mapbox",s}return p(r,[{key:"loadTile",value:function(t,n){var r=this.map._requestManager.normalizeTileURL(t.tileID.canonical.url(this.tiles,this.scheme),!1,this.tileSize);function i(e,r){e&&(t.state="errored",n(e)),r&&(t.dem=r,t.dem.onDeserialize(),t.needsHillshadePrepare=!0,t.needsDEMTextureUpload=!0,t.state="loaded",n(null))}t.request=e.getImage(this.map._requestManager.transformRequest(r,e.ResourceType.Tile),function(r,a,o,s){if(delete t.request,t.aborted)t.state="unloaded",n(null);else if(r)t.state="errored",n(r);else if(a){this.map._refreshExpiredTiles&&t.setExpiryData({cacheControl:o,expires:s});var l=e.window.ImageBitmap&&a instanceof e.window.ImageBitmap&&(null==J&&(J=e.window.OffscreenCanvas&&new e.window.OffscreenCanvas(1,1).getContext("2d")&&"function"==typeof e.window.createImageBitmap),J),c=1-(a.width-e.prevPowerOfTwo(a.width))/2;c<1||t.neighboringTiles||(t.neighboringTiles=this._getNeighboringTiles(t.tileID));var u=l?a:e.exported.getImageData(a,c),d={uid:t.uid,coord:t.tileID,source:this.id,rawImageData:u,encoding:this.encoding,padding:c};t.actor&&"expired"!==t.state||(t.actor=this.dispatcher.getActor(),t.actor.send("loadDEMTile",d,i.bind(this),void 0,!0))}}.bind(this))}},{key:"_getNeighboringTiles",value:function(t){var n=t.canonical,r=Math.pow(2,n.z),i=(n.x-1+r)%r,a=0===n.x?t.wrap-1:t.wrap,o=(n.x+1+r)%r,s=n.x+1===r?t.wrap+1:t.wrap,l={};return l[new e.OverscaledTileID(t.overscaledZ,a,n.z,i,n.y).key]={backfilled:!1},l[new e.OverscaledTileID(t.overscaledZ,s,n.z,o,n.y).key]={backfilled:!1},n.y>0&&(l[new e.OverscaledTileID(t.overscaledZ,a,n.z,i,n.y-1).key]={backfilled:!1},l[new e.OverscaledTileID(t.overscaledZ,t.wrap,n.z,n.x,n.y-1).key]={backfilled:!1},l[new e.OverscaledTileID(t.overscaledZ,s,n.z,o,n.y-1).key]={backfilled:!1}),n.y+1<r&&(l[new e.OverscaledTileID(t.overscaledZ,a,n.z,i,n.y+1).key]={backfilled:!1},l[new e.OverscaledTileID(t.overscaledZ,t.wrap,n.z,n.x,n.y+1).key]={backfilled:!1},l[new e.OverscaledTileID(t.overscaledZ,s,n.z,o,n.y+1).key]={backfilled:!1}),l}},{key:"unloadTile",value:function(e){e.demTexture&&this.map.painter.saveTileTexture(e.demTexture),e.fbo&&(e.fbo.destroy(),delete e.fbo),e.dem&&delete e.dem,delete e.neighboringTiles,e.state="unloaded"}}]),r}(Ve),geojson:function(t){m(r,t);var n=v(r);function r(t,i,a,o){var s;h(this,r),(s=n.call(this)).id=t,s.type="geojson",s.minzoom=0,s.maxzoom=18,s.tileSize=512,s.isTileClipped=!0,s.reparseOverscaled=!0,s._loaded=!1,s.actor=a.getActor(),s.setEventedParent(o),s._data=i.data,s._options=e.extend({},i),s._collectResourceTiming=i.collectResourceTiming,void 0!==i.maxzoom&&(s.maxzoom=i.maxzoom),i.type&&(s.type=i.type),i.attribution&&(s.attribution=i.attribution),s.promoteId=i.promoteId;var l=e.EXTENT/s.tileSize;return s.workerOptions=e.extend({source:s.id,cluster:i.cluster||!1,geojsonVtOptions:{buffer:(void 0!==i.buffer?i.buffer:128)*l,tolerance:(void 0!==i.tolerance?i.tolerance:.375)*l,extent:e.EXTENT,maxZoom:s.maxzoom,lineMetrics:i.lineMetrics||!1,generateId:i.generateId||!1},superclusterOptions:{maxZoom:void 0!==i.clusterMaxZoom?i.clusterMaxZoom:s.maxzoom-1,minPoints:Math.max(2,i.clusterMinPoints||2),extent:e.EXTENT,radius:(void 0!==i.clusterRadius?i.clusterRadius:50)*l,log:!1,generateId:i.generateId||!1},clusterProperties:i.clusterProperties,filter:i.filter},i.workerOptions),s}return p(r,[{key:"onAdd",value:function(e){this.map=e,this.setData(this._data)}},{key:"setData",value:function(e){return this._data=e,this._updateWorkerData(),this}},{key:"getClusterExpansionZoom",value:function(e,t){return this.actor.send("geojson.getClusterExpansionZoom",{clusterId:e,source:this.id},t),this}},{key:"getClusterChildren",value:function(e,t){return this.actor.send("geojson.getClusterChildren",{clusterId:e,source:this.id},t),this}},{key:"getClusterLeaves",value:function(e,t,n,r){return this.actor.send("geojson.getClusterLeaves",{source:this.id,clusterId:e,limit:t,offset:n},r),this}},{key:"_updateWorkerData",value:function(){var t=this;if(this._pendingLoad)this._coalesce=!0;else{this.fire(new e.Event("dataloading",{dataType:"source"})),this._loaded=!1;var n=e.extend({},this.workerOptions),r=this._data;"string"==typeof r?(n.request=this.map._requestManager.transformRequest(e.exported.resolveURL(r),e.ResourceType.Source),n.request.collectResourceTiming=this._collectResourceTiming):n.data=JSON.stringify(r),this._pendingLoad=this.actor.send("".concat(this.type,".loadData"),n,(function(n,r){if(t._loaded=!0,t._pendingLoad=null,n)t.fire(new e.ErrorEvent(n));else{var i={dataType:"source",sourceDataType:t._metadataFired?"content":"metadata"};t._collectResourceTiming&&r&&r.resourceTiming&&r.resourceTiming[t.id]&&(i.resourceTiming=r.resourceTiming[t.id]),t.fire(new e.Event("data",i)),t._metadataFired=!0}t._coalesce&&(t._updateWorkerData(),t._coalesce=!1)}))}}},{key:"loaded",value:function(){return this._loaded}},{key:"loadTile",value:function(t,n){var r=this,i=t.actor?"reloadTile":"loadTile";t.actor=this.actor,t.request=this.actor.send(i,{type:this.type,uid:t.uid,tileID:t.tileID,tileZoom:t.tileZoom,zoom:t.tileID.overscaledZ,maxZoom:this.maxzoom,tileSize:this.tileSize,source:this.id,pixelRatio:e.exported.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId},(function(e,a){return delete t.request,t.unloadVectorData(),t.aborted?n(null):e?n(e):(t.loadVectorData(a,r.map.painter,"reloadTile"===i),n(null))}),void 0,"loadTile"===i)}},{key:"abortTile",value:function(e){e.request&&(e.request.cancel(),delete e.request),e.aborted=!0}},{key:"unloadTile",value:function(e){e.unloadVectorData(),this.actor.send("removeTile",{uid:e.uid,type:this.type,source:this.id})}},{key:"onRemove",value:function(){this._pendingLoad&&this._pendingLoad.cancel()}},{key:"serialize",value:function(){return e.extend({},this._options,{type:this.type,data:this._data})}},{key:"hasTransition",value:function(){return!1}}]),r}(e.Evented),video:function(t){m(r,t);var n=v(r);function r(e,t,i,a){var o;return h(this,r),(o=n.call(this,e,t,i,a)).roundZoom=!0,o.type="video",o.options=t,o}return p(r,[{key:"load",value:function(){var t=this;this._loaded=!1;var n=this.options;this.urls=[];var r,i=f(n.urls);try{for(i.s();!(r=i.n()).done;){var a=r.value;this.urls.push(this.map._requestManager.transformRequest(a,e.ResourceType.Source).url)}}catch(o){i.e(o)}finally{i.f()}e.getVideo(this.urls,(function(n,r){t._loaded=!0,n?t.fire(new e.ErrorEvent(n)):r&&(t.video=r,t.video.loop=!0,t.video.setAttribute("playsinline",""),t.video.addEventListener("playing",(function(){t.map.triggerRepaint()})),t.map&&t.video.play(),t._finishLoading())}))}},{key:"pause",value:function(){this.video&&this.video.pause()}},{key:"play",value:function(){this.video&&this.video.play()}},{key:"seek",value:function(t){if(this.video){var n=this.video.seekable;t<n.start(0)||t>n.end(0)?this.fire(new e.ErrorEvent(new e.ValidationError("sources.".concat(this.id),null,"Playback for this video can be set only between the ".concat(n.start(0)," and ").concat(n.end(0),"-second mark.")))):this.video.currentTime=t}}},{key:"getVideo",value:function(){return this.video}},{key:"onAdd",value:function(e){this.map||(this.map=e,this.load(),this.video&&(this.video.play(),this.setCoordinates(this.coordinates)))}},{key:"prepare",value:function(){if(!(0===Object.keys(this.tiles).length||this.video.readyState<2)){var t=this.map.painter.context,n=t.gl;this.texture?this.video.paused||(this.texture.bind(n.LINEAR,n.CLAMP_TO_EDGE),n.texSubImage2D(n.TEXTURE_2D,0,0,0,n.RGBA,n.UNSIGNED_BYTE,this.video)):(this.texture=new e.Texture(t,this.video,n.RGBA),this.texture.bind(n.LINEAR,n.CLAMP_TO_EDGE),this.width=this.video.videoWidth,this.height=this.video.videoHeight),this._prepareData(t)}}},{key:"serialize",value:function(){return{type:"video",urls:this.urls,coordinates:this.coordinates}}},{key:"hasTransition",value:function(){return this.video&&!this.video.paused}}]),r}(He),image:He,canvas:function(t){m(r,t);var n=v(r);function r(t,i,a,o){var s;return h(this,r),s=n.call(this,t,i,a,o),i.coordinates?Array.isArray(i.coordinates)&&4===i.coordinates.length&&!i.coordinates.some((function(e){return!Array.isArray(e)||2!==e.length||e.some((function(e){return"number"!=typeof e}))}))||s.fire(new e.ErrorEvent(new e.ValidationError("sources.".concat(t),null,'"coordinates" property must be an array of 4 longitude/latitude array pairs'))):s.fire(new e.ErrorEvent(new e.ValidationError("sources.".concat(t),null,'missing required property "coordinates"'))),i.animate&&"boolean"!=typeof i.animate&&s.fire(new e.ErrorEvent(new e.ValidationError("sources.".concat(t),null,'optional "animate" property must be a boolean value'))),i.canvas?"string"==typeof i.canvas||i.canvas instanceof e.window.HTMLCanvasElement||s.fire(new e.ErrorEvent(new e.ValidationError("sources.".concat(t),null,'"canvas" must be either a string representing the ID of the canvas element from which to read, or an HTMLCanvasElement instance'))):s.fire(new e.ErrorEvent(new e.ValidationError("sources.".concat(t),null,'missing required property "canvas"'))),s.options=i,s.animate=void 0===i.animate||i.animate,s}return p(r,[{key:"load",value:function(){this._loaded=!0,this.canvas||(this.canvas=this.options.canvas instanceof e.window.HTMLCanvasElement?this.options.canvas:e.window.document.getElementById(this.options.canvas)),this.width=this.canvas.width,this.height=this.canvas.height,this._hasInvalidDimensions()?this.fire(new e.ErrorEvent(new Error("Canvas dimensions cannot be less than or equal to zero."))):(this.play=function(){this._playing=!0,this.map.triggerRepaint()},this.pause=function(){this._playing&&(this.prepare(),this._playing=!1)},this._finishLoading())}},{key:"getCanvas",value:function(){return this.canvas}},{key:"onAdd",value:function(e){this.map=e,this.load(),this.canvas&&this.animate&&this.play()}},{key:"onRemove",value:function(){this.pause()}},{key:"prepare",value:function(){var t=!1;if(this.canvas.width!==this.width&&(this.width=this.canvas.width,t=!0),this.canvas.height!==this.height&&(this.height=this.canvas.height,t=!0),!this._hasInvalidDimensions()&&0!==Object.keys(this.tiles).length){var n=this.map.painter.context;this.texture?(t||this._playing)&&this.texture.update(this.canvas,{premultiply:!0}):this.texture=new e.Texture(n,this.canvas,n.gl.RGBA,{premultiply:!0}),this._prepareData(n)}}},{key:"serialize",value:function(){return{type:"canvas",coordinates:this.coordinates}}},{key:"hasTransition",value:function(){return this._playing}},{key:"_hasInvalidDimensions",value:function(){for(var e=0,t=[this.canvas.width,this.canvas.height];e<t.length;e++){var n=t[e];if(isNaN(n)||n<=0)return!0}return!1}}]),r}(He),custom:function(t){m(r,t);var n=v(r);function r(t,a,o,s){var l;return h(this,r),(l=n.call(this)).id=t,l.type="custom",l._dataType="raster",l._dispatcher=o,l._implementation=a,l.setEventedParent(s),l.scheme="xyz",l.minzoom=0,l.maxzoom=22,l.tileSize=512,l._loaded=!1,l.roundZoom=!0,l._implementation||l.fire(new e.ErrorEvent(new Error("Missing implementation for ".concat(l.id," custom source")))),l._implementation.loadTile||l.fire(new e.ErrorEvent(new Error("Missing loadTile implementation for ".concat(l.id," custom source")))),l._implementation.bounds&&(l.tileBounds=new Q(l._implementation.bounds,l.minzoom,l.maxzoom)),a.update=l._update.bind(i(l)),a.clearTiles=l._clearTiles.bind(i(l)),a.coveringTiles=l._coveringTiles.bind(i(l)),e.extend(i(l),e.pick(a,["dataType","scheme","minzoom","maxzoom","tileSize","attribution","minTileCacheSize","maxTileCacheSize"])),l}return p(r,[{key:"serialize",value:function(){return e.pick(this,["type","scheme","minzoom","maxzoom","tileSize","attribution"])}},{key:"load",value:function(){this._loaded=!0,this.fire(new e.Event("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new e.Event("data",{dataType:"source",sourceDataType:"content"}))}},{key:"loaded",value:function(){return this._loaded}},{key:"onAdd",value:function(t){this._map=t,this._loaded=!1,this.fire(new e.Event("dataloading",{dataType:"source"})),this._implementation.onAdd&&this._implementation.onAdd(t),this.load()}},{key:"onRemove",value:function(e){this._implementation.onRemove&&this._implementation.onRemove(e)}},{key:"hasTile",value:function(e){if(this._implementation.hasTile){var t=e.canonical,n=t.x,r=t.y,i=t.z;return this._implementation.hasTile({x:n,y:r,z:i})}return!this.tileBounds||this.tileBounds.contains(e.canonical)}},{key:"loadTile",value:function(t,n){var r=t.tileID.canonical,i=r.x,a=r.y,o=r.z,s=new e.window.AbortController;t.request=Promise.resolve(this._implementation.loadTile({x:i,y:a,z:o},{signal:s.signal})).then(function(r){return delete t.request,t.aborted?(t.state="unloaded",n(null)):void 0===r?(t.state="errored",n(null)):null===r?(this.loadTileData(t,{width:this.tileSize,height:this.tileSize,data:null}),t.state="loaded",n(null)):function(t){return t instanceof e.window.ImageData||t instanceof e.window.HTMLCanvasElement||t instanceof e.window.ImageBitmap||t instanceof e.window.HTMLImageElement}(r)?(this.loadTileData(t,r),t.state="loaded",void n(null)):(t.state="errored",n(new Error("Can't infer data type for ".concat(this.id,", only raster data supported at the moment"))))}.bind(this)).catch((function(e){20!==e.code&&(t.state="errored",n(e))})),t.request.cancel=function(){return s.abort()}}},{key:"loadTileData",value:function(e,t){Ve.loadTileData(e,t,this._map.painter)}},{key:"unloadTileData",value:function(e){Ve.unloadTileData(e,this._map.painter)}},{key:"unloadTile",value:function(e,t){if(this.unloadTileData(e),this._implementation.unloadTile){var n=e.tileID.canonical,r=n.x,i=n.y,a=n.z;this._implementation.unloadTile({x:r,y:i,z:a})}t()}},{key:"abortTile",value:function(e,t){e.request&&e.request.cancel&&(e.request.cancel(),delete e.request),t()}},{key:"hasTransition",value:function(){return!1}},{key:"_coveringTiles",value:function(){return this._map.transform.coveringTiles({tileSize:this.tileSize,minzoom:this.minzoom,maxzoom:this.maxzoom,roundZoom:this.roundZoom}).map((function(e){return{x:e.canonical.x,y:e.canonical.y,z:e.canonical.z}}))}},{key:"_clearTiles",value:function(){this._map.style._clearSource(this.id)}},{key:"_update",value:function(){this.fire(new e.Event("data",{dataType:"source",sourceDataType:"content"}))}}]),r}(e.Evented)},We=function(t,n,r,i){var a=new Ge[n.type](t,n,r,i);if(a.id!==t)throw new Error("Expected Source id to be ".concat(t," instead of ").concat(a.id));return e.bindAll(["load","abort","unload","serialize","prepare"],a),a};function qe(t,n){var r=e.identity([]);return e.scale(r,r,[.5*t.width,.5*-t.height,1]),e.translate(r,r,[1,-1,0]),e.multiply(r,r,t.calculateProjMatrix(n.toUnwrapped())),Float32Array.from(r)}function Xe(e,t,n,r,i,a,o){var s=arguments.length>7&&void 0!==arguments[7]&&arguments[7],l=e.tilesIn(r,o,s);l.sort(Ke);var c,u=[],d=f(l);try{for(d.s();!(c=d.n()).done;){var h=c.value;u.push({wrappedTileID:h.tile.tileID.wrapped().key,queryResults:h.tile.queryRenderedFeatures(t,n,e._state,h,i,a,qe(e.transform,h.tile.tileID),s)})}}catch(v){d.e(v)}finally{d.f()}var p=function(e){var t,n={},r={},i=f(e);try{for(i.s();!(t=i.n()).done;){var a=t.value,o=a.queryResults,s=a.wrappedTileID,l=r[s]=r[s]||{};for(var c in o){var u,d=o[c],h=l[c]=l[c]||{},p=n[c]=n[c]||[],m=f(d);try{for(m.s();!(u=m.n()).done;){var g=u.value;h[g.featureIndex]||(h[g.featureIndex]=!0,p.push(g))}}catch(v){m.e(v)}finally{m.f()}}}}catch(v){i.e(v)}finally{i.f()}return n}(u);for(var m in p)p[m].forEach((function(t){var n=t.feature,r=n.layer;r&&"background"!==r.type&&"sky"!==r.type&&(n.source=r.source,r["source-layer"]&&(n.sourceLayer=r["source-layer"]),n.state=void 0!==n.id?e.getFeatureState(r["source-layer"],n.id):{})}));return p}function Ze(e,t){for(var n=e.getRenderableIds().map((function(t){return e.getTileByID(t)})),r=[],i={},a=0;a<n.length;a++){var o=n[a],s=o.tileID.canonical.key;i[s]||(i[s]=!0,o.querySourceFeatures(r,t))}return r}function Ke(e,t){var n=e.tileID,r=t.tileID;return n.overscaledZ-r.overscaledZ||n.canonical.y-r.canonical.y||n.wrap-r.wrap||n.canonical.x-r.canonical.x}function Ye(){return null!=Ea.workerClass?new Ea.workerClass:new e.window.Worker(Ea.workerUrl)}var $e,Je="mapboxgl_preloaded_worker_pool",Qe=function(){function e(){h(this,e),this.active={}}return p(e,[{key:"acquire",value:function(t){if(!this.workers)for(this.workers=[];this.workers.length<e.workerCount;)this.workers.push(new Ye);return this.active[t]=!0,this.workers.slice()}},{key:"release",value:function(e){delete this.active[e],0===this.numActive()&&(this.workers.forEach((function(e){e.terminate()})),this.workers=null)}},{key:"isPreloaded",value:function(){return!!this.active[Je]}},{key:"numActive",value:function(){return Object.keys(this.active).length}}]),e}();function et(){return $e||($e=new Qe),$e}function tt(t,n){var r={};for(var i in t)"ref"!==i&&(r[i]=t[i]);return e.refProperties.forEach((function(e){e in n&&(r[e]=n[e])})),r}function nt(e){e=e.slice();for(var t=Object.create(null),n=0;n<e.length;n++)t[e[n].id]=e[n];for(var r=0;r<e.length;r++)"ref"in e[r]&&(e[r]=tt(e[r],t[e[r].ref]));return e}Qe.workerCount=2;var rt={setStyle:"setStyle",addLayer:"addLayer",removeLayer:"removeLayer",setPaintProperty:"setPaintProperty",setLayoutProperty:"setLayoutProperty",setFilter:"setFilter",addSource:"addSource",removeSource:"removeSource",setGeoJSONSourceData:"setGeoJSONSourceData",setLayerZoomRange:"setLayerZoomRange",setLayerProperty:"setLayerProperty",setCenter:"setCenter",setZoom:"setZoom",setBearing:"setBearing",setPitch:"setPitch",setSprite:"setSprite",setGlyphs:"setGlyphs",setTransition:"setTransition",setLight:"setLight",setTerrain:"setTerrain",setFog:"setFog",setProjection:"setProjection"};function it(e,t,n){n.push({command:rt.addSource,args:[e,t[e]]})}function at(e,t,n){t.push({command:rt.removeSource,args:[e]}),n[e]=!0}function ot(e,t,n,r){at(e,n,r),it(e,t,n)}function st(e,n,r){var i;for(i in e[r])if(e[r].hasOwnProperty(i)&&"data"!==i&&!t(e[r][i],n[r][i]))return!1;for(i in n[r])if(n[r].hasOwnProperty(i)&&"data"!==i&&!t(e[r][i],n[r][i]))return!1;return!0}function lt(e,n,r,i,a,o){var s;for(s in n=n||{},e=e||{})e.hasOwnProperty(s)&&(t(e[s],n[s])||r.push({command:o,args:[i,s,n[s],a]}));for(s in n)n.hasOwnProperty(s)&&!e.hasOwnProperty(s)&&(t(e[s],n[s])||r.push({command:o,args:[i,s,n[s],a]}))}function ct(e){return e.id}function ut(e,t){return e[t.id]=t,e}var dt=function(){function t(e,n){h(this,t),this.reset(e,n)}return p(t,[{key:"reset",value:function(e,t){this.points=e||[],this._distances=[0];for(var n=1;n<this.points.length;n++)this._distances[n]=this._distances[n-1]+this.points[n].dist(this.points[n-1]);this.length=this._distances[this._distances.length-1],this.padding=Math.min(t||0,.5*this.length),this.paddedLength=this.length-2*this.padding}},{key:"lerp",value:function(t){if(1===this.points.length)return this.points[0];t=e.clamp(t,0,1);for(var n=1,r=this._distances[n],i=t*this.paddedLength+this.padding;r<i&&n<this._distances.length;)r=this._distances[++n];var a=n-1,o=this._distances[a],s=r-o,l=s>0?(i-o)/s:0;return this.points[a].mult(1-l).add(this.points[n].mult(l))}}]),t}(),ft=function(){function e(t,n,r){h(this,e);var i=this.boxCells=[],a=this.circleCells=[];this.xCellCount=Math.ceil(t/r),this.yCellCount=Math.ceil(n/r);for(var o=0;o<this.xCellCount*this.yCellCount;o++)i.push([]),a.push([]);this.circleKeys=[],this.boxKeys=[],this.bboxes=[],this.circles=[],this.width=t,this.height=n,this.xScale=this.xCellCount/t,this.yScale=this.yCellCount/n,this.boxUid=0,this.circleUid=0}return p(e,[{key:"keysLength",value:function(){return this.boxKeys.length+this.circleKeys.length}},{key:"insert",value:function(e,t,n,r,i){this._forEachCell(t,n,r,i,this._insertBoxCell,this.boxUid++),this.boxKeys.push(e),this.bboxes.push(t),this.bboxes.push(n),this.bboxes.push(r),this.bboxes.push(i)}},{key:"insertCircle",value:function(e,t,n,r){this._forEachCell(t-r,n-r,t+r,n+r,this._insertCircleCell,this.circleUid++),this.circleKeys.push(e),this.circles.push(t),this.circles.push(n),this.circles.push(r)}},{key:"_insertBoxCell",value:function(e,t,n,r,i,a){this.boxCells[i].push(a)}},{key:"_insertCircleCell",value:function(e,t,n,r,i,a){this.circleCells[i].push(a)}},{key:"_query",value:function(e,t,n,r,i,a){if(n<0||e>this.width||r<0||t>this.height)return!i&&[];var o=[];if(e<=0&&t<=0&&this.width<=n&&this.height<=r){if(i)return!0;for(var s=0;s<this.boxKeys.length;s++)o.push({key:this.boxKeys[s],x1:this.bboxes[4*s],y1:this.bboxes[4*s+1],x2:this.bboxes[4*s+2],y2:this.bboxes[4*s+3]});for(var l=0;l<this.circleKeys.length;l++){var c=this.circles[3*l],u=this.circles[3*l+1],d=this.circles[3*l+2];o.push({key:this.circleKeys[l],x1:c-d,y1:u-d,x2:c+d,y2:u+d})}return a?o.filter(a):o}return this._forEachCell(e,t,n,r,this._queryCell,o,{hitTest:i,seenUids:{box:{},circle:{}}},a),i?o.length>0:o}},{key:"_queryCircle",value:function(e,t,n,r,i){var a=e-n,o=e+n,s=t-n,l=t+n;if(o<0||a>this.width||l<0||s>this.height)return!r&&[];var c=[];return this._forEachCell(a,s,o,l,this._queryCellCircle,c,{hitTest:r,circle:{x:e,y:t,radius:n},seenUids:{box:{},circle:{}}},i),r?c.length>0:c}},{key:"query",value:function(e,t,n,r,i){return this._query(e,t,n,r,!1,i)}},{key:"hitTest",value:function(e,t,n,r,i){return this._query(e,t,n,r,!0,i)}},{key:"hitTestCircle",value:function(e,t,n,r){return this._queryCircle(e,t,n,!0,r)}},{key:"_queryCell",value:function(e,t,n,r,i,a,o,s){var l=o.seenUids,c=this.boxCells[i];if(null!==c){var u,d=this.bboxes,h=f(c);try{for(h.s();!(u=h.n()).done;){var p=u.value;if(!l.box[p]){l.box[p]=!0;var m=4*p;if(e<=d[m+2]&&t<=d[m+3]&&n>=d[m+0]&&r>=d[m+1]&&(!s||s(this.boxKeys[p]))){if(o.hitTest)return a.push(!0),!0;a.push({key:this.boxKeys[p],x1:d[m],y1:d[m+1],x2:d[m+2],y2:d[m+3]})}}}}catch(E){h.e(E)}finally{h.f()}}var v=this.circleCells[i];if(null!==v){var g,y=this.circles,x=f(v);try{for(x.s();!(g=x.n()).done;){var b=g.value;if(!l.circle[b]){l.circle[b]=!0;var _=3*b;if(this._circleAndRectCollide(y[_],y[_+1],y[_+2],e,t,n,r)&&(!s||s(this.circleKeys[b]))){if(o.hitTest)return a.push(!0),!0;var w=y[_],k=y[_+1],S=y[_+2];a.push({key:this.circleKeys[b],x1:w-S,y1:k-S,x2:w+S,y2:k+S})}}}}catch(E){x.e(E)}finally{x.f()}}}},{key:"_queryCellCircle",value:function(e,t,n,r,i,a,o,s){var l=o.circle,c=o.seenUids,u=this.boxCells[i];if(null!==u){var d,h=this.bboxes,p=f(u);try{for(p.s();!(d=p.n()).done;){var m=d.value;if(!c.box[m]){c.box[m]=!0;var v=4*m;if(this._circleAndRectCollide(l.x,l.y,l.radius,h[v+0],h[v+1],h[v+2],h[v+3])&&(!s||s(this.boxKeys[m])))return a.push(!0),!0}}}catch(k){p.e(k)}finally{p.f()}}var g=this.circleCells[i];if(null!==g){var y,x=this.circles,b=f(g);try{for(b.s();!(y=b.n()).done;){var _=y.value;if(!c.circle[_]){c.circle[_]=!0;var w=3*_;if(this._circlesCollide(x[w],x[w+1],x[w+2],l.x,l.y,l.radius)&&(!s||s(this.circleKeys[_])))return a.push(!0),!0}}}catch(k){b.e(k)}finally{b.f()}}}},{key:"_forEachCell",value:function(e,t,n,r,i,a,o,s){for(var l=this._convertToXCellCoord(e),c=this._convertToYCellCoord(t),u=this._convertToXCellCoord(n),d=this._convertToYCellCoord(r),f=l;f<=u;f++)for(var h=c;h<=d;h++)if(i.call(this,e,t,n,r,this.xCellCount*h+f,a,o,s))return}},{key:"_convertToXCellCoord",value:function(e){return Math.max(0,Math.min(this.xCellCount-1,Math.floor(e*this.xScale)))}},{key:"_convertToYCellCoord",value:function(e){return Math.max(0,Math.min(this.yCellCount-1,Math.floor(e*this.yScale)))}},{key:"_circlesCollide",value:function(e,t,n,r,i,a){var o=r-e,s=i-t,l=n+a;return l*l>o*o+s*s}},{key:"_circleAndRectCollide",value:function(e,t,n,r,i,a,o){var s=(a-r)/2,l=Math.abs(e-(r+s));if(l>s+n)return!1;var c=(o-i)/2,u=Math.abs(t-(i+c));if(u>c+n)return!1;if(l<=s||u<=c)return!0;var d=l-s,f=u-c;return d*d+f*f<=n*n}}]),e}(),ht=Math.tan(85*Math.PI/180);function pt(t,n,r,i,a,o,s){var l=e.create();if(r)if("globe"===o.name){var c=e.calculateGlobeLabelMatrix(a,n);e.multiply(l,l,c)}else{var u=P([],s);l[0]=u[0],l[1]=u[1],l[4]=u[2],l[5]=u[3],i||e.rotateZ(l,l,a.angle)}else e.multiply(l,a.labelPlaneMatrix,t);return l}function mt(e,t,n,r,i,a,o){var s=pt(e,t,n,r,i,a,o);return"globe"===a.name&&n||(s[2]=s[6]=s[10]=s[14]=0),s}function vt(t,n,r,i,a,o,s){if(r){if("globe"===o.name){var l=pt(t,n,r,i,a,o,s);return e.invert(l,l),e.multiply(l,t,l),l}var c=e.clone(t),u=e.identity([]);return u[0]=s[0],u[1]=s[1],u[4]=s[2],u[5]=s[3],e.multiply(c,c,u),i||e.rotateZ(c,c,-a.angle),c}return a.glCoordMatrix}function gt(t,n,r,i){var a=[t,n,r,1];r?e.transformMat4$1(a,a,i):Mt(a,a,i);var o=a[3];return a[0]/=o,a[1]/=o,a[2]/=o,a}function yt(e,t){return Math.min(.5+e/t*.5,1.5)}function xt(e,t){var n=e[0]/e[3],r=e[1]/e[3];return n>=-t[0]&&n<=t[0]&&r>=-t[1]&&r<=t[1]}function bt(t,n,r,i,a,o,s,l,c,u){var f=r.transform,h=i?t.textSizeData:t.iconSizeData,p=e.evaluateSizeForZoom(h,r.transform.zoom),m="globe"===f.projection.name,v=[256/r.width*2+1,256/r.height*2+1],g=i?t.text.dynamicLayoutVertexArray:t.icon.dynamicLayoutVertexArray;g.clear();var y=null;m&&(y=i?t.text.globeExtVertexArray:t.icon.globeExtVertexArray);for(var x,b=t.lineVertexArray,_=i?t.text.placedSymbolArray:t.icon.placedSymbolArray,w=r.transform.width/r.transform.height,k=!1,S=0;S<_.length;S++){var E=_.get(S),C=E.numGlyphs,T=E.writingMode;if(T!==e.WritingMode.vertical||k||x===e.WritingMode.horizontal||(k=!0),x=T,!E.hidden&&T!==e.WritingMode.vertical||k){k=!1;var M=new e.pointGeometry(E.tileAnchorX,E.tileAnchorY),I=f.projection.projectTilePoint(M.x,M.y,u.canonical),O=I.x,P=I.y,A=I.z;if(c){var z=c(M),j=d(z,3);O+=j[0],P+=j[1],A+=j[2]}var R=[O,P,A,1];if(e.transformMat4$1(R,R,n),xt(R,v)){var D=yt(r.transform.cameraToCenterDistance,R[3]),L=e.evaluateSizeForFeature(h,p,E),N=s?L/D:L*D,B=gt(O,P,A,a);if(B[3]<=0)Tt(C,g);else{var F={},V=s?null:c,U=kt(E,N,!1,l,n,a,o,t.glyphOffsetArray,b,g,y,B,M,F,w,V,f.projection,u,s);k=U.useVertical,V&&U.needsFlipping&&(F={}),(U.notEnoughRoom||k||U.needsFlipping&&kt(E,N,!0,l,n,a,o,t.glyphOffsetArray,b,g,y,B,M,F,w,V,f.projection,u,s).notEnoughRoom)&&Tt(C,g)}}else Tt(C,g)}else Tt(C,g)}i?(t.text.dynamicLayoutVertexBuffer.updateData(g),y&&t.text.globeExtVertexBuffer.updateData(y)):(t.icon.dynamicLayoutVertexBuffer.updateData(g),y&&t.icon.globeExtVertexBuffer.updateData(y))}function _t(e,t,n,r,i,a,o,s,l,c,u,d,f,h,p,m){var v=s.lineStartIndex,g=s.glyphStartIndex,y=s.segment,x=g+s.numGlyphs,b=v+s.lineLength,_=t.getoffsetX(g),w=t.getoffsetX(x-1),k=Ct(e*_,n,r,i,a,o,y,v,b,l,c,u,d,f,!0,h,p,m);if(!k)return null;var S=Ct(e*w,n,r,i,a,o,y,v,b,l,c,u,d,f,!0,h,p,m);return S?{first:k,last:S}:null}function wt(t,n,r,i){return t===e.WritingMode.horizontal&&Math.abs(i)>Math.abs(r)?{useVertical:!0}:t===e.WritingMode.vertical?i>0?{needsFlipping:!0}:null:0!==n&&function(e,t){return 0===e||Math.abs(t/e)>ht}(r,i)?1===n?{needsFlipping:!0}:null:r<0?{needsFlipping:!0}:null}function kt(t,n,r,i,a,o,s,l,c,u,f,h,p,m,v,g,y,x,b){var _=n/24,w=t.lineOffsetX*_,k=t.lineOffsetY*_,S=t.lineStartIndex,E=t.glyphStartIndex,C=t.numGlyphs,T=t.segment,M=t.writingMode,I=t.flipState,O=S+t.lineLength,P=function(t){if(f){var n=d(t.up,3),r=n[0],i=n[1],a=n[2],o=u.length;e.updateGlobeVertexNormal(f,o+0,r,i,a),e.updateGlobeVertexNormal(f,o+1,r,i,a),e.updateGlobeVertexNormal(f,o+2,r,i,a),e.updateGlobeVertexNormal(f,o+3,r,i,a)}var s=d(t.point,3),l=s[0],c=s[1],h=s[2];e.addDynamicAttributes(u,l,c,h,t.angle)};if(C>1){var A=_t(_,l,w,k,r,h,p,t,c,o,m,g,!1,y,x,b);if(!A)return{notEnoughRoom:!0};if(i&&!r){var z,j,R,D,L=d(A.first.point,3),N=L[0],B=L[1],F=L[2],V=d(A.last.point,3),U=V[0],H=V[1],G=V[2];z=gt(N,B,F,s),N=(j=d(z,2))[0],B=j[1],R=gt(U,H,G,s);var W=wt(M,I,((U=(D=d(R,2))[0])-N)*v,(H=D[1])-B);if(t.flipState=W&&W.needsFlipping?1:2,W)return W}P(A.first);for(var q=E+1;q<E+C-1;q++){var X=Ct(_*l.getoffsetX(q),w,k,r,h,p,T,S,O,c,o,m,g,!1,!1,y,x,b);if(!X)return u.length-=4*(q-E),{notEnoughRoom:!0};P(X)}P(A.last)}else{if(i&&!r){var Z=gt(p.x,p.y,0,a),K=S+T+1,Y=new e.pointGeometry(c.getx(K),c.gety(K)),$=gt(Y.x,Y.y,0,a),J=$[3]>0?$:Et(p,Y,Z,1,a,void 0,y,x.canonical),Q=wt(M,I,(J[0]-Z[0])*v,J[1]-Z[1]);if(t.flipState=Q&&Q.needsFlipping?1:2,Q)return Q}var ee=Ct(_*l.getoffsetX(E),w,k,r,h,p,T,S,O,c,o,m,g,!1,!1,y,x,b);if(!ee)return{notEnoughRoom:!0};P(ee)}return{}}function St(e,t,n,r,i){var a=r.projectTilePoint(e.x,e.y,t),o=a.x,s=a.y,l=a.z;if(!i)return gt(o,s,l,n);var c=i(e),u=d(c,3);return gt(o+u[0],s+u[1],l+u[2],n)}function Et(t,n,r,i,a,o,s,l){var c=St(t.sub(n)._unit()._add(t),l,a,s,o);return e.sub(c,r,c),e.normalize(c,c),e.scaleAndAdd(c,r,c,i)}function Ct(t,n,r,i,a,o,s,l,c,u,d,f,h,p,m,v,g,y){var x=i?t-n:t+n,b=x>0?1:-1,_=0;i&&(b*=-1,_=Math.PI),b<0&&(_+=Math.PI);for(var w=l+s+(b>0?0:1)|0,k=a,S=a,E=0,C=0,T=Math.abs(x),M=[],I=[],O=o,P=O,A=function(){return Et(P,O,S,T-E+1,d,h,v,g.canonical)};E+C<=T;){if((w+=b)<l||w>=c)return null;if(S=k,P=O,M.push(S),p&&I.push(P),O=new e.pointGeometry(u.getx(w),u.gety(w)),!(k=f[w])){var z=St(O,g.canonical,d,v,h);k=z[3]>0?f[w]=z:A()}E+=C,C=e.distance(S,k)}m&&h&&(f[w]&&(k=A(),C=e.distance(S,k)),f[w]=k);var j=(T-E)/C,R=O.sub(P)._mult(j)._add(P),D=e.sub([],k,S),L=e.scaleAndAdd([],S,D,j),N=[0,0,1],B=D[0],F=D[1];if(y&&(0!==(N=v.upVector(g.canonical,R.x,R.y))[0]||0!==N[1]||1!==N[2])){var V=[N[2],0,-N[0]],U=e.cross([],N,V);e.normalize(V,V),e.normalize(U,U),B=e.dot(D,V),F=e.dot(D,U)}if(r){var H=e.cross([],N,D);e.normalize(H,H),e.scaleAndAdd(L,L,H,r*b)}var G=_+Math.atan2(F,B);return M.push(L),p&&I.push(R),{point:L,angle:G,path:M,tilePath:I,up:N}}function Tt(e,t){var n=t.length,r=n+4*e;t.resize(r),t.float32.fill(-1/0,4*n,4*r)}function Mt(e,t,n){var r=t[0],i=t[1];return e[0]=n[0]*r+n[4]*i+n[12],e[1]=n[1]*r+n[5]*i+n[13],e[3]=n[3]*r+n[7]*i+n[15],e}var It=100,Ot=function(){function t(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new ft(e.width+200,e.height+200,25),i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new ft(e.width+200,e.height+200,25);h(this,t),this.transform=e,this.grid=r,this.ignoredGrid=i,this.pitchfactor=Math.cos(e._pitch)*e.cameraToCenterDistance,this.screenRightBoundary=e.width+It,this.screenBottomBoundary=e.height+It,this.gridRightBoundary=e.width+200,this.gridBottomBoundary=e.height+200,this.fogState=n}return p(t,[{key:"placeCollisionBox",value:function(e,t,n,r,i,a,o,s){var l=n.projectedAnchorX,c=n.projectedAnchorY,u=n.projectedAnchorZ,f=n.elevation,h=n.tileID,p=e.getProjection();if(f&&h){var m=p.upVector(h.canonical,n.tileAnchorX,n.tileAnchorY),v=d(m,3),g=v[0],y=v[1],x=v[2],b=p.upVectorScale(h.canonical,this.transform.center.lat,this.transform.worldSize).metersToTile;l+=g*f*b,c+=y*f*b,u+=x*f*b}var _=this.projectAndGetPerspectiveRatio(o,l,c,u,n.tileID,"globe"===p.name||!!f||this.transform.pitch>0,p),w=a*_.perspectiveRatio,k=(n.x1*t+r.x-n.padding)*w+_.point.x,S=(n.y1*t+r.y-n.padding)*w+_.point.y,E=(n.x2*t+r.x+n.padding)*w+_.point.x,C=(n.y2*t+r.y+n.padding)*w+_.point.y,T=_.perspectiveRatio<=.55||_.occluded;return!this.isInsideGrid(k,S,E,C)||!i&&this.grid.hitTest(k,S,E,C,s)||T?{box:[],offscreen:!1,occluded:_.occluded}:{box:[k,S,E,C],offscreen:this.isOffscreen(k,S,E,C),occluded:!1}}},{key:"placeCollisionCircles",value:function(t,n,r,i,a,o,s,l,c,u,h,p,m,v,g){var y=[],x=this.transform.elevation,b=t.getProjection(),_=x?x.getAtTileOffsetFunc(g,this.transform.center.lat,this.transform.worldSize,b):null,w=new e.pointGeometry(r.tileAnchorX,r.tileAnchorY),k=b.projectTilePoint(w.x,w.y,g.canonical),S=k.x,E=k.y,C=k.z;if(_){var T=_(w),M=d(T,3);S+=M[0],E+=M[1],C+=M[2]}var I="globe"===b.name,O=this.projectAndGetPerspectiveRatio(s,S,E,C,g,I||!!x||this.transform.pitch>0,b),P=O.perspectiveRatio,A=(h?o/P:o*P)/e.ONE_EM,z=gt(S,E,C,l),j=O.signedDistanceFromCamera>0?_t(A,a,r.lineOffsetX*A,r.lineOffsetY*A,!1,z,w,r,i,l,{},x&&!h?_:null,h&&!!x,b,g,h):null,R=!1,D=!1,L=!0;if(j&&!O.occluded){for(var N=.5*m*P+v,B=new e.pointGeometry(-100,-100),F=new e.pointGeometry(this.screenRightBoundary,this.screenBottomBoundary),V=new dt,U=j.first,H=j.last,G=U.path.length,W=[],q=G-1;q>=1;q--)W.push(U.path[q]);for(var X=1;X<H.path.length;X++)W.push(H.path[X]);var Z=2.5*N;c&&(W=W.map((function(e,t){var n=d(e,3),r=n[0],i=n[1],a=n[2];return _&&!I&&(a=_(t<G-1?U.tilePath[G-1-t]:H.tilePath[t-G+2])[2]),gt(r,i,a,c)})),W.some((function(e){return e[3]<=0}))&&(W=[]));var K=[];if(W.length>0){var Y,$=1/0,J=-1/0,Q=1/0,ee=-1/0,te=f(W);try{for(te.s();!(Y=te.n()).done;){var ne=Y.value;$=Math.min($,ne[0]),Q=Math.min(Q,ne[1]),J=Math.max(J,ne[0]),ee=Math.max(ee,ne[1])}}catch(ve){te.e(ve)}finally{te.f()}J>=B.x&&$<=F.x&&ee>=B.y&&Q<=F.y&&(K=[W.map((function(t){return new e.pointGeometry(t[0],t[1])}))],($<B.x||J>F.x||Q<B.y||ee>F.y)&&(K=e.clipLine(K,B.x,B.y,F.x,F.y)))}var re,ie=f(K);try{for(ie.s();!(re=ie.n()).done;){var ae=re.value;V.reset(ae,.25*N);var oe=0;oe=V.length<=.5*N?1:Math.ceil(V.paddedLength/Z)+1;for(var se=0;se<oe;se++){var le=se/Math.max(oe-1,1),ce=V.lerp(le),ue=ce.x+It,de=ce.y+It;y.push(ue,de,N,0);var fe=ue-N,he=de-N,pe=ue+N,me=de+N;if(L=L&&this.isOffscreen(fe,he,pe,me),D=D||this.isInsideGrid(fe,he,pe,me),!n&&this.grid.hitTestCircle(ue,de,N,p)&&(R=!0,!u))return{circles:[],offscreen:!1,collisionDetected:R,occluded:!1}}}}catch(ve){ie.e(ve)}finally{ie.f()}}return{circles:!u&&R||!D?[]:y,offscreen:L,collisionDetected:R,occluded:O.occluded}}},{key:"queryRenderedSymbols",value:function(t){if(0===t.length||0===this.grid.keysLength()&&0===this.ignoredGrid.keysLength())return{};var n,r=[],i=1/0,a=1/0,o=-1/0,s=-1/0,l=f(t);try{for(l.s();!(n=l.n()).done;){var c=n.value,u=new e.pointGeometry(c.x+It,c.y+It);i=Math.min(i,u.x),a=Math.min(a,u.y),o=Math.max(o,u.x),s=Math.max(s,u.y),r.push(u)}}catch(b){l.e(b)}finally{l.f()}var d,h=this.grid.query(i,a,o,s).concat(this.ignoredGrid.query(i,a,o,s)),p={},m={},v=f(h);try{for(v.s();!(d=v.n()).done;){var g=d.value,y=g.key;if(void 0===p[y.bucketInstanceId]&&(p[y.bucketInstanceId]={}),!p[y.bucketInstanceId][y.featureIndex]){var x=[new e.pointGeometry(g.x1,g.y1),new e.pointGeometry(g.x2,g.y1),new e.pointGeometry(g.x2,g.y2),new e.pointGeometry(g.x1,g.y2)];e.polygonIntersectsPolygon(r,x)&&(p[y.bucketInstanceId][y.featureIndex]=!0,void 0===m[y.bucketInstanceId]&&(m[y.bucketInstanceId]=[]),m[y.bucketInstanceId].push(y.featureIndex))}}}catch(b){v.e(b)}finally{v.f()}return m}},{key:"insertCollisionBox",value:function(e,t,n,r,i){(t?this.ignoredGrid:this.grid).insert({bucketInstanceId:n,featureIndex:r,collisionGroupID:i},e[0],e[1],e[2],e[3])}},{key:"insertCollisionCircles",value:function(e,t,n,r,i){for(var a=t?this.ignoredGrid:this.grid,o={bucketInstanceId:n,featureIndex:r,collisionGroupID:i},s=0;s<e.length;s+=4)a.insertCircle(o,e[s],e[s+1],e[s+2])}},{key:"projectAndGetPerspectiveRatio",value:function(t,n,r,i,a,o,s){var l=[n,r,i,1],c=!1;if(i||this.transform.pitch>0){e.transformMat4$1(l,l,t);var u="globe"===s.name;if(this.fogState&&a&&!u){var d=function(t,n,r,i,a,o){var s=o.calculateFogTileMatrix(a),l=[n,r,i];return e.transformMat4(l,l,s),F(t,l,o.pitch,o._fov)}(this.fogState,n,r,i,a.toUnwrapped(),this.transform);c=d>.9}}else Mt(l,l,t);var f=l[3];return{point:new e.pointGeometry((l[0]/f+1)/2*this.transform.width+It,(-l[1]/f+1)/2*this.transform.height+It),perspectiveRatio:Math.min(.5+this.transform.getCameraToCenterDistance(s)/f*.5,1.5),signedDistanceFromCamera:f,occluded:o&&l[2]>f||c}}},{key:"isOffscreen",value:function(e,t,n,r){return n<It||e>=this.screenRightBoundary||r<It||t>this.screenBottomBoundary}},{key:"isInsideGrid",value:function(e,t,n,r){return n>=0&&e<this.gridRightBoundary&&r>=0&&t<this.gridBottomBoundary}},{key:"getViewportMatrix",value:function(){var t=e.identity([]);return e.translate(t,t,[-100,-100,0]),t}}]),t}();function Pt(t,n,r){var i=n.createTileMatrix(t,t.worldSize,r.toUnwrapped());return e.multiply(new Float32Array(16),t.projMatrix,i)}function At(e,t,n){if(t.projection.name===n.projection.name)return e.projMatrix;var r=n.clone();return r.setProjection(t.projection),Pt(r,t.getProjection(),e)}function zt(e,t,n){return t.name===n.projection.name?e.projMatrix:Pt(n,t,e)}var jt=function(){function e(t,n,r,i){h(this,e),this.opacity=t?Math.max(0,Math.min(1,t.opacity+(t.placed?n:-n))):i&&r?1:0,this.placed=r}return p(e,[{key:"isHidden",value:function(){return 0===this.opacity&&!this.placed}}]),e}(),Rt=function(){function e(t,n,r,i,a){var o=arguments.length>5&&void 0!==arguments[5]&&arguments[5];h(this,e),this.text=new jt(t?t.text:null,n,r,a),this.icon=new jt(t?t.icon:null,n,i,a),this.clipped=o}return p(e,[{key:"isHidden",value:function(){return this.text.isHidden()&&this.icon.isHidden()}}]),e}(),Dt=p((function e(t,n,r){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];h(this,e),this.text=t,this.icon=n,this.skipFade=r,this.clipped=i})),Lt=p((function t(){h(this,t),this.invProjMatrix=e.create(),this.viewportMatrix=e.create(),this.circles=[]})),Nt=p((function e(t,n,r,i,a){h(this,e),this.bucketInstanceId=t,this.featureIndex=n,this.sourceLayerIndex=r,this.bucketIndex=i,this.tileID=a})),Bt=function(){function e(t){h(this,e),this.crossSourceCollisions=t,this.maxGroupID=0,this.collisionGroups={}}return p(e,[{key:"get",value:function(e){if(this.crossSourceCollisions)return{ID:0,predicate:null};if(!this.collisionGroups[e]){var t=++this.maxGroupID;this.collisionGroups[e]={ID:t,predicate:function(e){return e.collisionGroupID===t}}}return this.collisionGroups[e]}}]),e}();function Ft(t,n,r,i,a){var o=e.getAnchorAlignment(t),s=-(o.horizontalAlign-.5)*n,l=-(o.verticalAlign-.5)*r,c=e.evaluateVariableOffset(t,i);return new e.pointGeometry(s+c[0]*a,l+c[1]*a)}function Vt(t,n,r,i,a){var o=new e.pointGeometry(t,n);return r&&o._rotate(i?a:-a),o}var Ut=function(){function t(e,n,r,i,a){h(this,t),this.transform=e.clone(),this.projection=e.projection.name,this.collisionIndex=new Ot(this.transform,a),this.placements={},this.opacities={},this.variableOffsets={},this.stale=!1,this.commitTime=0,this.fadeDuration=n,this.retainedQueryData={},this.collisionGroups=new Bt(r),this.collisionCircleArrays={},this.prevPlacement=i,i&&(i.prevPlacement=void 0),this.placedOrientations={}}return p(t,[{key:"getBucketParts",value:function(t,n,r,i){var a=r.getBucket(n),o=r.latestFeatureIndex;if(a&&o&&n.id===a.layerIds[0]){var s=a.layers[0].layout,l=r.collisionBoxArray,c=Math.pow(2,this.transform.zoom-r.tileID.overscaledZ),u=r.tileSize/e.EXTENT,d=r.tileID.toUnwrapped();this.transform.setProjection(a.projection);var h,p,m,v=(h=r.tileID,p=a.getProjection(),m=this.transform,p.name===this.projection?m.calculateProjMatrix(h.toUnwrapped()):Pt(m,p,h)),g="map"===s.get("text-pitch-alignment"),y="map"===s.get("text-rotation-alignment");n.compileFilter();var x=n.dynamicFilter(),b=n.dynamicFilterNeedsFeature(),_=this.transform.calculatePixelsToTileUnitsMatrix(r),w=mt(v,r.tileID.canonical,g,y,this.transform,a.getProjection(),_),k=null;if(g){var S=vt(v,r.tileID.canonical,g,y,this.transform,a.getProjection(),_);k=e.multiply([],this.transform.labelPlaneMatrix,S)}var E=null;x&&r.latestFeatureIndex&&(E={unwrappedTileID:d,dynamicFilter:x,dynamicFilterNeedsFeature:b,featureIndex:r.latestFeatureIndex}),this.retainedQueryData[a.bucketInstanceId]=new Nt(a.bucketInstanceId,o,a.sourceLayerIndex,a.index,r.tileID);var C={bucket:a,layout:s,posMatrix:v,textLabelPlaneMatrix:w,labelToScreenMatrix:k,clippingData:E,scale:c,textPixelRatio:u,holdingForFade:r.holdingForFade(),collisionBoxArray:l,partiallyEvaluatedTextSize:e.evaluateSizeForZoom(a.textSizeData,this.transform.zoom),partiallyEvaluatedIconSize:e.evaluateSizeForZoom(a.iconSizeData,this.transform.zoom),collisionGroup:this.collisionGroups.get(a.sourceID)};if(i){var T,M=f(a.sortKeyRanges);try{for(M.s();!(T=M.n()).done;){var I=T.value,O=I.sortKey,P=I.symbolInstanceStart,A=I.symbolInstanceEnd;t.push({sortKey:O,symbolInstanceStart:P,symbolInstanceEnd:A,parameters:C})}}catch(z){M.e(z)}finally{M.f()}}else t.push({symbolInstanceStart:0,symbolInstanceEnd:a.symbolInstances.length,parameters:C})}}},{key:"attemptAnchorPlacement",value:function(e,t,n,r,i,a,o,s,l,c,u,d,f,h,p,m,v,g){var y,x=d.textOffset0,b=d.textOffset1,_=d.crossTileID,w=[x,b],k=Ft(e,n,r,w,i),S=this.collisionIndex.placeCollisionBox(h,i,t,Vt(k.x,k.y,a,o,this.transform.angle),u,s,l,c.predicate);if(m){var E=h.getSymbolInstanceIconSize(g,this.transform.zoom,d.placedIconSymbolIndex);if(0===this.collisionIndex.placeCollisionBox(h,E,m,Vt(k.x,k.y,a,o,this.transform.angle),u,s,l,c.predicate).box.length)return}if(S.box.length>0)return this.prevPlacement&&this.prevPlacement.variableOffsets[_]&&this.prevPlacement.placements[_]&&this.prevPlacement.placements[_].text&&(y=this.prevPlacement.variableOffsets[_].anchor),this.variableOffsets[_]={textOffset:w,width:n,height:r,anchor:e,textScale:i,prevAnchor:y},this.markUsedJustification(h,e,d,p),h.allowVerticalPlacement&&(this.markUsedOrientation(h,p,d),this.placedOrientations[_]=p),{shift:k,placedGlyphBoxes:S}}},{key:"placeLayerBucketPart",value:function(t,n,r,i){var a=this,o=t.parameters,s=o.bucket,l=o.layout,c=o.posMatrix,u=o.textLabelPlaneMatrix,d=o.labelToScreenMatrix,h=o.clippingData,p=o.textPixelRatio,m=o.holdingForFade,v=o.collisionBoxArray,g=o.partiallyEvaluatedTextSize,y=o.partiallyEvaluatedIconSize,x=o.collisionGroup,b=l.get("text-optional"),_=l.get("icon-optional"),w=l.get("text-allow-overlap"),k=l.get("icon-allow-overlap"),S="map"===l.get("text-rotation-alignment"),E="map"===l.get("text-pitch-alignment"),C="none"!==l.get("icon-text-fit"),T="viewport-y"===l.get("symbol-z-order");this.transform.setProjection(s.projection);var M=w&&(k||!s.hasIconData()||_),I=k&&(w||!s.hasTextData()||b);!s.collisionArrays&&v&&s.deserializeCollisionBoxes(v),r&&i&&s.updateCollisionDebugBuffers(this.transform.zoom,v);var O=function(t,i,o){var v=t.crossTileID,T=t.numVerticalGlyphVertices;if(h){var O={zoom:a.transform.zoom,pitch:a.transform.pitch},P=null;if(h.dynamicFilterNeedsFeature){var A=a.retainedQueryData[s.bucketInstanceId];P=h.featureIndex.loadFeature({featureIndex:t.featureIndex,bucketIndex:A.bucketIndex,sourceLayerIndex:A.sourceLayerIndex,layoutVertexArrayOffset:0})}if(!(0,h.dynamicFilter)(O,P,a.retainedQueryData[s.bucketInstanceId].tileID.canonical,new e.pointGeometry(t.tileAnchorX,t.tileAnchorY),a.transform.calculateDistanceTileData(h.unwrappedTileID)))return a.placements[v]=new Dt(!1,!1,!1,!0),void(n[v]=!0)}if(!n[v])if(m)a.placements[v]=new Dt(!1,!1,!1);else{var z=!1,j=!1,R=!0,D=!1,L=!1,N=null,B={box:null,offscreen:null,occluded:null},F={box:null,offscreen:null,occluded:null},V=null,U=null,H=null,G=0,W=0,q=0;o.textFeatureIndex?G=o.textFeatureIndex:t.useRuntimeCollisionCircles&&(G=t.featureIndex),o.verticalTextFeatureIndex&&(W=o.verticalTextFeatureIndex);var X=function(e){e.tileID=a.retainedQueryData[s.bucketInstanceId].tileID;var t=a.transform.elevation;(t||e.elevation)&&(e.elevation=t?t.getAtTileOffset(e.tileID,e.tileAnchorX,e.tileAnchorY):0)},Z=o.textBox;if(Z){X(Z);var K=function(n){var r=e.WritingMode.horizontal;if(s.allowVerticalPlacement&&!n&&a.prevPlacement){var i=a.prevPlacement.placedOrientations[v];i&&(a.placedOrientations[v]=i,r=i,a.markUsedOrientation(s,r,t))}return r},Y=function(t,n){if(s.allowVerticalPlacement&&T>0&&o.verticalTextBox){var r,i=f(s.writingModes);try{for(i.s();!(r=i.n()).done&&(r.value===e.WritingMode.vertical?(B=n(),F=B):B=t(),!(B&&B.box&&B.box.length)););}catch(a){i.e(a)}finally{i.f()}}else B=t()};if(l.get("text-variable-anchor")){var $=l.get("text-variable-anchor");if(a.prevPlacement&&a.prevPlacement.variableOffsets[v]){var J=a.prevPlacement.variableOffsets[v];$.indexOf(J.anchor)>0&&($=$.filter((function(e){return e!==J.anchor})),$.unshift(J.anchor))}var Q=function(e,n,r){var o=s.getSymbolInstanceTextSize(g,t,a.transform.zoom,i),l=(e.x2-e.x1)*o+2*e.padding,u=(e.y2-e.y1)*o+2*e.padding,d=C&&!k?n:null;d&&X(d);for(var f={box:[],offscreen:!1,occluded:!1},h=w?2*$.length:$.length,m=0;m<h;++m){var v=a.attemptAnchorPlacement($[m%$.length],e,l,u,o,S,E,p,c,x,m>=$.length,t,i,s,r,d,g,y);if(v&&(f=v.placedGlyphBoxes)&&f.box&&f.box.length){z=!0,N=v.shift;break}}return f};Y((function(){return Q(Z,o.iconBox,e.WritingMode.horizontal)}),(function(){var t=o.verticalTextBox;return t&&X(t),s.allowVerticalPlacement&&!(B&&B.box&&B.box.length)&&T>0&&t?Q(t,o.verticalIconBox,e.WritingMode.vertical):{box:null,offscreen:null,occluded:null}})),B&&(z=B.box,R=B.offscreen,D=B.occluded);var ee=K(B&&B.box);if(!z&&a.prevPlacement){var te=a.prevPlacement.variableOffsets[v];te&&(a.variableOffsets[v]=te,a.markUsedJustification(s,te.anchor,t,ee))}}else{var ne=function(n,r){var o=s.getSymbolInstanceTextSize(g,t,a.transform.zoom,i),l=a.collisionIndex.placeCollisionBox(s,o,n,new e.pointGeometry(0,0),w,p,c,x.predicate);return l&&l.box&&l.box.length&&(a.markUsedOrientation(s,r,t),a.placedOrientations[v]=r),l};Y((function(){return ne(Z,e.WritingMode.horizontal)}),(function(){var t=o.verticalTextBox;return s.allowVerticalPlacement&&T>0&&t?(X(t),ne(t,e.WritingMode.vertical)):{box:null,offscreen:null,occluded:null}})),K(B&&B.box&&B.box.length)}}if(z=(V=B)&&V.box&&V.box.length>0,R=V&&V.offscreen,D=V&&V.occluded,t.useRuntimeCollisionCircles){var re=s.text.placedSymbolArray.get(t.centerJustifiedTextSymbolIndex>=0?t.centerJustifiedTextSymbolIndex:t.verticalPlacedTextSymbolIndex),ie=e.evaluateSizeForFeature(s.textSizeData,g,re),ae=l.get("text-padding");U=a.collisionIndex.placeCollisionCircles(s,w,re,s.lineVertexArray,s.glyphOffsetArray,ie,c,u,d,r,E,x.predicate,t.collisionCircleDiameter*ie/e.ONE_EM,ae,a.retainedQueryData[s.bucketInstanceId].tileID),z=w||U.circles.length>0&&!U.collisionDetected,R=R&&U.offscreen,D=U.occluded}if(o.iconFeatureIndex&&(q=o.iconFeatureIndex),o.iconBox){var oe=function(n){X(n);var r=C&&N?Vt(N.x,N.y,S,E,a.transform.angle):new e.pointGeometry(0,0),i=s.getSymbolInstanceIconSize(y,a.transform.zoom,t.placedIconSymbolIndex);return a.collisionIndex.placeCollisionBox(s,i,n,r,k,p,c,x.predicate)};j=F&&F.box&&F.box.length&&o.verticalIconBox?(H=oe(o.verticalIconBox)).box.length>0:(H=oe(o.iconBox)).box.length>0,R=R&&H.offscreen,L=H.occluded}var se=b||0===t.numHorizontalGlyphVertices&&0===T,le=_||0===t.numIconVertices;if(se||le?le?se||(j=j&&z):z=j&&z:j=z=j&&z,z&&V&&V.box&&a.collisionIndex.insertCollisionBox(V.box,l.get("text-ignore-placement"),s.bucketInstanceId,F&&F.box&&W?W:G,x.ID),j&&H&&a.collisionIndex.insertCollisionBox(H.box,l.get("icon-ignore-placement"),s.bucketInstanceId,q,x.ID),U&&(z&&a.collisionIndex.insertCollisionCircles(U.circles,l.get("text-ignore-placement"),s.bucketInstanceId,G,x.ID),r)){var ce=s.bucketInstanceId,ue=a.collisionCircleArrays[ce];void 0===ue&&(ue=a.collisionCircleArrays[ce]=new Lt);for(var de=0;de<U.circles.length;de+=4)ue.circles.push(U.circles[de+0]),ue.circles.push(U.circles[de+1]),ue.circles.push(U.circles[de+2]),ue.circles.push(U.collisionDetected?1:0)}var fe="globe"!==s.projection.name;M=M&&(fe||!D),I=I&&(fe||!L),a.placements[v]=new Dt(z||M,j||I,R||s.justReloaded),n[v]=!0}};if(T)for(var P=s.getSortedSymbolIndexes(this.transform.angle),A=P.length-1;A>=0;--A){var z=P[A];O(s.symbolInstances.get(z),z,s.collisionArrays[z])}else for(var j=t.symbolInstanceStart;j<t.symbolInstanceEnd;j++)O(s.symbolInstances.get(j),j,s.collisionArrays[j]);if(r&&s.bucketInstanceId in this.collisionCircleArrays){var R=this.collisionCircleArrays[s.bucketInstanceId];e.invert(R.invProjMatrix,c),R.viewportMatrix=this.collisionIndex.getViewportMatrix()}s.justReloaded=!1}},{key:"markUsedJustification",value:function(t,n,r,i){var a=r.leftJustifiedTextSymbolIndex,o=r.centerJustifiedTextSymbolIndex,s=r.rightJustifiedTextSymbolIndex,l=r.verticalPlacedTextSymbolIndex,c=r.crossTileID,u=e.getAnchorJustification(n),d=i===e.WritingMode.vertical?l:"left"===u?a:"center"===u?o:"right"===u?s:-1;a>=0&&(t.text.placedSymbolArray.get(a).crossTileID=d>=0&&a!==d?0:c),o>=0&&(t.text.placedSymbolArray.get(o).crossTileID=d>=0&&o!==d?0:c),s>=0&&(t.text.placedSymbolArray.get(s).crossTileID=d>=0&&s!==d?0:c),l>=0&&(t.text.placedSymbolArray.get(l).crossTileID=d>=0&&l!==d?0:c)}},{key:"markUsedOrientation",value:function(t,n,r){var i=n===e.WritingMode.horizontal||n===e.WritingMode.horizontalOnly?n:0,a=n===e.WritingMode.vertical?n:0,o=r.leftJustifiedTextSymbolIndex,s=r.centerJustifiedTextSymbolIndex,l=r.rightJustifiedTextSymbolIndex,c=r.verticalPlacedTextSymbolIndex,u=t.text.placedSymbolArray;o>=0&&(u.get(o).placedOrientation=i),s>=0&&(u.get(s).placedOrientation=i),l>=0&&(u.get(l).placedOrientation=i),c>=0&&(u.get(c).placedOrientation=a)}},{key:"commit",value:function(e){this.commitTime=e,this.zoomAtLastRecencyCheck=this.transform.zoom;var t=this.prevPlacement,n=!1;this.prevZoomAdjustment=t?t.zoomAdjustment(this.transform.zoom):0;var r=t?t.symbolFadeChange(e):1,i=t?t.opacities:{},a=t?t.variableOffsets:{},o=t?t.placedOrientations:{};for(var s in this.placements){var l=this.placements[s],c=i[s];c?(this.opacities[s]=new Rt(c,r,l.text,l.icon,null,l.clipped),n=n||l.text!==c.text.placed||l.icon!==c.icon.placed):(this.opacities[s]=new Rt(null,r,l.text,l.icon,l.skipFade,l.clipped),n=n||l.text||l.icon)}for(var u in i){var d=i[u];if(!this.opacities[u]){var f=new Rt(d,r,!1,!1);f.isHidden()||(this.opacities[u]=f,n=n||d.text.placed||d.icon.placed)}}for(var h in a)this.variableOffsets[h]||!this.opacities[h]||this.opacities[h].isHidden()||(this.variableOffsets[h]=a[h]);for(var p in o)this.placedOrientations[p]||!this.opacities[p]||this.opacities[p].isHidden()||(this.placedOrientations[p]=o[p]);n?this.lastPlacementChangeTime=e:"number"!=typeof this.lastPlacementChangeTime&&(this.lastPlacementChangeTime=t?t.lastPlacementChangeTime:e)}},{key:"updateLayerOpacities",value:function(e,t){var n,r={},i=f(t);try{for(i.s();!(n=i.n()).done;){var a=n.value,o=a.getBucket(e);o&&a.latestFeatureIndex&&e.id===o.layerIds[0]&&this.updateBucketOpacities(o,r,a.collisionBoxArray)}}catch(s){i.e(s)}finally{i.f()}}},{key:"updateBucketOpacities",value:function(t,n,r){t.hasTextData()&&t.text.opacityVertexArray.clear(),t.hasIconData()&&t.icon.opacityVertexArray.clear(),t.hasIconCollisionBoxData()&&t.iconCollisionBox.collisionVertexArray.clear(),t.hasTextCollisionBoxData()&&t.textCollisionBox.collisionVertexArray.clear();var i=t.layers[0].layout,a=!!t.layers[0].dynamicFilter(),o=new Rt(null,0,!1,!1,!0),s=i.get("text-allow-overlap"),l=i.get("icon-allow-overlap"),c=i.get("text-variable-anchor"),u="map"===i.get("text-rotation-alignment"),d="map"===i.get("text-pitch-alignment"),f="none"!==i.get("icon-text-fit"),h=new Rt(null,0,s&&(l||!t.hasIconData()||i.get("icon-optional")),l&&(s||!t.hasTextData()||i.get("text-optional")),!0);!t.collisionArrays&&r&&(t.hasIconCollisionBoxData()||t.hasTextCollisionBoxData())&&t.deserializeCollisionBoxes(r);for(var p=function(e,t,n){for(var r=0;r<t/4;r++)e.opacityVertexArray.emplaceBack(n)},m=0,v=0;v<t.symbolInstances.length;v++){var g=t.symbolInstances.get(v),y=g.numHorizontalGlyphVertices,x=g.numVerticalGlyphVertices,b=g.crossTileID,_=g.numIconVertices,w=this.opacities[b];n[b]?w=o:w||(w=h,this.opacities[b]=w),n[b]=!0;var k=y>0||x>0,S=_>0,E=this.placedOrientations[b],C=E===e.WritingMode.vertical,T=E===e.WritingMode.horizontal||E===e.WritingMode.horizontalOnly;if(!k&&!S||w.isHidden()||m++,k){var M=$t(w.text);p(t.text,y,C?Jt:M),p(t.text,x,T?Jt:M);var I=w.text.isHidden(),O=g.leftJustifiedTextSymbolIndex,P=g.centerJustifiedTextSymbolIndex,A=g.rightJustifiedTextSymbolIndex,z=g.verticalPlacedTextSymbolIndex,j=t.text.placedSymbolArray,R=I||C?1:0;O>=0&&(j.get(O).hidden=R),P>=0&&(j.get(P).hidden=R),A>=0&&(j.get(A).hidden=R),z>=0&&(j.get(z).hidden=I||T?1:0);var D=this.variableOffsets[b];D&&this.markUsedJustification(t,D.anchor,g,E);var L=this.placedOrientations[b];L&&(this.markUsedJustification(t,"left",g,L),this.markUsedOrientation(t,L,g))}if(S){var N=$t(w.icon),B=g.placedIconSymbolIndex,F=g.verticalPlacedIconSymbolIndex,V=t.icon.placedSymbolArray,U=w.icon.isHidden()?1:0;B>=0&&(p(t.icon,_,C?Jt:N),V.get(B).hidden=U),F>=0&&(p(t.icon,g.numVerticalIconVertices,T?Jt:N),V.get(F).hidden=U)}if(t.hasIconCollisionBoxData()||t.hasTextCollisionBoxData()){var H=t.collisionArrays[v];if(H){var G=new e.pointGeometry(0,0),W=!0;if(H.textBox||H.verticalTextBox){if(c){var q=this.variableOffsets[b];q?(G=Ft(q.anchor,q.width,q.height,q.textOffset,q.textScale),u&&G._rotate(d?this.transform.angle:-this.transform.angle)):W=!1}a&&(W=!w.clipped),H.textBox&&Ht(t.textCollisionBox.collisionVertexArray,w.text.placed,!W||C,G.x,G.y),H.verticalTextBox&&Ht(t.textCollisionBox.collisionVertexArray,w.text.placed,!W||T,G.x,G.y)}var X=W&&Boolean(!T&&H.verticalIconBox);H.iconBox&&Ht(t.iconCollisionBox.collisionVertexArray,w.icon.placed,X,f?G.x:0,f?G.y:0),H.verticalIconBox&&Ht(t.iconCollisionBox.collisionVertexArray,w.icon.placed,!X,f?G.x:0,f?G.y:0)}}}if(t.fullyClipped=0===m,t.sortFeatures(this.transform.angle),this.retainedQueryData[t.bucketInstanceId]&&(this.retainedQueryData[t.bucketInstanceId].featureSortOrder=t.featureSortOrder),t.hasTextData()&&t.text.opacityVertexBuffer&&t.text.opacityVertexBuffer.updateData(t.text.opacityVertexArray),t.hasIconData()&&t.icon.opacityVertexBuffer&&t.icon.opacityVertexBuffer.updateData(t.icon.opacityVertexArray),t.hasIconCollisionBoxData()&&t.iconCollisionBox.collisionVertexBuffer&&t.iconCollisionBox.collisionVertexBuffer.updateData(t.iconCollisionBox.collisionVertexArray),t.hasTextCollisionBoxData()&&t.textCollisionBox.collisionVertexBuffer&&t.textCollisionBox.collisionVertexBuffer.updateData(t.textCollisionBox.collisionVertexArray),t.bucketInstanceId in this.collisionCircleArrays){var Z=this.collisionCircleArrays[t.bucketInstanceId];t.placementInvProjMatrix=Z.invProjMatrix,t.placementViewportMatrix=Z.viewportMatrix,t.collisionCircleArray=Z.circles,delete this.collisionCircleArrays[t.bucketInstanceId]}}},{key:"symbolFadeChange",value:function(e){return 0===this.fadeDuration?1:(e-this.commitTime)/this.fadeDuration+this.prevZoomAdjustment}},{key:"zoomAdjustment",value:function(e){return Math.max(0,(this.transform.zoom-e)/1.5)}},{key:"hasTransitions",value:function(e){return this.stale||e-this.lastPlacementChangeTime<this.fadeDuration}},{key:"stillRecent",value:function(e,t){var n=this.zoomAtLastRecencyCheck===t?1-this.zoomAdjustment(t):1;return this.zoomAtLastRecencyCheck=t,this.commitTime+this.fadeDuration*n>e}},{key:"setStale",value:function(){this.stale=!0}}]),t}();function Ht(e,t,n,r,i){e.emplaceBack(t?1:0,n?1:0,r||0,i||0),e.emplaceBack(t?1:0,n?1:0,r||0,i||0),e.emplaceBack(t?1:0,n?1:0,r||0,i||0),e.emplaceBack(t?1:0,n?1:0,r||0,i||0)}var Gt=Math.pow(2,25),Wt=Math.pow(2,24),qt=Math.pow(2,17),Xt=Math.pow(2,16),Zt=Math.pow(2,9),Kt=Math.pow(2,8),Yt=Math.pow(2,1);function $t(e){if(0===e.opacity&&!e.placed)return 0;if(1===e.opacity&&e.placed)return 4294967295;var t=e.placed?1:0,n=Math.floor(127*e.opacity);return n*Gt+t*Wt+n*qt+t*Xt+n*Zt+t*Kt+n*Yt+t}var Jt=0,Qt=function(){function e(t){h(this,e),this._sortAcrossTiles="viewport-y"!==t.layout.get("symbol-z-order")&&void 0!==t.layout.get("symbol-sort-key").constantOr(1),this._currentTileIndex=0,this._currentPartIndex=0,this._seenCrossTileIDs={},this._bucketParts=[]}return p(e,[{key:"continuePlacement",value:function(e,t,n,r,i){for(var a=this._bucketParts;this._currentTileIndex<e.length;)if(t.getBucketParts(a,r,e[this._currentTileIndex],this._sortAcrossTiles),this._currentTileIndex++,i())return!0;for(this._sortAcrossTiles&&(this._sortAcrossTiles=!1,a.sort((function(e,t){return e.sortKey-t.sortKey})));this._currentPartIndex<a.length;){var o=a[this._currentPartIndex];if(t.placeLayerBucketPart(o,this._seenCrossTileIDs,n,0===o.symbolInstanceStart),this._currentPartIndex++,i())return!0}return!1}}]),e}(),en=function(){function t(e,n,r,i,a,o,s,l){h(this,t),this.placement=new Ut(e,a,o,s,l),this._currentPlacementIndex=n.length-1,this._forceFullPlacement=r,this._showCollisionBoxes=i,this._done=!1}return p(t,[{key:"isDone",value:function(){return this._done}},{key:"continuePlacement",value:function(t,n,r){for(var i=this,a=e.exported.now(),o=function(){var t=e.exported.now()-a;return!i._forceFullPlacement&&t>2};this._currentPlacementIndex>=0;){var s=n[t[this._currentPlacementIndex]],l=this.placement.collisionIndex.transform.zoom;if("symbol"===s.type&&(!s.minzoom||s.minzoom<=l)&&(!s.maxzoom||s.maxzoom>l)){if(this._inProgressLayer||(this._inProgressLayer=new Qt(s)),this._inProgressLayer.continuePlacement(r[s.source],this.placement,this._showCollisionBoxes,s,o))return;delete this._inProgressLayer}this._currentPlacementIndex--}this._done=!0}},{key:"commit",value:function(e){return this.placement.commit(e),this.placement}}]),t}(),tn=512/e.EXTENT/2,nn=function(){function t(e,n,r){h(this,t),this.tileID=e,this.indexedSymbolInstances={},this.bucketInstanceId=r;for(var i=0;i<n.length;i++){var a=n.get(i),o=a.key;this.indexedSymbolInstances[o]||(this.indexedSymbolInstances[o]=[]),this.indexedSymbolInstances[o].push({crossTileID:a.crossTileID,coord:this.getScaledCoordinates(a,e)})}}return p(t,[{key:"getScaledCoordinates",value:function(t,n){var r=tn/Math.pow(2,n.canonical.z-this.tileID.canonical.z);return{x:Math.floor((n.canonical.x*e.EXTENT+t.tileAnchorX)*r),y:Math.floor((n.canonical.y*e.EXTENT+t.tileAnchorY)*r)}}},{key:"findMatches",value:function(e,t,n){for(var r=this.tileID.canonical.z<t.canonical.z?1:Math.pow(2,this.tileID.canonical.z-t.canonical.z),i=0;i<e.length;i++){var a=e.get(i);if(!a.crossTileID){var o=this.indexedSymbolInstances[a.key];if(o){var s,l=this.getScaledCoordinates(a,t),c=f(o);try{for(c.s();!(s=c.n()).done;){var u=s.value;if(Math.abs(u.coord.x-l.x)<=r&&Math.abs(u.coord.y-l.y)<=r&&!n[u.crossTileID]){n[u.crossTileID]=!0,a.crossTileID=u.crossTileID;break}}}catch(d){c.e(d)}finally{c.f()}}}}}}]),t}(),rn=function(){function e(){h(this,e),this.maxCrossTileID=0}return p(e,[{key:"generate",value:function(){return++this.maxCrossTileID}}]),e}(),an=function(){function e(){h(this,e),this.indexes={},this.usedCrossTileIDs={},this.lng=0}return p(e,[{key:"handleWrapJump",value:function(e){var t=Math.round((e-this.lng)/360);if(0!==t)for(var n in this.indexes){var r=this.indexes[n],i={};for(var a in r){var o=r[a];o.tileID=o.tileID.unwrapTo(o.tileID.wrap+t),i[o.tileID.key]=o}this.indexes[n]=i}this.lng=e}},{key:"addBucket",value:function(e,t,n){if(this.indexes[e.overscaledZ]&&this.indexes[e.overscaledZ][e.key]){if(this.indexes[e.overscaledZ][e.key].bucketInstanceId===t.bucketInstanceId)return!1;this.removeBucketCrossTileIDs(e.overscaledZ,this.indexes[e.overscaledZ][e.key])}for(var r=0;r<t.symbolInstances.length;r++)t.symbolInstances.get(r).crossTileID=0;this.usedCrossTileIDs[e.overscaledZ]||(this.usedCrossTileIDs[e.overscaledZ]={});var i=this.usedCrossTileIDs[e.overscaledZ];for(var a in this.indexes){var o=this.indexes[a];if(Number(a)>e.overscaledZ)for(var s in o){var l=o[s];l.tileID.isChildOf(e)&&l.findMatches(t.symbolInstances,e,i)}else{var c=o[e.scaledTo(Number(a)).key];c&&c.findMatches(t.symbolInstances,e,i)}}for(var u=0;u<t.symbolInstances.length;u++){var d=t.symbolInstances.get(u);d.crossTileID||(d.crossTileID=n.generate(),i[d.crossTileID]=!0)}return void 0===this.indexes[e.overscaledZ]&&(this.indexes[e.overscaledZ]={}),this.indexes[e.overscaledZ][e.key]=new nn(e,t.symbolInstances,t.bucketInstanceId),!0}},{key:"removeBucketCrossTileIDs",value:function(e,t){for(var n in t.indexedSymbolInstances){var r,i=f(t.indexedSymbolInstances[n]);try{for(i.s();!(r=i.n()).done;){var a=r.value;delete this.usedCrossTileIDs[e][a.crossTileID]}}catch(o){i.e(o)}finally{i.f()}}}},{key:"removeStaleBuckets",value:function(e){var t=!1;for(var n in this.indexes){var r=this.indexes[n];for(var i in r)e[r[i].bucketInstanceId]||(this.removeBucketCrossTileIDs(n,r[i]),delete r[i],t=!0)}return t}}]),e}(),on=function(){function e(){h(this,e),this.layerIndexes={},this.crossTileIDs=new rn,this.maxBucketInstanceId=0,this.bucketsInCurrentPlacement={}}return p(e,[{key:"addLayer",value:function(e,t,n,r){var i=this.layerIndexes[e.id];void 0===i&&(i=this.layerIndexes[e.id]=new an);var a=!1,o={};"globe"!==r.name&&i.handleWrapJump(n);var s,l=f(t);try{for(l.s();!(s=l.n()).done;){var c=s.value,u=c.getBucket(e);u&&e.id===u.layerIds[0]&&(u.bucketInstanceId||(u.bucketInstanceId=++this.maxBucketInstanceId),i.addBucket(c.tileID,u,this.crossTileIDs)&&(a=!0),o[u.bucketInstanceId]=!0)}}catch(d){l.e(d)}finally{l.f()}return i.removeStaleBuckets(o)&&(a=!0),a}},{key:"pruneUnusedLayers",value:function(e){var t={};for(var n in e.forEach((function(e){t[e]=!0})),this.layerIndexes)t[n]||delete this.layerIndexes[n]}}]),e}(),sn=function(t,n){return e.emitValidationErrors(t,n&&n.filter((function(e){return"source.canvas"!==e.identifier})))},ln=e.pick(rt,["addLayer","removeLayer","setPaintProperty","setLayoutProperty","setFilter","addSource","removeSource","setLayerZoomRange","setLight","setTransition","setGeoJSONSourceData","setTerrain","setFog","setProjection"]),cn=e.pick(rt,["setCenter","setZoom","setBearing","setPitch"]),un={version:8,layers:[],sources:{}},dn={fill:!0,line:!0,background:!0,hillshade:!0,raster:!0},fn=function(n){m(a,n);var r=v(a);function a(t){var n,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};h(this,a),(n=r.call(this)).map=t,n.dispatcher=new W(et(),i(n)),n.imageManager=new z,n.imageManager.setEventedParent(i(n)),n.glyphManager=new e.GlyphManager(t._requestManager,o.localFontFamily?e.LocalGlyphMode.all:o.localIdeographFontFamily?e.LocalGlyphMode.ideographs:e.LocalGlyphMode.none,o.localFontFamily||o.localIdeographFontFamily),n.crossTileSymbolIndex=new on,n._layers={},n._num3DLayers=0,n._numSymbolLayers=0,n._numCircleLayers=0,n._serializedLayers={},n._sourceCaches={},n._otherSourceCaches={},n._symbolSourceCaches={},n._loaded=!1,n._availableImages=[],n._order=[],n._drapedFirstOrder=[],n._markersNeedUpdate=!1,n._resetUpdates(),n.dispatcher.broadcast("setReferrer",e.getReferrer());var s=i(n);return n._rtlTextPluginCallback=a.registerForPluginStateChange((function(t){s.dispatcher.broadcast("syncRTLPluginState",{pluginStatus:t.pluginStatus,pluginURL:t.pluginURL},(function(t,n){if(e.triggerPluginCompletionEvent(t),n&&n.every((function(e){return e})))for(var r in s._sourceCaches){var i=s._sourceCaches[r],a=i.getSource().type;"vector"!==a&&"geojson"!==a||i.reload()}}))})),n.on("data",(function(e){if("source"===e.dataType&&"metadata"===e.sourceDataType){var t=n.getSource(e.sourceId);if(t&&t.vectorLayerIds)for(var r in n._layers){var i=n._layers[r];i.source===t.id&&n._validateLayer(i)}}})),n}return p(a,[{key:"loadURL",value:function(t){var n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.fire(new e.Event("dataloading",{dataType:"style"}));var i="boolean"==typeof r.validate?r.validate:!e.isMapboxURL(t);t=this.map._requestManager.normalizeStyleURL(t,r.accessToken);var a=this.map._requestManager.transformRequest(t,e.ResourceType.Style);this._request=e.getJSON(a,(function(t,r){n._request=null,t?n.fire(new e.ErrorEvent(t)):r&&n._load(r,i)}))}},{key:"loadJSON",value:function(t){var n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.fire(new e.Event("dataloading",{dataType:"style"})),this._request=e.exported.frame((function(){n._request=null,n._load(t,!1!==r.validate)}))}},{key:"loadEmpty",value:function(){this.fire(new e.Event("dataloading",{dataType:"style"})),this._load(un,!1)}},{key:"_updateLayerCount",value:function(e,t){var n=t?1:-1;e.is3D()&&(this._num3DLayers+=n),"circle"===e.type&&(this._numCircleLayers+=n),"symbol"===e.type&&(this._numSymbolLayers+=n)}},{key:"_load",value:function(t,n){if(!n||!sn(this,e.validateStyle(t))){for(var r in this._loaded=!0,this.stylesheet=e.clone$1(t),this._updateMapProjection(),t.sources)this.addSource(r,t.sources[r],{validate:!1});this._changed=!1,t.sprite?this._loadSprite(t.sprite):(this.imageManager.setLoaded(!0),this.dispatcher.broadcast("spriteLoaded",!0)),this.glyphManager.setURL(t.glyphs);var i=nt(this.stylesheet.layers);this._order=i.map((function(e){return e.id})),this._layers={},this._serializedLayers={};var a,o=f(i);try{for(o.s();!(a=o.n()).done;){var s=a.value;(s=e.createStyleLayer(s)).setEventedParent(this,{layer:{id:s.id}}),this._layers[s.id]=s,this._serializedLayers[s.id]=s.serialize(),this._updateLayerCount(s,!0)}}catch(l){o.e(l)}finally{o.f()}this.dispatcher.broadcast("setLayers",this._serializeLayers(this._order)),this.light=new D(this.stylesheet.light),this.stylesheet.terrain&&!this.terrainSetForDrapingOnly()&&this._createTerrain(this.stylesheet.terrain,1),this.stylesheet.fog&&this._createFog(this.stylesheet.fog),this._updateDrapeFirstLayers(),this.fire(new e.Event("data",{dataType:"style"})),this.fire(new e.Event("style.load"))}}},{key:"terrainSetForDrapingOnly",value:function(){return!!this.terrain&&0===this.terrain.drapeRenderMode}},{key:"setProjection",value:function(e){e?this.stylesheet.projection=e:delete this.stylesheet.projection,this._updateMapProjection()}},{key:"applyProjectionUpdate",value:function(){this._loaded&&(this.dispatcher.broadcast("setProjection",this.map.transform.projectionOptions),this.map.transform.projection.requiresDraping?this.getTerrain()||this.stylesheet.terrain||this.setTerrainForDraping():this.terrainSetForDrapingOnly()&&this.setTerrain(null))}},{key:"_updateMapProjection",value:function(){this.map._useExplicitProjection?this.applyProjectionUpdate():this.map._prioritizeAndUpdateProjection(null,this.stylesheet.projection)}},{key:"_loadSprite",value:function(t){var n=this;this._spriteRequest=function(t,n,r){var i,a,o,s=e.exported.devicePixelRatio>1?"@2x":"",l=e.getJSON(n.transformRequest(n.normalizeSpriteURL(t,s,".json"),e.ResourceType.SpriteJSON),(function(e,t){l=null,o||(o=e,i=t,u())})),c=e.getImage(n.transformRequest(n.normalizeSpriteURL(t,s,".png"),e.ResourceType.SpriteImage),(function(e,t){c=null,o||(o=e,a=t,u())}));function u(){if(o)r(o);else if(i&&a){var t=e.exported.getImageData(a),n={};for(var s in i){var l=i[s],c=l.width,u=l.height,d=l.x,f=l.y,h=l.sdf,p=l.pixelRatio,m=l.stretchX,v=l.stretchY,g=l.content,y=new e.RGBAImage({width:c,height:u});e.RGBAImage.copy(t,y,{x:d,y:f},{x:0,y:0},{width:c,height:u}),n[s]={data:y,pixelRatio:p,sdf:h,stretchX:m,stretchY:v,content:g}}r(null,n)}}return{cancel:function(){l&&(l.cancel(),l=null),c&&(c.cancel(),c=null)}}}(t,this.map._requestManager,(function(t,r){if(n._spriteRequest=null,t)n.fire(new e.ErrorEvent(t));else if(r)for(var i in r)n.imageManager.addImage(i,r[i]);n.imageManager.setLoaded(!0),n._availableImages=n.imageManager.listImages(),n.dispatcher.broadcast("setImages",n._availableImages),n.dispatcher.broadcast("spriteLoaded",!0),n.fire(new e.Event("data",{dataType:"style"}))}))}},{key:"_validateLayer",value:function(t){var n=this.getSource(t.source);if(n){var r=t.sourceLayer;r&&("geojson"===n.type||n.vectorLayerIds&&-1===n.vectorLayerIds.indexOf(r))&&this.fire(new e.ErrorEvent(new Error('Source layer "'.concat(r,'" does not exist on source "').concat(n.id,'" as specified by style layer "').concat(t.id,'"'))))}}},{key:"loaded",value:function(){if(!this._loaded)return!1;if(Object.keys(this._updatedSources).length)return!1;for(var e in this._sourceCaches)if(!this._sourceCaches[e].loaded())return!1;return!!this.imageManager.isLoaded()}},{key:"_serializeLayers",value:function(e){var t,n=[],r=f(e);try{for(r.s();!(t=r.n()).done;){var i=t.value,a=this._layers[i];"custom"!==a.type&&n.push(a.serialize())}}catch(o){r.e(o)}finally{r.f()}return n}},{key:"hasTransitions",value:function(){if(this.light&&this.light.hasTransition())return!0;if(this.fog&&this.fog.hasTransition())return!0;for(var e in this._sourceCaches)if(this._sourceCaches[e].hasTransition())return!0;for(var t in this._layers)if(this._layers[t].hasTransition())return!0;return!1}},{key:"order",get:function(){return this.map._optimizeForTerrain&&this.terrain?this._drapedFirstOrder:this._order}},{key:"isLayerDraped",value:function(e){return!!this.terrain&&dn[e.type]}},{key:"_checkLoaded",value:function(){if(!this._loaded)throw new Error("Style is not done loading")}},{key:"update",value:function(t){if(this._loaded){var n=this._changed;if(this._changed){var r=Object.keys(this._updatedLayers),i=Object.keys(this._removedLayers);for(var a in(r.length||i.length)&&this._updateWorkerLayers(r,i),this._updatedSources){var o=this._updatedSources[a];"reload"===o?this._reloadSource(a):"clear"===o&&this._clearSource(a)}for(var s in this._updateTilesForChangedImages(),this._updatedPaintProps)this._layers[s].updateTransitions(t);this.light.updateTransitions(t),this.fog&&this.fog.updateTransitions(t),this._resetUpdates()}var l={};for(var c in this._sourceCaches){var u=this._sourceCaches[c];l[c]=u.used,u.used=!1}var d,h=f(this._order);try{for(h.s();!(d=h.n()).done;){var p=d.value,m=this._layers[p];if(m.recalculate(t,this._availableImages),!m.isHidden(t.zoom)){var v=this._getLayerSourceCache(m);v&&(v.used=!0)}var g=this.map.painter;if(g){var y=m.getProgramIds();if(!y)continue;var x,b=m.getProgramConfiguration(t.zoom),_=f(y);try{for(_.s();!(x=_.n()).done;){var w=x.value;g.useProgram(w,b)}}catch(E){_.e(E)}finally{_.f()}}}}catch(E){h.e(E)}finally{h.f()}for(var k in l){var S=this._sourceCaches[k];l[k]!==S.used&&S.getSource().fire(new e.Event("data",{sourceDataType:"visibility",dataType:"source",sourceId:S.getSource().id}))}this.light.recalculate(t),this.terrain&&this.terrain.recalculate(t),this.fog&&this.fog.recalculate(t),this.z=t.zoom,this._markersNeedUpdate&&(this._updateMarkersOpacity(),this._markersNeedUpdate=!1),n&&this.fire(new e.Event("data",{dataType:"style"}))}}},{key:"_updateTilesForChangedImages",value:function(){var e=Object.keys(this._changedImages);if(e.length){for(var t in this._sourceCaches)this._sourceCaches[t].reloadTilesForDependencies(["icons","patterns"],e);this._changedImages={}}}},{key:"_updateWorkerLayers",value:function(e,t){this.dispatcher.broadcast("updateLayers",{layers:this._serializeLayers(e),removedIds:t})}},{key:"_resetUpdates",value:function(){this._changed=!1,this._updatedLayers={},this._removedLayers={},this._updatedSources={},this._updatedPaintProps={},this._changedImages={}}},{key:"setState",value:function(n){var r=this;if(this._checkLoaded(),sn(this,e.validateStyle(n)))return!1;(n=e.clone$1(n)).layers=nt(n.layers);var i=function(e,n){if(!e)return[{command:rt.setStyle,args:[n]}];var r=[];try{if(!t(e.version,n.version))return[{command:rt.setStyle,args:[n]}];t(e.center,n.center)||r.push({command:rt.setCenter,args:[n.center]}),t(e.zoom,n.zoom)||r.push({command:rt.setZoom,args:[n.zoom]}),t(e.bearing,n.bearing)||r.push({command:rt.setBearing,args:[n.bearing]}),t(e.pitch,n.pitch)||r.push({command:rt.setPitch,args:[n.pitch]}),t(e.sprite,n.sprite)||r.push({command:rt.setSprite,args:[n.sprite]}),t(e.glyphs,n.glyphs)||r.push({command:rt.setGlyphs,args:[n.glyphs]}),t(e.transition,n.transition)||r.push({command:rt.setTransition,args:[n.transition]}),t(e.light,n.light)||r.push({command:rt.setLight,args:[n.light]}),t(e.fog,n.fog)||r.push({command:rt.setFog,args:[n.fog]}),t(e.projection,n.projection)||r.push({command:rt.setProjection,args:[n.projection]});var i={},a=[];!function(e,n,r,i){var a;for(a in n=n||{},e=e||{})e.hasOwnProperty(a)&&(n.hasOwnProperty(a)||at(a,r,i));for(a in n)n.hasOwnProperty(a)&&(e.hasOwnProperty(a)?t(e[a],n[a])||("geojson"===e[a].type&&"geojson"===n[a].type&&st(e,n,a)?r.push({command:rt.setGeoJSONSourceData,args:[a,n[a].data]}):ot(a,n,r,i)):it(a,n,r))}(e.sources,n.sources,a,i);var o=[];e.layers&&e.layers.forEach((function(e){e.source&&i[e.source]?r.push({command:rt.removeLayer,args:[e.id]}):o.push(e)}));var s=e.terrain;s&&i[s.source]&&(r.push({command:rt.setTerrain,args:[void 0]}),s=void 0),r=r.concat(a),t(s,n.terrain)||r.push({command:rt.setTerrain,args:[n.terrain]}),function(e,n,r){n=n||[];var i,a,o,s,l,c,u,d=(e=e||[]).map(ct),f=n.map(ct),h=e.reduce(ut,{}),p=n.reduce(ut,{}),m=d.slice(),v=Object.create(null);for(i=0,a=0;i<d.length;i++)o=d[i],p.hasOwnProperty(o)?a++:(r.push({command:rt.removeLayer,args:[o]}),m.splice(m.indexOf(o,a),1));for(i=0,a=0;i<f.length;i++)o=f[f.length-1-i],m[m.length-1-i]!==o&&(h.hasOwnProperty(o)?(r.push({command:rt.removeLayer,args:[o]}),m.splice(m.lastIndexOf(o,m.length-a),1)):a++,c=m[m.length-i],r.push({command:rt.addLayer,args:[p[o],c]}),m.splice(m.length-i,0,o),v[o]=!0);for(i=0;i<f.length;i++)if(s=h[o=f[i]],l=p[o],!v[o]&&!t(s,l))if(t(s.source,l.source)&&t(s["source-layer"],l["source-layer"])&&t(s.type,l.type)){for(u in lt(s.layout,l.layout,r,o,null,rt.setLayoutProperty),lt(s.paint,l.paint,r,o,null,rt.setPaintProperty),t(s.filter,l.filter)||r.push({command:rt.setFilter,args:[o,l.filter]}),t(s.minzoom,l.minzoom)&&t(s.maxzoom,l.maxzoom)||r.push({command:rt.setLayerZoomRange,args:[o,l.minzoom,l.maxzoom]}),s)s.hasOwnProperty(u)&&"layout"!==u&&"paint"!==u&&"filter"!==u&&"metadata"!==u&&"minzoom"!==u&&"maxzoom"!==u&&(0===u.indexOf("paint.")?lt(s[u],l[u],r,o,u.slice(6),rt.setPaintProperty):t(s[u],l[u])||r.push({command:rt.setLayerProperty,args:[o,u,l[u]]}));for(u in l)l.hasOwnProperty(u)&&!s.hasOwnProperty(u)&&"layout"!==u&&"paint"!==u&&"filter"!==u&&"metadata"!==u&&"minzoom"!==u&&"maxzoom"!==u&&(0===u.indexOf("paint.")?lt(s[u],l[u],r,o,u.slice(6),rt.setPaintProperty):t(s[u],l[u])||r.push({command:rt.setLayerProperty,args:[o,u,l[u]]}))}else r.push({command:rt.removeLayer,args:[o]}),c=m[m.lastIndexOf(o)+1],r.push({command:rt.addLayer,args:[l,c]})}(o,n.layers,r)}catch(e){console.warn("Unable to compute style diff:",e),r=[{command:rt.setStyle,args:[n]}]}return r}(this.serialize(),n).filter((function(e){return!(e.command in cn)}));if(0===i.length)return!1;var a=i.filter((function(e){return!(e.command in ln)}));if(a.length>0)throw new Error("Unimplemented: ".concat(a.map((function(e){return e.command})).join(", "),"."));return i.forEach((function(e){"setTransition"!==e.command&&"setProjection"!==e.command&&r[e.command].apply(r,e.args)})),this.stylesheet=n,this._updateMapProjection(),!0}},{key:"addImage",value:function(t,n){return this.getImage(t)?this.fire(new e.ErrorEvent(new Error("An image with this name already exists."))):(this.imageManager.addImage(t,n),this._afterImageUpdated(t),this)}},{key:"updateImage",value:function(e,t){this.imageManager.updateImage(e,t)}},{key:"getImage",value:function(e){return this.imageManager.getImage(e)}},{key:"removeImage",value:function(t){return this.getImage(t)?(this.imageManager.removeImage(t),this._afterImageUpdated(t),this):this.fire(new e.ErrorEvent(new Error("No image with this name exists.")))}},{key:"_afterImageUpdated",value:function(t){this._availableImages=this.imageManager.listImages(),this._changedImages[t]=!0,this._changed=!0,this.dispatcher.broadcast("setImages",this._availableImages),this.fire(new e.Event("data",{dataType:"style"}))}},{key:"listImages",value:function(){return this._checkLoaded(),this._availableImages.slice()}},{key:"addSource",value:function(t,n){var r=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(this._checkLoaded(),void 0!==this.getSource(t))throw new Error("There is already a source with this ID");if(!n.type)throw new Error("The type property must be defined, but only the following properties were given: ".concat(Object.keys(n).join(", "),"."));if(!(["vector","raster","geojson","video","image"].indexOf(n.type)>=0&&this._validate(e.validateSource,"sources.".concat(t),n,null,i))){this.map&&this.map._collectResourceTiming&&(n.collectResourceTiming=!0);var a=We(t,n,this.dispatcher,this);a.setEventedParent(this,(function(){return{isSourceLoaded:r._isSourceCacheLoaded(t),source:a.serialize(),sourceId:t}}));var o=function(n){var i=(n?"symbol:":"other:")+t,o=r._sourceCaches[i]=new e.SourceCache(i,a,n);(n?r._symbolSourceCaches:r._otherSourceCaches)[t]=o,o.style=r,o.onAdd(r.map)};o(!1),"vector"!==n.type&&"geojson"!==n.type||o(!0),a.onAdd&&a.onAdd(this.map),this._changed=!0}}},{key:"removeSource",value:function(t){this._checkLoaded();var n=this.getSource(t);if(!n)throw new Error("There is no source with this ID");for(var r in this._layers)if(this._layers[r].source===t)return this.fire(new e.ErrorEvent(new Error('Source "'.concat(t,'" cannot be removed while layer "').concat(r,'" is using it.'))));if(this.terrain&&this.terrain.get().source===t)return this.fire(new e.ErrorEvent(new Error('Source "'.concat(t,'" cannot be removed while terrain is using it.'))));var i,a=this._getSourceCaches(t),o=f(a);try{for(o.s();!(i=o.n()).done;){var s=i.value;delete this._sourceCaches[s.id],delete this._updatedSources[s.id],s.fire(new e.Event("data",{sourceDataType:"metadata",dataType:"source",sourceId:s.getSource().id})),s.setEventedParent(null),s.clearTiles()}}catch(l){o.e(l)}finally{o.f()}return delete this._otherSourceCaches[t],delete this._symbolSourceCaches[t],n.setEventedParent(null),n.onRemove&&n.onRemove(this.map),this._changed=!0,this}},{key:"setGeoJSONSourceData",value:function(e,t){this._checkLoaded(),this.getSource(e).setData(t),this._changed=!0}},{key:"getSource",value:function(e){var t=this._getSourceCache(e);return t&&t.getSource()}},{key:"_getSources",value:function(){var e=[];for(var t in this._otherSourceCaches){var n=this._getSourceCache(t);n&&e.push(n.getSource())}return e}},{key:"addLayer",value:function(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this._checkLoaded();var i=t.id;if(this.getLayer(i))this.fire(new e.ErrorEvent(new Error('Layer with id "'.concat(i,'" already exists on this map'))));else{var a;if("custom"===t.type){if(sn(this,e.validateCustomStyleLayer(t)))return;a=e.createStyleLayer(t)}else{if("object"==typeof t.source&&(this.addSource(i,t.source),t=e.clone$1(t),t=e.extend(t,{source:i})),this._validate(e.validateLayer,"layers.".concat(i),t,{arrayIndex:-1},r))return;a=e.createStyleLayer(t),this._validateLayer(a),a.setEventedParent(this,{layer:{id:i}}),this._serializedLayers[a.id]=a.serialize(),this._updateLayerCount(a,!0)}var o=n?this._order.indexOf(n):this._order.length;if(n&&-1===o)this.fire(new e.ErrorEvent(new Error('Layer with id "'.concat(n,'" does not exist on this map.'))));else{this._order.splice(o,0,i),this._layerOrderChanged=!0,this._layers[i]=a;var s=this._getLayerSourceCache(a);if(this._removedLayers[i]&&a.source&&s&&"custom"!==a.type){var l=this._removedLayers[i];delete this._removedLayers[i],l.type!==a.type?this._updatedSources[a.source]="clear":(this._updatedSources[a.source]="reload",s.pause())}this._updateLayer(a),a.onAdd&&a.onAdd(this.map),this._updateDrapeFirstLayers()}}}},{key:"moveLayer",value:function(t,n){if(this._checkLoaded(),this._changed=!0,this._layers[t]){if(t!==n){var r=this._order.indexOf(t);this._order.splice(r,1);var i=n?this._order.indexOf(n):this._order.length;n&&-1===i?this.fire(new e.ErrorEvent(new Error('Layer with id "'.concat(n,'" does not exist on this map.')))):(this._order.splice(i,0,t),this._layerOrderChanged=!0,this._updateDrapeFirstLayers())}}else this.fire(new e.ErrorEvent(new Error("The layer '".concat(t,"' does not exist in the map's style and cannot be moved."))))}},{key:"removeLayer",value:function(t){this._checkLoaded();var n=this._layers[t];if(n){n.setEventedParent(null),this._updateLayerCount(n,!1);var r=this._order.indexOf(t);this._order.splice(r,1),this._layerOrderChanged=!0,this._changed=!0,this._removedLayers[t]=n,delete this._layers[t],delete this._serializedLayers[t],delete this._updatedLayers[t],delete this._updatedPaintProps[t],n.onRemove&&n.onRemove(this.map),this._updateDrapeFirstLayers()}else this.fire(new e.ErrorEvent(new Error("The layer '".concat(t,"' does not exist in the map's style and cannot be removed."))))}},{key:"getLayer",value:function(e){return this._layers[e]}},{key:"hasLayer",value:function(e){return e in this._layers}},{key:"hasLayerType",value:function(e){for(var t in this._layers)if(this._layers[t].type===e)return!0;return!1}},{key:"setLayerZoomRange",value:function(t,n,r){this._checkLoaded();var i=this.getLayer(t);i?i.minzoom===n&&i.maxzoom===r||(null!=n&&(i.minzoom=n),null!=r&&(i.maxzoom=r),this._updateLayer(i)):this.fire(new e.ErrorEvent(new Error("The layer '".concat(t,"' does not exist in the map's style and cannot have zoom extent."))))}},{key:"setFilter",value:function(n,r){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this._checkLoaded();var a=this.getLayer(n);if(a){if(!t(a.filter,r))return null==r?(a.filter=void 0,void this._updateLayer(a)):void(this._validate(e.validateFilter,"layers.".concat(a.id,".filter"),r,{layerType:a.type},i)||(a.filter=e.clone$1(r),this._updateLayer(a)))}else this.fire(new e.ErrorEvent(new Error("The layer '".concat(n,"' does not exist in the map's style and cannot be filtered."))))}},{key:"getFilter",value:function(t){var n=this.getLayer(t);return n&&e.clone$1(n.filter)}},{key:"setLayoutProperty",value:function(n,r,i){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};this._checkLoaded();var o=this.getLayer(n);o?t(o.getLayoutProperty(r),i)||(o.setLayoutProperty(r,i,a),this._updateLayer(o)):this.fire(new e.ErrorEvent(new Error("The layer '".concat(n,"' does not exist in the map's style and cannot be styled."))))}},{key:"getLayoutProperty",value:function(t,n){var r=this.getLayer(t);if(r)return r.getLayoutProperty(n);this.fire(new e.ErrorEvent(new Error("The layer '".concat(t,"' does not exist in the map's style."))))}},{key:"setPaintProperty",value:function(n,r,i){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};this._checkLoaded();var o=this.getLayer(n);o?t(o.getPaintProperty(r),i)||(o.setPaintProperty(r,i,a)&&this._updateLayer(o),this._changed=!0,this._updatedPaintProps[n]=!0):this.fire(new e.ErrorEvent(new Error("The layer '".concat(n,"' does not exist in the map's style and cannot be styled."))))}},{key:"getPaintProperty",value:function(e,t){var n=this.getLayer(e);return n&&n.getPaintProperty(t)}},{key:"setFeatureState",value:function(t,n){this._checkLoaded();var r=t.source,i=t.sourceLayer,a=this.getSource(r);if(a){var o=a.type;if("geojson"===o&&i)this.fire(new e.ErrorEvent(new Error("GeoJSON sources cannot have a sourceLayer parameter.")));else if("vector"!==o||i){void 0===t.id&&this.fire(new e.ErrorEvent(new Error("The feature id parameter must be provided.")));var s,l=this._getSourceCaches(r),c=f(l);try{for(c.s();!(s=c.n()).done;)s.value.setFeatureState(i,t.id,n)}catch(u){c.e(u)}finally{c.f()}}else this.fire(new e.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}else this.fire(new e.ErrorEvent(new Error("The source '".concat(r,"' does not exist in the map's style."))))}},{key:"removeFeatureState",value:function(t,n){this._checkLoaded();var r=t.source,i=this.getSource(r);if(i){var a=i.type,o="vector"===a?t.sourceLayer:void 0;if("vector"!==a||o)if(n&&"string"!=typeof t.id&&"number"!=typeof t.id)this.fire(new e.ErrorEvent(new Error("A feature id is required to remove its specific state property.")));else{var s,l=this._getSourceCaches(r),c=f(l);try{for(c.s();!(s=c.n()).done;)s.value.removeFeatureState(o,t.id,n)}catch(u){c.e(u)}finally{c.f()}}else this.fire(new e.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}else this.fire(new e.ErrorEvent(new Error("The source '".concat(r,"' does not exist in the map's style."))))}},{key:"getFeatureState",value:function(t){this._checkLoaded();var n=t.source,r=t.sourceLayer,i=this.getSource(n);if(i){if("vector"!==i.type||r)return void 0===t.id&&this.fire(new e.ErrorEvent(new Error("The feature id parameter must be provided."))),this._getSourceCaches(n)[0].getFeatureState(r,t.id);this.fire(new e.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}else this.fire(new e.ErrorEvent(new Error("The source '".concat(n,"' does not exist in the map's style."))))}},{key:"getTransition",value:function(){return e.extend({duration:300,delay:0},this.stylesheet&&this.stylesheet.transition)}},{key:"serialize",value:function(){var t={};for(var n in this._sourceCaches){var r=this._sourceCaches[n].getSource();t[r.id]||(t[r.id]=r.serialize())}return e.filterObject({version:this.stylesheet.version,name:this.stylesheet.name,metadata:this.stylesheet.metadata,light:this.stylesheet.light,terrain:this.getTerrain()||void 0,fog:this.stylesheet.fog,center:this.stylesheet.center,zoom:this.stylesheet.zoom,bearing:this.stylesheet.bearing,pitch:this.stylesheet.pitch,sprite:this.stylesheet.sprite,glyphs:this.stylesheet.glyphs,transition:this.stylesheet.transition,projection:this.stylesheet.projection,sources:t,layers:this._serializeLayers(this._order)},(function(e){return void 0!==e}))}},{key:"_updateLayer",value:function(e){this._updatedLayers[e.id]=!0;var t=this._getLayerSourceCache(e);e.source&&!this._updatedSources[e.source]&&t&&"raster"!==t.getSource().type&&(this._updatedSources[e.source]="reload",t.pause()),this._changed=!0,e.invalidateCompiledFilter()}},{key:"_flattenAndSortRenderedFeatures",value:function(e){for(var t=this,n=function(e){return"fill-extrusion"===t._layers[e].type},r={},i=[],a=this._order.length-1;a>=0;a--){var o=this._order[a];if(n(o)){r[o]=a;var s,l=f(e);try{for(l.s();!(s=l.n()).done;){var c=s.value[o];if(c){var u,d=f(c);try{for(d.s();!(u=d.n()).done;){var h=u.value;i.push(h)}}catch(E){d.e(E)}finally{d.f()}}}}catch(E){l.e(E)}finally{l.f()}}}i.sort((function(e,t){return t.intersectionZ-e.intersectionZ}));for(var p=[],m=this._order.length-1;m>=0;m--){var v=this._order[m];if(n(v))for(var g=i.length-1;g>=0;g--){var y=i[g].feature;if(r[y.layer.id]<m)break;p.push(y),i.pop()}else{var x,b=f(e);try{for(b.s();!(x=b.n()).done;){var _=x.value[v];if(_){var w,k=f(_);try{for(k.s();!(w=k.n()).done;){var S=w.value;p.push(S.feature)}}catch(E){k.e(E)}finally{k.f()}}}}catch(E){b.e(E)}finally{b.f()}}}return p}},{key:"queryRenderedFeatures",value:function(t,n,r){var i=this;n&&n.filter&&this._validate(e.validateFilter,"queryRenderedFeatures.filter",n.filter,null,n);var a={};if(n&&n.layers){if(!Array.isArray(n.layers))return this.fire(new e.ErrorEvent(new Error("parameters.layers must be an Array."))),[];var o,s=f(n.layers);try{for(s.s();!(o=s.n()).done;){var l=o.value,c=this._layers[l];if(!c)return this.fire(new e.ErrorEvent(new Error("The layer '".concat(l,"' does not exist in the map's style and cannot be queried for features.")))),[];a[c.source]=!0}}catch(v){s.e(v)}finally{s.f()}}var u=[];n.availableImages=this._availableImages;var d=n&&n.layers?n.layers.some((function(e){var t=i.getLayer(e);return t&&t.is3D()})):this.has3DLayers(),h=X.createFromScreenPoints(t,r);for(var p in this._sourceCaches){var m=this._sourceCaches[p].getSource().id;n.layers&&!a[m]||u.push(Xe(this._sourceCaches[p],this._layers,this._serializedLayers,h,n,r,d,!!this.map._showQueryGeometry))}return this.placement&&u.push(function(e,t,n,r,i,a,o){var s,l={},c=a.queryRenderedSymbols(r),u=[],d=f(Object.keys(c).map(Number));try{for(d.s();!(s=d.n()).done;){var h=s.value;u.push(o[h])}}catch(v){d.e(v)}finally{d.f()}u.sort(Ke);for(var p=function(){var n=g[m],r=n.featureIndex.lookupSymbolFeatures(c[n.bucketInstanceId],t,n.bucketIndex,n.sourceLayerIndex,i.filter,i.layers,i.availableImages,e);for(var a in r){var o=l[a]=l[a]||[],s=r[a];s.sort((function(e,t){var r=n.featureSortOrder;if(r){var i=r.indexOf(e.featureIndex);return r.indexOf(t.featureIndex)-i}return t.featureIndex-e.featureIndex}));var u,d=f(s);try{for(d.s();!(u=d.n()).done;){var h=u.value;o.push(h)}}catch(v){d.e(v)}finally{d.f()}}},m=0,g=u;m<g.length;m++)p();var y=function(t){l[t].forEach((function(r){var i=r.feature,a=n(e[t]).getFeatureState(i.layer["source-layer"],i.id);i.source=i.layer.source,i.layer["source-layer"]&&(i.sourceLayer=i.layer["source-layer"]),i.state=a}))};for(var x in l)y(x);return l}(this._layers,this._serializedLayers,this._getLayerSourceCache.bind(this),h.screenGeometry,n,this.placement.collisionIndex,this.placement.retainedQueryData)),this._flattenAndSortRenderedFeatures(u)}},{key:"querySourceFeatures",value:function(t,n){n&&n.filter&&this._validate(e.validateFilter,"querySourceFeatures.filter",n.filter,null,n);var r,i=this._getSourceCaches(t),a=[],o=f(i);try{for(o.s();!(r=o.n()).done;){var s=r.value;a=a.concat(Ze(s,n))}}catch(l){o.e(l)}finally{o.f()}return a}},{key:"addSourceType",value:function(e,t,n){return a.getSourceType(e)?n(new Error('A source type called "'.concat(e,'" already exists.'))):(a.setSourceType(e,t),t.workerSourceURL?void this.dispatcher.broadcast("loadWorkerSource",{name:e,url:t.workerSourceURL},n):n(null,null))}},{key:"getLight",value:function(){return this.light.getLight()}},{key:"setLight",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._checkLoaded();var r=this.light.getLight(),i=!1;for(var a in e)if(!t(e[a],r[a])){i=!0;break}if(i){var o=this._setTransitionParameters({duration:300,delay:0});this.light.setLight(e,n),this.light.updateTransitions(o)}}},{key:"getTerrain",value:function(){return this.terrain&&1===this.terrain.drapeRenderMode?this.terrain.get():null}},{key:"setTerrainForDraping",value:function(){this.setTerrain({source:"",exaggeration:0},0)}},{key:"setTerrain",value:function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;if(this._checkLoaded(),!n)return delete this.terrain,delete this.stylesheet.terrain,this.dispatcher.broadcast("enableTerrain",!1),this._force3DLayerUpdate(),void(this._markersNeedUpdate=!0);if(1===r){if("object"==typeof n.source){var i="terrain-dem-src";this.addSource(i,n.source),n=e.clone$1(n),n=e.extend(n,{source:i})}if(this._validate(e.validateTerrain,"terrain",n))return}if(!this.terrain||this.terrain&&r!==this.terrain.drapeRenderMode)this._createTerrain(n,r);else{for(var a=this.terrain,o=a.get(),s=0,l=Object.keys(e.spec.terrain);s<l.length;s++){var c=l[s];!n.hasOwnProperty(c)&&e.spec.terrain[c].default&&(n[c]=e.spec.terrain[c].default)}for(var u in n)if(!t(n[u],o[u])){a.set(n),this.stylesheet.terrain=n;var d=this._setTransitionParameters({duration:0});a.updateTransitions(d);break}}this._updateDrapeFirstLayers(),this._markersNeedUpdate=!0}},{key:"_createFog",value:function(e){var t=this.fog=new G(e,this.map.transform);this.stylesheet.fog=e;var n=this._setTransitionParameters({duration:0});t.updateTransitions(n)}},{key:"_updateMarkersOpacity",value:function(){var e=this;0!==this.map._markers.length&&this.map._requestDomTask((function(){var t,n=f(e.map._markers);try{for(n.s();!(t=n.n()).done;)t.value._evaluateOpacity()}catch(r){n.e(r)}finally{n.f()}}))}},{key:"getFog",value:function(){return this.fog?this.fog.get():null}},{key:"setFog",value:function(e){if(this._checkLoaded(),!e)return delete this.fog,delete this.stylesheet.fog,void(this._markersNeedUpdate=!0);if(this.fog){var n=this.fog,r=n.get();for(var i in 0===Object.keys(e).length&&n.set(e),e)if(!t(e[i],r[i])){n.set(e),this.stylesheet.fog=e;var a=this._setTransitionParameters({duration:0});n.updateTransitions(a);break}}else this._createFog(e);this._markersNeedUpdate=!0}},{key:"_setTransitionParameters",value:function(t){return{now:e.exported.now(),transition:e.extend(t,this.stylesheet.transition)}}},{key:"_updateDrapeFirstLayers",value:function(){var e,t,n=this;if(this.map._optimizeForTerrain&&this.terrain){var r=this._order.filter((function(e){return n.isLayerDraped(n._layers[e])})),i=this._order.filter((function(e){return!n.isLayerDraped(n._layers[e])}));this._drapedFirstOrder=[],(e=this._drapedFirstOrder).push.apply(e,u(r)),(t=this._drapedFirstOrder).push.apply(t,u(i))}}},{key:"_createTerrain",value:function(e,t){var n=this.terrain=new B(e,t);this.stylesheet.terrain=e,this.dispatcher.broadcast("enableTerrain",!this.terrainSetForDrapingOnly()),this._force3DLayerUpdate();var r=this._setTransitionParameters({duration:0});n.updateTransitions(r)}},{key:"_force3DLayerUpdate",value:function(){for(var e in this._layers){var t=this._layers[e];"fill-extrusion"===t.type&&this._updateLayer(t)}}},{key:"_forceSymbolLayerUpdate",value:function(){for(var e in this._layers){var t=this._layers[e];"symbol"===t.type&&this._updateLayer(t)}}},{key:"_validate",value:function(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};return(!a||!1!==a.validate)&&sn(this,t.call(e.validateStyle,e.extend({key:n,style:this.serialize(),value:r,styleSpec:e.spec},i)))}},{key:"_remove",value:function(){for(var t in this._request&&(this._request.cancel(),this._request=null),this._spriteRequest&&(this._spriteRequest.cancel(),this._spriteRequest=null),e.evented.off("pluginStateChange",this._rtlTextPluginCallback),this._layers)this._layers[t].setEventedParent(null);for(var n in this._sourceCaches)this._sourceCaches[n].clearTiles(),this._sourceCaches[n].setEventedParent(null);this.imageManager.setEventedParent(null),this.setEventedParent(null),this.dispatcher.remove()}},{key:"_clearSource",value:function(e){var t,n=this._getSourceCaches(e),r=f(n);try{for(r.s();!(t=r.n()).done;)t.value.clearTiles()}catch(i){r.e(i)}finally{r.f()}}},{key:"_reloadSource",value:function(e){var t,n=this._getSourceCaches(e),r=f(n);try{for(r.s();!(t=r.n()).done;){var i=t.value;i.resume(),i.reload()}}catch(a){r.e(a)}finally{r.f()}}},{key:"_reloadSources",value:function(){var e,t=f(this._getSources());try{for(t.s();!(e=t.n()).done;){var n=e.value;n.reload&&n.reload()}}catch(r){t.e(r)}finally{t.f()}}},{key:"_updateSources",value:function(e){for(var t in this._sourceCaches)this._sourceCaches[t].update(e)}},{key:"_generateCollisionBoxes",value:function(){for(var e in this._sourceCaches){var t=this._sourceCaches[e];t.resume(),t.reload()}}},{key:"_updatePlacement",value:function(t,n,r,i){var a,o=this,s=arguments.length>4&&void 0!==arguments[4]&&arguments[4],l=!1,c=!1,u={},d=f(this._order);try{var h=function(){var e=a.value,n=o._layers[e];if("symbol"!==n.type)return"continue";if(!u[n.source]){var r=o._getLayerSourceCache(n);if(!r)return"continue";u[n.source]=r.getRenderableIds(!0).map((function(e){return r.getTileByID(e)})).sort((function(e,t){return t.tileID.overscaledZ-e.tileID.overscaledZ||(e.tileID.isLessThan(t.tileID)?-1:1)}))}var i=o.crossTileSymbolIndex.addLayer(n,u[n.source],t.center.lng,t.projection);l=l||i};for(d.s();!(a=d.n()).done;)h()}catch(y){d.e(y)}finally{d.f()}if(this.crossTileSymbolIndex.pruneUnusedLayers(this._order),s=s||this._layerOrderChanged||0===r,this._layerOrderChanged&&this.fire(new e.Event("neworder")),(s||!this.pauseablePlacement||this.pauseablePlacement.isDone()&&!this.placement.stillRecent(e.exported.now(),t.zoom))&&(this.pauseablePlacement=new en(t,this._order,s,n,r,i,this.placement,this.fog&&t.projection.supportsFog?this.fog.state:null),this._layerOrderChanged=!1),this.pauseablePlacement.isDone()?this.placement.setStale():(this.pauseablePlacement.continuePlacement(this._order,this._layers,u),this.pauseablePlacement.isDone()&&(this.placement=this.pauseablePlacement.commit(e.exported.now()),c=!0),l&&this.pauseablePlacement.placement.setStale()),c||l){var p,m=f(this._order);try{for(m.s();!(p=m.n()).done;){var v=p.value,g=this._layers[v];"symbol"===g.type&&this.placement.updateLayerOpacities(g,u[g.source])}}catch(y){m.e(y)}finally{m.f()}}return!this.pauseablePlacement.isDone()||this.placement.hasTransitions(e.exported.now())}},{key:"_releaseSymbolFadeTiles",value:function(){for(var e in this._sourceCaches)this._sourceCaches[e].releaseSymbolFadeTiles()}},{key:"getImages",value:function(e,t,n){this.imageManager.getImages(t.icons,n),this._updateTilesForChangedImages();var r=function(e){e&&e.setDependencies(t.tileID.key,t.type,t.icons)};r(this._otherSourceCaches[t.source]),r(this._symbolSourceCaches[t.source])}},{key:"getGlyphs",value:function(e,t,n){this.glyphManager.getGlyphs(t.stacks,n)}},{key:"getResource",value:function(t,n,r){return e.makeRequest(n,r)}},{key:"_getSourceCache",value:function(e){return this._otherSourceCaches[e]}},{key:"_getLayerSourceCache",value:function(e){return"symbol"===e.type?this._symbolSourceCaches[e.source]:this._otherSourceCaches[e.source]}},{key:"_getSourceCaches",value:function(e){var t=[];return this._otherSourceCaches[e]&&t.push(this._otherSourceCaches[e]),this._symbolSourceCaches[e]&&t.push(this._symbolSourceCaches[e]),t}},{key:"_isSourceCacheLoaded",value:function(t){var n=this._getSourceCaches(t);return 0===n.length?(this.fire(new e.ErrorEvent(new Error("There is no source with ID '".concat(t,"'")))),!1):n.every((function(e){return e.loaded()}))}},{key:"has3DLayers",value:function(){return this._num3DLayers>0}},{key:"hasSymbolLayers",value:function(){return this._numSymbolLayers>0}},{key:"hasCircleLayers",value:function(){return this._numCircleLayers>0}},{key:"_clearWorkerCaches",value:function(){this.dispatcher.broadcast("clearCaches")}},{key:"destroy",value:function(){this._clearWorkerCaches(),this.terrainSetForDrapingOnly()&&(delete this.terrain,delete this.stylesheet.terrain)}}]),a}(e.Evented);fn.getSourceType=function(e){return Ge[e]},fn.setSourceType=function(e,t){Ge[e]=t},fn.registerForPluginStateChange=e.registerForPluginStateChange;var hn="\n#define EPSILON 0.0000001\n#define PI 3.141592653589793\n#define EXTENT 8192.0\n#define HALF_PI PI/2.0\n#define QUARTER_PI PI/4.0\n#define RAD_TO_DEG 180.0/PI\n#define DEG_TO_RAD PI/180.0\n#define GLOBE_RADIUS EXTENT/PI/2.0",pn="attribute highp vec3 a_pos_3f;uniform lowp mat4 u_matrix;varying highp vec3 v_uv;void main() {const mat3 half_neg_pi_around_x=mat3(1.0,0.0, 0.0,0.0,0.0,-1.0,0.0,1.0, 0.0);v_uv=half_neg_pi_around_x*a_pos_3f;vec4 pos=u_matrix*vec4(a_pos_3f,1.0);gl_Position=pos.xyww;}",mn="\n#define ELEVATION_SCALE 7.0\n#define ELEVATION_OFFSET 450.0\n#ifdef PROJECTION_GLOBE_VIEW\nuniform vec3 u_tile_tl_up;uniform vec3 u_tile_tr_up;uniform vec3 u_tile_br_up;uniform vec3 u_tile_bl_up;uniform float u_tile_up_scale;vec3 elevationVector(vec2 pos) {vec2 uv=pos/EXTENT;vec3 up=normalize(mix(\nmix(u_tile_tl_up,u_tile_tr_up,uv.xxx),mix(u_tile_bl_up,u_tile_br_up,uv.xxx),uv.yyy));return up*u_tile_up_scale;}\n#else\nvec3 elevationVector(vec2 pos) { return vec3(0,0,1); }\n#endif\n#ifdef TERRAIN\n#ifdef TERRAIN_DEM_FLOAT_FORMAT\nuniform highp sampler2D u_dem;uniform highp sampler2D u_dem_prev;\n#else\nuniform sampler2D u_dem;uniform sampler2D u_dem_prev;\n#endif\nuniform vec4 u_dem_unpack;uniform vec2 u_dem_tl;uniform vec2 u_dem_tl_prev;uniform float u_dem_scale;uniform float u_dem_scale_prev;uniform float u_dem_size;uniform float u_dem_lerp;uniform float u_exaggeration;uniform float u_meter_to_dem;uniform mat4 u_label_plane_matrix_inv;uniform sampler2D u_depth;uniform vec2 u_depth_size_inv;vec4 tileUvToDemSample(vec2 uv,float dem_size,float dem_scale,vec2 dem_tl) {vec2 pos=dem_size*(uv*dem_scale+dem_tl)+1.0;vec2 f=fract(pos);return vec4((pos-f+0.5)/(dem_size+2.0),f);}float decodeElevation(vec4 v) {return dot(vec4(v.xyz*255.0,-1.0),u_dem_unpack);}float currentElevation(vec2 apos) {\n#ifdef TERRAIN_DEM_FLOAT_FORMAT\nvec2 pos=(u_dem_size*(apos/8192.0*u_dem_scale+u_dem_tl)+1.5)/(u_dem_size+2.0);return u_exaggeration*texture2D(u_dem,pos).a;\n#else\nfloat dd=1.0/(u_dem_size+2.0);vec4 r=tileUvToDemSample(apos/8192.0,u_dem_size,u_dem_scale,u_dem_tl);vec2 pos=r.xy;vec2 f=r.zw;float tl=decodeElevation(texture2D(u_dem,pos));\n#ifdef TERRAIN_DEM_NEAREST_FILTER\nreturn u_exaggeration*tl;\n#endif\nfloat tr=decodeElevation(texture2D(u_dem,pos+vec2(dd,0.0)));float bl=decodeElevation(texture2D(u_dem,pos+vec2(0.0,dd)));float br=decodeElevation(texture2D(u_dem,pos+vec2(dd,dd)));return u_exaggeration*mix(mix(tl,tr,f.x),mix(bl,br,f.x),f.y);\n#endif\n}float prevElevation(vec2 apos) {\n#ifdef TERRAIN_DEM_FLOAT_FORMAT\nvec2 pos=(u_dem_size*(apos/8192.0*u_dem_scale_prev+u_dem_tl_prev)+1.5)/(u_dem_size+2.0);return u_exaggeration*texture2D(u_dem_prev,pos).a;\n#else\nfloat dd=1.0/(u_dem_size+2.0);vec4 r=tileUvToDemSample(apos/8192.0,u_dem_size,u_dem_scale_prev,u_dem_tl_prev);vec2 pos=r.xy;vec2 f=r.zw;float tl=decodeElevation(texture2D(u_dem_prev,pos));float tr=decodeElevation(texture2D(u_dem_prev,pos+vec2(dd,0.0)));float bl=decodeElevation(texture2D(u_dem_prev,pos+vec2(0.0,dd)));float br=decodeElevation(texture2D(u_dem_prev,pos+vec2(dd,dd)));return u_exaggeration*mix(mix(tl,tr,f.x),mix(bl,br,f.x),f.y);\n#endif\n}\n#ifdef TERRAIN_VERTEX_MORPHING\nfloat elevation(vec2 apos) {\n#ifdef ZERO_EXAGGERATION\nreturn 0.0;\n#endif\nfloat nextElevation=currentElevation(apos);float prevElevation=prevElevation(apos);return mix(prevElevation,nextElevation,u_dem_lerp);}\n#else\nfloat elevation(vec2 apos) {\n#ifdef ZERO_EXAGGERATION\nreturn 0.0;\n#endif\nreturn currentElevation(apos);}\n#endif\nhighp float unpack_depth(highp vec4 rgba_depth)\n{const highp vec4 bit_shift=vec4(1.0/(255.0*255.0*255.0),1.0/(255.0*255.0),1.0/255.0,1.0);return dot(rgba_depth,bit_shift)*2.0-1.0;}bool isOccluded(vec4 frag) {vec3 coord=frag.xyz/frag.w;float depth=unpack_depth(texture2D(u_depth,(coord.xy+1.0)*0.5));return coord.z > depth+0.0005;}float occlusionFade(vec4 frag) {vec3 coord=frag.xyz/frag.w;vec3 df=vec3(5.0*u_depth_size_inv,0.0);vec2 uv=0.5*coord.xy+0.5;vec4 depth=vec4(\nunpack_depth(texture2D(u_depth,uv-df.xz)),unpack_depth(texture2D(u_depth,uv+df.xz)),unpack_depth(texture2D(u_depth,uv-df.zy)),unpack_depth(texture2D(u_depth,uv+df.zy))\n);return dot(vec4(0.25),vec4(1.0)-clamp(300.0*(vec4(coord.z-0.001)-depth),0.0,1.0));}vec4 fourSample(vec2 pos,vec2 off) {\n#ifdef TERRAIN_DEM_FLOAT_FORMAT\nfloat tl=texture2D(u_dem,pos).a;float tr=texture2D(u_dem,pos+vec2(off.x,0.0)).a;float bl=texture2D(u_dem,pos+vec2(0.0,off.y)).a;float br=texture2D(u_dem,pos+off).a;\n#else\nvec4 demtl=vec4(texture2D(u_dem,pos).xyz*255.0,-1.0);float tl=dot(demtl,u_dem_unpack);vec4 demtr=vec4(texture2D(u_dem,pos+vec2(off.x,0.0)).xyz*255.0,-1.0);float tr=dot(demtr,u_dem_unpack);vec4 dembl=vec4(texture2D(u_dem,pos+vec2(0.0,off.y)).xyz*255.0,-1.0);float bl=dot(dembl,u_dem_unpack);vec4 dembr=vec4(texture2D(u_dem,pos+off).xyz*255.0,-1.0);float br=dot(dembr,u_dem_unpack);\n#endif\nreturn vec4(tl,tr,bl,br);}float flatElevation(vec2 pack) {vec2 apos=floor(pack/8.0);vec2 span=10.0*(pack-apos*8.0);vec2 uvTex=(apos-vec2(1.0,1.0))/8190.0;float size=u_dem_size+2.0;float dd=1.0/size;vec2 pos=u_dem_size*(uvTex*u_dem_scale+u_dem_tl)+1.0;vec2 f=fract(pos);pos=(pos-f+0.5)*dd;vec4 h=fourSample(pos,vec2(dd));float z=mix(mix(h.x,h.y,f.x),mix(h.z,h.w,f.x),f.y);vec2 w=floor(0.5*(span*u_meter_to_dem-1.0));vec2 d=dd*w;h=fourSample(pos-d,2.0*d+vec2(dd));vec4 diff=abs(h.xzxy-h.ywzw);vec2 slope=min(vec2(0.25),u_meter_to_dem*0.5*(diff.xz+diff.yw)/(2.0*w+vec2(1.0)));vec2 fix=slope*span;float base=z+max(fix.x,fix.y);return u_exaggeration*base;}float elevationFromUint16(float word) {return u_exaggeration*(word/ELEVATION_SCALE-ELEVATION_OFFSET);}\n#else\nfloat elevation(vec2 pos) { return 0.0; }bool isOccluded(vec4 frag) { return false; }float occlusionFade(vec4 frag) { return 1.0; }\n#endif",vn="#ifdef FOG\nuniform mediump vec4 u_fog_color;uniform mediump vec2 u_fog_range;uniform mediump float u_fog_horizon_blend;uniform mediump mat4 u_fog_matrix;varying vec3 v_fog_pos;float fog_range(float depth) {return (depth-u_fog_range[0])/(u_fog_range[1]-u_fog_range[0]);}float fog_horizon_blending(vec3 camera_dir) {float t=max(0.0,camera_dir.z/u_fog_horizon_blend);return u_fog_color.a*exp(-3.0*t*t);}float fog_opacity(float t) {const float decay=6.0;float falloff=1.0-min(1.0,exp(-decay*t));falloff*=falloff*falloff;return u_fog_color.a*min(1.0,1.00747*falloff);}vec3 fog_position(vec3 pos) {return (u_fog_matrix*vec4(pos,1.0)).xyz;}vec3 fog_position(vec2 pos) {return fog_position(vec3(pos,0.0));}float fog(vec3 pos) {float depth=length(pos);float opacity=fog_opacity(fog_range(depth));return opacity*fog_horizon_blending(pos/depth);}\n#endif",gn="#ifdef FOG\nuniform mediump vec4 u_fog_color;uniform mediump vec2 u_fog_range;uniform mediump float u_fog_horizon_blend;uniform mediump float u_fog_temporal_offset;varying vec3 v_fog_pos;uniform highp vec3 u_frustum_tl;uniform highp vec3 u_frustum_tr;uniform highp vec3 u_frustum_br;uniform highp vec3 u_frustum_bl;uniform highp vec3 u_globe_pos;uniform highp float u_globe_radius;uniform highp vec2 u_viewport;uniform float u_globe_transition;uniform int u_is_globe;float fog_range(float depth) {return (depth-u_fog_range[0])/(u_fog_range[1]-u_fog_range[0]);}float fog_horizon_blending(vec3 camera_dir) {float t=max(0.0,camera_dir.z/u_fog_horizon_blend);return u_fog_color.a*exp(-3.0*t*t);}float fog_opacity(float t) {const float decay=6.0;float falloff=1.0-min(1.0,exp(-decay*t));falloff*=falloff*falloff;return u_fog_color.a*min(1.0,1.00747*falloff);}float globe_glow_progress() {highp vec2 uv=gl_FragCoord.xy/u_viewport;highp vec3 ray_dir=mix(\nmix(u_frustum_tl,u_frustum_tr,uv.x),mix(u_frustum_bl,u_frustum_br,uv.x),1.0-uv.y);highp vec3 dir=normalize(ray_dir);highp vec3 closest_point=dot(u_globe_pos,dir)*dir;highp float sdf=length(closest_point-u_globe_pos)/u_globe_radius;return sdf+PI*0.5;}float fog_opacity(vec3 pos) {float depth=length(pos);return fog_opacity(fog_range(depth));}vec3 fog_apply(vec3 color,vec3 pos) {float depth=length(pos);float opacity;if (u_is_globe==1) {float glow_progress=globe_glow_progress();float t=mix(glow_progress,depth,u_globe_transition);opacity=fog_opacity(fog_range(t));} else {opacity=fog_opacity(fog_range(depth));opacity*=fog_horizon_blending(pos/depth);}return mix(color,u_fog_color.rgb,opacity);}vec4 fog_apply_from_vert(vec4 color,float fog_opac) {float alpha=EPSILON+color.a;color.rgb=mix(color.rgb/alpha,u_fog_color.rgb,fog_opac)*alpha;return color;}vec3 fog_apply_sky_gradient(vec3 camera_ray,vec3 sky_color) {float horizon_blend=fog_horizon_blending(normalize(camera_ray));return mix(sky_color,u_fog_color.rgb,horizon_blend);}vec4 fog_apply_premultiplied(vec4 color,vec3 pos) {float alpha=EPSILON+color.a;color.rgb=fog_apply(color.rgb/alpha,pos)*alpha;return color;}vec3 fog_dither(vec3 color) {vec2 dither_seed=gl_FragCoord.xy+u_fog_temporal_offset;return dither(color,dither_seed);}vec4 fog_dither(vec4 color) {return vec4(fog_dither(color.rgb),color.a);}\n#endif",yn={},xn={},bn=[];En(hn,bn),En(mn,bn),En(vn,bn),En(gn,bn),yn=Cn("",mn),xn=Cn(gn,vn);var _n=Cn("\nhighp vec3 hash(highp vec2 p) {highp vec3 p3=fract(p.xyx*vec3(443.8975,397.2973,491.1871));p3+=dot(p3,p3.yxz+19.19);return fract((p3.xxy+p3.yzz)*p3.zyx);}vec3 dither(vec3 color,highp vec2 seed) {vec3 rnd=hash(seed)+hash(seed+0.59374)-0.5;return color+rnd/255.0;}highp float unpack_depth(highp vec4 rgba_depth)\n{const highp vec4 bit_shift=vec4(1.0/(255.0*255.0*255.0),1.0/(255.0*255.0),1.0/255.0,1.0);return dot(rgba_depth,bit_shift)*2.0-1.0;}highp vec4 pack_depth(highp float ndc_z) {highp float depth=ndc_z*0.5+0.5;const highp vec4 bit_shift=vec4(255.0*255.0*255.0,255.0*255.0,255.0,1.0);const highp vec4 bit_mask =vec4(0.0,1.0/255.0,1.0/255.0,1.0/255.0);highp vec4 res=fract(depth*bit_shift);res-=res.xxyz*bit_mask;return res;}","\nfloat wrap(float n,float min,float max) {float d=max-min;float w=mod(mod(n-min,d)+d,d)+min;return (w==min) ? max : w;}\n#ifdef PROJECTION_GLOBE_VIEW\nvec3 mercator_tile_position(mat4 matrix,vec2 tile_anchor,vec3 tile_id,vec2 mercator_center) {\n#ifndef PROJECTED_POS_ON_VIEWPORT\nfloat tiles=tile_id.z;vec2 mercator=(tile_anchor/EXTENT+tile_id.xy)/tiles;mercator-=mercator_center;mercator.x=wrap(mercator.x,-0.5,0.5);vec4 mercator_tile=vec4(mercator.xy*EXTENT,EXTENT/(2.0*PI),1.0);mercator_tile=matrix*mercator_tile;return mercator_tile.xyz;\n#else\nreturn vec3(0.0);\n#endif\n}vec3 mix_globe_mercator(vec3 globe,vec3 mercator,float t) {return mix(globe,mercator,t);}mat3 globe_mercator_surface_vectors(vec3 pos_normal,vec3 up_dir,float zoom_transition) {vec3 normal=zoom_transition==0.0 ? pos_normal : normalize(mix(pos_normal,up_dir,zoom_transition));vec3 xAxis=normalize(vec3(normal.z,0.0,-normal.x));vec3 yAxis=normalize(cross(normal,xAxis));return mat3(xAxis,yAxis,normal);}\n#endif\nvec2 unpack_float(const float packedValue) {int packedIntValue=int(packedValue);int v0=packedIntValue/256;return vec2(v0,packedIntValue-v0*256);}vec2 unpack_opacity(const float packedOpacity) {int intOpacity=int(packedOpacity)/2;return vec2(float(intOpacity)/127.0,mod(packedOpacity,2.0));}vec4 decode_color(const vec2 encodedColor) {return vec4(\nunpack_float(encodedColor[0])/255.0,unpack_float(encodedColor[1])/255.0\n);}float unpack_mix_vec2(const vec2 packedValue,const float t) {return mix(packedValue[0],packedValue[1],t);}vec4 unpack_mix_color(const vec4 packedColors,const float t) {vec4 minColor=decode_color(vec2(packedColors[0],packedColors[1]));vec4 maxColor=decode_color(vec2(packedColors[2],packedColors[3]));return mix(minColor,maxColor,t);}vec2 get_pattern_pos(const vec2 pixel_coord_upper,const vec2 pixel_coord_lower,const vec2 pattern_size,const float tile_units_to_pixels,const vec2 pos) {vec2 offset=mod(mod(mod(pixel_coord_upper,pattern_size)*256.0,pattern_size)*256.0+pixel_coord_lower,pattern_size);return (tile_units_to_pixels*pos+offset)/pattern_size;}const vec4 AWAY=vec4(-1000.0,-1000.0,-1000.0,1);//Normalized device coordinate that is not rendered."),wn=hn,kn="\n#ifdef GL_ES\nprecision mediump float;\n#else\n\n#if !defined(lowp)\n#define lowp\n#endif\n\n#if !defined(mediump)\n#define mediump\n#endif\n\n#if !defined(highp)\n#define highp\n#endif\n\n#endif",Sn={background:Cn("uniform vec4 u_color;uniform float u_opacity;\n#ifdef LIGHTING_3D_MODE\nvarying vec4 v_color;\n#endif\nvoid main() {vec4 out_color;\n#ifdef LIGHTING_3D_MODE\nout_color=v_color;\n#else\nout_color=u_color;\n#endif\n#ifdef FOG\nout_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));\n#endif\ngl_FragColor=out_color*u_opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec2 a_pos;uniform mat4 u_matrix;\n#ifdef LIGHTING_3D_MODE\nuniform vec4 u_color;varying vec4 v_color;\n#endif\nvoid main() {gl_Position=u_matrix*vec4(a_pos,0,1);\n#ifdef LIGHTING_3D_MODE\nv_color=apply_lighting(u_color);\n#endif\n#ifdef FOG\nv_fog_pos=fog_position(a_pos);\n#endif\n}"),backgroundPattern:Cn("uniform vec2 u_pattern_tl;uniform vec2 u_pattern_br;uniform vec2 u_texsize;uniform float u_opacity;uniform sampler2D u_image;varying vec2 v_pos;void main() {vec2 imagecoord=mod(v_pos,1.0);vec2 pos=mix(u_pattern_tl/u_texsize,u_pattern_br/u_texsize,imagecoord);vec4 out_color=texture2D(u_image,pos);\n#ifdef LIGHTING_3D_MODE\nout_color=apply_lighting(out_color);\n#endif\n#ifdef FOG\nout_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));\n#endif\ngl_FragColor=out_color*u_opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_pattern_size;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_tile_units_to_pixels;attribute vec2 a_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_pattern_size,u_tile_units_to_pixels,a_pos);\n#ifdef FOG\nv_fog_pos=fog_position(a_pos);\n#endif\n}"),circle:Cn("varying vec3 v_data;varying float v_visibility;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define mediump float radius\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define highp vec4 stroke_color\n#pragma mapbox: define mediump float stroke_width\n#pragma mapbox: define lowp float stroke_opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize mediump float radius\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize highp vec4 stroke_color\n#pragma mapbox: initialize mediump float stroke_width\n#pragma mapbox: initialize lowp float stroke_opacity\nvec2 extrude=v_data.xy;float extrude_length=length(extrude);lowp float antialiasblur=v_data.z;float antialiased_blur=-max(blur,antialiasblur);float opacity_t=smoothstep(0.0,antialiased_blur,extrude_length-1.0);float color_t=stroke_width < 0.01 ? 0.0 : smoothstep(\nantialiased_blur,0.0,extrude_length-radius/(radius+stroke_width)\n);vec4 out_color=mix(color*opacity,stroke_color*stroke_opacity,color_t);\n#ifdef LIGHTING_3D_MODE\nout_color=apply_lighting(out_color);\n#endif\n#ifdef FOG\nout_color=fog_apply_premultiplied(out_color,v_fog_pos);\n#endif\ngl_FragColor=out_color*(v_visibility*opacity_t);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","#define NUM_VISIBILITY_RINGS 2\n#define INV_SQRT2 0.70710678\n#define ELEVATION_BIAS 0.0001\n#define NUM_SAMPLES_PER_RING 16\nuniform mat4 u_matrix;uniform mat2 u_extrude_scale;uniform lowp float u_device_pixel_ratio;uniform highp float u_camera_to_center_distance;attribute vec2 a_pos;\n#ifdef PROJECTION_GLOBE_VIEW\nattribute vec3 a_pos_3;attribute vec3 a_pos_normal_3;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_tile_id;uniform float u_zoom_transition;uniform vec3 u_up_dir;\n#endif\nvarying vec3 v_data;varying float v_visibility;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define mediump float radius\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define highp vec4 stroke_color\n#pragma mapbox: define mediump float stroke_width\n#pragma mapbox: define lowp float stroke_opacity\nvec2 calc_offset(vec2 extrusion,float radius,float stroke_width, float view_scale) {return extrusion*(radius+stroke_width)*u_extrude_scale*view_scale;}float cantilevered_elevation(vec2 pos,float radius,float stroke_width,float view_scale) {vec2 c1=pos+calc_offset(vec2(-1,-1),radius,stroke_width,view_scale);vec2 c2=pos+calc_offset(vec2(1,-1),radius,stroke_width,view_scale);vec2 c3=pos+calc_offset(vec2(1,1),radius,stroke_width,view_scale);vec2 c4=pos+calc_offset(vec2(-1,1),radius,stroke_width,view_scale);float h1=elevation(c1)+ELEVATION_BIAS;float h2=elevation(c2)+ELEVATION_BIAS;float h3=elevation(c3)+ELEVATION_BIAS;float h4=elevation(c4)+ELEVATION_BIAS;return max(h4,max(h3,max(h1,h2)));}float circle_elevation(vec2 pos) {\n#if defined(TERRAIN)\nreturn elevation(pos)+ELEVATION_BIAS;\n#else\nreturn 0.0;\n#endif\n}vec4 project_vertex(vec2 extrusion,vec4 world_center,vec4 projected_center,float radius,float stroke_width, float view_scale,mat3 surface_vectors) {vec2 sample_offset=calc_offset(extrusion,radius,stroke_width,view_scale);\n#ifdef PITCH_WITH_MAP\n#ifdef PROJECTION_GLOBE_VIEW\nreturn u_matrix*( world_center+vec4(sample_offset.x*surface_vectors[0]+sample_offset.y*surface_vectors[1],0) );\n#else\nreturn u_matrix*( world_center+vec4(sample_offset,0,0) );\n#endif\n#else\nreturn projected_center+vec4(sample_offset,0,0);\n#endif\n}float get_sample_step() {\n#ifdef PITCH_WITH_MAP\nreturn 2.0*PI/float(NUM_SAMPLES_PER_RING);\n#else\nreturn PI/float(NUM_SAMPLES_PER_RING);\n#endif\n}void main(void) {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize mediump float radius\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize highp vec4 stroke_color\n#pragma mapbox: initialize mediump float stroke_width\n#pragma mapbox: initialize lowp float stroke_opacity\nvec2 extrude=vec2(mod(a_pos,2.0)*2.0-1.0);vec2 circle_center=floor(a_pos*0.5);vec4 world_center;mat3 surface_vectors;\n#ifdef PROJECTION_GLOBE_VIEW\nvec3 pos_normal_3=a_pos_normal_3/16384.0;surface_vectors=globe_mercator_surface_vectors(pos_normal_3,u_up_dir,u_zoom_transition);vec3 surface_extrusion=extrude.x*surface_vectors[0]+extrude.y*surface_vectors[1];vec3 globe_elevation=elevationVector(circle_center)*circle_elevation(circle_center);vec3 globe_pos=a_pos_3+surface_extrusion+globe_elevation;vec3 mercator_elevation=u_up_dir*u_tile_up_scale*circle_elevation(circle_center);vec3 merc_pos=mercator_tile_position(u_inv_rot_matrix,circle_center,u_tile_id,u_merc_center)+surface_extrusion+mercator_elevation;vec3 pos=mix_globe_mercator(globe_pos,merc_pos,u_zoom_transition);world_center=vec4(pos,1);\n#else \nsurface_vectors=mat3(1.0);float height=circle_elevation(circle_center);world_center=vec4(circle_center,height,1);\n#endif\nvec4 projected_center=u_matrix*world_center;float view_scale=0.0;\n#ifdef PITCH_WITH_MAP\n#ifdef SCALE_WITH_MAP\nview_scale=1.0;\n#else\nview_scale=projected_center.w/u_camera_to_center_distance;\n#endif\n#else\n#ifdef SCALE_WITH_MAP\nview_scale=u_camera_to_center_distance;\n#else\nview_scale=projected_center.w;\n#endif\n#endif\ngl_Position=project_vertex(extrude,world_center,projected_center,radius,stroke_width,view_scale,surface_vectors);float visibility=0.0;\n#ifdef TERRAIN\nfloat step=get_sample_step();vec4 occlusion_world_center;vec4 occlusion_projected_center;\n#ifdef PITCH_WITH_MAP\nfloat cantilevered_height=cantilevered_elevation(circle_center,radius,stroke_width,view_scale);occlusion_world_center=vec4(circle_center,cantilevered_height,1);occlusion_projected_center=u_matrix*occlusion_world_center;\n#else\nocclusion_world_center=world_center;occlusion_projected_center=projected_center;\n#endif\nfor(int ring=0; ring < NUM_VISIBILITY_RINGS; ring++) {float scale=(float(ring)+1.0)/float(NUM_VISIBILITY_RINGS);for(int i=0; i < NUM_SAMPLES_PER_RING; i++) {vec2 extrusion=vec2(cos(step*float(i)),-sin(step*float(i)))*scale;vec4 frag_pos=project_vertex(extrusion,occlusion_world_center,occlusion_projected_center,radius,stroke_width,view_scale,surface_vectors);visibility+=float(!isOccluded(frag_pos));}}visibility/=float(NUM_VISIBILITY_RINGS)*float(NUM_SAMPLES_PER_RING);\n#else\nvisibility=1.0;\n#endif\n#ifdef PROJECTION_GLOBE_VIEW\nvisibility=1.0;\n#endif\nv_visibility=visibility;lowp float antialiasblur=1.0/u_device_pixel_ratio/(radius+stroke_width);v_data=vec3(extrude.x,extrude.y,antialiasblur);\n#ifdef FOG\nv_fog_pos=fog_position(world_center.xyz);\n#endif\n}"),clippingMask:Cn("void main() {gl_FragColor=vec4(1.0);}","attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),heatmap:Cn("uniform highp float u_intensity;varying vec2 v_extrude;\n#pragma mapbox: define highp float weight\n#define GAUSS_COEF 0.3989422804014327\nvoid main() {\n#pragma mapbox: initialize highp float weight\nfloat d=-0.5*3.0*3.0*dot(v_extrude,v_extrude);float val=weight*u_intensity*GAUSS_COEF*exp(d);gl_FragColor=vec4(val,1.0,1.0,1.0);\n#ifdef FOG\nif (u_is_globe==0) {gl_FragColor.r*=pow(1.0-fog_opacity(v_fog_pos),2.0);}\n#endif\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform float u_extrude_scale;uniform float u_opacity;uniform float u_intensity;attribute vec2 a_pos;\n#ifdef PROJECTION_GLOBE_VIEW\nattribute vec3 a_pos_3;attribute vec3 a_pos_normal_3;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_tile_id;uniform float u_zoom_transition;uniform vec3 u_up_dir;\n#endif\nvarying vec2 v_extrude;\n#pragma mapbox: define highp float weight\n#pragma mapbox: define mediump float radius\nconst highp float ZERO=1.0/255.0/16.0;\n#define GAUSS_COEF 0.3989422804014327\nvoid main(void) {\n#pragma mapbox: initialize highp float weight\n#pragma mapbox: initialize mediump float radius\nvec2 unscaled_extrude=vec2(mod(a_pos,2.0)*2.0-1.0);float S=sqrt(-2.0*log(ZERO/weight/u_intensity/GAUSS_COEF))/3.0;v_extrude=S*unscaled_extrude;vec2 extrude=v_extrude*radius*u_extrude_scale;vec2 tilePos=floor(a_pos*0.5);vec3 pos;\n#ifdef PROJECTION_GLOBE_VIEW\nvec3 pos_normal_3=a_pos_normal_3/16384.0;mat3 surface_vectors=globe_mercator_surface_vectors(pos_normal_3,u_up_dir,u_zoom_transition);vec3 surface_extrusion=extrude.x*surface_vectors[0]+extrude.y*surface_vectors[1];vec3 globe_elevation=elevationVector(tilePos)*elevation(tilePos);vec3 globe_pos=a_pos_3+surface_extrusion+globe_elevation;vec3 mercator_elevation=u_up_dir*u_tile_up_scale*elevation(tilePos);vec3 merc_pos=mercator_tile_position(u_inv_rot_matrix,tilePos,u_tile_id,u_merc_center)+surface_extrusion+mercator_elevation;pos=mix_globe_mercator(globe_pos,merc_pos,u_zoom_transition);\n#else\npos=vec3(tilePos+extrude,elevation(tilePos));\n#endif\ngl_Position=u_matrix*vec4(pos,1);\n#ifdef FOG\nv_fog_pos=fog_position(pos);\n#endif\n}"),heatmapTexture:Cn("uniform sampler2D u_image;uniform sampler2D u_color_ramp;uniform float u_opacity;varying vec2 v_pos;void main() {float t=texture2D(u_image,v_pos).r;vec4 color=texture2D(u_color_ramp,vec2(t,0.5));gl_FragColor=color*u_opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(0.0);\n#endif\n}","attribute vec2 a_pos;varying vec2 v_pos;void main() {gl_Position=vec4(a_pos,0,1);v_pos=a_pos*0.5+0.5;}"),collisionBox:Cn("varying float v_placed;varying float v_notUsed;void main() {vec4 red =vec4(1.0,0.0,0.0,1.0);vec4 blue=vec4(0.0,0.0,1.0,0.5);gl_FragColor =mix(red,blue,step(0.5,v_placed))*0.5;gl_FragColor*=mix(1.0,0.1,step(0.5,v_notUsed));}","attribute vec3 a_pos;attribute vec2 a_anchor_pos;attribute vec2 a_extrude;attribute vec2 a_placed;attribute vec2 a_shift;attribute float a_size_scale;attribute vec2 a_padding;uniform mat4 u_matrix;uniform vec2 u_extrude_scale;uniform float u_camera_to_center_distance;varying float v_placed;varying float v_notUsed;void main() {vec4 projectedPoint=u_matrix*vec4(a_pos+elevationVector(a_anchor_pos)*elevation(a_anchor_pos),1);highp float camera_to_anchor_distance=projectedPoint.w;highp float collision_perspective_ratio=clamp(\n0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,1.5);gl_Position=projectedPoint;gl_Position.xy+=(a_extrude*a_size_scale+a_shift+a_padding)*u_extrude_scale*gl_Position.w*collision_perspective_ratio;v_placed=a_placed.x;v_notUsed=a_placed.y;}"),collisionCircle:Cn("varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;void main() {float alpha=0.5*min(v_perspective_ratio,1.0);float stroke_radius=0.9*max(v_perspective_ratio,1.0);float distance_to_center=length(v_extrude);float distance_to_edge=abs(distance_to_center-v_radius);float opacity_t=smoothstep(-stroke_radius,0.0,-distance_to_edge);vec4 color=mix(vec4(0.0,0.0,1.0,0.5),vec4(1.0,0.0,0.0,1.0),v_collision);gl_FragColor=color*alpha*opacity_t;}","attribute vec2 a_pos_2f;attribute float a_radius;attribute vec2 a_flags;uniform mat4 u_matrix;uniform mat4 u_inv_matrix;uniform vec2 u_viewport_size;uniform float u_camera_to_center_distance;varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;vec3 toTilePosition(vec2 screenPos) {vec4 rayStart=u_inv_matrix*vec4(screenPos,-1.0,1.0);vec4 rayEnd  =u_inv_matrix*vec4(screenPos, 1.0,1.0);rayStart.xyz/=rayStart.w;rayEnd.xyz  /=rayEnd.w;highp float t=(0.0-rayStart.z)/(rayEnd.z-rayStart.z);return mix(rayStart.xyz,rayEnd.xyz,t);}void main() {vec2 quadCenterPos=a_pos_2f;float radius=a_radius;float collision=a_flags.x;float vertexIdx=a_flags.y;vec2 quadVertexOffset=vec2(\nmix(-1.0,1.0,float(vertexIdx >=2.0)),mix(-1.0,1.0,float(vertexIdx >=1.0 && vertexIdx <=2.0)));vec2 quadVertexExtent=quadVertexOffset*radius;vec3 tilePos=toTilePosition(quadCenterPos);vec4 clipPos=u_matrix*vec4(tilePos,1.0);highp float camera_to_anchor_distance=clipPos.w;highp float collision_perspective_ratio=clamp(\n0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);float padding_factor=1.2;v_radius=radius;v_extrude=quadVertexExtent*padding_factor;v_perspective_ratio=collision_perspective_ratio;v_collision=collision;gl_Position=vec4(clipPos.xyz/clipPos.w,1.0)+vec4(quadVertexExtent*padding_factor/u_viewport_size*2.0,0.0,0.0);}"),debug:Cn("uniform highp vec4 u_color;uniform sampler2D u_overlay;varying vec2 v_uv;void main() {vec4 overlay_color=texture2D(u_overlay,v_uv);gl_FragColor=mix(u_color,overlay_color,overlay_color.a);}","attribute vec2 a_pos;\n#ifdef PROJECTION_GLOBE_VIEW\nattribute vec3 a_pos_3;\n#endif\nvarying vec2 v_uv;uniform mat4 u_matrix;uniform float u_overlay_scale;void main() {float h=elevation(a_pos);v_uv=a_pos/8192.0;\n#ifdef PROJECTION_GLOBE_VIEW\ngl_Position=u_matrix*vec4(a_pos_3+elevationVector(a_pos)*h,1);\n#else\ngl_Position=u_matrix*vec4(a_pos*u_overlay_scale,h,1);\n#endif\n}"),fill:Cn("#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float opacity\nvec4 out_color=color;\n#ifdef LIGHTING_3D_MODE\nout_color=apply_lighting(out_color);\n#endif\n#ifdef FOG\nout_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));\n#endif\ngl_FragColor=out_color*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec2 a_pos;uniform mat4 u_matrix;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float opacity\ngl_Position=u_matrix*vec4(a_pos,0,1);\n#ifdef FOG\nv_fog_pos=fog_position(a_pos);\n#endif\n}"),fillOutline:Cn("varying vec2 v_pos;\n#pragma mapbox: define highp vec4 outline_color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 outline_color\n#pragma mapbox: initialize lowp float opacity\nfloat dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);vec4 out_color=outline_color;\n#ifdef LIGHTING_3D_MODE\nout_color=apply_lighting(out_color);\n#endif\n#ifdef FOG\nout_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));\n#endif\ngl_FragColor=out_color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec2 a_pos;uniform mat4 u_matrix;uniform vec2 u_world;varying vec2 v_pos;\n#pragma mapbox: define highp vec4 outline_color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 outline_color\n#pragma mapbox: initialize lowp float opacity\ngl_Position=u_matrix*vec4(a_pos,0,1);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;\n#ifdef FOG\nv_fog_pos=fog_position(a_pos);\n#endif\n}"),fillOutlinePattern:Cn("uniform vec2 u_texsize;uniform sampler2D u_image;varying vec2 v_pos;varying vec2 v_pos_world;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern\nvec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;vec2 imagecoord=mod(v_pos,1.0);vec2 pos=mix(pattern_tl/u_texsize,pattern_br/u_texsize,imagecoord);float dist=length(v_pos_world-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);vec4 out_color=texture2D(u_image,pos);\n#ifdef LIGHTING_3D_MODE\nout_color=apply_lighting(out_color);\n#endif\n#ifdef FOG\nout_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));\n#endif\ngl_FragColor=out_color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_world;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_tile_units_to_pixels;attribute vec2 a_pos;varying vec2 v_pos;varying vec2 v_pos_world;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern\n#pragma mapbox: define lowp float pixel_ratio\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern\n#pragma mapbox: initialize lowp float pixel_ratio\nvec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;gl_Position=u_matrix*vec4(a_pos,0,1);vec2 display_size=(pattern_br-pattern_tl)/pixel_ratio;v_pos=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,display_size,u_tile_units_to_pixels,a_pos);v_pos_world=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;\n#ifdef FOG\nv_fog_pos=fog_position(a_pos);\n#endif\n}"),fillPattern:Cn("uniform vec2 u_texsize;uniform sampler2D u_image;varying vec2 v_pos;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern\nvec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;vec2 imagecoord=mod(v_pos,1.0);vec2 pos=mix(pattern_tl/u_texsize,pattern_br/u_texsize,imagecoord);vec4 out_color=texture2D(u_image,pos);\n#ifdef LIGHTING_3D_MODE\nout_color=apply_lighting(out_color);\n#endif\n#ifdef FOG\nout_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));\n#endif\ngl_FragColor=out_color*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_tile_units_to_pixels;attribute vec2 a_pos;varying vec2 v_pos;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern\n#pragma mapbox: define lowp float pixel_ratio\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern\n#pragma mapbox: initialize lowp float pixel_ratio\nvec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;vec2 display_size=(pattern_br-pattern_tl)/pixel_ratio;gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,display_size,u_tile_units_to_pixels,a_pos);\n#ifdef FOG\nv_fog_pos=fog_position(a_pos);\n#endif\n}"),fillExtrusion:Cn("varying vec4 v_color;\n#ifdef RENDER_SHADOWS\nvarying highp vec4 v_pos_light_view_0;varying highp vec4 v_pos_light_view_1;varying float v_depth;\n#endif\n#ifdef FAUX_AO\nuniform lowp vec2 u_ao;varying vec3 v_ao;\n#endif\n#ifdef ZERO_ROOF_RADIUS\nvarying vec4 v_roof_color;\n#endif\n#if defined(ZERO_ROOF_RADIUS) || defined(RENDER_SHADOWS)\nvarying highp vec3 v_normal;\n#endif\nvoid main() {\n#if defined(ZERO_ROOF_RADIUS) || defined(RENDER_SHADOWS)\nvec3 normal=v_normal;\n#endif\nfloat z;vec4 color;\n#ifdef ZERO_ROOF_RADIUS\nz=float(normal.z > 0.00001);color=mix(v_color,v_roof_color,z);\n#else\ncolor=v_color;\n#endif\n#ifdef FAUX_AO\nfloat intensity=u_ao[0];float h=max(0.0,v_ao.z);float h_floors=h/u_ao[1];float y_shade=1.0-0.9*intensity*min(v_ao.y,1.0);float shade=(1.0-0.08*intensity)*(y_shade+(1.0-y_shade)*(1.0-pow(1.0-min(h_floors/16.0,1.0),16.0)))+0.08*intensity*min(h_floors/160.0,1.0);float concave=v_ao.x*v_ao.x;\n#ifdef ZERO_ROOF_RADIUS\nconcave*=(1.0-z);\n#endif\nfloat x_shade=mix(1.0,mix(0.6,0.75,min(h_floors/30.0,1.0)),intensity)+0.1*intensity*min(h,1.0);shade*=mix(1.0,x_shade*x_shade*x_shade,concave);color.rgb=color.rgb*shade;\n#endif\n#ifdef RENDER_SHADOWS\n#ifdef ZERO_ROOF_RADIUS\nnormal=mix(normal,vec3(0.0,0.0,1.0),z);\n#endif\ncolor.xyz=shadowed_color_normal(color.xyz,normalize(normal),v_pos_light_view_0,v_pos_light_view_1,v_depth);\n#endif\n#ifdef FOG\ncolor=fog_dither(fog_apply_premultiplied(color,v_fog_pos));\n#endif\ngl_FragColor=color;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform float u_edge_radius;attribute vec4 a_pos_normal_ed;attribute vec2 a_centroid_pos;\n#ifdef PROJECTION_GLOBE_VIEW\nattribute vec3 a_pos_3;attribute vec3 a_pos_normal_3;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_tile_id;uniform float u_zoom_transition;uniform vec3 u_up_dir;uniform float u_height_lift;\n#endif\nvarying vec4 v_color;\n#ifdef RENDER_SHADOWS\nuniform mat4 u_light_matrix_0;uniform mat4 u_light_matrix_1;varying highp vec4 v_pos_light_view_0;varying highp vec4 v_pos_light_view_1;varying float v_depth;\n#endif\n#ifdef ZERO_ROOF_RADIUS\nvarying vec4 v_roof_color;\n#endif\n#if defined(ZERO_ROOF_RADIUS) || defined(RENDER_SHADOWS)\nvarying highp vec3 v_normal;\n#endif\n#ifdef FAUX_AO\nuniform lowp vec2 u_ao;varying vec3 v_ao;\n#endif\n#pragma mapbox: define highp float base\n#pragma mapbox: define highp float height\n#pragma mapbox: define highp vec4 color\nvoid main() {\n#pragma mapbox: initialize highp float base\n#pragma mapbox: initialize highp float height\n#pragma mapbox: initialize highp vec4 color\nvec4 pos_nx=floor(a_pos_normal_ed*0.5);vec4 top_up_ny_start=a_pos_normal_ed-2.0*pos_nx;vec3 top_up_ny=top_up_ny_start.xyz;float x_normal=pos_nx.z/8192.0;vec3 normal=top_up_ny.y==1.0 ? vec3(0.0,0.0,1.0) : normalize(vec3(x_normal,(2.0*top_up_ny.z-1.0)*(1.0-abs(x_normal)),0.0));\n#if defined(ZERO_ROOF_RADIUS) || defined(RENDER_SHADOWS)\nv_normal=normal;\n#endif\nbase=max(0.0,base);height=max(0.0,top_up_ny.y==0.0 && top_up_ny.x==1.0 ? height-u_edge_radius : height);float t=top_up_ny.x;vec2 centroid_pos=vec2(0.0);\n#if defined(HAS_CENTROID) || defined(TERRAIN)\ncentroid_pos=a_centroid_pos;\n#endif\nfloat ele=0.0;float h=0.0;float c_ele;vec3 pos;\n#ifdef TERRAIN\nbool flat_roof=centroid_pos.x !=0.0 && t > 0.0;ele=elevation(pos_nx.xy);c_ele=flat_roof ? centroid_pos.y==0.0 ? elevationFromUint16(centroid_pos.x) : flatElevation(centroid_pos) : ele;h=flat_roof ? max(c_ele+height,ele+base+2.0) : ele+(t > 0.0 ? height : base==0.0 ?-5.0 : base);pos=vec3(pos_nx.xy,h);\n#else\nh=t > 0.0 ? height : base;pos=vec3(pos_nx.xy,h);\n#endif\n#ifdef PROJECTION_GLOBE_VIEW\nfloat lift=float((t+base) > 0.0)*u_height_lift;h+=lift;vec3 globe_normal=normalize(mix(a_pos_normal_3/16384.0,u_up_dir,u_zoom_transition));vec3 globe_pos=a_pos_3+globe_normal*(u_tile_up_scale*h);vec3 merc_pos=mercator_tile_position(u_inv_rot_matrix,pos.xy,u_tile_id,u_merc_center)+u_up_dir*u_tile_up_scale*pos.z;pos=mix_globe_mercator(globe_pos,merc_pos,u_zoom_transition);\n#endif\nfloat hidden=float(centroid_pos.x==0.0 && centroid_pos.y==1.0);gl_Position=mix(u_matrix*vec4(pos,1),AWAY,hidden);\n#ifdef RENDER_SHADOWS\nv_pos_light_view_0=u_light_matrix_0*vec4(pos,1);v_pos_light_view_1=u_light_matrix_1*vec4(pos,1);v_depth=gl_Position.w;\n#endif\nfloat NdotL=0.0;float colorvalue=0.0;\n#ifdef LIGHTING_3D_MODE\nNdotL=calculate_NdotL(normal);\n#else\ncolorvalue=color.r*0.2126+color.g*0.7152+color.b*0.0722;vec4 ambientlight=vec4(0.03,0.03,0.03,1.0);color+=ambientlight;NdotL=clamp(dot(normal,u_lightpos),0.0,1.0);NdotL=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),NdotL);\n#endif\nif (normal.y !=0.0) {float r=0.84;\n#ifndef LIGHTING_3D_MODE\nr=mix(0.7,0.98,1.0-u_lightintensity);\n#endif\nNdotL*=(\n(1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),r,1.0)));}v_color=vec4(0.0,0.0,0.0,1.0);\n#ifdef FAUX_AO\nfloat concave=pos_nx.w-floor(pos_nx.w*0.5)*2.0;float start=top_up_ny_start.w;float y_ground=1.0-clamp(t+base,0.0,1.0);float top_height=height;\n#ifdef TERRAIN\ntop_height=mix(max(c_ele+height,ele+base+2.0),ele+height,float(centroid_pos.x==0.0))-ele;y_ground+=y_ground*5.0/max(3.0,top_height);\n#endif\nv_ao=vec3(mix(concave,-concave,start),y_ground,h-ele);NdotL*=(1.0+0.05*(1.0-top_up_ny.y)*u_ao[0]);\n#ifdef PROJECTION_GLOBE_VIEW\ntop_height+=u_height_lift;\n#endif\ngl_Position.z-=(0.0000006*(min(top_height,500.)+2.0*min(base,500.0)+60.0*concave+3.0*start))*gl_Position.w;\n#endif\n#ifdef LIGHTING_3D_MODE\nv_color=apply_lighting(color,NdotL);\n#else\nv_color.rgb+=clamp(color.rgb*NdotL*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));\n#endif\nv_color*=u_opacity;\n#ifdef ZERO_ROOF_RADIUS\nv_roof_color=vec4(0.0,0.0,0.0,1.0);\n#ifdef LIGHTING_3D_MODE\nv_roof_color=apply_lighting(color,calculate_NdotL(vec3(0.0,0.0,1.0)));\n#else\nfloat roofNdotL=clamp(u_lightpos.z,0.0,1.0);roofNdotL=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),roofNdotL);v_roof_color.rgb+=clamp(color.rgb*roofNdotL*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));\n#endif\nv_roof_color*=u_opacity;\n#endif\n#ifdef FOG\nv_fog_pos=fog_position(pos);\n#endif\n}"),fillExtrusionPattern:Cn("uniform vec2 u_texsize;uniform sampler2D u_image;\n#ifdef FAUX_AO\nuniform lowp vec2 u_ao;varying vec3 v_ao;\n#endif\n#ifdef LIGHTING_3D_MODE\nvarying float v_NdotL;\n#endif\nvarying vec2 v_pos;varying vec4 v_lighting;uniform lowp float u_opacity;\n#pragma mapbox: define lowp float base\n#pragma mapbox: define lowp float height\n#pragma mapbox: define lowp vec4 pattern\n#pragma mapbox: define lowp float pixel_ratio\nvoid main() {\n#pragma mapbox: initialize lowp float base\n#pragma mapbox: initialize lowp float height\n#pragma mapbox: initialize mediump vec4 pattern\n#pragma mapbox: initialize lowp float pixel_ratio\nvec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;vec2 imagecoord=mod(v_pos,1.0);vec2 pos=mix(pattern_tl/u_texsize,pattern_br/u_texsize,imagecoord);vec4 out_color=texture2D(u_image,pos);\n#ifdef LIGHTING_3D_MODE\nout_color=apply_lighting(out_color,v_NdotL)*u_opacity;\n#else\nout_color=out_color*v_lighting;\n#endif\n#ifdef FAUX_AO\nfloat intensity=u_ao[0];float h=max(0.0,v_ao.z);float h_floors=h/u_ao[1];float y_shade=1.0-0.9*intensity*min(v_ao.y,1.0);float shade=(1.0-0.08*intensity)*(y_shade+(1.0-y_shade)*(1.0-pow(1.0-min(h_floors/16.0,1.0),16.0)))+0.08*intensity*min(h_floors/160.0,1.0);float concave=v_ao.x*v_ao.x;float x_shade=mix(1.0,mix(0.6,0.75,min(h_floors/30.0,1.0)),intensity)+0.1*intensity*min(h,1.0);shade*=mix(1.0,x_shade*x_shade*x_shade,concave);out_color.rgb=out_color.rgb*shade;\n#endif\n#ifdef FOG\nout_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));\n#endif\ngl_FragColor=out_color;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_height_factor;uniform float u_tile_units_to_pixels;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;attribute vec4 a_pos_normal_ed;attribute vec2 a_centroid_pos;\n#ifdef PROJECTION_GLOBE_VIEW\nattribute vec3 a_pos_3;attribute vec3 a_pos_normal_3;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_tile_id;uniform float u_zoom_transition;uniform vec3 u_up_dir;uniform float u_height_lift;\n#endif\nvarying vec2 v_pos;varying vec4 v_lighting;\n#ifdef FAUX_AO\nuniform lowp vec2 u_ao;varying vec3 v_ao;\n#endif\n#ifdef LIGHTING_3D_MODE\nvarying float v_NdotL;\n#endif\n#pragma mapbox: define lowp float base\n#pragma mapbox: define lowp float height\n#pragma mapbox: define lowp vec4 pattern\n#pragma mapbox: define lowp float pixel_ratio\nvoid main() {\n#pragma mapbox: initialize lowp float base\n#pragma mapbox: initialize lowp float height\n#pragma mapbox: initialize mediump vec4 pattern\n#pragma mapbox: initialize lowp float pixel_ratio\nvec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;vec4 pos_nx=floor(a_pos_normal_ed*0.5);mediump vec4 top_up_ny_start=a_pos_normal_ed-2.0*pos_nx;mediump vec3 top_up_ny=top_up_ny_start.xyz;float x_normal=pos_nx.z/8192.0;vec3 normal=top_up_ny.y==1.0 ? vec3(0.0,0.0,1.0) : normalize(vec3(x_normal,(2.0*top_up_ny.z-1.0)*(1.0-abs(x_normal)),0.0));float edgedistance=a_pos_normal_ed.w;vec2 display_size=(pattern_br-pattern_tl)/pixel_ratio;base=max(0.0,base);height=max(0.0,height);float t=top_up_ny.x;float z=t > 0.0 ? height : base;vec2 centroid_pos=vec2(0.0);\n#if defined(HAS_CENTROID) || defined(TERRAIN)\ncentroid_pos=a_centroid_pos;\n#endif\nfloat ele=0.0;float h=z;vec3 p;float c_ele;\n#ifdef TERRAIN\nbool flat_roof=centroid_pos.x !=0.0 && t > 0.0;ele=elevation(pos_nx.xy);c_ele=flat_roof ? centroid_pos.y==0.0 ? elevationFromUint16(centroid_pos.x) : flatElevation(centroid_pos) : ele;h=flat_roof ? max(c_ele+height,ele+base+2.0) : ele+(t > 0.0 ? height : base==0.0 ?-5.0 : base);p=vec3(pos_nx.xy,h);\n#else\np=vec3(pos_nx.xy,z);\n#endif\n#ifdef PROJECTION_GLOBE_VIEW\nfloat lift=float((t+base) > 0.0)*u_height_lift;h+=lift;vec3 globe_normal=normalize(mix(a_pos_normal_3/16384.0,u_up_dir,u_zoom_transition));vec3 globe_pos=a_pos_3+globe_normal*(u_tile_up_scale*(p.z+lift));vec3 merc_pos=mercator_tile_position(u_inv_rot_matrix,p.xy,u_tile_id,u_merc_center)+u_up_dir*u_tile_up_scale*p.z;p=mix_globe_mercator(globe_pos,merc_pos,u_zoom_transition);\n#endif\nfloat hidden=float(centroid_pos.x==0.0 && centroid_pos.y==1.0);gl_Position=mix(u_matrix*vec4(p,1),AWAY,hidden);vec2 pos=normal.z==1.0\n? pos_nx.xy\n: vec2(edgedistance,z*u_height_factor);v_pos=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,display_size,u_tile_units_to_pixels,pos);v_lighting=vec4(0.0,0.0,0.0,1.0);float NdotL=0.0;\n#ifdef LIGHTING_3D_MODE\nNdotL=calculate_NdotL(normal);\n#else\nNdotL=clamp(dot(normal,u_lightpos),0.0,1.0);NdotL=mix((1.0-u_lightintensity),max((0.5+u_lightintensity),1.0),NdotL);\n#endif\nif (normal.y !=0.0) {float r=0.84;\n#ifndef LIGHTING_3D_MODE\nr=mix(0.7,0.98,1.0-u_lightintensity);\n#endif\nNdotL*=(\n(1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),r,1.0)));}\n#ifdef FAUX_AO\nfloat concave=pos_nx.w-floor(pos_nx.w*0.5)*2.0;float start=top_up_ny_start.w;float y_ground=1.0-clamp(t+base,0.0,1.0);float top_height=height;\n#ifdef TERRAIN\ntop_height=mix(max(c_ele+height,ele+base+2.0),ele+height,float(centroid_pos.x==0.0))-ele;y_ground+=y_ground*5.0/max(3.0,top_height);\n#endif\nv_ao=vec3(mix(concave,-concave,start),y_ground,h-ele);NdotL*=(1.0+0.05*(1.0-top_up_ny.y)*u_ao[0]);\n#ifdef PROJECTION_GLOBE_VIEW\ntop_height+=u_height_lift;\n#endif\ngl_Position.z-=(0.0000006*(min(top_height,500.)+2.0*min(base,500.0)+60.0*concave+3.0*start))*gl_Position.w;\n#endif\n#ifdef LIGHTING_3D_MODE\nv_NdotL=NdotL;\n#else\nv_lighting.rgb+=clamp(NdotL*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_lighting*=u_opacity;\n#endif \n#ifdef FOG\nv_fog_pos=fog_position(p);\n#endif\n}"),hillshadePrepare:Cn("#ifdef GL_ES\nprecision highp float;\n#endif\nuniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_dimension;uniform float u_zoom;uniform vec4 u_unpack;float getElevation(vec2 coord) {\n#ifdef TERRAIN_DEM_FLOAT_FORMAT\nreturn texture2D(u_image,coord).a/4.0;\n#else\nvec4 data=texture2D(u_image,coord)*255.0;data.a=-1.0;return dot(data,u_unpack)/4.0;\n#endif\n}void main() {vec2 epsilon=1.0/u_dimension;float a=getElevation(v_pos+vec2(-epsilon.x,-epsilon.y));float b=getElevation(v_pos+vec2(0,-epsilon.y));float c=getElevation(v_pos+vec2(epsilon.x,-epsilon.y));float d=getElevation(v_pos+vec2(-epsilon.x,0));float e=getElevation(v_pos+vec2(epsilon.x,0));float f=getElevation(v_pos+vec2(-epsilon.x,epsilon.y));float g=getElevation(v_pos+vec2(0,epsilon.y));float h=getElevation(v_pos+vec2(epsilon.x,epsilon.y));float exaggerationFactor=u_zoom < 2.0 ? 0.4 : u_zoom < 4.5 ? 0.35 : 0.3;float exaggeration=u_zoom < 15.0 ? (u_zoom-15.0)*exaggerationFactor : 0.0;vec2 deriv=vec2(\n(c+e+e+h)-(a+d+d+f),(f+g+g+h)-(a+b+b+c)\n)/pow(2.0,exaggeration+(19.2562-u_zoom));gl_FragColor=clamp(vec4(\nderiv.x/2.0+0.5,deriv.y/2.0+0.5,1.0,1.0),0.0,1.0);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_dimension;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);highp vec2 epsilon=1.0/u_dimension;float scale=(u_dimension.x-2.0)/u_dimension.x;v_pos=(a_texture_pos/8192.0)*scale+epsilon;}"),hillshade:Cn("uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_latrange;uniform vec2 u_light;uniform vec4 u_shadow;uniform vec4 u_highlight;uniform vec4 u_accent;void main() {vec4 pixel=texture2D(u_image,v_pos);vec2 deriv=((pixel.rg*2.0)-1.0);float scaleFactor=cos(radians((u_latrange[0]-u_latrange[1])*(1.0-v_pos.y)+u_latrange[1]));float slope=atan(1.25*length(deriv)/scaleFactor);float aspect=deriv.x !=0.0 ? atan(deriv.y,-deriv.x) : PI/2.0*(deriv.y > 0.0 ? 1.0 :-1.0);float intensity=u_light.x;float azimuth=u_light.y+PI;float base=1.875-intensity*1.75;float maxValue=0.5*PI;float scaledSlope=intensity !=0.5 ? ((pow(base,slope)-1.0)/(pow(base,maxValue)-1.0))*maxValue : slope;float accent=cos(scaledSlope);vec4 accent_color=(1.0-accent)*u_accent*clamp(intensity*2.0,0.0,1.0);float shade=abs(mod((aspect+azimuth)/PI+0.5,2.0)-1.0);vec4 shade_color=mix(u_shadow,u_highlight,shade)*sin(scaledSlope)*clamp(intensity*2.0,0.0,1.0);gl_FragColor=accent_color*(1.0-shade_color.a)+shade_color;\n#ifdef LIGHTING_3D_MODE\ngl_FragColor=apply_lighting(gl_FragColor);\n#endif\n#ifdef FOG\ngl_FragColor=fog_dither(fog_apply_premultiplied(gl_FragColor,v_fog_pos));\n#endif\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=a_texture_pos/8192.0;\n#ifdef FOG\nv_fog_pos=fog_position(a_pos);\n#endif\n}"),line:Cn("uniform lowp float u_device_pixel_ratio;uniform float u_alpha_discard_threshold;uniform highp vec2 u_trim_offset;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;varying highp vec4 v_uv;\n#ifdef RENDER_LINE_DASH\nuniform sampler2D u_dash_image;varying vec2 v_tex;\n#endif\n#ifdef RENDER_LINE_GRADIENT\nuniform sampler2D u_gradient_image;\n#endif\nuniform float u_border_width;uniform vec4 u_border_color;float luminance(vec3 c) {return (c.r+c.r+c.b+c.g+c.g+c.g)*0.1667;}\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float floorwidth\n#pragma mapbox: define lowp vec4 dash\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\nfloat linearstep(float edge0,float edge1,float x) {return  clamp((x-edge0)/(edge1-edge0),0.0,1.0);}void main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float floorwidth\n#pragma mapbox: initialize lowp vec4 dash\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\nfloat dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);\n#ifdef RENDER_LINE_DASH\nfloat sdfdist=texture2D(u_dash_image,v_tex).a;float sdfgamma=1.0/(2.0*u_device_pixel_ratio)/dash.z;alpha*=linearstep(0.5-sdfgamma/floorwidth,0.5+sdfgamma/floorwidth,sdfdist);\n#endif\nhighp vec4 out_color;\n#ifdef RENDER_LINE_GRADIENT\nout_color=texture2D(u_gradient_image,v_uv.xy);\n#else\nout_color=color;\n#endif\n#ifdef RENDER_LINE_TRIM_OFFSET\nhighp float start=v_uv[2];highp float end=v_uv[3];highp float trim_start=u_trim_offset[0];highp float trim_end=u_trim_offset[1];highp float line_progress=(start+(v_uv.x)*(end-start));if (trim_end > trim_start) {if (line_progress <=trim_end && line_progress >=trim_start) {out_color=vec4(0,0,0,0);}}\n#endif\n#ifdef LIGHTING_3D_MODE\nout_color=apply_lighting(out_color);\n#endif\n#ifdef FOG\nout_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));\n#endif\n#ifdef RENDER_LINE_ALPHA_DISCARD\nif (alpha < u_alpha_discard_threshold) {discard;}\n#endif\n#ifdef RENDER_LINE_BORDER\nfloat edgeBlur=(u_border_width+1.0/u_device_pixel_ratio);float alpha2=clamp(min(dist-(v_width2.t-edgeBlur),v_width2.s-dist)/edgeBlur,0.0,1.0);if (alpha2 < 1.) {float smoothAlpha=smoothstep(0.6,1.0,alpha2);\n#ifdef RENDER_LINE_BORDER_AUTO\nfloat Y=(out_color.a > 0.01) ? luminance(out_color.rgb/out_color.a) : 1.;float adjustment=(Y > 0.) ? 0.5/Y : 0.45;if (out_color.a > 0.25 && Y < 0.25) {vec3 borderColor=(Y > 0.) ? out_color.rgb : vec3(1,1,1)*out_color.a;out_color.rgb=out_color.rgb+borderColor*(adjustment*(1.0-smoothAlpha));} else {out_color.rgb*=(0.6 +0.4*smoothAlpha);}\n#else\nout_color.rgb=mix(u_border_color.rgb,out_color.rgb,smoothAlpha);\n#endif\n}\n#endif\ngl_FragColor=out_color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define EXTRUDE_SCALE 0.015873016\nattribute vec2 a_pos_normal;attribute vec4 a_data;\n#if defined(RENDER_LINE_GRADIENT) || defined(RENDER_LINE_TRIM_OFFSET)\nattribute highp vec4 a_packed;\n#endif\n#ifdef RENDER_LINE_DASH\nattribute float a_linesofar;\n#endif\nuniform mat4 u_matrix;uniform mat2 u_pixels_to_tile_units;uniform vec2 u_units_to_pixels;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp vec4 v_uv;\n#ifdef RENDER_LINE_DASH\nuniform vec2 u_texsize;uniform float u_tile_units_to_pixels;varying vec2 v_tex;\n#endif\n#ifdef RENDER_LINE_GRADIENT\nuniform float u_image_height;\n#endif\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float floorwidth\n#pragma mapbox: define lowp vec4 dash\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float width\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float floorwidth\n#pragma mapbox: initialize lowp vec4 dash\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float width\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*EXTRUDE_SCALE;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*EXTRUDE_SCALE*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist*u_pixels_to_tile_units,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2*u_pixels_to_tile_units,0.0,1.0)+projected_extrude;\n#ifndef RENDER_TO_TEXTURE\nfloat extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;\n#else\nv_gamma_scale=1.0;\n#endif\n#if defined(RENDER_LINE_GRADIENT) || defined(RENDER_LINE_TRIM_OFFSET)\nfloat a_uv_x=a_packed[0];float a_split_index=a_packed[1];highp float a_clip_start=a_packed[2];highp float a_clip_end=a_packed[3];\n#ifdef RENDER_LINE_GRADIENT\nhighp float texel_height=1.0/u_image_height;highp float half_texel_height=0.5*texel_height;v_uv=vec4(a_uv_x,a_split_index*texel_height-half_texel_height,a_clip_start,a_clip_end);\n#else\nv_uv=vec4(a_uv_x,0.0,a_clip_start,a_clip_end);\n#endif\n#endif\n#ifdef RENDER_LINE_DASH\nfloat scale=dash.z==0.0 ? 0.0 : u_tile_units_to_pixels/dash.z;float height=dash.y;v_tex=vec2(a_linesofar*scale/floorwidth,(-normal.y*height+dash.x+0.5)/u_texsize.y);\n#endif\nv_width2=vec2(outset,inset);\n#ifdef FOG\nv_fog_pos=fog_position(pos);\n#endif\n}"),linePattern:Cn("uniform lowp float u_device_pixel_ratio;uniform vec2 u_texsize;uniform float u_tile_units_to_pixels;uniform sampler2D u_image;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;\n#pragma mapbox: define lowp vec4 pattern\n#pragma mapbox: define lowp float pixel_ratio\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize mediump vec4 pattern\n#pragma mapbox: initialize lowp float pixel_ratio\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\nvec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;vec2 display_size=(pattern_br-pattern_tl)/pixel_ratio;vec2 pattern_size=vec2(display_size.x/u_tile_units_to_pixels,display_size.y);float aspect=display_size.y/v_width;float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float x=mod(v_linesofar/pattern_size.x*aspect,1.0);float y=0.5*v_normal.y+0.5;vec2 texel_size=1.0/u_texsize;vec2 pos=mix(pattern_tl*texel_size-texel_size,pattern_br*texel_size+texel_size,vec2(x,y));vec4 color=texture2D(u_image,pos);\n#ifdef LIGHTING_3D_MODE\ncolor=apply_lighting(color);\n#endif\n#ifdef FOG\ncolor=fog_dither(fog_apply_premultiplied(color,v_fog_pos));\n#endif\ngl_FragColor=color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define scale 0.015873016\nattribute vec2 a_pos_normal;attribute vec4 a_data;attribute float a_linesofar;uniform mat4 u_matrix;uniform vec2 u_units_to_pixels;uniform mat2 u_pixels_to_tile_units;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define mediump float width\n#pragma mapbox: define lowp float floorwidth\n#pragma mapbox: define lowp vec4 pattern\n#pragma mapbox: define lowp float pixel_ratio\nvoid main() {\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize mediump float width\n#pragma mapbox: initialize lowp float floorwidth\n#pragma mapbox: initialize mediump vec4 pattern\n#pragma mapbox: initialize lowp float pixel_ratio\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist*u_pixels_to_tile_units,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2*u_pixels_to_tile_units,0.0,1.0)+projected_extrude;\n#ifndef RENDER_TO_TEXTURE\nfloat extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;\n#else\nv_gamma_scale=1.0;\n#endif\nv_linesofar=a_linesofar;v_width2=vec2(outset,inset);v_width=floorwidth;\n#ifdef FOG\nv_fog_pos=fog_position(pos);\n#endif\n}"),raster:Cn("uniform float u_fade_t;uniform float u_opacity;uniform sampler2D u_image0;uniform sampler2D u_image1;varying vec2 v_pos0;varying vec2 v_pos1;uniform float u_brightness_low;uniform float u_brightness_high;uniform float u_saturation_factor;uniform float u_contrast_factor;uniform vec3 u_spin_weights;void main() {vec4 color0=texture2D(u_image0,v_pos0);vec4 color1=texture2D(u_image1,v_pos1);if (color0.a > 0.0) {color0.rgb=color0.rgb/color0.a;}if (color1.a > 0.0) {color1.rgb=color1.rgb/color1.a;}vec4 color=mix(color0,color1,u_fade_t);color.a*=u_opacity;vec3 rgb=color.rgb;rgb=vec3(\ndot(rgb,u_spin_weights.xyz),dot(rgb,u_spin_weights.zxy),dot(rgb,u_spin_weights.yzx));float average=(color.r+color.g+color.b)/3.0;rgb+=(average-rgb)*u_saturation_factor;rgb=(rgb-0.5)*u_contrast_factor+0.5;vec3 u_high_vec=vec3(u_brightness_low,u_brightness_low,u_brightness_low);vec3 u_low_vec=vec3(u_brightness_high,u_brightness_high,u_brightness_high);vec3 out_color=mix(u_high_vec,u_low_vec,rgb);\n#ifdef LIGHTING_3D_MODE\nout_color=apply_lighting(out_color);\n#endif\n#ifdef FOG\nout_color=fog_dither(fog_apply(out_color,v_fog_pos));\n#endif\ngl_FragColor=vec4(out_color*color.a,color.a);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_tl_parent;uniform float u_scale_parent;uniform vec2 u_perspective_transform;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos0;varying vec2 v_pos1;void main() {float w=1.0+dot(a_texture_pos,u_perspective_transform);gl_Position=u_matrix*vec4(a_pos*w,0,w);v_pos0=a_texture_pos/8192.0;v_pos1=(v_pos0*u_scale_parent)+u_tl_parent;\n#ifdef FOG\nv_fog_pos=fog_position(a_pos);\n#endif\n}"),symbolIcon:Cn("uniform sampler2D u_texture;varying vec2 v_tex;varying float v_fade_opacity;\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\nlowp float alpha=opacity*v_fade_opacity;gl_FragColor=texture2D(u_texture,v_tex)*alpha;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec4 a_pos_offset;attribute vec4 a_tex_size;attribute vec4 a_pixeloffset;attribute vec4 a_projected_pos;attribute float a_fade_opacity;\n#ifdef PROJECTION_GLOBE_VIEW\nattribute vec3 a_globe_anchor;attribute vec3 a_globe_normal;\n#endif\nuniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform highp float u_camera_to_center_distance;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform float u_fade_change;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform vec2 u_texsize;uniform vec3 u_up_vector;\n#ifdef PROJECTION_GLOBE_VIEW\nuniform vec3 u_tile_id;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_camera_forward;uniform float u_zoom_transition;uniform vec3 u_ecef_origin;uniform mat4 u_tile_matrix;\n#endif\nvarying vec2 v_tex;varying float v_fade_opacity;\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\nvec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_tex_size.xy;vec2 a_size=a_tex_size.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;vec2 a_min_font_scale=a_pixeloffset.zw/256.0;highp float segment_angle=-a_projected_pos[3];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec2 tile_anchor=a_pos;vec3 h=elevationVector(tile_anchor)*elevation(tile_anchor);float globe_occlusion_fade;vec3 world_pos;vec3 mercator_pos;\n#ifdef PROJECTION_GLOBE_VIEW\nmercator_pos=mercator_tile_position(u_inv_rot_matrix,tile_anchor,u_tile_id,u_merc_center);world_pos=mix_globe_mercator(a_globe_anchor+h,mercator_pos,u_zoom_transition);vec4 ecef_point=u_tile_matrix*vec4(world_pos,1.0);vec3 origin_to_point=ecef_point.xyz-u_ecef_origin;globe_occlusion_fade=dot(origin_to_point,u_camera_forward) >=0.0 ? 0.0 : 1.0;\n#else\nworld_pos=vec3(tile_anchor,0)+h;globe_occlusion_fade=1.0;\n#endif\nvec4 projected_point=u_matrix*vec4(world_pos,1);highp float camera_to_anchor_distance=projected_point.w;highp float distance_ratio=u_pitch_with_map ?\ncamera_to_anchor_distance/u_camera_to_center_distance :\nu_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(\n0.5+0.5*distance_ratio,0.0,1.5);size*=perspective_ratio;float font_scale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjected_point;\n#ifdef PROJECTION_GLOBE_VIEW\nvec3 displacement=vec3(a_globe_normal.z,0,-a_globe_normal.x);offsetProjected_point=u_matrix*vec4(a_globe_anchor+displacement,1);\n#else\noffsetProjected_point=u_matrix*vec4(tile_anchor+vec2(1,0),0,1);\n#endif\nvec2 a=projected_point.xy/projected_point.w;vec2 b=offsetProjected_point.xy/offsetProjected_point.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}vec4 projected_pos;\n#ifdef PROJECTION_GLOBE_VIEW\nvec3 proj_pos=mix_globe_mercator(a_projected_pos.xyz+h,mercator_pos,u_zoom_transition);projected_pos=u_label_plane_matrix*vec4(proj_pos,1.0);\n#else\nprojected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,h.z,1.0);\n#endif\nhighp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);float z=0.0;vec2 offset=rotation_matrix*(a_offset/32.0*max(a_min_font_scale,font_scale)+a_pxoffset/16.0);\n#ifdef TERRAIN\n#ifdef PITCH_WITH_MAP_TERRAIN\nvec4 tile_pos=u_label_plane_matrix_inv*vec4(a_projected_pos.xy+offset,0.0,1.0);z=elevation(tile_pos.xy);\n#endif\n#endif\nfloat occlusion_fade=occlusionFade(projected_point)*globe_occlusion_fade;\n#ifdef PROJECTION_GLOBE_VIEW\nvec3 xAxis=u_pitch_with_map ? normalize(cross(a_globe_normal,u_up_vector)) : vec3(1,0,0);vec3 yAxis=u_pitch_with_map ? normalize(cross(a_globe_normal,xAxis)) : vec3(0,1,0);gl_Position=mix(u_coord_matrix*vec4(projected_pos.xyz/projected_pos.w+xAxis*offset.x+yAxis*offset.y,1.0),AWAY,float(projected_point.w <=0.0 || occlusion_fade==0.0));\n#else\ngl_Position=mix(u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+offset,z,1.0),AWAY,float(projected_point.w <=0.0 || occlusion_fade==0.0));\n#endif\nfloat projection_transition_fade=1.0;\n#if defined(PROJECTED_POS_ON_VIEWPORT) && defined(PROJECTION_GLOBE_VIEW)\nprojection_transition_fade=1.0-step(EPSILON,u_zoom_transition);\n#endif\nv_tex=a_tex/u_texsize;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;v_fade_opacity=max(0.0,min(occlusion_fade,fade_opacity[0]+fade_change))*projection_transition_fade;}"),symbolSDF:Cn("#define SDF_PX 8.0\nuniform bool u_is_halo;uniform sampler2D u_texture;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;uniform bool u_is_text;varying vec2 v_data0;varying vec3 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nfloat EDGE_GAMMA=0.105/u_device_pixel_ratio;vec2 tex=v_data0.xy;float gamma_scale=v_data1.x;float size=v_data1.y;float fade_opacity=v_data1[2];float fontScale=u_is_text ? size/24.0 : size;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec4 a_pos_offset;attribute vec4 a_tex_size;attribute vec4 a_pixeloffset;attribute vec4 a_projected_pos;attribute float a_fade_opacity;\n#ifdef PROJECTION_GLOBE_VIEW\nattribute vec3 a_globe_anchor;attribute vec3 a_globe_normal;\n#endif\nuniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec3 u_up_vector;\n#ifdef PROJECTION_GLOBE_VIEW\nuniform vec3 u_tile_id;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_camera_forward;uniform float u_zoom_transition;uniform vec3 u_ecef_origin;uniform mat4 u_tile_matrix;\n#endif\nvarying vec2 v_data0;varying vec3 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nvec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_tex_size.xy;vec2 a_size=a_tex_size.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;highp float segment_angle=-a_projected_pos[3];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec2 tile_anchor=a_pos;vec3 h=elevationVector(tile_anchor)*elevation(tile_anchor);float globe_occlusion_fade;vec3 world_pos;vec3 mercator_pos;\n#ifdef PROJECTION_GLOBE_VIEW\nmercator_pos=mercator_tile_position(u_inv_rot_matrix,tile_anchor,u_tile_id,u_merc_center);world_pos=mix_globe_mercator(a_globe_anchor+h,mercator_pos,u_zoom_transition);vec4 ecef_point=u_tile_matrix*vec4(world_pos,1.0);vec3 origin_to_point=ecef_point.xyz-u_ecef_origin;globe_occlusion_fade=dot(origin_to_point,u_camera_forward) >=0.0 ? 0.0 : 1.0;\n#else\nworld_pos=vec3(tile_anchor,0)+h;globe_occlusion_fade=1.0;\n#endif\nvec4 projected_point=u_matrix*vec4(world_pos,1);highp float camera_to_anchor_distance=projected_point.w;highp float distance_ratio=u_pitch_with_map ?\ncamera_to_anchor_distance/u_camera_to_center_distance :\nu_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(\n0.5+0.5*distance_ratio,0.0,1.5);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetprojected_point;\n#ifdef PROJECTION_GLOBE_VIEW\nvec3 displacement=vec3(a_globe_normal.z,0,-a_globe_normal.x);offsetprojected_point=u_matrix*vec4(a_globe_anchor+displacement,1);\n#else\noffsetprojected_point=u_matrix*vec4(tile_anchor+vec2(1,0),0,1);\n#endif\nvec2 a=projected_point.xy/projected_point.w;vec2 b=offsetprojected_point.xy/offsetprojected_point.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}vec4 projected_pos;\n#ifdef PROJECTION_GLOBE_VIEW\nvec3 proj_pos=mix_globe_mercator(a_projected_pos.xyz+h,mercator_pos,u_zoom_transition);projected_pos=u_label_plane_matrix*vec4(proj_pos,1.0);\n#else\nprojected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,h.z,1.0);\n#endif\nhighp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);float z=0.0;vec2 offset=rotation_matrix*(a_offset/32.0*fontScale+a_pxoffset);\n#ifdef TERRAIN\n#ifdef PITCH_WITH_MAP_TERRAIN\nvec4 tile_pos=u_label_plane_matrix_inv*vec4(a_projected_pos.xy+offset,0.0,1.0);z=elevation(tile_pos.xy);\n#endif\n#endif\nfloat occlusion_fade=occlusionFade(projected_point)*globe_occlusion_fade;\n#ifdef PROJECTION_GLOBE_VIEW\nvec3 xAxis=u_pitch_with_map ? normalize(cross(a_globe_normal,u_up_vector)) : vec3(1,0,0);vec3 yAxis=u_pitch_with_map ? normalize(cross(a_globe_normal,xAxis)) : vec3(0,1,0);gl_Position=mix(u_coord_matrix*vec4(projected_pos.xyz/projected_pos.w+xAxis*offset.x+yAxis*offset.y,1.0),AWAY,float(projected_point.w <=0.0 || occlusion_fade==0.0));\n#else\ngl_Position=mix(u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+offset,z,1.0),AWAY,float(projected_point.w <=0.0 || occlusion_fade==0.0));\n#endif\nfloat gamma_scale=gl_Position.w;float projection_transition_fade=1.0;\n#if defined(PROJECTED_POS_ON_VIEWPORT) && defined(PROJECTION_GLOBE_VIEW)\nprojection_transition_fade=1.0-step(EPSILON,u_zoom_transition);\n#endif\nvec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(occlusion_fade,fade_opacity[0]+fade_change));v_data0=a_tex/u_texsize;v_data1=vec3(gamma_scale,size,interpolated_fade_opacity*projection_transition_fade);}"),symbolTextAndIcon:Cn("#define SDF_PX 8.0\n#define SDF 1.0\n#define ICON 0.0\nuniform bool u_is_halo;uniform sampler2D u_texture;uniform sampler2D u_texture_icon;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;varying vec4 v_data0;varying vec4 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nfloat fade_opacity=v_data1[2];if (v_data1.w==ICON) {vec2 tex_icon=v_data0.zw;lowp float alpha=opacity*fade_opacity;gl_FragColor=texture2D(u_texture_icon,tex_icon)*alpha;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\nreturn;}vec2 tex=v_data0.xy;float EDGE_GAMMA=0.105/u_device_pixel_ratio;float gamma_scale=v_data1.x;float size=v_data1.y;float fontScale=size/24.0;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec4 a_pos_offset;attribute vec4 a_tex_size;attribute vec4 a_projected_pos;attribute float a_fade_opacity;\n#ifdef PROJECTION_GLOBE_VIEW\nattribute vec3 a_globe_anchor;attribute vec3 a_globe_normal;\n#endif\nuniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec3 u_up_vector;uniform vec2 u_texsize_icon;\n#ifdef PROJECTION_GLOBE_VIEW\nuniform vec3 u_tile_id;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_camera_forward;uniform float u_zoom_transition;uniform vec3 u_ecef_origin;uniform mat4 u_tile_matrix;\n#endif\nvarying vec4 v_data0;varying vec4 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nvec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_tex_size.xy;vec2 a_size=a_tex_size.zw;float a_size_min=floor(a_size[0]*0.5);float is_sdf=a_size[0]-2.0*a_size_min;highp float segment_angle=-a_projected_pos[3];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec2 tile_anchor=a_pos;vec3 h=elevationVector(tile_anchor)*elevation(tile_anchor);float globe_occlusion_fade;vec3 world_pos;vec3 mercator_pos;\n#ifdef PROJECTION_GLOBE_VIEW\nmercator_pos=mercator_tile_position(u_inv_rot_matrix,tile_anchor,u_tile_id,u_merc_center);world_pos=mix_globe_mercator(a_globe_anchor+h,mercator_pos,u_zoom_transition);vec4 ecef_point=u_tile_matrix*vec4(world_pos,1.0);vec3 origin_to_point=ecef_point.xyz-u_ecef_origin;globe_occlusion_fade=dot(origin_to_point,u_camera_forward) >=0.0 ? 0.0 : 1.0;\n#else\nworld_pos=vec3(tile_anchor,0)+h;globe_occlusion_fade=1.0;\n#endif\nvec4 projected_point=u_matrix*vec4(world_pos,1);highp float camera_to_anchor_distance=projected_point.w;highp float distance_ratio=u_pitch_with_map ?\ncamera_to_anchor_distance/u_camera_to_center_distance :\nu_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(\n0.5+0.5*distance_ratio,0.0,1.5);size*=perspective_ratio;float font_scale=size/24.0;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offset_projected_point=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projected_point.xy/projected_point.w;vec2 b=offset_projected_point.xy/offset_projected_point.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}vec4 projected_pos;\n#ifdef PROJECTION_GLOBE_VIEW\nvec3 proj_pos=mix_globe_mercator(a_projected_pos.xyz+h,mercator_pos,u_zoom_transition);projected_pos=u_label_plane_matrix*vec4(proj_pos,1.0);\n#else\nprojected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,h.z,1.0);\n#endif\nhighp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);float z=0.0;vec2 offset=rotation_matrix*(a_offset/32.0*font_scale);\n#ifdef TERRAIN\n#ifdef PITCH_WITH_MAP_TERRAIN\nvec4 tile_pos=u_label_plane_matrix_inv*vec4(a_projected_pos.xy+offset,0.0,1.0);z=elevation(tile_pos.xy);\n#endif\n#endif\nfloat occlusion_fade=occlusionFade(projected_point)*globe_occlusion_fade;\n#ifdef PROJECTION_GLOBE_VIEW\nvec3 xAxis=u_pitch_with_map ? normalize(cross(a_globe_normal,u_up_vector)) : vec3(1,0,0);vec3 yAxis=u_pitch_with_map ? normalize(cross(a_globe_normal,xAxis)) : vec3(0,1,0);gl_Position=mix(u_coord_matrix*vec4(projected_pos.xyz/projected_pos.w+xAxis*offset.x+yAxis*offset.y,1.0),AWAY,float(projected_point.w <=0.0 || occlusion_fade==0.0));\n#else\ngl_Position=mix(u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+offset,z,1.0),AWAY,float(projected_point.w <=0.0 || occlusion_fade==0.0));\n#endif\nfloat gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(occlusion_fade,fade_opacity[0]+fade_change));float projection_transition_fade=1.0;\n#if defined(PROJECTED_POS_ON_VIEWPORT) && defined(PROJECTION_GLOBE_VIEW)\nprojection_transition_fade=1.0-step(EPSILON,u_zoom_transition);\n#endif\nv_data0.xy=a_tex/u_texsize;v_data0.zw=a_tex/u_texsize_icon;v_data1=vec4(gamma_scale,size,interpolated_fade_opacity*projection_transition_fade,is_sdf);}"),terrainRaster:Cn("uniform sampler2D u_image0;varying vec2 v_pos0;\n#ifdef FOG\nvarying float v_fog_opacity;\n#endif\n#ifdef RENDER_SHADOWS\nvarying vec4 v_pos_light_view_0;varying vec4 v_pos_light_view_1;varying float v_depth;\n#endif\nvoid main() {vec4 color=texture2D(u_image0,v_pos0);\n#ifdef RENDER_SHADOWS\ncolor.xyz=shadowed_color(color.xyz,v_pos_light_view_0,v_pos_light_view_1,v_depth);\n#endif\n#ifdef FOG\n#ifdef ZERO_EXAGGERATION\ncolor=fog_dither(fog_apply_premultiplied(color,v_fog_pos));\n#else\ncolor=fog_dither(fog_apply_from_vert(color,v_fog_opacity));\n#endif\n#endif\ngl_FragColor=color;\n#ifdef TERRAIN_WIREFRAME\ngl_FragColor=vec4(1.0,0.0,0.0,0.8);\n#endif\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform float u_skirt_height;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos0;\n#ifdef FOG\nvarying float v_fog_opacity;\n#endif\n#ifdef RENDER_SHADOWS\nuniform mat4 u_light_matrix_0;uniform mat4 u_light_matrix_1;varying vec4 v_pos_light_view_0;varying vec4 v_pos_light_view_1;varying float v_depth;\n#endif\nconst float skirtOffset=24575.0;const float wireframeOffset=0.00015;void main() {v_pos0=a_texture_pos/8192.0;float skirt=float(a_pos.x >=skirtOffset);float elevation=elevation(a_texture_pos)-skirt*u_skirt_height;\n#ifdef TERRAIN_WIREFRAME\nelevation+=u_skirt_height*u_skirt_height*wireframeOffset;\n#endif\nvec2 decodedPos=a_pos-vec2(skirt*skirtOffset,0.0);gl_Position=u_matrix*vec4(decodedPos,elevation,1.0);\n#ifdef FOG\n#ifdef ZERO_EXAGGERATION\nv_fog_pos=fog_position(decodedPos);\n#else\nv_fog_opacity=fog(fog_position(vec3(decodedPos,elevation)));\n#endif\n#endif\n#ifdef RENDER_SHADOWS\nvec3 pos=vec3(decodedPos,elevation);v_pos_light_view_0=u_light_matrix_0*vec4(pos,1.);v_pos_light_view_1=u_light_matrix_1*vec4(pos,1.);v_depth=gl_Position.w;\n#endif\n}"),terrainDepth:Cn("#ifdef GL_ES\nprecision highp float;\n#endif\nvarying float v_depth;void main() {gl_FragColor=pack_depth(v_depth);}","uniform mat4 u_matrix;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying float v_depth;void main() {float elevation=elevation(a_texture_pos);gl_Position=u_matrix*vec4(a_pos,elevation,1.0);v_depth=gl_Position.z/gl_Position.w;}"),skybox:Cn("\nvarying lowp vec3 v_uv;uniform lowp samplerCube u_cubemap;uniform lowp float u_opacity;uniform highp float u_temporal_offset;uniform highp vec3 u_sun_direction;float sun_disk(highp vec3 ray_direction,highp vec3 sun_direction) {highp float cos_angle=dot(normalize(ray_direction),sun_direction);const highp float cos_sun_angular_diameter=0.99996192306;const highp float smoothstep_delta=1e-5;return smoothstep(\ncos_sun_angular_diameter-smoothstep_delta,cos_sun_angular_diameter+smoothstep_delta,cos_angle);}float map(float value,float start,float end,float new_start,float new_end) {return ((value-start)*(new_end-new_start))/(end-start)+new_start;}void main() {vec3 uv=v_uv;const float y_bias=0.015;uv.y+=y_bias;uv.y=pow(abs(uv.y),1.0/5.0);uv.y=map(uv.y,0.0,1.0,-1.0,1.0);vec3 sky_color=textureCube(u_cubemap,uv).rgb;\n#ifdef FOG\nsky_color=fog_apply_sky_gradient(v_uv.xzy,sky_color);\n#endif\nsky_color.rgb=dither(sky_color.rgb,gl_FragCoord.xy+u_temporal_offset);sky_color+=0.1*sun_disk(v_uv,u_sun_direction);gl_FragColor=vec4(sky_color*u_opacity,u_opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}",pn),skyboxGradient:Cn("varying highp vec3 v_uv;uniform lowp sampler2D u_color_ramp;uniform highp vec3 u_center_direction;uniform lowp float u_radius;uniform lowp float u_opacity;uniform highp float u_temporal_offset;void main() {float progress=acos(dot(normalize(v_uv),u_center_direction))/u_radius;vec4 color=texture2D(u_color_ramp,vec2(progress,0.5));\n#ifdef FOG\ncolor.rgb=fog_apply_sky_gradient(v_uv.xzy,color.rgb/color.a)*color.a;\n#endif\ncolor*=u_opacity;color.rgb=dither(color.rgb,gl_FragCoord.xy+u_temporal_offset);gl_FragColor=color;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}",pn),skyboxCapture:Cn("\nvarying highp vec3 v_position;uniform highp float u_sun_intensity;uniform highp float u_luminance;uniform lowp vec3 u_sun_direction;uniform highp vec4 u_color_tint_r;uniform highp vec4 u_color_tint_m;\n#ifdef GL_ES\nprecision highp float;\n#endif\n#define BETA_R                  vec3(5.5e-6,13.0e-6,22.4e-6)\n#define BETA_M                  vec3(21e-6,21e-6,21e-6)\n#define MIE_G                   0.76\n#define DENSITY_HEIGHT_SCALE_R  8000.0\n#define DENSITY_HEIGHT_SCALE_M  1200.0\n#define PLANET_RADIUS           6360e3\n#define ATMOSPHERE_RADIUS       6420e3\n#define SAMPLE_STEPS            10\n#define DENSITY_STEPS           4\nfloat ray_sphere_exit(vec3 orig,vec3 dir,float radius) {float a=dot(dir,dir);float b=2.0*dot(dir,orig);float c=dot(orig,orig)-radius*radius;float d=sqrt(b*b-4.0*a*c);return (-b+d)/(2.0*a);}vec3 extinction(vec2 density) {return exp(-vec3(BETA_R*u_color_tint_r.a*density.x+BETA_M*u_color_tint_m.a*density.y));}vec2 local_density(vec3 point) {float height=max(length(point)-PLANET_RADIUS,0.0);float exp_r=exp(-height/DENSITY_HEIGHT_SCALE_R);float exp_m=exp(-height/DENSITY_HEIGHT_SCALE_M);return vec2(exp_r,exp_m);}float phase_ray(float cos_angle) {return (3.0/(16.0*PI))*(1.0+cos_angle*cos_angle);}float phase_mie(float cos_angle) {return (3.0/(8.0*PI))*((1.0-MIE_G*MIE_G)*(1.0+cos_angle*cos_angle))/((2.0+MIE_G*MIE_G)*pow(1.0+MIE_G*MIE_G-2.0*MIE_G*cos_angle,1.5));}vec2 density_to_atmosphere(vec3 point,vec3 light_dir) {float ray_len=ray_sphere_exit(point,light_dir,ATMOSPHERE_RADIUS);float step_len=ray_len/float(DENSITY_STEPS);vec2 density_point_to_atmosphere=vec2(0.0);for (int i=0; i < DENSITY_STEPS;++i) {vec3 point_on_ray=point+light_dir*((float(i)+0.5)*step_len);density_point_to_atmosphere+=local_density(point_on_ray)*step_len;;}return density_point_to_atmosphere;}vec3 atmosphere(vec3 ray_dir,vec3 sun_direction,float sun_intensity) {vec2 density_orig_to_point=vec2(0.0);vec3 scatter_r=vec3(0.0);vec3 scatter_m=vec3(0.0);vec3 origin=vec3(0.0,PLANET_RADIUS,0.0);float ray_len=ray_sphere_exit(origin,ray_dir,ATMOSPHERE_RADIUS);float step_len=ray_len/float(SAMPLE_STEPS);for (int i=0; i < SAMPLE_STEPS;++i) {vec3 point_on_ray=origin+ray_dir*((float(i)+0.5)*step_len);vec2 density=local_density(point_on_ray)*step_len;density_orig_to_point+=density;vec2 density_point_to_atmosphere=density_to_atmosphere(point_on_ray,sun_direction);vec2 density_orig_to_atmosphere=density_orig_to_point+density_point_to_atmosphere;vec3 extinction=extinction(density_orig_to_atmosphere);scatter_r+=density.x*extinction;scatter_m+=density.y*extinction;}float cos_angle=dot(ray_dir,sun_direction);float phase_r=phase_ray(cos_angle);float phase_m=phase_mie(cos_angle);vec3 beta_r=BETA_R*u_color_tint_r.rgb*u_color_tint_r.a;vec3 beta_m=BETA_M*u_color_tint_m.rgb*u_color_tint_m.a;return (scatter_r*phase_r*beta_r+scatter_m*phase_m*beta_m)*sun_intensity;}const float A=0.15;const float B=0.50;const float C=0.10;const float D=0.20;const float E=0.02;const float F=0.30;vec3 uncharted2_tonemap(vec3 x) {return ((x*(A*x+C*B)+D*E)/(x*(A*x+B)+D*F))-E/F;}void main() {vec3 ray_direction=v_position;ray_direction.y=pow(ray_direction.y,5.0);const float y_bias=0.015;ray_direction.y+=y_bias;vec3 color=atmosphere(normalize(ray_direction),u_sun_direction,u_sun_intensity);float white_scale=1.0748724675633854;color=uncharted2_tonemap((log2(2.0/pow(u_luminance,4.0)))*color)*white_scale;gl_FragColor=vec4(color,1.0);}","attribute highp vec3 a_pos_3f;uniform mat3 u_matrix_3f;varying highp vec3 v_position;float map(float value,float start,float end,float new_start,float new_end) {return ((value-start)*(new_end-new_start))/(end-start)+new_start;}void main() {vec4 pos=vec4(u_matrix_3f*a_pos_3f,1.0);v_position=pos.xyz;v_position.y*=-1.0;v_position.y=map(v_position.y,-1.0,1.0,0.0,1.0);gl_Position=vec4(a_pos_3f.xy,0.0,1.0);}"),globeRaster:Cn("uniform sampler2D u_image0;varying vec2 v_pos0;\n#ifndef FOG\nuniform highp vec3 u_frustum_tl;uniform highp vec3 u_frustum_tr;uniform highp vec3 u_frustum_br;uniform highp vec3 u_frustum_bl;uniform highp vec3 u_globe_pos;uniform highp float u_globe_radius;uniform vec2 u_viewport;\n#endif\nvoid main() {vec4 color;\n#ifdef CUSTOM_ANTIALIASING\nvec2 uv=gl_FragCoord.xy/u_viewport;highp vec3 ray_dir=mix(\nmix(u_frustum_tl,u_frustum_tr,uv.x),mix(u_frustum_bl,u_frustum_br,uv.x),1.0-uv.y);vec3 dir=normalize(ray_dir);vec3 closest_point=dot(u_globe_pos,dir)*dir;float norm_dist_from_center=1.0-length(closest_point-u_globe_pos)/u_globe_radius;const float antialias_pixel=2.0;float antialias_factor=antialias_pixel*fwidth(norm_dist_from_center);float antialias=smoothstep(0.0,antialias_factor,norm_dist_from_center);vec4 raster=texture2D(u_image0,v_pos0);color=vec4(raster.rgb*antialias,raster.a*antialias);\n#else\ncolor=texture2D(u_image0,v_pos0);\n#endif\n#ifdef FOG\ncolor=fog_dither(fog_apply_premultiplied(color,v_fog_pos));\n#endif\ngl_FragColor=color;\n#ifdef TERRAIN_WIREFRAME\ngl_FragColor=vec4(1.0,0.0,0.0,0.8);\n#endif\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_proj_matrix;uniform mat4 u_normalize_matrix;uniform mat4 u_globe_matrix;uniform mat4 u_merc_matrix;uniform float u_zoom_transition;uniform vec2 u_merc_center;uniform mat3 u_grid_matrix;\n#ifdef GLOBE_POLES\nattribute vec3 a_globe_pos;attribute vec2 a_uv;\n#else\nattribute vec2 a_pos;\n#endif\nvarying vec2 v_pos0;const float wireframeOffset=1e3;float mercatorXfromLng(float lng) {return (180.0+lng)/360.0;}float mercatorYfromLat(float lat) {return (180.0-(RAD_TO_DEG*log(tan(QUARTER_PI+lat/2.0*DEG_TO_RAD))))/360.0;}vec3 latLngToECEF(vec2 latLng) {latLng=DEG_TO_RAD*latLng;float cosLat=cos(latLng[0]);float sinLat=sin(latLng[0]);float cosLng=cos(latLng[1]);float sinLng=sin(latLng[1]);float sx=cosLat*sinLng*GLOBE_RADIUS;float sy=-sinLat*GLOBE_RADIUS;float sz=cosLat*cosLng*GLOBE_RADIUS;return vec3(sx,sy,sz);}void main() {\n#ifdef GLOBE_POLES\nvec3 globe_pos=a_globe_pos;vec2 uv=a_uv;\n#else\nfloat tiles=u_grid_matrix[0][2];float idx=u_grid_matrix[1][2];float idy=u_grid_matrix[2][2];vec3 latLng=u_grid_matrix*vec3(a_pos,1.0);float mercatorY=mercatorYfromLat(latLng[0]);float uvY=mercatorY*tiles-idy;float mercatorX=mercatorXfromLng(latLng[1]);float uvX=mercatorX*tiles-idx;vec3 globe_pos=latLngToECEF(latLng.xy);vec2 merc_pos=vec2(mercatorX,mercatorY);vec2 uv=vec2(uvX,uvY);\n#endif\nv_pos0=uv;vec2 tile_pos=uv*EXTENT;\n#ifdef GLOBE_POLES\nvec3 up_vector=normalize(globe_pos)*u_tile_up_scale;\n#else\nvec3 up_vector=elevationVector(tile_pos);\n#endif\nfloat height=elevation(tile_pos);\n#ifdef TERRAIN_WIREFRAME\nheight+=wireframeOffset;\n#endif\nglobe_pos+=up_vector*height;\n#ifdef GLOBE_POLES\nvec4 interpolated_pos=u_globe_matrix*vec4(globe_pos,1.0);\n#else\nvec4 globe_world_pos=u_globe_matrix*vec4(globe_pos,1.0);vec4 merc_world_pos=vec4(0.0);if (u_zoom_transition > 0.0) {merc_world_pos=vec4(merc_pos,height,1.0);merc_world_pos.xy-=u_merc_center;merc_world_pos.x=wrap(merc_world_pos.x,-0.5,0.5);merc_world_pos=u_merc_matrix*merc_world_pos;}vec4 interpolated_pos=vec4(mix(globe_world_pos.xyz,merc_world_pos.xyz,u_zoom_transition),1.0);\n#endif\ngl_Position=u_proj_matrix*interpolated_pos;\n#ifdef FOG\nv_fog_pos=fog_position((u_normalize_matrix*vec4(globe_pos,1.0)).xyz);\n#endif\n}"),globeAtmosphere:Cn("uniform float u_transition;uniform highp float u_fadeout_range;uniform highp float u_temporal_offset;uniform vec3 u_start_color;uniform vec4 u_color;uniform vec4 u_space_color;uniform vec4 u_high_color;uniform float u_star_intensity;uniform float u_star_size;uniform float u_star_density;uniform float u_horizon_angle;uniform mat4 u_rotation_matrix;varying highp vec3 v_ray_dir;varying highp vec3 v_horizon_dir;highp float random(highp vec3 p) {p=fract(p*vec3(23.2342,97.1231,91.2342));p+=dot(p.zxy,p.yxz+123.1234);return fract(p.x*p.y);}float stars(vec3 p,float scale,vec2 offset) {vec2 uv_scale=(u_viewport/u_star_size)*scale;vec3 position=vec3(p.xy*uv_scale+offset*u_viewport,p.z);vec3 q=fract(position)-0.5;vec3 id=floor(position);float random_visibility=step(random(id),u_star_density);float circle=smoothstep(0.5+u_star_intensity,0.5,length(q));return circle*random_visibility;}void main() {highp vec3 dir=normalize(v_ray_dir);float globe_pos_dot_dir;\n#ifdef PROJECTION_GLOBE_VIEW\nglobe_pos_dot_dir=dot(u_globe_pos,dir);highp vec3 closest_point_forward=abs(globe_pos_dot_dir)*dir;float norm_dist_from_center=length(closest_point_forward-u_globe_pos)/u_globe_radius;if (norm_dist_from_center < 0.98) {discard;return;}\n#endif\nhighp vec3 horizon_dir=normalize(v_horizon_dir);float horizon_angle_mercator=dir.y < horizon_dir.y ?\n0.0 : max(acos(dot(dir,horizon_dir)),0.0);float horizon_angle;\n#ifdef PROJECTION_GLOBE_VIEW\nhighp vec3 closest_point=globe_pos_dot_dir*dir;float closest_point_to_center=length(closest_point-u_globe_pos);float theta=asin(clamp(closest_point_to_center/length(u_globe_pos),-1.0,1.0));horizon_angle=globe_pos_dot_dir < 0.0 ?\nPI-theta-u_horizon_angle : theta-u_horizon_angle;float angle_t=pow(u_transition,10.0);horizon_angle=mix(horizon_angle,horizon_angle_mercator,angle_t);\n#else\nhorizon_angle=horizon_angle_mercator;\n#endif\nhorizon_angle/=PI;float t=exp(-horizon_angle/u_fadeout_range);float alpha_0=u_color.a;float alpha_1=u_high_color.a;float alpha_2=u_space_color.a;vec3 color_stop_0=u_color.rgb;vec3 color_stop_1=u_high_color.rgb;vec3 color_stop_2=u_space_color.rgb;vec3 c0=mix(color_stop_2,color_stop_1,alpha_1);vec3 c1=mix(c0,color_stop_0,alpha_0);vec3 c2=mix(c0,c1,t);vec3 c =mix(color_stop_2,c2,t);float a0=mix(alpha_2,1.0,alpha_1);float a1=mix(a0,1.0,alpha_0);float a2=mix(a0,a1,t);float a =mix(alpha_2,a2,t);vec2 uv=gl_FragCoord.xy/u_viewport-0.5;float aspect_ratio=u_viewport.x/u_viewport.y;vec4 uv_dir=vec4(normalize(vec3(uv.x*aspect_ratio,uv.y,1.0)),1.0);uv_dir=u_rotation_matrix*uv_dir;vec3 n=abs(uv_dir.xyz);vec2 uv_remap=(n.x > n.y && n.x > n.z) ? uv_dir.yz/uv_dir.x:\n(n.y > n.x && n.y > n.z) ? uv_dir.zx/uv_dir.y:\nuv_dir.xy/uv_dir.z;uv_remap.x/=aspect_ratio;vec3 D=vec3(uv_remap,1.0);highp float star_field=0.0;if (u_star_intensity > 0.0) {star_field+=stars(D,1.2,vec2(0.0,0.0));star_field+=stars(D,1.0,vec2(1.0,0.0));star_field+=stars(D,0.8,vec2(0.0,1.0));star_field+=stars(D,0.6,vec2(1.0,1.0));star_field*=(1.0-pow(t,0.25+(1.0-u_high_color.a)*0.75));c+=star_field*alpha_2;}c=dither(c,gl_FragCoord.xy+u_temporal_offset);gl_FragColor=vec4(c,a);}","attribute vec3 a_pos;attribute vec2 a_uv;uniform vec3 u_frustum_tl;uniform vec3 u_frustum_tr;uniform vec3 u_frustum_br;uniform vec3 u_frustum_bl;uniform float u_horizon;varying highp vec3 v_ray_dir;varying highp vec3 v_horizon_dir;void main() {v_ray_dir=mix(\nmix(u_frustum_tl,u_frustum_tr,a_uv.x),mix(u_frustum_bl,u_frustum_br,a_uv.x),a_uv.y);v_horizon_dir=mix(\nmix(u_frustum_tl,u_frustum_bl,u_horizon),mix(u_frustum_tr,u_frustum_br,u_horizon),a_uv.x);gl_Position=vec4(a_pos,1.0);}")};function En(e,t){var n,r=e.replace(/\s*\/\/[^\n]*\n/g,"\n").split("\n"),i=f(r);try{for(i.s();!(n=i.n()).done;){var a=n.value;if("#"===(a=a.trim())[0]&&a.includes("if")&&!a.includes("endif")){var o,s=(a=a.replace("#","").replace(/ifdef|ifndef|elif|if/g,"").replace(/!|defined|\(|\)|\|\||&&/g,"").replace(/\s+/g," ").trim()).split(" "),l=f(s);try{for(l.s();!(o=l.n()).done;){var c=o.value;t.includes(c)||t.push(c)}}catch(u){l.e(u)}finally{l.f()}}}}catch(u){i.e(u)}finally{i.f()}}function Cn(e,t){var n=/#pragma mapbox: ([\w]+) ([\w]+) ([\w]+) ([\w]+)/g,r=t.match(/attribute (highp |mediump |lowp )?([\w]+) ([\w]+)/g),i={},a=[].concat(bn);return En(e,a),En(t,a),{fragmentSource:e=e.replace(n,(function(e,t,n,r,a){return i[a]=!0,"define"===t?"\n#ifndef HAS_UNIFORM_u_".concat(a,"\nvarying ").concat(n," ").concat(r," ").concat(a,";\n#else\nuniform ").concat(n," ").concat(r," u_").concat(a,";\n#endif\n"):"\n#ifdef HAS_UNIFORM_u_".concat(a,"\n    ").concat(n," ").concat(r," ").concat(a," = u_").concat(a,";\n#endif\n")})),vertexSource:t=t.replace(n,(function(e,t,n,r,a){var o="float"===r?"vec2":"vec4",s=a.match(/color/)?"color":o;return i[a]?"define"===t?"\n#ifndef HAS_UNIFORM_u_".concat(a,"\nuniform lowp float u_").concat(a,"_t;\nattribute ").concat(n," ").concat(o," a_").concat(a,";\nvarying ").concat(n," ").concat(r," ").concat(a,";\n#else\nuniform ").concat(n," ").concat(r," u_").concat(a,";\n#endif\n"):"vec4"===s?"\n#ifndef HAS_UNIFORM_u_".concat(a,"\n    ").concat(a," = a_").concat(a,";\n#else\n    ").concat(n," ").concat(r," ").concat(a," = u_").concat(a,";\n#endif\n"):"\n#ifndef HAS_UNIFORM_u_".concat(a,"\n    ").concat(a," = unpack_mix_").concat(s,"(a_").concat(a,", u_").concat(a,"_t);\n#else\n    ").concat(n," ").concat(r," ").concat(a," = u_").concat(a,";\n#endif\n"):"define"===t?"\n#ifndef HAS_UNIFORM_u_".concat(a,"\nuniform lowp float u_").concat(a,"_t;\nattribute ").concat(n," ").concat(o," a_").concat(a,";\n#else\nuniform ").concat(n," ").concat(r," u_").concat(a,";\n#endif\n"):"vec4"===s?"\n#ifndef HAS_UNIFORM_u_".concat(a,"\n    ").concat(n," ").concat(r," ").concat(a," = a_").concat(a,";\n#else\n    ").concat(n," ").concat(r," ").concat(a," = u_").concat(a,";\n#endif\n"):"\n#ifndef HAS_UNIFORM_u_".concat(a,"\n    ").concat(n," ").concat(r," ").concat(a," = unpack_mix_").concat(s,"(a_").concat(a,", u_").concat(a,"_t);\n#else\n    ").concat(n," ").concat(r," ").concat(a," = u_").concat(a,";\n#endif\n")})),staticAttributes:r,usedDefines:a}}var Tn=function(){function e(){h(this,e),this.boundProgram=null,this.boundLayoutVertexBuffer=null,this.boundPaintVertexBuffers=[],this.boundIndexBuffer=null,this.boundVertexOffset=null,this.boundDynamicVertexBuffers=[],this.vao=null}return p(e,[{key:"bind",value:function(e,t,n,r,i,a,o){this.context=e;for(var s=this.boundPaintVertexBuffers.length!==r.length,l=0;!s&&l<r.length;l++)this.boundPaintVertexBuffers[l]!==r[l]&&(s=!0);for(var c=this.boundDynamicVertexBuffers.length!==o.length,u=0;!c&&u<o.length;u++)this.boundDynamicVertexBuffers[u]!==o[u]&&(c=!0);if(!e.extVertexArrayObject||!this.vao||this.boundProgram!==t||this.boundLayoutVertexBuffer!==n||s||c||this.boundIndexBuffer!==i||this.boundVertexOffset!==a)this.freshBind(t,n,r,i,a,o);else{e.bindVertexArrayOES.set(this.vao);var d,h=f(o);try{for(h.s();!(d=h.n()).done;){var p=d.value;p&&p.bind()}}catch(m){h.e(m)}finally{h.f()}i&&i.dynamicDraw&&i.bind()}}},{key:"freshBind",value:function(e,t,n,r,i,a){var o,s=e.numAttributes,l=this.context,c=l.gl;if(l.extVertexArrayObject)this.vao&&this.destroy(),this.vao=l.extVertexArrayObject.createVertexArrayOES(),l.bindVertexArrayOES.set(this.vao),o=0,this.boundProgram=e,this.boundLayoutVertexBuffer=t,this.boundPaintVertexBuffers=n,this.boundIndexBuffer=r,this.boundVertexOffset=i,this.boundDynamicVertexBuffers=a;else{o=l.currentNumAttributes||0;for(var u=s;u<o;u++)c.disableVertexAttribArray(u)}t.enableAttributes(c,e),t.bind(),t.setVertexAttribPointers(c,e,i);var d,h=f(n);try{for(h.s();!(d=h.n()).done;){var p=d.value;p.enableAttributes(c,e),p.bind(),p.setVertexAttribPointers(c,e,i)}}catch(y){h.e(y)}finally{h.f()}var m,v=f(a);try{for(v.s();!(m=v.n()).done;){var g=m.value;g&&(g.enableAttributes(c,e),g.bind(),g.setVertexAttribPointers(c,e,i))}}catch(y){v.e(y)}finally{v.f()}r&&r.bind(),l.currentNumAttributes=s}},{key:"destroy",value:function(){this.vao&&(this.context.extVertexArrayObject.deleteVertexArrayOES(this.vao),this.vao=null)}}]),e}();function Mn(t,n){var r=Math.pow(2,n.canonical.z),i=n.canonical.y;return[new e.MercatorCoordinate(0,i/r).toLngLat().lat,new e.MercatorCoordinate(0,(i+1)/r).toLngLat().lat]}function In(t,n,r,i,a,o,s){var l=t.context,c=l.gl,u=r.fbo;if(u){t.prepareDrawTile();var d=t.useProgram("hillshade");l.activeTexture.set(c.TEXTURE0),c.bindTexture(c.TEXTURE_2D,u.colorAttachment.get());var f=function(e,t,n,r){var i=n.paint.get("hillshade-shadow-color"),a=n.paint.get("hillshade-highlight-color"),o=n.paint.get("hillshade-accent-color"),s=n.paint.get("hillshade-illumination-direction")*(Math.PI/180);"viewport"===n.paint.get("hillshade-illumination-anchor")&&(s-=e.transform.angle);var l=!e.options.moving;return{u_matrix:r||e.transform.calculateProjMatrix(t.tileID.toUnwrapped(),l),u_image:0,u_latrange:Mn(0,t.tileID),u_light:[n.paint.get("hillshade-exaggeration"),s],u_shadow:i,u_highlight:a,u_accent:o}}(t,r,i,t.terrain?n.projMatrix:null);t.prepareDrawProgram(l,d,n.toUnwrapped());var h=t.getTileBoundsBuffers(r),p=h.tileBoundsBuffer,m=h.tileBoundsIndexBuffer,v=h.tileBoundsSegments;d.draw(l,c.TRIANGLES,a,o,s,e.CullFaceMode.disabled,f,i.id,p,m,v)}}function On(t,n,r){if(n.needsDEMTextureUpload){var i=t.context,a=i.gl;i.pixelStoreUnpackPremultiplyAlpha.set(!1),n.demTexture=n.demTexture||t.getTileTexture(r.stride);var o=r.getPixels();n.demTexture?n.demTexture.update(o,{premultiply:!1}):n.demTexture=new e.Texture(i,o,a.RGBA,{premultiply:!1}),n.needsDEMTextureUpload=!1}}function Pn(t,n,r,i,a,o){var s=t.context,l=s.gl;if(n.dem){var c=n.dem;if(s.activeTexture.set(l.TEXTURE1),On(t,n,c),n.demTexture){n.demTexture.bind(l.NEAREST,l.CLAMP_TO_EDGE);var u=c.dim;s.activeTexture.set(l.TEXTURE0);var d=n.fbo;if(!d){var f=new e.Texture(s,{width:u,height:u,data:null},l.RGBA);f.bind(l.LINEAR,l.CLAMP_TO_EDGE),(d=n.fbo=s.createFramebuffer(u,u,!0)).colorAttachment.set(f.texture)}s.bindFramebuffer.set(d.framebuffer),s.viewport.set([0,0,u,u]);var h=t.getMercatorTileBoundsBuffers(),p=h.tileBoundsBuffer,m=h.tileBoundsIndexBuffer,v=h.tileBoundsSegments;t.useProgram("hillshadePrepare").draw(s,l.TRIANGLES,i,a,o,e.CullFaceMode.disabled,function(t,n){var r=n.stride,i=e.create();return e.ortho(i,0,e.EXTENT,-e.EXTENT,0,0,1),e.translate(i,i,[0,-e.EXTENT,0]),{u_matrix:i,u_image:1,u_dimension:[r,r],u_zoom:t.overscaledZ,u_unpack:n.unpackVector}}(n.tileID,c),r.id,p,m,v),n.needsHillshadePrepare=!1}}}var An=function(t){return{u_matrix:new e.UniformMatrix4f(t),u_image0:new e.Uniform1i(t),u_skirt_height:new e.Uniform1f(t)}},zn=function(e,t){return{u_matrix:e,u_image0:0,u_skirt_height:t}},jn=function(e,t,n,r,i,a,o,s,l,c,u,d,f,h){return{u_proj_matrix:Float32Array.from(e),u_globe_matrix:t,u_normalize_matrix:Float32Array.from(r),u_merc_matrix:n,u_zoom_transition:i,u_merc_center:a,u_image0:0,u_frustum_tl:o,u_frustum_tr:s,u_frustum_br:l,u_frustum_bl:c,u_globe_pos:u,u_globe_radius:d,u_viewport:f,u_grid_matrix:h?Float32Array.from(h):new Float32Array(9)}};function Rn(e,t){return null!=e&&null!=t&&!(!e.hasData()||!t.hasData())&&null!=e.demTexture&&null!=t.demTexture&&e.tileID.key!==t.tileID.key}var Dn=new(function(){function e(){h(this,e),this.operations={}}return p(e,[{key:"newMorphing",value:function(e,t,n,r,i){if(e in this.operations){var a=this.operations[e];a.to.tileID.key!==n.tileID.key&&(a.queued=n)}else this.operations[e]={startTime:r,phase:0,duration:i,from:t,to:n,queued:null}}},{key:"getMorphValuesForProxy",value:function(e){if(!(e in this.operations))return null;var t=this.operations[e];return{from:t.from,to:t.to,phase:t.phase}}},{key:"update",value:function(e){for(var t in this.operations){var n=this.operations[t];for(n.phase=(e-n.startTime)/n.duration;n.phase>=1||!this._validOp(n);)if(!this._nextOp(n,e)){delete this.operations[t];break}}}},{key:"_nextOp",value:function(e,t){return!!e.queued&&(e.from=e.to,e.to=e.queued,e.queued=null,e.phase=0,e.startTime=t,!0)}},{key:"_validOp",value:function(e){return e.from.hasData()&&e.to.hasData()}}]),e}()),Ln={0:null,1:"TERRAIN_VERTEX_MORPHING",2:"TERRAIN_WIREFRAME"};function Nn(e,t){var n=1<<e.z;return!t&&(0===e.x||e.x===n-1)||0===e.y||e.y===n-1}var Bn=function(e){return{u_matrix:e}};function Fn(t,n,r,i,a){if(a>0){var o=e.exported.now(),s=(o-t.timeAdded)/a,l=n?(o-n.timeAdded)/a:-1,c=r.getSource(),u=i.coveringZoomLevel({tileSize:c.tileSize,roundZoom:c.roundZoom}),d=!n||Math.abs(n.tileID.overscaledZ-u)>Math.abs(t.tileID.overscaledZ-u),f=d&&t.refreshedUponExpiration?1:e.clamp(d?s:1-l,0,1);return t.refreshedUponExpiration&&s>=1&&(t.refreshedUponExpiration=!1),n?{opacity:1,mix:1-f}:{opacity:f,mix:0}}return{opacity:1,mix:0}}var Vn=function(e){m(n,e);var t=v(n);function n(e){var r;h(this,n);var a={type:"raster-dem",maxzoom:e.transform.maxZoom},o=new W(et(),null),s=We("mock-dem",a,o,e.style);return r=t.call(this,"mock-dem",s,!1),s.setEventedParent(i(r)),r._sourceLoaded=!0,r}return p(n,[{key:"_loadTile",value:function(e,t){e.state="loaded",t(null)}}]),n}(e.SourceCache),Un=function(t){m(r,t);var n=v(r);function r(e){var t;h(this,r);var a=We("proxy",{type:"geojson",maxzoom:e.transform.maxZoom},new W(et(),null),e.style);return t=n.call(this,"proxy",a,!1),a.setEventedParent(i(t)),t.map=t.getSource().map=e,t.used=t._sourceLoaded=!0,t.renderCache=[],t.renderCachePool=[],t.proxyCachedFBO={},t}return p(r,[{key:"update",value:function(t,n,r){var i=this;if(!t.freezeTileCoverage){this.transform=t;var a=t.coveringTiles({tileSize:this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom,reparseOverscaled:this._source.reparseOverscaled}).reduce((function(n,r){if(n[r.key]="",!i._tiles[r.key]){var a=new e.Tile(r,i._source.tileSize*r.overscaleFactor(),t.tileZoom);a.state="loaded",i._tiles[r.key]=a}return n}),{});for(var o in this._tiles)o in a||(this.freeFBO(o),this._tiles[o].unloadVectorData(),delete this._tiles[o])}}},{key:"freeFBO",value:function(e){var t=this.proxyCachedFBO[e];if(void 0!==t){var n,r=Object.values(t);(n=this.renderCachePool).push.apply(n,r),delete this.proxyCachedFBO[e]}}},{key:"deallocRenderCache",value:function(){this.renderCache.forEach((function(e){return e.fb.destroy()})),this.renderCache=[],this.renderCachePool=[],this.proxyCachedFBO={}}}]),r}(e.SourceCache),Hn=function(e){m(n,e);var t=v(n);function n(e,r,i){var a;return h(this,n),(a=t.call(this,e.overscaledZ,e.wrap,e.canonical.z,e.canonical.x,e.canonical.y)).proxyTileKey=r,a.projMatrix=i,a}return p(n)}(e.OverscaledTileID),Gn=function(t){m(r,t);var n=v(r);function r(t,i){var a;h(this,r),(a=n.call(this)).painter=t,a.terrainTileForTile={},a.prevTerrainTileForTile={};var o=function(t){var n=new e.StructArrayLayout4i8,r=new e.StructArrayLayout3ui6,i=131;n.reserve(17161),r.reserve(33800);for(var a=e.EXTENT/128,o=e.EXTENT+a/2,s=o+a,l=-a;l<s;l+=a)for(var c=-a;c<s;c+=a){var u=c<0||c>o||l<0||l>o?24575:0,d=e.clamp(Math.round(c),0,e.EXTENT),f=e.clamp(Math.round(l),0,e.EXTENT);n.emplaceBack(d+u,f,d,f)}for(var h=function(e,t){var n=t*i+e;r.emplaceBack(n+1,n,n+i),r.emplaceBack(n+i,n+i+1,n+1)},p=1;p<129;p++)for(var m=1;m<129;m++)h(m,p);return[0,129].forEach((function(e){for(var t=0;t<130;t++)h(t,e),h(e,t)})),[n,r,32768]}(),s=d(o,3),l=s[0],c=s[1],u=s[2],f=t.context;a.gridBuffer=f.createVertexBuffer(l,e.boundsAttributes.members),a.gridIndexBuffer=f.createIndexBuffer(c),a.gridSegments=e.SegmentVector.simpleSegment(0,0,l.length,c.length),a.gridNoSkirtSegments=e.SegmentVector.simpleSegment(0,0,l.length,u),a.proxyCoords=[],a.proxiedCoords={},a._visibleDemTiles=[],a._drapedRenderBatches=[],a._sourceTilesOverlap={},a.proxySourceCache=new Un(i.map),a.orthoMatrix=e.create(),e.ortho(a.orthoMatrix,"globe"===a.painter.transform.projection.name?.015:0,e.EXTENT,0,e.EXTENT,0,1);var p=f.gl;return a._overlapStencilMode=new e.StencilMode({func:p.GEQUAL,mask:255},0,255,p.KEEP,p.KEEP,p.REPLACE),a._previousZoom=t.transform.zoom,a.pool=[],a._findCoveringTileCache={},a._tilesDirty={},a.style=i,a._useVertexMorphing=!0,a._exaggeration=1,a._mockSourceCache=new Vn(i.map),a}return p(r,[{key:"style",set:function(e){e.on("data",this._onStyleDataEvent.bind(this)),e.on("neworder",this._checkRenderCacheEfficiency.bind(this)),this._style=e,this._checkRenderCacheEfficiency()}},{key:"update",value:function(t,n,r){var i=this;if(t&&t.terrain){this._style!==t&&(this.style=t),this.enabled=!0;var a=t.terrain.properties;this.sourceCache=0===t.terrain.drapeRenderMode?this._mockSourceCache:t._getSourceCache(a.get("source")),this._exaggeration=a.get("exaggeration");var o=function(){i.sourceCache.used&&e.warnOnce("Raster DEM source '".concat(i.sourceCache.id,"' is used both for terrain and as layer source.\nThis leads to lower resolution of hillshade. For full hillshade resolution but higher memory consumption, define another raster DEM source."));var t=i.getScaledDemTileSize();i.sourceCache.update(n,t,!0),i.resetTileLookupCache(i.sourceCache.id)};this.sourceCache.usedForTerrain||(this.resetTileLookupCache(this.sourceCache.id),this.sourceCache.usedForTerrain=!0,o(),this._initializing=!0),o(),n.updateElevation(!0,r),this.resetTileLookupCache(this.proxySourceCache.id),this.proxySourceCache.update(n),this._emptyDEMTextureDirty=!0}else this._disable()}},{key:"resetTileLookupCache",value:function(e){this._findCoveringTileCache[e]={}}},{key:"getScaledDemTileSize",value:function(){return this.sourceCache.getSource().tileSize/128*this.proxySourceCache.getSource().tileSize}},{key:"_checkRenderCacheEfficiency",value:function(){var t=this.renderCacheEfficiency(this._style);this._style.map._optimizeForTerrain||100!==t.efficiency&&e.warnOnce("Terrain render cache efficiency is not optimal (".concat(t.efficiency,"%) and performance\n                may be affected negatively, consider placing all background, fill and line layers before layer\n                with id '").concat(t.firstUndrapedLayer,"' or create a map using optimizeForTerrain: true option."))}},{key:"_onStyleDataEvent",value:function(e){e.coord&&"source"===e.dataType?this._clearRenderCacheForTile(e.sourceCacheId,e.coord):"style"===e.dataType&&(this._invalidateRenderCache=!0)}},{key:"_disable",value:function(){if(this.enabled&&(this.enabled=!1,this._sharedDepthStencil=void 0,this.proxySourceCache.deallocRenderCache(),this._style))for(var e in this._style._sourceCaches)this._style._sourceCaches[e].usedForTerrain=!1}},{key:"destroy",value:function(){this._disable(),this._emptyDEMTexture&&this._emptyDEMTexture.destroy(),this._emptyDepthBufferTexture&&this._emptyDepthBufferTexture.destroy(),this.pool.forEach((function(e){return e.fb.destroy()})),this.pool=[],this._depthFBO&&(this._depthFBO.destroy(),this._depthFBO=void 0,this._depthTexture=void 0)}},{key:"_source",value:function(){return this.enabled?this.sourceCache:null}},{key:"isUsingMockSource",value:function(){return this.sourceCache===this._mockSourceCache}},{key:"exaggeration",value:function(){return this._exaggeration}},{key:"visibleDemTiles",get:function(){return this._visibleDemTiles}},{key:"drapeBufferSize",get:function(){var e=2*this.proxySourceCache.getSource().tileSize;return[e,e]}},{key:"useVertexMorphing",set:function(e){this._useVertexMorphing=e}},{key:"updateTileBinding",value:function(t){var n=this;if(this.enabled){this.prevTerrainTileForTile=this.terrainTileForTile;var r=this.proxySourceCache,i=this.painter.transform;this._initializing&&(this._initializing=0===i._centerAltitude&&-1===this.getAtPointOrZero(e.MercatorCoordinate.fromLngLat(i.center),-1),this._emptyDEMTextureDirty=!this._initializing);var a=this.proxyCoords=r.getIds().map((function(e){var t=r.getTileByID(e).tileID;return t.projMatrix=i.calculateProjMatrix(t.toUnwrapped()),t}));!function(t,n){var r=n.transform.pointCoordinate(n.transform.getCameraPoint()),i=new e.pointGeometry(r.x,r.y);t.sort((function(t,n){if(n.overscaledZ-t.overscaledZ)return n.overscaledZ-t.overscaledZ;var r=new e.pointGeometry(t.canonical.x+(1<<t.canonical.z)*t.wrap,t.canonical.y),a=new e.pointGeometry(n.canonical.x+(1<<n.canonical.z)*n.wrap,n.canonical.y),o=i.mult(1<<t.canonical.z);return o.x-=.5,o.y-=.5,o.distSqr(r)-o.distSqr(a)}))}(a,this.painter),this._previousZoom=i.zoom;var o=this.proxyToSource||{};this.proxyToSource={},a.forEach((function(e){n.proxyToSource[e.key]={}})),this.terrainTileForTile={};var s=this._style._sourceCaches;for(var l in s){var c=s[l];if(c.used&&(c!==this.sourceCache&&this.resetTileLookupCache(c.id),this._setupProxiedCoordsForOrtho(c,t[l],o),!c.usedForTerrain)){var u=t[l];c.getSource().reparseOverscaled&&this._assignTerrainTiles(u)}}this.proxiedCoords[r.id]=a.map((function(e){return new Hn(e,e.key,n.orthoMatrix)})),this._assignTerrainTiles(a),this._prepareDEMTextures(),this._setupDrapedRenderBatches(),this._initFBOPool(),this._setupRenderCache(o),this.renderingToTexture=!1,this._updateTimestamp=e.exported.now();var d={};this._visibleDemTiles=[];var h,p=f(this.proxyCoords);try{for(p.s();!(h=p.n()).done;){var m=h.value,v=this.terrainTileForTile[m.key];if(v){var g=v.tileID.key;g in d||(this._visibleDemTiles.push(v),d[g]=g)}}}catch(y){p.e(y)}finally{p.f()}}}},{key:"_assignTerrainTiles",value:function(e){var t=this;this._initializing||e.forEach((function(e){if(!t.terrainTileForTile[e.key]){var n=t._findTileCoveringTileID(e,t.sourceCache);n&&(t.terrainTileForTile[e.key]=n)}}))}},{key:"_prepareDEMTextures",value:function(){var e=this.painter.context,t=e.gl;for(var n in this.terrainTileForTile){var r=this.terrainTileForTile[n],i=r.dem;!i||r.demTexture&&!r.needsDEMTextureUpload||(e.activeTexture.set(t.TEXTURE1),On(this.painter,r,i))}}},{key:"_prepareDemTileUniforms",value:function(e,t,n,r){if(!t||null==t.demTexture)return!1;var i=e.tileID.canonical,a=Math.pow(2,t.tileID.canonical.z-i.z),o=r||"";return n["u_dem_tl".concat(o)]=[i.x*a%1,i.y*a%1],n["u_dem_scale".concat(o)]=a,!0}},{key:"emptyDEMTexture",get:function(){return!this._emptyDEMTextureDirty&&this._emptyDEMTexture?this._emptyDEMTexture:this._updateEmptyDEMTexture()}},{key:"emptyDepthBufferTexture",get:function(){var t=this.painter.context,n=t.gl;if(!this._emptyDepthBufferTexture){var r=new e.RGBAImage({width:1,height:1},Uint8Array.of(255,255,255,255));this._emptyDepthBufferTexture=new e.Texture(t,r,n.RGBA,{premultiply:!1})}return this._emptyDepthBufferTexture}},{key:"_getLoadedAreaMinimum",value:function(){var e=0,t=this._visibleDemTiles.reduce((function(t,n){if(!n.dem)return t;var r=n.dem.tree.minimums[0];return r>0&&e++,t+r}),0);return e?t/e:0}},{key:"_updateEmptyDEMTexture",value:function(){var t=this.painter.context,n=t.gl;t.activeTexture.set(n.TEXTURE2);var r=this._getLoadedAreaMinimum(),i=new e.RGBAImage({width:1,height:1},new Uint8Array(e.DEMData.pack(r,this.sourceCache.getSource().encoding)));this._emptyDEMTextureDirty=!1;var a=this._emptyDEMTexture;return a?a.update(i,{premultiply:!1}):a=this._emptyDEMTexture=new e.Texture(t,i,n.RGBA,{premultiply:!1}),a}},{key:"setupElevationDraw",value:function(t,n,r){var i,a=this.painter.context,o=a.gl,s=(i=this.sourceCache.getSource().encoding,{u_dem:2,u_dem_prev:4,u_dem_unpack:e.DEMData.getUnpackVector(i),u_dem_tl:[0,0],u_dem_tl_prev:[0,0],u_dem_scale:0,u_dem_scale_prev:0,u_dem_size:0,u_dem_lerp:1,u_depth:3,u_depth_size_inv:[0,0],u_exaggeration:0});s.u_dem_size=this.sourceCache.getSource().tileSize,s.u_exaggeration=this.exaggeration();var l=null,c=null,u=1;if(r&&r.morphing&&this._useVertexMorphing){var d=r.morphing.srcDemTile,f=r.morphing.dstDemTile;u=r.morphing.phase,d&&f&&(this._prepareDemTileUniforms(t,d,s,"_prev")&&(c=d),this._prepareDemTileUniforms(t,f,s)&&(l=f))}if(c&&l?(a.activeTexture.set(o.TEXTURE2),l.demTexture.bind(o.NEAREST,o.CLAMP_TO_EDGE,o.NEAREST),a.activeTexture.set(o.TEXTURE4),c.demTexture.bind(o.NEAREST,o.CLAMP_TO_EDGE,o.NEAREST),s.u_dem_lerp=u):(l=this.terrainTileForTile[t.tileID.key],a.activeTexture.set(o.TEXTURE2),(this._prepareDemTileUniforms(t,l,s)?l.demTexture:this.emptyDEMTexture).bind(o.NEAREST,o.CLAMP_TO_EDGE)),a.activeTexture.set(o.TEXTURE3),r&&r.useDepthForOcclusion?(this._depthTexture&&this._depthTexture.bind(o.NEAREST,o.CLAMP_TO_EDGE),this._depthFBO&&(s.u_depth_size_inv=[1/this._depthFBO.width,1/this._depthFBO.height])):(this.emptyDepthBufferTexture.bind(o.NEAREST,o.CLAMP_TO_EDGE),s.u_depth_size_inv=[1,1]),r&&r.useMeterToDem&&l){var h=(1<<l.tileID.canonical.z)*e.mercatorZfromAltitude(1,this.painter.transform.center.lat)*this.sourceCache.getSource().tileSize;s.u_meter_to_dem=h}if(r&&r.labelPlaneMatrixInv&&(s.u_label_plane_matrix_inv=r.labelPlaneMatrixInv),n.setTerrainUniformValues(a,s),"globe"===this.painter.transform.projection.name){var p=this.globeUniformValues(this.painter.transform,t.tileID.canonical,r&&r.useDenormalizedUpVectorScale);n.setGlobeUniformValues(a,p)}}},{key:"globeUniformValues",value:function(t,n,r){var i=t.projection;return{u_tile_tl_up:i.upVector(n,0,0),u_tile_tr_up:i.upVector(n,e.EXTENT,0),u_tile_br_up:i.upVector(n,e.EXTENT,e.EXTENT),u_tile_bl_up:i.upVector(n,0,e.EXTENT),u_tile_up_scale:r?e.GLOBE_METERS_TO_ECEF:i.upVectorScale(n,t.center.lat,t.worldSize).metersToTile}}},{key:"renderToBackBuffer",value:function(t){var n=this.painter,r=this.painter.context;0!==t.length&&(r.bindFramebuffer.set(null),r.viewport.set([0,0,n.width,n.height]),n.gpuTimingDeferredRenderStart(),this.renderingToTexture=!1,function(t,n,r,i,a){if("globe"===t.transform.projection.name)!function(t,n,r,i,a){var o,s,l=t.context,c=l.gl,u=t.options.showTerrainWireframe?2:0,h=t.transform,p=e.globeUseCustomAntiAliasing(t,l,h),m=function(e,n){if(s!==e){var r=[Ln[e],"PROJECTION_GLOBE_VIEW"];p&&r.push("CUSTOM_ANTIALIASING"),n&&r.push(Ln[u]),o=t.useProgram("globeRaster",null,r),s=e}},v=t.colorModeForRenderPass(),g=new e.DepthMode(c.LEQUAL,e.DepthMode.ReadWrite,t.depthRangeFor3D);Dn.update(a);var y=e.calculateGlobeMercatorMatrix(h),x=[e.mercatorXfromLng(h.center.lng),e.mercatorYfromLat(h.center.lat)],b=u?[!1,!0]:[!1],_=t.globeSharedBuffers,w=[h.width*e.exported.devicePixelRatio,h.height*e.exported.devicePixelRatio],k=Float32Array.from(h.globeMatrix),S={useDenormalizedUpVectorScale:!0};if(b.forEach((function(u){s=-1;var p,b=u?c.LINES:c.TRIANGLES,E=f(i);try{for(E.s();!(p=E.n()).done;){var C=p.value,T=r.getTile(C),M=e.StencilMode.disabled,I=n.prevTerrainTileForTile[C.key],O=n.terrainTileForTile[C.key];Rn(I,O)&&Dn.newMorphing(C.key,I,O,a,250),l.activeTexture.set(c.TEXTURE0),T.texture.bind(c.LINEAR,c.CLAMP_TO_EDGE);var P=Dn.getMorphValuesForProxy(C.key),A=P?1:0;P&&e.extend$1(S,{morphing:{srcDemTile:P.from,dstDemTile:P.to,phase:e.easeCubicInOut(P.phase)}});var z=e.tileCornersToBounds(C.canonical),j=e.getLatitudinalLod(z.getCenter().lat),R=e.getGridMatrix(C.canonical,z,j,h.worldSize/h._pixelsPerMercatorPixel),D=e.globeNormalizeECEF(e.globeTileBounds(C.canonical)),L=jn(h.projMatrix,k,y,D,e.globeToMercatorTransition(h.zoom),x,h.frustumCorners.TL,h.frustumCorners.TR,h.frustumCorners.BR,h.frustumCorners.BL,h.globeCenterInViewSpace,h.globeRadius,w,R);if(m(A,u),n.setupElevationDraw(T,o,S),t.prepareDrawProgram(l,o,C.toUnwrapped()),_){var N=u?_.getWirefameBuffers(t.context,j):_.getGridBuffers(j),B=d(N,3),F=B[0],V=B[1],U=B[2];o.draw(l,b,g,M,v,e.CullFaceMode.backCCW,L,"globe_raster",F,V,U)}}}catch(H){E.e(H)}finally{E.f()}})),_){var E=["GLOBE_POLES","PROJECTION_GLOBE_VIEW"];p&&E.push("CUSTOM_ANTIALIASING"),o=t.useProgram("globeRaster",null,E);var C,T=f(i);try{var M=function(){var i=C.value,a=i.canonical,s=a.x,u=a.y,f=a.z,p=0===u,m=u===(1<<f)-1,y=_.getPoleBuffers(f),b=d(y,4),k=b[0],E=b[1],T=b[2],M=b[3];if(M&&(p||m)){var I=r.getTile(i);l.activeTexture.set(c.TEXTURE0),I.texture.bind(c.LINEAR,c.CLAMP_TO_EDGE);var O=e.globePoleMatrixForTile(f,s,h),P=e.globeNormalizeECEF(e.globeTileBounds(i.canonical)),A=function(t,n){return t.draw(l,c.TRIANGLES,g,e.StencilMode.disabled,v,e.CullFaceMode.disabled,jn(h.projMatrix,O,O,P,0,x,h.frustumCorners.TL,h.frustumCorners.TR,h.frustumCorners.BR,h.frustumCorners.BL,h.globeCenterInViewSpace,h.globeRadius,w),"globe_pole_raster",n,T,M)};n.setupElevationDraw(I,o,S),t.prepareDrawProgram(l,o,i.toUnwrapped()),p&&A(o,k),m&&(O=e.scale(e.create(),O,[1,-1,1]),A(o,E))}};for(T.s();!(C=T.n()).done;)M()}catch(I){T.e(I)}finally{T.f()}}}(t,n,r,i,a);else{var o,s,l=t.context,c=l.gl,u=t.options.showTerrainWireframe?2:0,h=function(e,n){if(s!==e){var r=[Ln[e]];n&&r.push(Ln[u]),o=t.useProgram("terrainRaster",null,r),s=e}},p=t.colorModeForRenderPass(),m=new e.DepthMode(c.LEQUAL,e.DepthMode.ReadWrite,t.depthRangeFor3D);Dn.update(a);var v=t.transform,g=6*Math.pow(1.5,22-v.zoom)*n.exaggeration();(u?[!1,!0]:[!1]).forEach((function(u){s=-1;var y,x=u?c.LINES:c.TRIANGLES,b=u?n.getWirefameBuffer():[n.gridIndexBuffer,n.gridSegments],_=d(b,2),w=_[0],k=_[1],S=f(i);try{for(S.s();!(y=S.n()).done;){var E=y.value,C=r.getTile(E),T=e.StencilMode.disabled,M=n.prevTerrainTileForTile[E.key],I=n.terrainTileForTile[E.key];Rn(M,I)&&Dn.newMorphing(E.key,M,I,a,250),l.activeTexture.set(c.TEXTURE0),C.texture.bind(c.LINEAR,c.CLAMP_TO_EDGE,c.LINEAR_MIPMAP_NEAREST);var O=Dn.getMorphValuesForProxy(E.key),P=O?1:0,A=void 0;O&&(A={morphing:{srcDemTile:O.from,dstDemTile:O.to,phase:e.easeCubicInOut(O.phase)}});var z=zn(E.projMatrix,Nn(E.canonical,v.renderWorldCopies)?g/10:g);h(P,u),n.setupElevationDraw(C,o,A),t.prepareDrawProgram(l,o,E.toUnwrapped()),o.draw(l,x,m,T,p,e.CullFaceMode.backCCW,z,"terrain_raster",n.gridBuffer,w,k)}}catch(j){S.e(j)}finally{S.f()}}))}}(n,this,this.proxySourceCache,t,this._updateTimestamp),this.renderingToTexture=!0,n.gpuTimingDeferredRenderEnd(),t.splice(0,t.length))}},{key:"renderBatch",value:function(t){if(0===this._drapedRenderBatches.length)return t+1;this.renderingToTexture=!0;var n,r=this.painter,i=this.painter.context,a=this.proxySourceCache,o=this.proxiedCoords[a.id],s=this._drapedRenderBatches.shift(),l=[],c=r.style.order,u=0,d=f(o);try{for(d.s();!(n=d.n()).done;){var h=n.value,p=a.getTileByID(h.proxyTileKey),m=a.proxyCachedFBO[h.key]?a.proxyCachedFBO[h.key][t]:void 0,v=void 0!==m?a.renderCache[m]:this.pool[u++],g=void 0!==m;if(p.texture=v.tex,!g||v.dirty){var y=void 0;i.bindFramebuffer.set(v.fb.framebuffer),this.renderedToTile=!1,v.dirty&&(i.clear({color:e.Color.transparent,stencil:0}),v.dirty=!1);for(var x=s.start;x<=s.end;++x){var b=r.style._layers[c[x]];if(!b.isHidden(r.transform.zoom)){var _=r.style._getLayerSourceCache(b),w=_?this.proxyToSource[h.key][_.id]:[h];if(w){var k=w;i.viewport.set([0,0,v.fb.width,v.fb.height]),y!==(_?_.id:null)&&(this._setupStencil(v,w,b,_),y=_?_.id:null),r.renderLayer(r,_,b,k)}}}this.renderedToTile?(v.dirty=!0,l.push(p.tileID)):g||--u,5===u&&(u=0,this.renderToBackBuffer(l))}else l.push(p.tileID)}}catch(S){d.e(S)}finally{d.f()}return this.renderToBackBuffer(l),this.renderingToTexture=!1,i.bindFramebuffer.set(null),i.viewport.set([0,0,r.width,r.height]),s.end+1}},{key:"postRender",value:function(){}},{key:"renderCacheEfficiency",value:function(e){var t=e.order.length;if(0===t)return{efficiency:100};for(var n,r=0,i=0,a=!1,o=0;o<t;++o){var s=e._layers[e.order[o]];this._style.isLayerDraped(s)?(a&&++r,++i):a||(a=!0,n=s.id)}return 0===i?{efficiency:100}:{efficiency:100*(1-r/i),firstUndrapedLayer:n}}},{key:"getMinElevationBelowMSL",value:function(){var e=0;return this._visibleDemTiles.filter((function(e){return e.dem})).forEach((function(t){e=Math.min(e,t.dem.tree.minimums[0])})),0===e?e:(e-30)*this._exaggeration}},{key:"raycast",value:function(e,t,n){if(!this._visibleDemTiles)return null;var r=this._visibleDemTiles.filter((function(e){return e.dem})).map((function(r){var i=r.tileID,a=1<<i.overscaledZ,o=i.canonical,s=o.x,l=o.y,c=s/a,u=(s+1)/a,d=l/a,f=(l+1)/a;return{minx:c,miny:d,maxx:u,maxy:f,t:r.dem.tree.raycastRoot(c,d,u,f,e,t,n),tile:r}}));r.sort((function(e,t){return(null!==e.t?e.t:Number.MAX_VALUE)-(null!==t.t?t.t:Number.MAX_VALUE)}));var i,a=f(r);try{for(a.s();!(i=a.n()).done;){var o=i.value;if(null==o.t)return null;var s=o.tile.dem.tree.raycast(o.minx,o.miny,o.maxx,o.maxy,e,t,n);if(null!=s)return s}}catch(l){a.e(l)}finally{a.f()}return null}},{key:"_createFBO",value:function(){var t=this.painter.context,n=t.gl,r=this.drapeBufferSize;t.activeTexture.set(n.TEXTURE0);var i=new e.Texture(t,{width:r[0],height:r[1],data:null},n.RGBA);i.bind(n.LINEAR,n.CLAMP_TO_EDGE);var a=t.createFramebuffer(r[0],r[1],!1);return a.colorAttachment.set(i.texture),a.depthAttachment=new Ne(t,a.framebuffer),void 0===this._sharedDepthStencil?(this._sharedDepthStencil=t.createRenderbuffer(t.gl.DEPTH_STENCIL,r[0],r[1]),this._stencilRef=0,a.depthAttachment.set(this._sharedDepthStencil),t.clear({stencil:0})):a.depthAttachment.set(this._sharedDepthStencil),t.extTextureFilterAnisotropic&&!t.extTextureFilterAnisotropicForceOff&&n.texParameterf(n.TEXTURE_2D,t.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,t.extTextureFilterAnisotropicMax),{fb:a,tex:i,dirty:!1}}},{key:"_initFBOPool",value:function(){for(;this.pool.length<Math.min(5,this.proxyCoords.length);)this.pool.push(this._createFBO())}},{key:"_shouldDisableRenderCache",value:function(){var e=this;if(this._style.light&&this._style.light.hasTransition())return!0;for(var t in this._style._sourceCaches)if(this._style._sourceCaches[t].hasTransition())return!0;return this._style.order.some((function(t){var n=e._style._layers[t],r=n.isHidden(e.painter.transform.zoom);return"custom"!==n.type&&!r&&n.hasTransition()}))}},{key:"_clearRasterFadeFromRenderCache",value:function(){var e=!1;for(var t in this._style._sourceCaches)if(this._style._sourceCaches[t]._source instanceof Ve){e=!0;break}if(e)for(var n=0;n<this._style.order.length;++n){var r=this._style._layers[this._style.order[n]],i=r.isHidden(this.painter.transform.zoom),a=this._style._getLayerSourceCache(r);if("raster"===r.type&&!i&&a){var o,s=r.paint.get("raster-fade-duration"),l=f(this.proxyCoords);try{for(l.s();!(o=l.n()).done;){var c=o.value,u=this.proxyToSource[c.key][a.id];if(u){var d,h=f(u);try{for(h.s();!(d=h.n()).done;){var p=d.value,m=Fn(a.getTile(p),a.findLoadedParent(p,0),a,this.painter.transform,s);(1!==m.opacity||0!==m.mix)&&this._clearRenderCacheForTile(a.id,p)}}catch(v){h.e(v)}finally{h.f()}}}}catch(v){l.e(v)}finally{l.f()}}}}},{key:"_setupDrapedRenderBatches",value:function(){var e=this._style.order,t=e.length;if(0!==t){for(var n,r=[],i=0,a=this._style._layers[e[i]];!this._style.isLayerDraped(a)&&a.isHidden(this.painter.transform.zoom)&&++i<t;)a=this._style._layers[e[i]];for(;i<t;++i){var o=this._style._layers[e[i]];o.isHidden(this.painter.transform.zoom)||(this._style.isLayerDraped(o)?void 0===n&&(n=i):void 0!==n&&(r.push({start:n,end:i-1}),n=void 0))}void 0!==n&&r.push({start:n,end:i-1}),this._drapedRenderBatches=r}}},{key:"_setupRenderCache",value:function(e){var t=this.proxySourceCache;if(this._shouldDisableRenderCache()||this._invalidateRenderCache){if(this._invalidateRenderCache=!1,t.renderCache.length>t.renderCachePool.length){var n=Object.values(t.proxyCachedFBO);t.proxyCachedFBO={};for(var r=0;r<n.length;++r){var i,a=Object.values(n[r]);(i=t.renderCachePool).push.apply(i,a)}}}else{this._clearRasterFadeFromRenderCache();for(var o=this.proxyCoords,s=this._tilesDirty,l=o.length-1;l>=0;l--){var c=o[l];if(t.getTileByID(c.key),void 0!==t.proxyCachedFBO[c.key]){var d=e[c.key],h=this.proxyToSource[c.key],p=0,m=function(e){var t=h[e],n=d[e];if(!n||n.length!==t.length||t.some((function(t,r){return t!==n[r]||s[e]&&s[e].hasOwnProperty(t.key)})))return p=-1,"break";++p};for(var v in h)if("break"===m(v))break;for(var g in t.proxyCachedFBO[c.key])t.renderCache[t.proxyCachedFBO[c.key][g]].dirty=p<0||p!==Object.values(d).length}}var y=u(this._drapedRenderBatches);y.sort((function(e,t){return t.end-t.start-(e.end-e.start)}));var x,b=f(y);try{for(b.s();!(x=b.n()).done;){var _,w=x.value,k=f(o);try{for(k.s();!(_=k.n()).done;){var S=_.value;if(!t.proxyCachedFBO[S.key]){var E=t.renderCachePool.pop();void 0===E&&t.renderCache.length<50&&(E=t.renderCache.length,t.renderCache.push(this._createFBO())),void 0!==E&&(t.proxyCachedFBO[S.key]={},t.proxyCachedFBO[S.key][w.start]=E,t.renderCache[E].dirty=!0)}}}catch(C){k.e(C)}finally{k.f()}}}catch(C){b.e(C)}finally{b.f()}this._tilesDirty={}}}},{key:"_setupStencil",value:function(e,t,n,r){if(r&&this._sourceTilesOverlap[r.id]){var i=this.painter.context,a=i.gl;if(t.length<=1)this._overlapStencilType=!1;else{var o;if(n.isTileClipped())o=t.length,this._overlapStencilMode.test={func:a.EQUAL,mask:255},this._overlapStencilType="Clip";else{if(!(t[0].overscaledZ>t[t.length-1].overscaledZ))return void(this._overlapStencilType=!1);o=1,this._overlapStencilMode.test={func:a.GREATER,mask:255},this._overlapStencilType="Mask"}this._stencilRef+o>255&&(i.clear({stencil:0}),this._stencilRef=0),this._stencilRef+=o,this._overlapStencilMode.ref=this._stencilRef,n.isTileClipped()&&this._renderTileClippingMasks(t,this._overlapStencilMode.ref)}}else this._overlapStencilType&&(this._overlapStencilType=!1)}},{key:"clipOrMaskOverlapStencilType",value:function(){return"Clip"===this._overlapStencilType||"Mask"===this._overlapStencilType}},{key:"stencilModeForRTTOverlap",value:function(t){return this.renderingToTexture&&this._overlapStencilType?("Clip"===this._overlapStencilType&&(this._overlapStencilMode.ref=this.painter._tileClippingMaskIDs[t.key]),this._overlapStencilMode):e.StencilMode.disabled}},{key:"_renderTileClippingMasks",value:function(t,n){var r=this.painter,i=this.painter.context,a=i.gl;r._tileClippingMaskIDs={},i.setColorMode(e.ColorMode.disabled),i.setDepthMode(e.DepthMode.disabled);var o,s=r.useProgram("clippingMask"),l=f(t);try{for(l.s();!(o=l.n()).done;){var c=o.value,u=r._tileClippingMaskIDs[c.key]=--n;s.draw(i,a.TRIANGLES,e.DepthMode.disabled,new e.StencilMode({func:a.ALWAYS,mask:0},u,255,a.KEEP,a.KEEP,a.REPLACE),e.ColorMode.disabled,e.CullFaceMode.disabled,Bn(c.projMatrix),"$clipping",r.tileExtentBuffer,r.quadTriangleIndexBuffer,r.tileExtentSegments)}}catch(d){l.e(d)}finally{l.f()}}},{key:"pointCoordinate",value:function(t){var n=this.painter.transform;if(t.x<0||t.x>n.width||t.y<0||t.y>n.height)return null;var r=[t.x,t.y,1,1];e.transformMat4$1(r,r,n.pixelMatrixInverse),e.scale$1(r,r,1/r[3]),r[0]/=n.worldSize,r[1]/=n.worldSize;var i=n._camera.position,a=e.mercatorZfromAltitude(1,n.center.lat),o=[i[0],i[1],i[2]/a,0],s=e.subtract([],r.slice(0,3),o);e.normalize(s,s);var l=this.raycast(o,s,this._exaggeration);return null!==l&&l?(e.scaleAndAdd(o,o,s,l),o[3]=o[2],o[2]*=a,o):null}},{key:"drawDepth",value:function(){var t=this.painter,n=t.context,r=this.proxySourceCache,i=Math.ceil(t.width),a=Math.ceil(t.height);if(!this._depthFBO||this._depthFBO.width===i&&this._depthFBO.height===a||(this._depthFBO.destroy(),this._depthFBO=void 0,this._depthTexture=void 0),!this._depthFBO){var o=n.gl,s=n.createFramebuffer(i,a,!0);n.activeTexture.set(o.TEXTURE0);var l=new e.Texture(n,{width:i,height:a,data:null},o.RGBA);l.bind(o.NEAREST,o.CLAMP_TO_EDGE),s.colorAttachment.set(l.texture);var c=n.createRenderbuffer(n.gl.DEPTH_COMPONENT16,i,a);s.depthAttachment.set(c),this._depthFBO=s,this._depthTexture=l}n.bindFramebuffer.set(this._depthFBO.framebuffer),n.viewport.set([0,0,i,a]),function(t,n,r,i){if("globe"!==t.transform.projection.name){var a=t.context,o=a.gl;a.clear({depth:1});var s,l=t.useProgram("terrainDepth"),c=new e.DepthMode(o.LESS,e.DepthMode.ReadWrite,t.depthRangeFor3D),u=f(i);try{for(u.s();!(s=u.n()).done;){var d=s.value,h=r.getTile(d),p=zn(d.projMatrix,0);n.setupElevationDraw(h,l),l.draw(a,o.TRIANGLES,c,e.StencilMode.disabled,e.ColorMode.unblended,e.CullFaceMode.backCCW,p,"terrain_depth",n.gridBuffer,n.gridIndexBuffer,n.gridNoSkirtSegments)}}catch(m){u.e(m)}finally{u.f()}}}(t,this,r,this.proxyCoords)}},{key:"_setupProxiedCoordsForOrtho",value:function(e,t,n){if(e.getSource()instanceof He)return this._setupProxiedCoordsForImageSource(e,t,n);this._findCoveringTileCache[e.id]=this._findCoveringTileCache[e.id]||{};for(var r=this.proxiedCoords[e.id]=[],i=this.proxyCoords,a=0;a<i.length;a++){var o=i[a],s=this._findTileCoveringTileID(o,e);if(s){var l=this._createProxiedId(o,s,n[o.key]&&n[o.key][e.id]);r.push(l),this.proxyToSource[o.key][e.id]=[l]}}for(var c=!1,u=0;u<t.length;u++){var d=e.getTile(t[u]);if(d&&d.hasData()){var f=this._findTileCoveringTileID(d.tileID,this.proxySourceCache);if(f&&f.tileID.canonical.z!==d.tileID.canonical.z){var h=this.proxyToSource[f.tileID.key][e.id],p=this._createProxiedId(f.tileID,d,n[f.tileID.key]&&n[f.tileID.key][e.id]);h?h.splice(h.length-1,0,p):this.proxyToSource[f.tileID.key][e.id]=[p],r.push(p),c=!0}}}this._sourceTilesOverlap[e.id]=c}},{key:"_setupProxiedCoordsForImageSource",value:function(t,n,r){if(t.getSource().loaded())for(var i=this.proxiedCoords[t.id]=[],a=this.proxyCoords,o=t.getSource(),s=new e.pointGeometry(o.tileID.x,o.tileID.y)._div(1<<o.tileID.z),l=o.coordinates.map(e.MercatorCoordinate.fromLngLat).reduce((function(e,t){return e.min.x=Math.min(e.min.x,t.x-s.x),e.min.y=Math.min(e.min.y,t.y-s.y),e.max.x=Math.max(e.max.x,t.x-s.x),e.max.y=Math.max(e.max.y,t.y-s.y),e}),{min:new e.pointGeometry(Number.MAX_VALUE,Number.MAX_VALUE),max:new e.pointGeometry(-Number.MAX_VALUE,-Number.MAX_VALUE)}),c=function(t,n){var r=t.wrap+t.canonical.x/(1<<t.canonical.z),i=t.canonical.y/(1<<t.canonical.z),a=e.EXTENT/(1<<t.canonical.z),o=n.wrap+n.canonical.x/(1<<n.canonical.z),s=n.canonical.y/(1<<n.canonical.z);return r+a<o+l.min.x||r>o+l.max.x||i+a<s+l.min.y||i>s+l.max.y},u=0;u<a.length;u++)for(var d=a[u],f=0;f<n.length;f++){var h=t.getTile(n[f]);if(h&&h.hasData()&&!c(d,h.tileID)){var p=this._createProxiedId(d,h,r[d.key]&&r[d.key][t.id]),m=this.proxyToSource[d.key][t.id];m?m.push(p):this.proxyToSource[d.key][t.id]=[p],i.push(p)}}}},{key:"_createProxiedId",value:function(t,n,r){var i=this.orthoMatrix;if(r){var a=r.find((function(e){return e.key===n.tileID.key}));if(a)return a}if(n.tileID.key!==t.key){var o,s,l,c=t.canonical.z-n.tileID.canonical.z;i=e.create();var u=n.tileID.wrap-t.wrap<<t.overscaledZ;c>0?(s=(o=e.EXTENT>>c)*((n.tileID.canonical.x<<c)-t.canonical.x+u),l=o*((n.tileID.canonical.y<<c)-t.canonical.y)):(o=e.EXTENT<<-c,s=e.EXTENT*(n.tileID.canonical.x-(t.canonical.x+u<<-c)),l=e.EXTENT*(n.tileID.canonical.y-(t.canonical.y<<-c))),e.ortho(i,0,o,0,o,0,1),e.translate(i,i,[s,l,0])}return new Hn(n.tileID,t.key,i)}},{key:"_findTileCoveringTileID",value:function(t,n){var r=n.getTile(t);if(r&&r.hasData())return r;var i=this._findCoveringTileCache[n.id],a=i[t.key];if((r=a?n.getTileByID(a):null)&&r.hasData()||null===a)return r;var o=r?r.tileID:t,s=o.overscaledZ,l=n.getSource().minzoom,c=[];if(!a){var u=n.getSource().maxzoom;if(t.canonical.z>=u){var d=t.canonical.z-u;n.getSource().reparseOverscaled?(s=Math.max(t.canonical.z+2,n.transform.tileZoom),o=new e.OverscaledTileID(s,t.wrap,u,t.canonical.x>>d,t.canonical.y>>d)):0!==d&&(s=u,o=new e.OverscaledTileID(s,t.wrap,u,t.canonical.x>>d,t.canonical.y>>d))}o.key!==t.key&&(c.push(o.key),r=n.getTile(o))}var f=function(e){c.forEach((function(t){i[t]=e})),c.length=0};for(s-=1;s>=l&&(!r||!r.hasData());s--){r&&f(r.tileID.key);var h=o.calculateScaledKey(s);if((r=n.getTileByID(h))&&r.hasData())break;var p=i[h];if(null===p)break;void 0===p?c.push(h):r=n.getTileByID(p)}return f(r?r.tileID.key:null),r&&r.hasData()?r:null}},{key:"findDEMTileFor",value:function(e){return this.enabled?this._findTileCoveringTileID(e,this.sourceCache):null}},{key:"prepareDrawTile",value:function(){this.renderedToTile=!0}},{key:"_clearRenderCacheForTile",value:function(e,t){var n=this._tilesDirty[e];n||(n=this._tilesDirty[e]={}),n[t.key]=!0}},{key:"getWirefameBuffer",value:function(){if(!this.wireframeSegments){var t=function(t){for(var n=0,r=new e.StructArrayLayout2ui4,i=131,a=1;a<129;a++){for(var o=1;o<129;o++)n=a*i+o,r.emplaceBack(n,n+1),r.emplaceBack(n,n+i),r.emplaceBack(n+1,n+i),128===a&&r.emplaceBack(n+i,n+i+1);r.emplaceBack(n+1,n+1+i)}return r}();this.wireframeIndexBuffer=this.painter.context.createIndexBuffer(t),this.wireframeSegments=e.SegmentVector.simpleSegment(0,0,this.gridBuffer.length,t.length)}return[this.wireframeIndexBuffer,this.wireframeSegments]}}]),r}(e.Elevation),Wn=function(){function t(n,r,i,a,o,s){h(this,t);var l=n.gl;this.program=l.createProgram();var c=function(e){for(var t=[],n=0;n<e.length;n++)if(null!==e[n]){var r=e[n].split(" ");t.push(r.pop())}return t}(i.staticAttributes),u=a?a.getBinderAttributes():[],d=c.concat(u),f=a?a.defines():[];f=f.concat(s.map((function(e){return"#define ".concat(e)})));var p=f.concat(n.extStandardDerivatives?"#extension GL_OES_standard_derivatives : enable\n".concat(kn):kn,kn,wn,_n.fragmentSource,xn.fragmentSource,i.fragmentSource).join("\n"),m=f.concat("\n#ifdef GL_ES\nprecision highp float;\n#else\n\n#if !defined(lowp)\n#define lowp\n#endif\n\n#if !defined(mediump)\n#define mediump\n#endif\n\n#if !defined(highp)\n#define highp\n#endif\n\n#endif",wn,_n.vertexSource,xn.vertexSource,yn.vertexSource,i.vertexSource).join("\n"),v=l.createShader(l.FRAGMENT_SHADER);if(l.isContextLost())this.failedToCreate=!0;else{l.shaderSource(v,p),l.compileShader(v),l.attachShader(this.program,v);var g=l.createShader(l.VERTEX_SHADER);if(l.isContextLost())this.failedToCreate=!0;else{l.shaderSource(g,m),l.compileShader(g),l.attachShader(this.program,g),this.attributes={},this.numAttributes=d.length;for(var y=0;y<this.numAttributes;y++)d[y]&&(l.bindAttribLocation(this.program,y,d[y]),this.attributes[d[y]]=y);l.linkProgram(this.program),l.deleteShader(g),l.deleteShader(v),this.fixedUniforms=o(n),this.binderUniforms=a?a.getUniforms(n):[],s.includes("TERRAIN")&&(this.terrainUniforms=function(t){return{u_dem:new e.Uniform1i(t),u_dem_prev:new e.Uniform1i(t),u_dem_unpack:new e.Uniform4f(t),u_dem_tl:new e.Uniform2f(t),u_dem_scale:new e.Uniform1f(t),u_dem_tl_prev:new e.Uniform2f(t),u_dem_scale_prev:new e.Uniform1f(t),u_dem_size:new e.Uniform1f(t),u_dem_lerp:new e.Uniform1f(t),u_exaggeration:new e.Uniform1f(t),u_depth:new e.Uniform1i(t),u_depth_size_inv:new e.Uniform2f(t),u_meter_to_dem:new e.Uniform1f(t),u_label_plane_matrix_inv:new e.UniformMatrix4f(t)}}(n)),s.includes("GLOBE")&&(this.globeUniforms=function(t){return{u_tile_tl_up:new e.Uniform3f(t),u_tile_tr_up:new e.Uniform3f(t),u_tile_br_up:new e.Uniform3f(t),u_tile_bl_up:new e.Uniform3f(t),u_tile_up_scale:new e.Uniform1f(t)}}(n)),s.includes("FOG")&&(this.fogUniforms=function(t){return{u_fog_matrix:new e.UniformMatrix4f(t),u_fog_range:new e.Uniform2f(t),u_fog_color:new e.Uniform4f(t),u_fog_horizon_blend:new e.Uniform1f(t),u_fog_temporal_offset:new e.Uniform1f(t),u_frustum_tl:new e.Uniform3f(t),u_frustum_tr:new e.Uniform3f(t),u_frustum_br:new e.Uniform3f(t),u_frustum_bl:new e.Uniform3f(t),u_globe_pos:new e.Uniform3f(t),u_globe_radius:new e.Uniform1f(t),u_globe_transition:new e.Uniform1f(t),u_is_globe:new e.Uniform1i(t),u_viewport:new e.Uniform2f(t)}}(n))}}}return p(t,[{key:"setTerrainUniformValues",value:function(e,t){if(this.terrainUniforms){var n=this.terrainUniforms;if(!this.failedToCreate)for(var r in e.program.set(this.program),t)n[r]&&n[r].set(this.program,r,t[r])}}},{key:"setGlobeUniformValues",value:function(e,t){if(this.globeUniforms){var n=this.globeUniforms;if(!this.failedToCreate)for(var r in e.program.set(this.program),t)n[r]&&n[r].set(this.program,r,t[r])}}},{key:"setFogUniformValues",value:function(e,t){if(this.fogUniforms){var n=this.fogUniforms;if(!this.failedToCreate)for(var r in e.program.set(this.program),t)n[r].set(this.program,r,t[r])}}},{key:"draw",value:function(e,t,n,i,a,o,s,l,c,u,d,h,p,m,v){var g,y=e.gl;if(!this.failedToCreate){e.program.set(this.program),e.setDepthMode(n),e.setStencilMode(i),e.setColorMode(a),e.setCullFace(o);for(var x=0,b=Object.keys(this.fixedUniforms);x<b.length;x++){var _=b[x];this.fixedUniforms[_].set(this.program,_,s[_])}m&&m.setUniforms(this.program,e,this.binderUniforms,h,{zoom:p});var w,k=(g={},r(g,y.LINES,2),r(g,y.TRIANGLES,3),r(g,y.LINE_STRIP,1),g)[t],S=f(d.get());try{for(S.s();!(w=S.n()).done;){var E=w.value,C=E.vaos||(E.vaos={});(C[l]||(C[l]=new Tn)).bind(e,this,c,m?m.getPaintVertexBuffers():[],u,E.vertexOffset,v||[]),y.drawElements(t,E.primitiveLength*k,y.UNSIGNED_SHORT,E.primitiveOffset*k*2)}}catch(T){S.e(T)}finally{S.f()}}}}],[{key:"cacheKey",value:function(e,t,n,r){var i,a="".concat(t).concat(r?r.cacheKey:""),o=f(n);try{for(o.s();!(i=o.n()).done;){var s=i.value;e.usedDefines.includes(s)&&(a+="/".concat(s))}}catch(l){o.e(l)}finally{o.f()}return a}}]),t}();function qn(e,t){var n=Math.pow(2,t.tileID.overscaledZ),r=t.tileSize*Math.pow(2,e.transform.tileZoom)/n,i=r*(t.tileID.canonical.x+t.tileID.wrap*n),a=r*t.tileID.canonical.y;return{u_image:0,u_texsize:t.imageAtlasTexture.size,u_tile_units_to_pixels:1/q(t,1,e.transform.tileZoom),u_pixel_coord_upper:[i>>16,a>>16],u_pixel_coord_lower:[65535&i,65535&a]}}var Xn=e.create(),Zn=function(t,n,r,i,a,o,s,l,c,u,d){var f=n.style.light,h=f.properties.get("position"),p=[h.x,h.y,h.z],m=e.create$1();"viewport"===f.properties.get("anchor")&&(e.fromRotation(m,-n.transform.angle),e.transformMat3(p,p,m));var v=f.properties.get("color"),g=n.transform,y={u_matrix:t,u_lightpos:p,u_lightintensity:f.properties.get("intensity"),u_lightcolor:[v.r,v.g,v.b],u_vertical_gradient:+r,u_opacity:i,u_tile_id:[0,0,0],u_zoom_transition:0,u_inv_rot_matrix:Xn,u_merc_center:[0,0],u_up_dir:[0,0,0],u_height_lift:0,u_ao:a,u_edge_radius:o};return"globe"===g.projection.name&&(y.u_tile_id=[s.canonical.x,s.canonical.y,1<<s.canonical.z],y.u_zoom_transition=c,y.u_inv_rot_matrix=d,y.u_merc_center=u,y.u_up_dir=g.projection.upVector(new e.CanonicalTileID(0,0,0),u[0]*e.EXTENT,u[1]*e.EXTENT),y.u_height_lift=l),y},Kn=function(t,n,r,i,a,o,s,l,c,u,d,f){var h=Zn(t,n,r,i,a,o,s,c,u,d,f),p={u_height_factor:-Math.pow(2,s.overscaledZ)/l.tileSize/8};return e.extend(h,qn(n,l),p)},Yn=function(e){return{u_matrix:e}},$n=function(t,n,r){return e.extend(Yn(t),qn(n,r))},Jn=function(e,t){return{u_matrix:e,u_world:t}},Qn=function(t,n,r,i){return e.extend($n(t,n,r),{u_world:i})},er=e.create(),tr=function(t,n,r,i,a,o){var s,l=t.transform,c="globe"===l.projection.name;if("map"===o.paint.get("circle-pitch-alignment"))if(c){var u=e.globePixelsToTileUnits(l.zoom,n.canonical)*l._pixelsPerMercatorPixel;s=Float32Array.from([u,0,0,u])}else s=l.calculatePixelsToTileUnitsMatrix(r);else s=new Float32Array([l.pixelsToGLUnits[0],0,0,l.pixelsToGLUnits[1]]);var d={u_camera_to_center_distance:l.cameraToCenterDistance,u_matrix:t.translatePosMatrix(n.projMatrix,r,o.paint.get("circle-translate"),o.paint.get("circle-translate-anchor")),u_device_pixel_ratio:e.exported.devicePixelRatio,u_extrude_scale:s,u_inv_rot_matrix:er,u_merc_center:[0,0],u_tile_id:[0,0,0],u_zoom_transition:0,u_up_dir:[0,0,0]};if(c){d.u_inv_rot_matrix=i,d.u_merc_center=a,d.u_tile_id=[n.canonical.x,n.canonical.y,1<<n.canonical.z],d.u_zoom_transition=e.globeToMercatorTransition(l.zoom);var f=a[0]*e.EXTENT,h=a[1]*e.EXTENT;d.u_up_dir=l.projection.upVector(new e.CanonicalTileID(0,0,0),f,h)}return d},nr=function(e){var t=[];return"map"===e.paint.get("circle-pitch-alignment")&&t.push("PITCH_WITH_MAP"),"map"===e.paint.get("circle-pitch-scale")&&t.push("SCALE_WITH_MAP"),t},rr=function(t,n,r,i){var a=e.EXTENT/r.tileSize;return{u_matrix:t,u_camera_to_center_distance:n.getCameraToCenterDistance(i),u_extrude_scale:[n.pixelsToGLUnits[0]/a,n.pixelsToGLUnits[1]/a]}},ir=function(e,t){return{u_matrix:e,u_color:t,u_overlay:0,u_overlay_scale:arguments.length>2&&void 0!==arguments[2]?arguments[2]:1}},ar=e.create(),or=function(t,n,r,i,a,o,s){var l=t.transform,c="globe"===l.projection.name,u=c?e.globePixelsToTileUnits(l.zoom,n.canonical)*l._pixelsPerMercatorPixel:q(r,1,o),d={u_matrix:n.projMatrix,u_extrude_scale:u,u_intensity:s,u_inv_rot_matrix:ar,u_merc_center:[0,0],u_tile_id:[0,0,0],u_zoom_transition:0,u_up_dir:[0,0,0]};if(c){d.u_inv_rot_matrix=i,d.u_merc_center=a,d.u_tile_id=[n.canonical.x,n.canonical.y,1<<n.canonical.z],d.u_zoom_transition=e.globeToMercatorTransition(l.zoom);var f=a[0]*e.EXTENT,h=a[1]*e.EXTENT;d.u_up_dir=l.projection.upVector(new e.CanonicalTileID(0,0,0),f,h)}return d},sr=function(e,t,n,r,i,a,o){var s=e.transform,l=s.calculatePixelsToTileUnitsMatrix(t);return{u_matrix:ur(e,t,n,r),u_pixels_to_tile_units:l,u_device_pixel_ratio:a,u_units_to_pixels:[1/s.pixelsToGLUnits[0],1/s.pixelsToGLUnits[1]],u_dash_image:0,u_gradient_image:1,u_image_height:i,u_texsize:dr(n)?t.lineAtlasTexture.size:[0,0],u_tile_units_to_pixels:cr(t,e.transform),u_alpha_discard_threshold:0,u_trim_offset:o}},lr=function(e,t,n,r,i){var a=e.transform;return{u_matrix:ur(e,t,n,r),u_texsize:t.imageAtlasTexture.size,u_pixels_to_tile_units:a.calculatePixelsToTileUnitsMatrix(t),u_device_pixel_ratio:i,u_image:0,u_tile_units_to_pixels:cr(t,a),u_units_to_pixels:[1/a.pixelsToGLUnits[0],1/a.pixelsToGLUnits[1]],u_alpha_discard_threshold:0}};function cr(e,t){return 1/q(e,1,t.tileZoom)}function ur(e,t,n,r){return e.translatePosMatrix(r||t.tileID.projMatrix,t,n.paint.get("line-translate"),n.paint.get("line-translate-anchor"))}function dr(e){var t=e.paint.get("line-dasharray").value;return t.value||"constant"!==t.kind}var fr=function(e,t,n,r,i,a){return{u_matrix:e,u_tl_parent:t,u_scale_parent:n,u_fade_t:r.mix,u_opacity:r.opacity*i.paint.get("raster-opacity"),u_image0:0,u_image1:1,u_brightness_low:i.paint.get("raster-brightness-min"),u_brightness_high:i.paint.get("raster-brightness-max"),u_saturation_factor:(s=i.paint.get("raster-saturation"),s>0?1-1/(1.001-s):-s),u_contrast_factor:(o=i.paint.get("raster-contrast"),o>0?1/(1-o):1+o),u_spin_weights:hr(i.paint.get("raster-hue-rotate")),u_perspective_transform:a};var o,s};function hr(e){e*=Math.PI/180;var t=Math.sin(e),n=Math.cos(e);return[(2*n+1)/3,(-Math.sqrt(3)*t-n+1)/3,(Math.sqrt(3)*t-n+1)/3]}var pr,mr=e.create(),vr=function(t,n,r,i,a,o,s,l,c,u,d,f,h,p,m,v){var g=a.transform,y={u_is_size_zoom_constant:+("constant"===t||"source"===t),u_is_size_feature_constant:+("constant"===t||"camera"===t),u_size_t:n?n.uSizeT:0,u_size:n?n.uSize:0,u_camera_to_center_distance:g.cameraToCenterDistance,u_rotate_symbol:+r,u_aspect_ratio:g.width/g.height,u_fade_change:a.options.fadeDuration?a.symbolFadeChange:1,u_matrix:o,u_label_plane_matrix:s,u_coord_matrix:l,u_is_text:+c,u_pitch_with_map:+i,u_texsize:u,u_texture:0,u_tile_id:[0,0,0],u_zoom_transition:0,u_inv_rot_matrix:mr,u_merc_center:[0,0],u_camera_forward:[0,0,0],u_ecef_origin:[0,0,0],u_tile_matrix:mr,u_up_vector:[0,-1,0]};return"globe"===v.name&&(y.u_tile_id=[d.canonical.x,d.canonical.y,1<<d.canonical.z],y.u_zoom_transition=f,y.u_inv_rot_matrix=p,y.u_merc_center=h,y.u_camera_forward=g._camera.forward(),y.u_ecef_origin=e.globeECEFOrigin(g.globeMatrix,d.toUnwrapped()),y.u_tile_matrix=Float32Array.from(g.globeMatrix),y.u_up_vector=m),y},gr=function(t,n,r,i,a,o,s,l,c,u,d,f,h,p,m,v,g){return e.extend(vr(t,n,r,i,a,o,s,l,c,u,f,h,p,m,v,g),{u_gamma_scale:i?a.transform.cameraToCenterDistance*Math.cos(a.terrain?0:a.transform._pitch):1,u_device_pixel_ratio:e.exported.devicePixelRatio,u_is_halo:+d})},yr=function(t,n,r,i,a,o,s,l,c,u,d,f,h,p,m,v){return e.extend(gr(t,n,r,i,a,o,s,l,!0,c,!0,d,f,h,p,m,v),{u_texsize_icon:u,u_texture_icon:1})},xr=function(e,t,n){return{u_matrix:e,u_opacity:t,u_color:n}},br=function(t,n,r,i,a){return e.extend(function(e,t,n){var r=t.imageManager.getPattern(e.toString()),i=t.imageManager.getPixelSize(),a=i.width,o=i.height,s=Math.pow(2,n.tileID.overscaledZ),l=n.tileSize*Math.pow(2,t.transform.tileZoom)/s,c=l*(n.tileID.canonical.x+n.tileID.wrap*s),u=l*n.tileID.canonical.y;return{u_image:0,u_pattern_tl:r.tl,u_pattern_br:r.br,u_texsize:[a,o],u_pattern_size:r.displaySize,u_tile_units_to_pixels:1/q(n,1,t.transform.tileZoom),u_pixel_coord_upper:[c>>16,u>>16],u_pixel_coord_lower:[65535&c,65535&u]}}(i,r,a),{u_matrix:t,u_opacity:n})},_r={fillExtrusion:function(t){return{u_matrix:new e.UniformMatrix4f(t),u_lightpos:new e.Uniform3f(t),u_lightintensity:new e.Uniform1f(t),u_lightcolor:new e.Uniform3f(t),u_vertical_gradient:new e.Uniform1f(t),u_opacity:new e.Uniform1f(t),u_edge_radius:new e.Uniform1f(t),u_ao:new e.Uniform2f(t),u_tile_id:new e.Uniform3f(t),u_zoom_transition:new e.Uniform1f(t),u_inv_rot_matrix:new e.UniformMatrix4f(t),u_merc_center:new e.Uniform2f(t),u_up_dir:new e.Uniform3f(t),u_height_lift:new e.Uniform1f(t)}},fillExtrusionPattern:function(t){return{u_matrix:new e.UniformMatrix4f(t),u_lightpos:new e.Uniform3f(t),u_lightintensity:new e.Uniform1f(t),u_lightcolor:new e.Uniform3f(t),u_vertical_gradient:new e.Uniform1f(t),u_height_factor:new e.Uniform1f(t),u_edge_radius:new e.Uniform1f(t),u_ao:new e.Uniform2f(t),u_tile_id:new e.Uniform3f(t),u_zoom_transition:new e.Uniform1f(t),u_inv_rot_matrix:new e.UniformMatrix4f(t),u_merc_center:new e.Uniform2f(t),u_up_dir:new e.Uniform3f(t),u_height_lift:new e.Uniform1f(t),u_image:new e.Uniform1i(t),u_texsize:new e.Uniform2f(t),u_pixel_coord_upper:new e.Uniform2f(t),u_pixel_coord_lower:new e.Uniform2f(t),u_tile_units_to_pixels:new e.Uniform1f(t),u_opacity:new e.Uniform1f(t)}},fill:function(t){return{u_matrix:new e.UniformMatrix4f(t)}},fillPattern:function(t){return{u_matrix:new e.UniformMatrix4f(t),u_image:new e.Uniform1i(t),u_texsize:new e.Uniform2f(t),u_pixel_coord_upper:new e.Uniform2f(t),u_pixel_coord_lower:new e.Uniform2f(t),u_tile_units_to_pixels:new e.Uniform1f(t)}},fillOutline:function(t){return{u_matrix:new e.UniformMatrix4f(t),u_world:new e.Uniform2f(t)}},fillOutlinePattern:function(t){return{u_matrix:new e.UniformMatrix4f(t),u_world:new e.Uniform2f(t),u_image:new e.Uniform1i(t),u_texsize:new e.Uniform2f(t),u_pixel_coord_upper:new e.Uniform2f(t),u_pixel_coord_lower:new e.Uniform2f(t),u_tile_units_to_pixels:new e.Uniform1f(t)}},circle:function(t){return{u_camera_to_center_distance:new e.Uniform1f(t),u_extrude_scale:new e.UniformMatrix2f(t),u_device_pixel_ratio:new e.Uniform1f(t),u_matrix:new e.UniformMatrix4f(t),u_inv_rot_matrix:new e.UniformMatrix4f(t),u_merc_center:new e.Uniform2f(t),u_tile_id:new e.Uniform3f(t),u_zoom_transition:new e.Uniform1f(t),u_up_dir:new e.Uniform3f(t)}},collisionBox:function(t){return{u_matrix:new e.UniformMatrix4f(t),u_camera_to_center_distance:new e.Uniform1f(t),u_extrude_scale:new e.Uniform2f(t)}},collisionCircle:function(t){return{u_matrix:new e.UniformMatrix4f(t),u_inv_matrix:new e.UniformMatrix4f(t),u_camera_to_center_distance:new e.Uniform1f(t),u_viewport_size:new e.Uniform2f(t)}},debug:function(t){return{u_color:new e.UniformColor(t),u_matrix:new e.UniformMatrix4f(t),u_overlay:new e.Uniform1i(t),u_overlay_scale:new e.Uniform1f(t)}},clippingMask:function(t){return{u_matrix:new e.UniformMatrix4f(t)}},heatmap:function(t){return{u_extrude_scale:new e.Uniform1f(t),u_intensity:new e.Uniform1f(t),u_matrix:new e.UniformMatrix4f(t),u_inv_rot_matrix:new e.UniformMatrix4f(t),u_merc_center:new e.Uniform2f(t),u_tile_id:new e.Uniform3f(t),u_zoom_transition:new e.Uniform1f(t),u_up_dir:new e.Uniform3f(t)}},heatmapTexture:function(t){return{u_image:new e.Uniform1i(t),u_color_ramp:new e.Uniform1i(t),u_opacity:new e.Uniform1f(t)}},hillshade:function(t){return{u_matrix:new e.UniformMatrix4f(t),u_image:new e.Uniform1i(t),u_latrange:new e.Uniform2f(t),u_light:new e.Uniform2f(t),u_shadow:new e.UniformColor(t),u_highlight:new e.UniformColor(t),u_accent:new e.UniformColor(t)}},hillshadePrepare:function(t){return{u_matrix:new e.UniformMatrix4f(t),u_image:new e.Uniform1i(t),u_dimension:new e.Uniform2f(t),u_zoom:new e.Uniform1f(t),u_unpack:new e.Uniform4f(t)}},line:function(t){return{u_matrix:new e.UniformMatrix4f(t),u_pixels_to_tile_units:new e.UniformMatrix2f(t),u_device_pixel_ratio:new e.Uniform1f(t),u_units_to_pixels:new e.Uniform2f(t),u_dash_image:new e.Uniform1i(t),u_gradient_image:new e.Uniform1i(t),u_image_height:new e.Uniform1f(t),u_texsize:new e.Uniform2f(t),u_tile_units_to_pixels:new e.Uniform1f(t),u_alpha_discard_threshold:new e.Uniform1f(t),u_trim_offset:new e.Uniform2f(t)}},linePattern:function(t){return{u_matrix:new e.UniformMatrix4f(t),u_texsize:new e.Uniform2f(t),u_pixels_to_tile_units:new e.UniformMatrix2f(t),u_device_pixel_ratio:new e.Uniform1f(t),u_image:new e.Uniform1i(t),u_units_to_pixels:new e.Uniform2f(t),u_tile_units_to_pixels:new e.Uniform1f(t),u_alpha_discard_threshold:new e.Uniform1f(t)}},raster:function(t){return{u_matrix:new e.UniformMatrix4f(t),u_tl_parent:new e.Uniform2f(t),u_scale_parent:new e.Uniform1f(t),u_fade_t:new e.Uniform1f(t),u_opacity:new e.Uniform1f(t),u_image0:new e.Uniform1i(t),u_image1:new e.Uniform1i(t),u_brightness_low:new e.Uniform1f(t),u_brightness_high:new e.Uniform1f(t),u_saturation_factor:new e.Uniform1f(t),u_contrast_factor:new e.Uniform1f(t),u_spin_weights:new e.Uniform3f(t),u_perspective_transform:new e.Uniform2f(t)}},symbolIcon:function(t){return{u_is_size_zoom_constant:new e.Uniform1i(t),u_is_size_feature_constant:new e.Uniform1i(t),u_size_t:new e.Uniform1f(t),u_size:new e.Uniform1f(t),u_camera_to_center_distance:new e.Uniform1f(t),u_rotate_symbol:new e.Uniform1i(t),u_aspect_ratio:new e.Uniform1f(t),u_fade_change:new e.Uniform1f(t),u_matrix:new e.UniformMatrix4f(t),u_label_plane_matrix:new e.UniformMatrix4f(t),u_coord_matrix:new e.UniformMatrix4f(t),u_is_text:new e.Uniform1i(t),u_pitch_with_map:new e.Uniform1i(t),u_texsize:new e.Uniform2f(t),u_tile_id:new e.Uniform3f(t),u_zoom_transition:new e.Uniform1f(t),u_inv_rot_matrix:new e.UniformMatrix4f(t),u_merc_center:new e.Uniform2f(t),u_camera_forward:new e.Uniform3f(t),u_tile_matrix:new e.UniformMatrix4f(t),u_up_vector:new e.Uniform3f(t),u_ecef_origin:new e.Uniform3f(t),u_texture:new e.Uniform1i(t)}},symbolSDF:function(t){return{u_is_size_zoom_constant:new e.Uniform1i(t),u_is_size_feature_constant:new e.Uniform1i(t),u_size_t:new e.Uniform1f(t),u_size:new e.Uniform1f(t),u_camera_to_center_distance:new e.Uniform1f(t),u_rotate_symbol:new e.Uniform1i(t),u_aspect_ratio:new e.Uniform1f(t),u_fade_change:new e.Uniform1f(t),u_matrix:new e.UniformMatrix4f(t),u_label_plane_matrix:new e.UniformMatrix4f(t),u_coord_matrix:new e.UniformMatrix4f(t),u_is_text:new e.Uniform1i(t),u_pitch_with_map:new e.Uniform1i(t),u_texsize:new e.Uniform2f(t),u_texture:new e.Uniform1i(t),u_gamma_scale:new e.Uniform1f(t),u_device_pixel_ratio:new e.Uniform1f(t),u_tile_id:new e.Uniform3f(t),u_zoom_transition:new e.Uniform1f(t),u_inv_rot_matrix:new e.UniformMatrix4f(t),u_merc_center:new e.Uniform2f(t),u_camera_forward:new e.Uniform3f(t),u_tile_matrix:new e.UniformMatrix4f(t),u_up_vector:new e.Uniform3f(t),u_ecef_origin:new e.Uniform3f(t),u_is_halo:new e.Uniform1i(t)}},symbolTextAndIcon:function(t){return{u_is_size_zoom_constant:new e.Uniform1i(t),u_is_size_feature_constant:new e.Uniform1i(t),u_size_t:new e.Uniform1f(t),u_size:new e.Uniform1f(t),u_camera_to_center_distance:new e.Uniform1f(t),u_rotate_symbol:new e.Uniform1i(t),u_aspect_ratio:new e.Uniform1f(t),u_fade_change:new e.Uniform1f(t),u_matrix:new e.UniformMatrix4f(t),u_label_plane_matrix:new e.UniformMatrix4f(t),u_coord_matrix:new e.UniformMatrix4f(t),u_is_text:new e.Uniform1i(t),u_pitch_with_map:new e.Uniform1i(t),u_texsize:new e.Uniform2f(t),u_texsize_icon:new e.Uniform2f(t),u_texture:new e.Uniform1i(t),u_texture_icon:new e.Uniform1i(t),u_gamma_scale:new e.Uniform1f(t),u_device_pixel_ratio:new e.Uniform1f(t),u_is_halo:new e.Uniform1i(t)}},background:function(t){return{u_matrix:new e.UniformMatrix4f(t),u_opacity:new e.Uniform1f(t),u_color:new e.UniformColor(t)}},backgroundPattern:function(t){return{u_matrix:new e.UniformMatrix4f(t),u_opacity:new e.Uniform1f(t),u_image:new e.Uniform1i(t),u_pattern_tl:new e.Uniform2f(t),u_pattern_br:new e.Uniform2f(t),u_texsize:new e.Uniform2f(t),u_pattern_size:new e.Uniform2f(t),u_pixel_coord_upper:new e.Uniform2f(t),u_pixel_coord_lower:new e.Uniform2f(t),u_tile_units_to_pixels:new e.Uniform1f(t)}},terrainRaster:An,terrainDepth:An,skybox:function(t){return{u_matrix:new e.UniformMatrix4f(t),u_sun_direction:new e.Uniform3f(t),u_cubemap:new e.Uniform1i(t),u_opacity:new e.Uniform1f(t),u_temporal_offset:new e.Uniform1f(t)}},skyboxGradient:function(t){return{u_matrix:new e.UniformMatrix4f(t),u_color_ramp:new e.Uniform1i(t),u_center_direction:new e.Uniform3f(t),u_radius:new e.Uniform1f(t),u_opacity:new e.Uniform1f(t),u_temporal_offset:new e.Uniform1f(t)}},skyboxCapture:function(t){return{u_matrix_3f:new e.UniformMatrix3f(t),u_sun_direction:new e.Uniform3f(t),u_sun_intensity:new e.Uniform1f(t),u_color_tint_r:new e.Uniform4f(t),u_color_tint_m:new e.Uniform4f(t),u_luminance:new e.Uniform1f(t)}},globeRaster:function(t){return{u_proj_matrix:new e.UniformMatrix4f(t),u_globe_matrix:new e.UniformMatrix4f(t),u_normalize_matrix:new e.UniformMatrix4f(t),u_merc_matrix:new e.UniformMatrix4f(t),u_zoom_transition:new e.Uniform1f(t),u_merc_center:new e.Uniform2f(t),u_image0:new e.Uniform1i(t),u_grid_matrix:new e.UniformMatrix3f(t),u_frustum_tl:new e.Uniform3f(t),u_frustum_tr:new e.Uniform3f(t),u_frustum_br:new e.Uniform3f(t),u_frustum_bl:new e.Uniform3f(t),u_globe_pos:new e.Uniform3f(t),u_globe_radius:new e.Uniform1f(t),u_viewport:new e.Uniform2f(t)}},globeAtmosphere:function(t){return{u_frustum_tl:new e.Uniform3f(t),u_frustum_tr:new e.Uniform3f(t),u_frustum_br:new e.Uniform3f(t),u_frustum_bl:new e.Uniform3f(t),u_horizon:new e.Uniform1f(t),u_transition:new e.Uniform1f(t),u_fadeout_range:new e.Uniform1f(t),u_color:new e.Uniform4f(t),u_high_color:new e.Uniform4f(t),u_space_color:new e.Uniform4f(t),u_star_intensity:new e.Uniform1f(t),u_star_density:new e.Uniform1f(t),u_star_size:new e.Uniform1f(t),u_temporal_offset:new e.Uniform1f(t),u_horizon_angle:new e.Uniform1f(t),u_rotation_matrix:new e.UniformMatrix4f(t)}}};function wr(t,n,r,i,a,o,s){for(var l=t.context,c=l.gl,u=t.transform,d=t.useProgram("collisionBox"),f=[],h=0,p=0,m=0;m<i.length;m++){var v=i[m],g=n.getTile(v),y=g.getBucket(r);if(y){var x=At(v,y,u),b=x;0===a[0]&&0===a[1]||(b=t.translatePosMatrix(x,g,a,o));var _=s?y.textCollisionBox:y.iconCollisionBox,w=y.collisionCircleArray;if(w.length>0){var k=e.create(),S=b;e.mul(k,y.placementInvProjMatrix,u.glCoordMatrix),e.mul(k,k,y.placementViewportMatrix),f.push({circleArray:w,circleOffset:p,transform:S,invTransform:k,projection:y.getProjection()}),p=h+=w.length/4}_&&(t.terrain&&t.terrain.setupElevationDraw(g,d),d.draw(l,c.LINES,e.DepthMode.disabled,e.StencilMode.disabled,t.colorModeForRenderPass(),e.CullFaceMode.disabled,rr(b,u,g,y.getProjection()),r.id,_.layoutVertexBuffer,_.indexBuffer,_.segments,null,u.zoom,null,[_.collisionVertexBuffer,_.collisionVertexBufferExt]))}}if(s&&f.length){var E=t.useProgram("collisionCircle"),C=new e.StructArrayLayout2f1f2i16;C.resize(4*h),C._trim();for(var T=0,M=0,I=f;M<I.length;M++)for(var O=I[M],P=0;P<O.circleArray.length/4;P++){var A=4*P,z=O.circleArray[A+0],j=O.circleArray[A+1],R=O.circleArray[A+2],D=O.circleArray[A+3];C.emplace(T++,z,j,R,D,0),C.emplace(T++,z,j,R,D,1),C.emplace(T++,z,j,R,D,2),C.emplace(T++,z,j,R,D,3)}(!pr||pr.length<2*h)&&(pr=function(t){var n=2*t,r=new e.StructArrayLayout3ui6;r.resize(n),r._trim();for(var i=0;i<n;i++){var a=6*i;r.uint16[a+0]=4*i+0,r.uint16[a+1]=4*i+1,r.uint16[a+2]=4*i+2,r.uint16[a+3]=4*i+2,r.uint16[a+4]=4*i+3,r.uint16[a+5]=4*i+0}return r}(h));for(var L,N=l.createIndexBuffer(pr,!0),B=l.createVertexBuffer(C,e.collisionCircleLayout.members,!0),F=0,V=f;F<V.length;F++){var U=V[F],H={u_matrix:U.transform,u_inv_matrix:U.invTransform,u_camera_to_center_distance:(L=u).getCameraToCenterDistance(U.projection),u_viewport_size:[L.width,L.height]};E.draw(l,c.TRIANGLES,e.DepthMode.disabled,e.StencilMode.disabled,t.colorModeForRenderPass(),e.CullFaceMode.disabled,H,r.id,B,N,e.SegmentVector.simpleSegment(0,2*U.circleOffset,U.circleArray.length,U.circleArray.length/2),null,u.zoom)}B.destroy(),N.destroy()}}var kr=e.create();function Sr(t,n){var r=t.width,i=t.height,a=t.anchor,o=t.textOffset,s=t.textScale,l=e.getAnchorAlignment(a),c=-(l.horizontalAlign-.5)*r,u=-(l.verticalAlign-.5)*i,d=e.evaluateVariableOffset(a,o);return new e.pointGeometry((c/s+d[0])*n,(u/s+d[1])*n)}function Er(t,n,r,i,a,o,s,l,c,u,f){var h=t.text.placedSymbolArray,p=t.text.dynamicLayoutVertexArray,m=t.icon.dynamicLayoutVertexArray,v={},g=t.getProjection(),y=zt(l,g,o),x=o.elevation,b=g.upVectorScale(l.canonical,o.center.lat,o.worldSize).metersToTile;p.clear();for(var _=0;_<h.length;_++){var w=h.get(_),k=w.tileAnchorX,S=w.tileAnchorY,E=w.numGlyphs,C=t.allowVerticalPlacement&&!w.placedOrientation,T=w.hidden||!w.crossTileID||C?null:i[w.crossTileID];if(T){var M,I,O,P=0,A=0,z=0;if(x){var j=x?x.getAtTileOffset(l,k,S):0,R=g.upVector(l.canonical,k,S),D=d(R,3);P=j*D[0]*b,A=j*D[1]*b,z=j*D[2]*b}var L=gt(w.projectedAnchorX+P,w.projectedAnchorY+A,w.projectedAnchorZ+z,r?y:s),N=d(L,4),B=N[0],F=N[1],V=N[2],U=N[3],H=yt(o.getCameraToCenterDistance(g),U),G=a.evaluateSizeForFeature(t.textSizeData,u,w)*H/e.ONE_EM;r&&(G*=t.tilePixelRatio/c);var W=Sr(T,G);r?(I=gt((B=(M=g.projectTilePoint(k+W.x,S+W.y,l.canonical)).x)+P,(F=M.y)+A,(V=M.z)+z,s),B=(O=d(I,3))[0],F=O[1],V=O[2]):(n&&W._rotate(-o.angle),B+=W.x,F+=W.y,V=0);for(var q=t.allowVerticalPlacement&&w.placedOrientation===e.WritingMode.vertical?Math.PI/2:0,X=0;X<E;X++)e.addDynamicAttributes(p,B,F,V,q);f&&w.associatedIconIndex>=0&&(v[w.associatedIconIndex]={x:B,y:F,z:V,angle:q})}else Tt(E,p)}if(f){m.clear();for(var Z=t.icon.placedSymbolArray,K=0;K<Z.length;K++){var Y=Z.get(K),$=Y.numGlyphs,J=v[K];if(Y.hidden||!J)Tt($,m);else for(var Q=J.x,ee=J.y,te=J.z,ne=J.angle,re=0;re<$;re++)e.addDynamicAttributes(m,Q,ee,te,ne)}t.icon.dynamicLayoutVertexBuffer.updateData(m)}t.text.dynamicLayoutVertexBuffer.updateData(p)}function Cr(e,t,n){return n.iconsInText&&t?"symbolTextAndIcon":e?"symbolSDF":"symbolIcon"}function Tr(t,n,r,i,a,o,s,l,c,u,d,h){var p=t.context,m=p.gl,v=t.transform,g="map"===l,y="map"===c,x=g&&"point"!==r.layout.get("symbol-placement"),b=g&&!y&&!x,_=void 0!==r.layout.get("symbol-sort-key").constantOr(1),w=!1,k=t.depthModeForSublayer(0,e.DepthMode.ReadOnly),S=[e.mercatorXfromLng(v.center.lng),e.mercatorYfromLat(v.center.lat)],E=r.layout.get("text-variable-anchor"),C="globe"===v.projection.name,T=[],M=[0,-1,0],I=M;!C&&!v.mercatorFromTransition||g||(I=function(t){var n=t._camera.getWorldToCamera(t.worldSize,1),r=e.multiply([],n,t.globeMatrix);e.invert(r,r);var i=[0,0,0],a=[0,1,0,0];return e.transformMat4$1(a,a,r),i[0]=a[0],i[1]=a[1],i[2]=a[2],e.normalize(i,i),i}(v));var O,P=f(i);try{for(P.s();!(O=P.n()).done;){var A=O.value,z=n.getTile(A),j=z.getBucket(r);if(j&&("mercator"!==j.projection.name||!C)){var R=a?j.text:j.icon;if(R&&!j.fullyClipped&&R.segments.get().length){var D=R.programConfigurations.get(r.id),L=a||j.sdfIcons,N=a?j.textSizeData:j.iconSizeData,B=y||0!==v.pitch,F=e.evaluateSizeForZoom(N,v.zoom),V=void 0,U=void 0,H=void 0,G=void 0,W=[0,0],q=null;if(a){if(U=z.glyphAtlasTexture,H=m.LINEAR,V=z.glyphAtlasTexture.size,j.iconsInText){W=z.imageAtlasTexture.size,q=z.imageAtlasTexture;var X="composite"===N.kind||"camera"===N.kind;G=B||t.options.rotating||t.options.zooming||X?m.LINEAR:m.NEAREST}}else{var Z=1!==r.layout.get("icon-size").constantOr(0)||j.iconsNeedLinear;U=z.imageAtlasTexture,H=L||t.options.rotating||t.options.zooming||Z||B?m.LINEAR:m.NEAREST,V=z.imageAtlasTexture.size}var K="globe"===j.projection.name,Y=K?I:M,$=K?e.globeToMercatorTransition(v.zoom):0,J=zt(A,j.getProjection(),v),Q=v.calculatePixelsToTileUnitsMatrix(z),ee=pt(J,z.tileID.canonical,y,g,v,j.getProjection(),Q),te=t.terrain&&y&&x?e.invert(e.create(),ee):kr,ne=vt(J,z.tileID.canonical,y,g,v,j.getProjection(),Q),re=E&&j.hasTextData(),ie="none"!==r.layout.get("icon-text-fit")&&re&&j.hasIconData();if(x){var ae=v.elevation,oe=ae?ae.getAtTileOffsetFunc(A,v.center.lat,v.worldSize,j.getProjection()):null,se=mt(J,z.tileID.canonical,y,g,v,j.getProjection(),Q);bt(j,J,t,a,se,ne,y,u,oe,A)}var le=x||a&&E||ie,ce=t.translatePosMatrix(J,z,o,s),ue=le?kr:ee,de=t.translatePosMatrix(ne,z,o,s,!0),fe=j.getProjection().createInversionMatrix(v,A.canonical),he=[];t.terrainRenderModeElevated()&&y&&he.push("PITCH_WITH_MAP_TERRAIN"),K&&he.push("PROJECTION_GLOBE_VIEW"),le&&he.push("PROJECTED_POS_ON_VIEWPORT");var pe=L&&0!==r.paint.get(a?"text-halo-width":"icon-halo-width").constantOr(1),me=void 0;me=L?j.iconsInText?yr(N.kind,F,b,y,t,ce,ue,de,V,W,A,$,S,fe,Y,j.getProjection()):gr(N.kind,F,b,y,t,ce,ue,de,a,V,!0,A,$,S,fe,Y,j.getProjection()):vr(N.kind,F,b,y,t,ce,ue,de,a,V,A,$,S,fe,Y,j.getProjection());var ve={program:t.useProgram(Cr(L,a,j),D,he),buffers:R,uniformValues:me,atlasTexture:U,atlasTextureIcon:q,atlasInterpolation:H,atlasInterpolationIcon:G,isSDF:L,hasHalo:pe,tile:z,labelPlaneMatrixInv:te};if(_&&j.canOverlap){w=!0;var ge,ye=R.segments.get(),xe=f(ye);try{for(xe.s();!(ge=xe.n()).done;){var be=ge.value;T.push({segments:new e.SegmentVector([be]),sortKey:be.sortKey,state:ve})}}catch(Ce){xe.e(Ce)}finally{xe.f()}}else T.push({segments:R.segments,sortKey:0,state:ve})}}}}catch(Ce){P.e(Ce)}finally{P.f()}w&&T.sort((function(e,t){return e.sortKey-t.sortKey}));for(var _e=0,we=T;_e<we.length;_e++){var ke=we[_e],Se=ke.state;if(t.terrain&&t.terrain.setupElevationDraw(Se.tile,Se.program,{useDepthForOcclusion:!C,labelPlaneMatrixInv:Se.labelPlaneMatrixInv}),p.activeTexture.set(m.TEXTURE0),Se.atlasTexture.bind(Se.atlasInterpolation,m.CLAMP_TO_EDGE),Se.atlasTextureIcon&&(p.activeTexture.set(m.TEXTURE1),Se.atlasTextureIcon&&Se.atlasTextureIcon.bind(Se.atlasInterpolationIcon,m.CLAMP_TO_EDGE)),Se.isSDF){var Ee=Se.uniformValues;Se.hasHalo&&(Ee.u_is_halo=1,Mr(Se.buffers,ke.segments,r,t,Se.program,k,d,h,Ee)),Ee.u_is_halo=0}Mr(Se.buffers,ke.segments,r,t,Se.program,k,d,h,Se.uniformValues)}}function Mr(t,n,r,i,a,o,s,l,c){var u=i.context,d=[t.dynamicLayoutVertexBuffer,t.opacityVertexBuffer,t.globeExtVertexBuffer];a.draw(u,u.gl.TRIANGLES,o,s,l,e.CullFaceMode.disabled,c,r.id,t.layoutVertexBuffer,t.indexBuffer,n,r.paint,i.transform.zoom,t.programConfigurations.get(r.id),d)}function Ir(t,n,r,i,a,o,s){var l,c,u,d,h,p=t.context.gl,m=r.paint.get("fill-pattern"),v=m&&m.constantOr(1);s?(c=v&&!r.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline",l=p.LINES):(c=v?"fillPattern":"fill",l=p.TRIANGLES);var g,y=f(i);try{for(y.s();!(g=y.n()).done;){var x=g.value,b=n.getTile(x);if(!v||b.patternsLoaded()){var _=b.getBucket(r);if(_){t.prepareDrawTile();var w=_.programConfigurations.get(r.id),k=t.useProgram(c,w);v&&(t.context.activeTexture.set(p.TEXTURE0),b.imageAtlasTexture.bind(p.LINEAR,p.CLAMP_TO_EDGE),w.updatePaintBuffers());var S=m.constantOr(null);if(S&&b.imageAtlas){var E=b.imageAtlas.patternPositions[S.toString()];E&&w.setConstantPatternPositions(E)}var C=t.translatePosMatrix(x.projMatrix,b,r.paint.get("fill-translate"),r.paint.get("fill-translate-anchor"));if(s){d=_.indexBuffer2,h=_.segments2;var T=t.terrain&&t.terrain.renderingToTexture?t.terrain.drapeBufferSize:[p.drawingBufferWidth,p.drawingBufferHeight];u="fillOutlinePattern"===c&&v?Qn(C,t,b,T):Jn(C,T)}else d=_.indexBuffer,h=_.segments,u=v?$n(C,t,b):Yn(C);t.prepareDrawProgram(t.context,k,x.toUnwrapped()),k.draw(t.context,l,a,t.stencilModeForClipping(x),o,e.CullFaceMode.disabled,u,r.id,_.layoutVertexBuffer,d,h,r.paint,t.transform.zoom,w)}}}}catch(M){y.e(M)}finally{y.f()}}function Or(t,n,r,i,a,o,s){var l=t.context,c=l.gl,u=t.transform,d=r.paint.get("fill-extrusion-pattern"),h=d.constantOr(1),p=r.paint.get("fill-extrusion-opacity"),m=[r.paint.get("fill-extrusion-ambient-occlusion-intensity"),r.paint.get("fill-extrusion-ambient-occlusion-radius")],v=r.layout.get("fill-extrusion-edge-radius"),g="globe"===u.projection.name?e.fillExtrusionHeightLift():0,y="globe"===u.projection.name,x=y?e.globeToMercatorTransition(u.zoom):0,b=[e.mercatorXfromLng(u.center.lng),e.mercatorYfromLat(u.center.lat)],_=[];y&&(_.push("PROJECTION_GLOBE_VIEW"),t.style.terrainSetForDrapingOnly()&&_.push("TERRAIN")),m[0]>0&&_.push("FAUX_AO");var w,k=f(i);try{for(k.s();!(w=k.n()).done;){var S=w.value,E=n.getTile(S),C=E.getBucket(r);if(C&&C.projection.name===u.projection.name){var T=C.programConfigurations.get(r.id),M=t.useProgram(h?"fillExtrusionPattern":"fillExtrusion",T,_);if(t.terrain){var I=t.terrain;if(t.style.terrainSetForDrapingOnly())I.setupElevationDraw(E,M,{useMeterToDem:!0});else{if(!C.enableTerrain)continue;if(I.setupElevationDraw(E,M,{useMeterToDem:!0}),Pr(l,n,S,C,r,I),!C.centroidVertexBuffer){var O=M.attributes.a_centroid_pos;void 0!==O&&c.vertexAttrib2f(O,0,0)}}}h&&(t.context.activeTexture.set(c.TEXTURE0),E.imageAtlasTexture.bind(c.LINEAR,c.CLAMP_TO_EDGE),T.updatePaintBuffers());var P=d.constantOr(null);if(P&&E.imageAtlas){var A=E.imageAtlas.patternPositions[P.toString()];A&&T.setConstantPatternPositions(A)}var z=t.translatePosMatrix(S.projMatrix,E,r.paint.get("fill-extrusion-translate"),r.paint.get("fill-extrusion-translate-anchor")),j=u.projection.createInversionMatrix(u,S.canonical),R=r.paint.get("fill-extrusion-vertical-gradient"),D=h?Kn(z,t,R,p,m,v,S,E,g,x,b,j):Zn(z,t,R,p,m,v,S,g,x,b,j);t.prepareDrawProgram(l,M,S.toUnwrapped());var L=[];t.terrain&&L.push(C.centroidVertexBuffer),y&&L.push(C.layoutVertexExtBuffer),M.draw(l,l.gl.TRIANGLES,a,o,s,e.CullFaceMode.backCCW,D,r.id,C.layoutVertexBuffer,C.indexBuffer,C.segments,r.paint,t.transform.zoom,T,L)}}}catch(N){k.e(N)}finally{k.f()}}function Pr(t,n,r,i,a,o){for(var s,l,c,u=[function(t){var n=t.canonical.x-1,r=t.wrap;return n<0&&(n=(1<<t.canonical.z)-1,r--),new e.OverscaledTileID(t.overscaledZ,r,t.canonical.z,n,t.canonical.y)},function(t){var n=t.canonical.x+1,r=t.wrap;return n===1<<t.canonical.z&&(n=0,r++),new e.OverscaledTileID(t.overscaledZ,r,t.canonical.z,n,t.canonical.y)},function(t){return new e.OverscaledTileID(t.overscaledZ,t.wrap,t.canonical.z,t.canonical.x,(0===t.canonical.y?1<<t.canonical.z:t.canonical.y)-1)},function(t){return new e.OverscaledTileID(t.overscaledZ,t.wrap,t.canonical.z,t.canonical.x,t.canonical.y===(1<<t.canonical.z)-1?0:t.canonical.y+1)}],d=function(e){for(var t=n.getSource().minzoom,r=function(e){var t=n.getTileByID(e);if(t&&t.hasData())return t.getBucket(a)},i=0,o=[0,-1,1];i<o.length;i++){var s=o[i];if(!(e.overscaledZ+s<t)){var l=r(e.calculateScaledKey(e.overscaledZ+s));if(l)return l}}},h=[0,0,0],p=function(t,n){return h[0]=Math.min(t.min.y,n.min.y),h[1]=Math.max(t.max.y,n.max.y),h[2]=e.EXTENT-n.min.x>t.max.x?n.min.x-e.EXTENT:t.max.x,h},m=function(t,n){return h[0]=Math.min(t.min.x,n.min.x),h[1]=Math.max(t.max.x,n.max.x),h[2]=e.EXTENT-n.min.y>t.max.y?n.min.y-e.EXTENT:t.max.y,h},v=[function(e,t){return p(e,t)},function(e,t){return p(t,e)},function(e,t){return m(e,t)},function(e,t){return m(t,e)}],g=new e.pointGeometry(0,0),y=function(t,n,i,a,u){var d=[[a?i:t,a?t:i,0],[a?i:n,a?n:i,0]],f=u<0?e.EXTENT+u:u,h=[a?f:(t+n)/2,a?(t+n)/2:f,0];return 0===i&&u<0||0!==i&&u>0?o.getForTilePoints(c,[h],!0,l):d.push(h),o.getForTilePoints(r,d,!0,s),Math.max(d[0][2],d[1][2],h[2])/o.exaggeration()},x=0;x<4;x++){var b=(x<2?1:5)-x,_=i.borders[x];if(0!==_.length){var w=c=u[x](r),k=d(w);if(k&&k instanceof e.FillExtrusionBucket&&k.enableTerrain&&(i.borderDoneWithNeighborZ[x]!==k.canonical.z||k.borderDoneWithNeighborZ[b]!==i.canonical.z)&&(l=o.findDEMTileFor(w))&&l.dem){if(!s){var S=o.findDEMTileFor(r);if(!S||!S.dem)return;s=S}var E=k.borders[b],C=0,T=k.borderDoneWithNeighborZ[b]!==i.canonical.z;if(i.canonical.z===k.canonical.z){for(var M=0;M<_.length;M++){for(var I=i.featuresOnBorder[_[M]],O=I.borders[x],P=void 0;C<E.length&&!((P=k.featuresOnBorder[E[C]]).borders[b][1]>O[0]+3);)T&&k.encodeCentroid(void 0,P,!1),C++;if(P&&C<E.length){for(var A=C,z=0;!(P.borders[b][0]>O[1]-3)&&(z++,++C!==E.length);)P=k.featuresOnBorder[E[C]];if(P=k.featuresOnBorder[E[A]],I.intersectsCount()>1||P.intersectsCount()>1||1!==z){1!==z&&(C=A),i.encodeCentroid(void 0,I,!1),T&&k.encodeCentroid(void 0,P,!1);continue}var j=v[x](I,P),R=x%2?e.EXTENT-1:0;g.x=y(j[0],Math.min(e.EXTENT-1,j[1]),R,x<2,j[2]),g.y=0,i.encodeCentroid(g,I,!1),T&&k.encodeCentroid(g,P,!1)}else i.encodeCentroid(void 0,I,!1)}i.borderDoneWithNeighborZ[x]=k.canonical.z,i.needsCentroidUpdate=!0,T&&(k.borderDoneWithNeighborZ[b]=i.canonical.z,k.needsCentroidUpdate=!0)}else{var D,L=f(_);try{for(L.s();!(D=L.n()).done;){var N=D.value;i.encodeCentroid(void 0,i.featuresOnBorder[N],!1)}}catch(U){L.e(U)}finally{L.f()}if(T){var B,F=f(E);try{for(F.s();!(B=F.n()).done;){var V=B.value;k.encodeCentroid(void 0,k.featuresOnBorder[V],!1)}}catch(U){F.e(U)}finally{F.f()}k.borderDoneWithNeighborZ[b]=i.canonical.z,k.needsCentroidUpdate=!0}i.borderDoneWithNeighborZ[x]=k.canonical.z,i.needsCentroidUpdate=!0}}}}(i.needsCentroidUpdate||!i.centroidVertexBuffer&&0!==i.centroidVertexArray.length)&&i.uploadCentroid(t)}var Ar=new e.Color(1,0,0,1),zr=new e.Color(0,1,0,1),jr=new e.Color(0,0,1,1),Rr=new e.Color(1,0,1,1),Dr=new e.Color(0,1,1,1);function Lr(t,n,r){var i=t.context,a=t.transform,o=i.gl,s="globe"===a.projection.name,l=s?["PROJECTION_GLOBE_VIEW"]:null,c=r.projMatrix;if(s&&e.globeToMercatorTransition(a.zoom)>0){var u=e.transitionTileAABBinECEF(r.canonical,a),d=e.globeDenormalizeECEF(u);c=e.multiply(new Float32Array(16),a.globeMatrix,d),e.multiply(c,a.projMatrix,c)}var f=t.useProgram("debug",null,l),h=n.getTileByID(r.key);t.terrain&&t.terrain.setupElevationDraw(h,f);var p=e.DepthMode.disabled,m=e.StencilMode.disabled,v=t.colorModeForRenderPass(),g="$debug";i.activeTexture.set(o.TEXTURE0),t.emptyTexture.bind(o.LINEAR,o.CLAMP_TO_EDGE),s?h._makeGlobeTileDebugBuffers(t.context,a):h._makeDebugTileBoundsBuffers(t.context,a.projection);var y=h._tileDebugBuffer||t.debugBuffer,x=h._tileDebugIndexBuffer||t.debugIndexBuffer,b=h._tileDebugSegments||t.debugSegments;f.draw(i,o.LINE_STRIP,p,m,v,e.CullFaceMode.disabled,ir(c,e.Color.red),g,y,x,b,null,null,null,[h._globeTileDebugBorderBuffer]);var _=h.latestRawTileData,w=Math.floor((_&&_.byteLength||0)/1024),k=n.getTile(r).tileSize,S=512/Math.min(k,512)*(r.overscaledZ/a.zoom)*.5,E=r.canonical.toString();r.overscaledZ!==r.canonical.z&&(E+=" => ".concat(r.overscaledZ)),function(e,t){e.initDebugOverlayCanvas();var n=e.debugOverlayCanvas,r=e.context.gl,i=e.debugOverlayCanvas.getContext("2d");i.clearRect(0,0,n.width,n.height),i.shadowColor="white",i.shadowBlur=2,i.lineWidth=1.5,i.strokeStyle="white",i.textBaseline="top",i.font="bold 36px Open Sans, sans-serif",i.fillText(t,5,5),i.strokeText(t,5,5),e.debugOverlayTexture.update(n),e.debugOverlayTexture.bind(r.LINEAR,r.CLAMP_TO_EDGE)}(t,E+=" ".concat(w,"kb"));var C=h._tileDebugTextBuffer||t.debugBuffer,T=h._tileDebugTextIndexBuffer||t.quadTriangleIndexBuffer,M=h._tileDebugTextSegments||t.debugSegments;f.draw(i,o.TRIANGLES,p,m,e.ColorMode.alphaBlended,e.CullFaceMode.disabled,ir(c,e.Color.transparent,S),g,C,T,M,null,null,null,[h._globeTileDebugTextBuffer])}function Nr(e,t,n,r){Fr(e,0,t+n/2,e.transform.width,n,r)}function Br(e,t,n,r){Fr(e,t-n/2,0,n,e.transform.height,r)}function Fr(t,n,r,i,a,o){var s=t.context,l=s.gl;l.enable(l.SCISSOR_TEST),l.scissor(n*e.exported.devicePixelRatio,r*e.exported.devicePixelRatio,i*e.exported.devicePixelRatio,a*e.exported.devicePixelRatio),s.clear({color:o}),l.disable(l.SCISSOR_TEST)}var Vr=e.createLayout([{name:"a_pos_3f",components:3,type:"Float32"}]).members;function Ur(e,t,n,r){e.emplaceBack(t,n,r)}var Hr=p((function t(n){h(this,t),this.vertexArray=new e.StructArrayLayout3f12,this.indices=new e.StructArrayLayout3ui6,Ur(this.vertexArray,-1,-1,1),Ur(this.vertexArray,1,-1,1),Ur(this.vertexArray,-1,1,1),Ur(this.vertexArray,1,1,1),Ur(this.vertexArray,-1,-1,-1),Ur(this.vertexArray,1,-1,-1),Ur(this.vertexArray,-1,1,-1),Ur(this.vertexArray,1,1,-1),this.indices.emplaceBack(5,1,3),this.indices.emplaceBack(3,7,5),this.indices.emplaceBack(6,2,0),this.indices.emplaceBack(0,4,6),this.indices.emplaceBack(2,6,7),this.indices.emplaceBack(7,3,2),this.indices.emplaceBack(5,4,0),this.indices.emplaceBack(0,1,5),this.indices.emplaceBack(0,2,3),this.indices.emplaceBack(3,1,0),this.indices.emplaceBack(7,6,4),this.indices.emplaceBack(4,5,7),this.vertexBuffer=n.createVertexBuffer(this.vertexArray,Vr),this.indexBuffer=n.createIndexBuffer(this.indices),this.segment=e.SegmentVector.simpleSegment(0,0,36,12)}));function Gr(t,n,r,i,a,o){var s=t.gl,l=n.paint.get("sky-atmosphere-color"),c=n.paint.get("sky-atmosphere-halo-color"),u=n.paint.get("sky-atmosphere-sun-intensity"),d=function(e,t,n,r,i){return{u_matrix_3f:e,u_sun_direction:t,u_sun_intensity:n,u_color_tint_r:[r.r,r.g,r.b,r.a],u_color_tint_m:[i.r,i.g,i.b,i.a],u_luminance:5e-5}}(e.fromMat4(e.create$1(),i),a,u,l,c);s.framebufferTexture2D(s.FRAMEBUFFER,s.COLOR_ATTACHMENT0,s.TEXTURE_CUBE_MAP_POSITIVE_X+o,n.skyboxTexture,0),r.draw(t,s.TRIANGLES,e.DepthMode.disabled,e.StencilMode.disabled,e.ColorMode.unblended,e.CullFaceMode.frontCW,d,"skyboxCapture",n.skyboxGeometry.vertexBuffer,n.skyboxGeometry.indexBuffer,n.skyboxGeometry.segment)}var Wr=e.createLayout([{type:"Float32",name:"a_pos",components:3},{type:"Float32",name:"a_uv",components:2}]),qr=function(){function t(n){h(this,t);var r=new e.StructArrayLayout5f20;r.emplaceBack(-1,1,1,0,0),r.emplaceBack(1,1,1,1,0),r.emplaceBack(1,-1,1,1,1),r.emplaceBack(-1,-1,1,0,1);var i=new e.StructArrayLayout3ui6;i.emplaceBack(0,1,2),i.emplaceBack(2,3,0),this.vertexBuffer=n.createVertexBuffer(r,Wr.members),this.indexBuffer=n.createIndexBuffer(i),this.segments=e.SegmentVector.simpleSegment(0,0,4,2)}return p(t,[{key:"destroy",value:function(){this.vertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy()}}]),t}(),Xr={symbol:function(t,n,r,i,a){if("translucent"===t.renderPass){var o=e.StencilMode.disabled,s=t.colorModeForRenderPass();r.layout.get("text-variable-anchor")&&function(t,n,r,i,a,o,s){var l,c=n.transform,u="map"===a,d="map"===o,h=f(t);try{for(h.s();!(l=h.n()).done;){var p=l.value,m=i.getTile(p),v=m.getBucket(r);if(v&&v.text&&v.text.segments.get().length){var g=e.evaluateSizeForZoom(v.textSizeData,c.zoom),y=zt(p,v.getProjection(),c),x=c.calculatePixelsToTileUnitsMatrix(m),b=pt(y,m.tileID.canonical,d,u,c,v.getProjection(),x),_="none"!==r.layout.get("icon-text-fit")&&v.hasIconData();if(g){var w=Math.pow(2,c.zoom-m.tileID.overscaledZ);Er(v,u,d,s,e.symbolSize,c,b,p,w,g,_)}}}}catch(k){h.e(k)}finally{h.f()}}(i,t,r,n,r.layout.get("text-rotation-alignment"),r.layout.get("text-pitch-alignment"),a),0!==r.paint.get("icon-opacity").constantOr(1)&&Tr(t,n,r,i,!1,r.paint.get("icon-translate"),r.paint.get("icon-translate-anchor"),r.layout.get("icon-rotation-alignment"),r.layout.get("icon-pitch-alignment"),r.layout.get("icon-keep-upright"),o,s),0!==r.paint.get("text-opacity").constantOr(1)&&Tr(t,n,r,i,!0,r.paint.get("text-translate"),r.paint.get("text-translate-anchor"),r.layout.get("text-rotation-alignment"),r.layout.get("text-pitch-alignment"),r.layout.get("text-keep-upright"),o,s),n.map.showCollisionBoxes&&(wr(t,n,r,i,r.paint.get("text-translate"),r.paint.get("text-translate-anchor"),!0),wr(t,n,r,i,r.paint.get("icon-translate"),r.paint.get("icon-translate-anchor"),!1))}},circle:function(t,n,r,i){if("translucent"===t.renderPass){var a=r.paint.get("circle-opacity"),o=r.paint.get("circle-stroke-width"),s=r.paint.get("circle-stroke-opacity"),l=void 0!==r.layout.get("circle-sort-key").constantOr(1);if(0!==a.constantOr(1)||0!==o.constantOr(1)&&0!==s.constantOr(1)){for(var c=t.context,u=c.gl,d=t.transform,h=t.depthModeForSublayer(0,e.DepthMode.ReadOnly),p=e.StencilMode.disabled,m=t.colorModeForRenderPass(),v="globe"===d.projection.name,g=[e.mercatorXfromLng(d.center.lng),e.mercatorYfromLat(d.center.lat)],y=[],x=0;x<i.length;x++){var b=i[x],_=n.getTile(b),w=_.getBucket(r);if(w&&w.projection.name===d.projection.name){var k=w.programConfigurations.get(r.id),S=nr(r);v&&S.push("PROJECTION_GLOBE_VIEW");var E=t.useProgram("circle",k,S),C=w.layoutVertexBuffer,T=w.globeExtVertexBuffer,M=w.indexBuffer,I=d.projection.createInversionMatrix(d,b.canonical),O={programConfiguration:k,program:E,layoutVertexBuffer:C,globeExtVertexBuffer:T,indexBuffer:M,uniformValues:tr(t,b,_,I,g,r),tile:_};if(l){var P,A=w.segments.get(),z=f(A);try{for(z.s();!(P=z.n()).done;){var j=P.value;y.push({segments:new e.SegmentVector([j]),sortKey:j.sortKey,state:O})}}catch(Z){z.e(Z)}finally{z.f()}}else y.push({segments:w.segments,sortKey:0,state:O})}}l&&y.sort((function(e,t){return e.sortKey-t.sortKey}));for(var R={useDepthForOcclusion:!v},D=0,L=y;D<L.length;D++){var N=L[D],B=N.state,F=B.programConfiguration,V=B.program,U=B.layoutVertexBuffer,H=B.globeExtVertexBuffer,G=B.indexBuffer,W=B.uniformValues,q=B.tile,X=N.segments;t.terrain&&t.terrain.setupElevationDraw(q,V,R),t.prepareDrawProgram(c,V,q.tileID.toUnwrapped()),V.draw(c,u.TRIANGLES,h,p,m,e.CullFaceMode.disabled,W,r.id,U,G,X,r.paint,d.zoom,F,[H])}}}},heatmap:function(t,n,r,i){if(0!==r.paint.get("heatmap-opacity"))if("offscreen"===t.renderPass){var a=t.context,o=a.gl,s=e.StencilMode.disabled,l=new e.ColorMode([o.ONE,o.ONE],e.Color.transparent,[!0,!0,!0,!0]);!function(e,t,n,r){var i=e.gl,a=t.width*r,o=t.height*r;e.activeTexture.set(i.TEXTURE1),e.viewport.set([0,0,a,o]);var s=n.heatmapFbo;if(!s||s&&(s.width!==a||s.height!==o)){s&&s.destroy();var l=i.createTexture();i.bindTexture(i.TEXTURE_2D,l),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_WRAP_S,i.CLAMP_TO_EDGE),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_WRAP_T,i.CLAMP_TO_EDGE),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MIN_FILTER,i.LINEAR),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MAG_FILTER,i.LINEAR),s=n.heatmapFbo=e.createFramebuffer(a,o,!1),function(e,t,n,r,i,a){var o=e.gl;o.texImage2D(o.TEXTURE_2D,0,o.RGBA,i,a,0,o.RGBA,e.extRenderToTextureHalfFloat?e.extTextureHalfFloat.HALF_FLOAT_OES:o.UNSIGNED_BYTE,null),r.colorAttachment.set(n)}(e,0,l,s,a,o)}else i.bindTexture(i.TEXTURE_2D,s.colorAttachment.get()),e.bindFramebuffer.set(s.framebuffer)}(a,t,r,"globe"===t.transform.projection.name?.5:.25),a.clear({color:e.Color.transparent});for(var c=t.transform,u="globe"===c.projection.name,d=u?["PROJECTION_GLOBE_VIEW"]:null,f=u?e.CullFaceMode.frontCCW:e.CullFaceMode.disabled,h=[e.mercatorXfromLng(c.center.lng),e.mercatorYfromLat(c.center.lat)],p=0;p<i.length;p++){var m=i[p];if(!n.hasRenderableParent(m)){var v=n.getTile(m),g=v.getBucket(r);if(g&&g.projection.name===c.projection.name){var y=g.programConfigurations.get(r.id),x=t.useProgram("heatmap",y,d),b=t.transform.zoom;t.terrain&&t.terrain.setupElevationDraw(v,x),t.prepareDrawProgram(a,x,m.toUnwrapped());var _=c.projection.createInversionMatrix(c,m.canonical);x.draw(a,o.TRIANGLES,e.DepthMode.disabled,s,l,f,or(t,m,v,_,h,b,r.paint.get("heatmap-intensity")),r.id,g.layoutVertexBuffer,g.indexBuffer,g.segments,r.paint,t.transform.zoom,y,u?[g.globeExtVertexBuffer]:null)}}}a.viewport.set([0,0,t.width,t.height])}else"translucent"===t.renderPass&&(t.context.setColorMode(t.colorModeForRenderPass()),function(t,n){var r=t.context,i=r.gl,a=n.heatmapFbo;if(a){r.activeTexture.set(i.TEXTURE0),i.bindTexture(i.TEXTURE_2D,a.colorAttachment.get()),r.activeTexture.set(i.TEXTURE1);var o=n.colorRampTexture;o||(o=n.colorRampTexture=new e.Texture(r,n.colorRamp,i.RGBA)),o.bind(i.LINEAR,i.CLAMP_TO_EDGE),t.useProgram("heatmapTexture").draw(r,i.TRIANGLES,e.DepthMode.disabled,e.StencilMode.disabled,t.colorModeForRenderPass(),e.CullFaceMode.disabled,function(e,t,n,r){return{u_image:0,u_color_ramp:1,u_opacity:t.paint.get("heatmap-opacity")}}(0,n),n.id,t.viewportBuffer,t.quadTriangleIndexBuffer,t.viewportSegments,n.paint,t.transform.zoom)}}(t,r))},line:function(t,n,r,i){if("translucent"===t.renderPass){var a=r.paint.get("line-opacity"),o=r.paint.get("line-width");if(0!==a.constantOr(1)&&0!==o.constantOr(1)){var s=t.depthModeForSublayer(0,e.DepthMode.ReadOnly),l=t.colorModeForRenderPass(),c=t.terrain&&t.terrain.renderingToTexture?1:e.exported.devicePixelRatio,u=r.paint.get("line-dasharray"),h=u.constantOr(1),p=r.layout.get("line-cap"),m=r.paint.get("line-pattern"),v=m.constantOr(1),g=r.paint.get("line-gradient"),y=v?"linePattern":"line",x=t.context,b=x.gl,_=function(e){var t=[];dr(e)&&t.push("RENDER_LINE_DASH"),e.paint.get("line-gradient")&&t.push("RENDER_LINE_GRADIENT");var n=e.paint.get("line-trim-offset");0===n[0]&&0===n[1]||t.push("RENDER_LINE_TRIM_OFFSET");var r=e.paint.get("line-pattern").constantOr(1),i=1!==e.paint.get("line-opacity").constantOr(1);return!r&&i&&t.push("RENDER_LINE_ALPHA_DISCARD"),t}(r),w=_.includes("RENDER_LINE_ALPHA_DISCARD");t.terrain&&t.terrain.clipOrMaskOverlapStencilType()&&(w=!1);var k,S=f(i);try{var E=function(){var i=k.value,a=n.getTile(i);if(v&&!a.patternsLoaded())return"continue";var o=a.getBucket(r);if(!o)return"continue";t.prepareDrawTile();var f=o.programConfigurations.get(r.id),S=t.useProgram(y,f,_),E=m.constantOr(null);if(E&&a.imageAtlas){var C=a.imageAtlas.patternPositions[E.toString()];C&&f.setConstantPatternPositions(C)}var T=u.constantOr(null),M=p.constantOr(null);if(!v&&T&&M&&a.lineAtlas){var I=a.lineAtlas.getDash(T,M);I&&f.setConstantPatternPositions(I)}var O=r.paint.get("line-trim-offset"),P=d(O,2),A=P[0],z=P[1];if("round"===M||"square"===M){var j=1;A!==z&&(0===A&&(A-=j),1===z&&(z+=j))}var R=t.terrain?i.projMatrix:null,D=v?lr(t,a,r,R,c):sr(t,a,r,R,o.lineClipsArray.length,c,[A,z]);if(g){var L=o.gradients[r.id],N=L.texture;if(r.gradientVersion!==L.version){var B=256;if(r.stepInterpolant){var F=n.getSource().maxzoom,V=i.canonical.z===F?Math.ceil(1<<t.transform.maxZoom-i.canonical.z):1;B=e.clamp(e.nextPowerOfTwo(o.maxLineLength/e.EXTENT*1024*V),256,x.maxTextureSize)}L.gradient=e.renderColorRamp({expression:r.gradientExpression(),evaluationKey:"lineProgress",resolution:B,image:L.gradient||void 0,clips:o.lineClipsArray}),L.texture?L.texture.update(L.gradient):L.texture=new e.Texture(x,L.gradient,b.RGBA),L.version=r.gradientVersion,N=L.texture}x.activeTexture.set(b.TEXTURE1),N.bind(r.stepInterpolant?b.NEAREST:b.LINEAR,b.CLAMP_TO_EDGE)}h&&(x.activeTexture.set(b.TEXTURE0),a.lineAtlasTexture.bind(b.LINEAR,b.REPEAT),f.updatePaintBuffers()),v&&(x.activeTexture.set(b.TEXTURE0),a.imageAtlasTexture.bind(b.LINEAR,b.CLAMP_TO_EDGE),f.updatePaintBuffers()),t.prepareDrawProgram(x,S,i.toUnwrapped());var U=function(n){S.draw(x,b.TRIANGLES,s,n,l,e.CullFaceMode.disabled,D,r.id,o.layoutVertexBuffer,o.indexBuffer,o.segments,r.paint,t.transform.zoom,f,[o.layoutVertexBuffer2])};if(w){var H=t.stencilModeForClipping(i).ref;0===H&&t.terrain&&x.clear({stencil:0});var G={func:b.EQUAL,mask:255};D.u_alpha_discard_threshold=.8,U(new e.StencilMode(G,H,255,b.KEEP,b.KEEP,b.INVERT)),D.u_alpha_discard_threshold=0,U(new e.StencilMode(G,H,255,b.KEEP,b.KEEP,b.KEEP))}else U(t.stencilModeForClipping(i))};for(S.s();!(k=S.n()).done;)E()}catch(C){S.e(C)}finally{S.f()}w&&(t.resetStencilClippingMasks(),t.terrain&&x.clear({stencil:0}))}}},fill:function(t,n,r,i){var a=r.paint.get("fill-color"),o=r.paint.get("fill-opacity");if(0!==o.constantOr(1)){var s=t.colorModeForRenderPass(),l=r.paint.get("fill-pattern"),c=t.opaquePassEnabledForLayer()&&!l.constantOr(1)&&1===a.constantOr(e.Color.transparent).a&&1===o.constantOr(0)?"opaque":"translucent";if(t.renderPass===c){var u=t.depthModeForSublayer(1,"opaque"===t.renderPass?e.DepthMode.ReadWrite:e.DepthMode.ReadOnly);Ir(t,n,r,i,u,s,!1)}if("translucent"===t.renderPass&&r.paint.get("fill-antialias")){var d=t.depthModeForSublayer(r.getPaintProperty("fill-outline-color")?2:0,e.DepthMode.ReadOnly);Ir(t,n,r,i,d,s,!0)}}},"fill-extrusion":function(t,n,r,i){var a=r.paint.get("fill-extrusion-opacity");if(0!==a&&"translucent"===t.renderPass){var o=new e.DepthMode(t.context.gl.LEQUAL,e.DepthMode.ReadWrite,t.depthRangeFor3D);if(1!==a||r.paint.get("fill-extrusion-pattern").constantOr(1))Or(t,n,r,i,o,e.StencilMode.disabled,e.ColorMode.disabled),Or(t,n,r,i,o,t.stencilModeFor3D(),t.colorModeForRenderPass()),t.resetStencilClippingMasks();else{var s=t.colorModeForRenderPass();Or(t,n,r,i,o,e.StencilMode.disabled,s)}}},hillshade:function(t,n,r,i){if("offscreen"===t.renderPass||"translucent"===t.renderPass){var a,o=t.context,s=t.depthModeForSublayer(0,e.DepthMode.ReadOnly),l=t.colorModeForRenderPass(),c=t.terrain&&t.terrain.renderingToTexture,u="translucent"!==t.renderPass||c?[{},i]:t.stencilConfigForOverlap(i),h=d(u,2),p=h[0],m=h[1],v=f(m);try{for(v.s();!(a=v.n()).done;){var g=a.value,y=n.getTile(g);if(y.needsHillshadePrepare&&"offscreen"===t.renderPass)Pn(t,y,r,s,e.StencilMode.disabled,l);else if("translucent"===t.renderPass){var x=c&&t.terrain?t.terrain.stencilModeForRTTOverlap(g):p[g.overscaledZ];In(t,g,y,r,s,x,l)}}}catch(b){v.e(b)}finally{v.f()}o.viewport.set([0,0,t.width,t.height]),t.resetStencilClippingMasks()}},raster:function(t,n,r,i,a,o){if("translucent"===t.renderPass&&0!==r.paint.get("raster-opacity")&&i.length){var s,l=t.context,c=l.gl,u=n.getSource(),h=t.useProgram("raster"),p=t.colorModeForRenderPass(),m=t.terrain&&t.terrain.renderingToTexture,v=u instanceof He||m?[{},i]:t.stencilConfigForOverlap(i),g=d(v,2),y=g[0],x=g[1],b=x[x.length-1].overscaledZ,_=!t.options.moving,w=f(x);try{for(w.s();!(s=w.n()).done;){var k=s.value,S=m?e.DepthMode.disabled:t.depthModeForSublayer(k.overscaledZ-b,1===r.paint.get("raster-opacity")?e.DepthMode.ReadWrite:e.DepthMode.ReadOnly,c.LESS),E=k.toUnwrapped(),C=n.getTile(k);if(!m||C&&C.hasData()){var T=m?k.projMatrix:t.transform.calculateProjMatrix(E,_),M=t.terrain&&m?t.terrain.stencilModeForRTTOverlap(k):y[k.overscaledZ],I=o?0:r.paint.get("raster-fade-duration");C.registerFadeDuration(I);var O=n.findLoadedParent(k,0),P=Fn(C,O,n,t.transform,I),A=void 0,z=void 0;t.terrain&&t.terrain.prepareDrawTile();var j="nearest"===r.paint.get("raster-resampling")?c.NEAREST:c.LINEAR;l.activeTexture.set(c.TEXTURE0),C.texture.bind(j,c.CLAMP_TO_EDGE),l.activeTexture.set(c.TEXTURE1),O?(O.texture.bind(j,c.CLAMP_TO_EDGE),A=Math.pow(2,O.tileID.overscaledZ-C.tileID.overscaledZ),z=[C.tileID.canonical.x*A%1,C.tileID.canonical.y*A%1]):C.texture.bind(j,c.CLAMP_TO_EDGE);var R=fr(T,z||[0,0],A||1,P,r,u instanceof He?u.perspectiveTransform:[0,0]);if(t.prepareDrawProgram(l,h,E),u instanceof He)u.boundsBuffer&&u.boundsSegments&&h.draw(l,c.TRIANGLES,S,e.StencilMode.disabled,p,e.CullFaceMode.disabled,R,r.id,u.boundsBuffer,t.quadTriangleIndexBuffer,u.boundsSegments);else{var D=t.getTileBoundsBuffers(C),L=D.tileBoundsBuffer,N=D.tileBoundsIndexBuffer,B=D.tileBoundsSegments;h.draw(l,c.TRIANGLES,S,M,p,e.CullFaceMode.disabled,R,r.id,L,N,B)}}}}catch(F){w.e(F)}finally{w.f()}t.resetStencilClippingMasks()}},background:function(t,n,r,i){var a=r.paint.get("background-color"),o=r.paint.get("background-opacity");if(0!==o){var s=t.context,l=s.gl,c=t.transform,u=c.tileSize,d=r.paint.get("background-pattern");if(!t.isPatternMissing(d)){var h=!d&&1===a.a&&1===o&&t.opaquePassEnabledForLayer()?"opaque":"translucent";if(t.renderPass===h){var p,m=e.StencilMode.disabled,v=t.depthModeForSublayer(0,"opaque"===h?e.DepthMode.ReadWrite:e.DepthMode.ReadOnly),g=t.colorModeForRenderPass(),y=t.useProgram(d?"backgroundPattern":"background"),x=i;x||(p=t.getBackgroundTiles(),x=Object.values(p).map((function(e){return e.tileID}))),d&&(s.activeTexture.set(l.TEXTURE0),t.imageManager.bind(t.context));var b,_=f(x);try{for(_.s();!(b=_.n()).done;){var w=b.value,k=w.toUnwrapped(),S=i?w.projMatrix:t.transform.calculateProjMatrix(k);t.prepareDrawTile();var E=n?n.getTile(w):p?p[w.key]:new e.Tile(w,u,c.zoom,t),C=d?br(S,o,t,d,{tileID:w,tileSize:u}):xr(S,o,a);t.prepareDrawProgram(s,y,k);var T=t.getTileBoundsBuffers(E),M=T.tileBoundsBuffer,I=T.tileBoundsIndexBuffer,O=T.tileBoundsSegments;y.draw(s,l.TRIANGLES,v,m,g,e.CullFaceMode.disabled,C,r.id,M,I,O)}}catch(P){_.e(P)}finally{_.f()}}}}},sky:function(t,n,r){var i=t.transform,a="mercator"===i.projection.name||"globe"===i.projection.name?1:e.smoothstep(7,8,i.zoom),o=r.paint.get("sky-opacity")*a;if(0!==o){var s=t.context,l=r.paint.get("sky-type"),c=new e.DepthMode(s.gl.LEQUAL,e.DepthMode.ReadOnly,[0,1]),u=t.frameCounter/1e3%1;"atmosphere"===l?"offscreen"===t.renderPass?r.needsSkyboxCapture(t)&&(function(t,n,r,i){var a=t.context,o=a.gl,s=n.skyboxFbo;if(!s){s=n.skyboxFbo=a.createFramebuffer(32,32,!1),n.skyboxGeometry=new Hr(a),n.skyboxTexture=a.gl.createTexture(),o.bindTexture(o.TEXTURE_CUBE_MAP,n.skyboxTexture),o.texParameteri(o.TEXTURE_CUBE_MAP,o.TEXTURE_WRAP_S,o.CLAMP_TO_EDGE),o.texParameteri(o.TEXTURE_CUBE_MAP,o.TEXTURE_WRAP_T,o.CLAMP_TO_EDGE),o.texParameteri(o.TEXTURE_CUBE_MAP,o.TEXTURE_MIN_FILTER,o.LINEAR),o.texParameteri(o.TEXTURE_CUBE_MAP,o.TEXTURE_MAG_FILTER,o.LINEAR);for(var l=0;l<6;++l)o.texImage2D(o.TEXTURE_CUBE_MAP_POSITIVE_X+l,0,o.RGBA,32,32,0,o.RGBA,o.UNSIGNED_BYTE,null)}a.bindFramebuffer.set(s.framebuffer),a.viewport.set([0,0,32,32]);var c=n.getCenter(t,!0),u=t.useProgram("skyboxCapture"),d=new Float64Array(16);e.identity(d),e.rotateY(d,d,.5*-Math.PI),Gr(a,n,u,d,c,0),e.identity(d),e.rotateY(d,d,.5*Math.PI),Gr(a,n,u,d,c,1),e.identity(d),e.rotateX(d,d,.5*-Math.PI),Gr(a,n,u,d,c,2),e.identity(d),e.rotateX(d,d,.5*Math.PI),Gr(a,n,u,d,c,3),e.identity(d),Gr(a,n,u,d,c,4),e.identity(d),e.rotateY(d,d,Math.PI),Gr(a,n,u,d,c,5),a.viewport.set([0,0,t.width,t.height])}(t,r),r.markSkyboxValid(t)):"sky"===t.renderPass&&function(t,n,r,i,a){var o=t.context,s=o.gl,l=t.transform,c=t.useProgram("skybox");o.activeTexture.set(s.TEXTURE0),s.bindTexture(s.TEXTURE_CUBE_MAP,n.skyboxTexture);var u=function(e,t,n,r,i){return{u_matrix:e,u_sun_direction:t,u_cubemap:0,u_opacity:r,u_temporal_offset:i}}(l.skyboxMatrix,n.getCenter(t,!1),0,i,a);t.prepareDrawProgram(o,c),c.draw(o,s.TRIANGLES,r,e.StencilMode.disabled,t.colorModeForRenderPass(),e.CullFaceMode.backCW,u,"skybox",n.skyboxGeometry.vertexBuffer,n.skyboxGeometry.indexBuffer,n.skyboxGeometry.segment)}(t,r,c,o,u):"gradient"===l&&"sky"===t.renderPass&&function(t,n,r,i,a){var o=t.context,s=o.gl,l=t.transform,c=t.useProgram("skyboxGradient");n.skyboxGeometry||(n.skyboxGeometry=new Hr(o)),o.activeTexture.set(s.TEXTURE0);var u=n.colorRampTexture;u||(u=n.colorRampTexture=new e.Texture(o,n.colorRamp,s.RGBA)),u.bind(s.LINEAR,s.CLAMP_TO_EDGE);var d=function(t,n,r,i,a){return{u_matrix:t,u_color_ramp:0,u_center_direction:n,u_radius:e.degToRad(r),u_opacity:i,u_temporal_offset:a}}(l.skyboxMatrix,n.getCenter(t,!1),n.paint.get("sky-gradient-radius"),i,a);t.prepareDrawProgram(o,c),c.draw(o,s.TRIANGLES,r,e.StencilMode.disabled,t.colorModeForRenderPass(),e.CullFaceMode.backCW,d,"skyboxGradient",n.skyboxGeometry.vertexBuffer,n.skyboxGeometry.indexBuffer,n.skyboxGeometry.segment)}(t,r,c,o,u)}},debug:function(e,t,n){for(var r=0;r<n.length;r++)Lr(e,t,n[r])},custom:function(t,n,r){var i=t.context,a=r.implementation;if(t.transform.projection.unsupportedLayers&&t.transform.projection.unsupportedLayers.includes("custom"))e.warnOnce("Custom layers are not yet supported with non-mercator projections. Use mercator to enable custom layers.");else if("offscreen"===t.renderPass){var o=a.prerender;o&&(t.setCustomLayerDefaults(),i.setColorMode(t.colorModeForRenderPass()),o.call(a,i.gl,t.transform.customLayerMatrix()),i.setDirty(),t.setBaseState())}else if("translucent"===t.renderPass){t.setCustomLayerDefaults(),i.setColorMode(t.colorModeForRenderPass()),i.setStencilMode(e.StencilMode.disabled);var s="3d"===a.renderingMode?new e.DepthMode(t.context.gl.LEQUAL,e.DepthMode.ReadWrite,t.depthRangeFor3D):t.depthModeForSublayer(0,e.DepthMode.ReadOnly);i.setDepthMode(s),a.render(i.gl,t.transform.customLayerMatrix()),i.setDirty(),t.setBaseState(),i.bindFramebuffer.set(null)}}},Zr=function(){function t(n,r){h(this,t),this.context=new Fe(n),this.transform=r,this._tileTextures={},this.frameCopies=[],this.loadTimeStamps=[],this.setup(),this.numSublayers=e.SourceCache.maxUnderzooming+e.SourceCache.maxOverzooming+1,this.depthEpsilon=1/Math.pow(2,16),this.crossTileSymbolIndex=new on,this.deferredRenderGpuTimeQueries=[],this.gpuTimers={},this.frameCounter=0,this._backgroundTiles={}}return p(t,[{key:"updateTerrain",value:function(e,t){var n=!!e&&!!e.terrain&&this.transform.projection.supportsTerrain;if(n||this._terrain&&this._terrain.enabled){this._terrain||(this._terrain=new Gn(this,e));var r=this._terrain;this.transform.elevation=n?r:null,r.update(e,this.transform,t)}}},{key:"_updateFog",value:function(e){var t=e.fog;if(!t||"globe"===this.transform.projection.name||t.getOpacity(this.transform.pitch)<1||t.properties.get("horizon-blend")<.03)this.transform.fogCullDistSq=null;else{var n=t.getFovAdjustedRange(this.transform._fov),r=d(n,2),i=r[0],a=r[1];if(i>a)this.transform.fogCullDistSq=null;else{var o=i+.78*(a-i);this.transform.fogCullDistSq=o*o}}}},{key:"terrain",get:function(){return this.transform._terrainEnabled()&&this._terrain&&this._terrain.enabled?this._terrain:null}},{key:"resize",value:function(t,n){if(this.width=t*e.exported.devicePixelRatio,this.height=n*e.exported.devicePixelRatio,this.context.viewport.set([0,0,this.width,this.height]),this.style){var r,i=f(this.style.order);try{for(i.s();!(r=i.n()).done;){var a=r.value;this.style._layers[a].resize()}}catch(o){i.e(o)}finally{i.f()}}}},{key:"setup",value:function(){var t=this.context,n=new e.StructArrayLayout2i4;n.emplaceBack(0,0),n.emplaceBack(e.EXTENT,0),n.emplaceBack(0,e.EXTENT),n.emplaceBack(e.EXTENT,e.EXTENT),this.tileExtentBuffer=t.createVertexBuffer(n,e.posAttributes.members),this.tileExtentSegments=e.SegmentVector.simpleSegment(0,0,4,2);var r=new e.StructArrayLayout2i4;r.emplaceBack(0,0),r.emplaceBack(e.EXTENT,0),r.emplaceBack(0,e.EXTENT),r.emplaceBack(e.EXTENT,e.EXTENT),this.debugBuffer=t.createVertexBuffer(r,e.posAttributes.members),this.debugSegments=e.SegmentVector.simpleSegment(0,0,4,5);var i=new e.StructArrayLayout2i4;i.emplaceBack(-1,-1),i.emplaceBack(1,-1),i.emplaceBack(-1,1),i.emplaceBack(1,1),this.viewportBuffer=t.createVertexBuffer(i,e.posAttributes.members),this.viewportSegments=e.SegmentVector.simpleSegment(0,0,4,2);var a=new e.StructArrayLayout4i8;a.emplaceBack(0,0,0,0),a.emplaceBack(e.EXTENT,0,e.EXTENT,0),a.emplaceBack(0,e.EXTENT,0,e.EXTENT),a.emplaceBack(e.EXTENT,e.EXTENT,e.EXTENT,e.EXTENT),this.mercatorBoundsBuffer=t.createVertexBuffer(a,e.boundsAttributes.members),this.mercatorBoundsSegments=e.SegmentVector.simpleSegment(0,0,4,2);var o=new e.StructArrayLayout3ui6;o.emplaceBack(0,1,2),o.emplaceBack(2,1,3),this.quadTriangleIndexBuffer=t.createIndexBuffer(o);for(var s=new e.StructArrayLayout1ui2,l=0,c=[0,1,3,2,0];l<c.length;l++){var u=c[l];s.emplaceBack(u)}this.debugIndexBuffer=t.createIndexBuffer(s),this.emptyTexture=new e.Texture(t,new e.RGBAImage({width:1,height:1},Uint8Array.of(0,0,0,0)),t.gl.RGBA),this.identityMat=e.create();var d=this.context.gl;this.stencilClearMode=new e.StencilMode({func:d.ALWAYS,mask:0},0,255,d.ZERO,d.ZERO,d.ZERO),this.loadTimeStamps.push(e.window.performance.now()),this.atmosphereBuffer=new qr(this.context)}},{key:"getMercatorTileBoundsBuffers",value:function(){return{tileBoundsBuffer:this.mercatorBoundsBuffer,tileBoundsIndexBuffer:this.quadTriangleIndexBuffer,tileBoundsSegments:this.mercatorBoundsSegments}}},{key:"getTileBoundsBuffers",value:function(e){return e._makeTileBoundsBuffers(this.context,this.transform.projection),e._tileBoundsBuffer?{tileBoundsBuffer:e._tileBoundsBuffer,tileBoundsIndexBuffer:e._tileBoundsIndexBuffer,tileBoundsSegments:e._tileBoundsSegments}:this.getMercatorTileBoundsBuffers()}},{key:"clearStencil",value:function(){var t=this.context,n=t.gl;this.nextStencilID=1,this.currentStencilSource=void 0,this._tileClippingMaskIDs={},this.useProgram("clippingMask").draw(t,n.TRIANGLES,e.DepthMode.disabled,this.stencilClearMode,e.ColorMode.disabled,e.CullFaceMode.disabled,Bn(this.identityMat),"$clipping",this.viewportBuffer,this.quadTriangleIndexBuffer,this.viewportSegments)}},{key:"resetStencilClippingMasks",value:function(){this.terrain||(this.currentStencilSource=void 0,this._tileClippingMaskIDs={})}},{key:"_renderTileClippingMasks",value:function(t,n,r){if(n&&this.currentStencilSource!==n.id&&t.isTileClipped()&&r&&0!==r.length){if(this._tileClippingMaskIDs&&!this.terrain){var i,a=!1,o=f(r);try{for(o.s();!(i=o.n()).done;){var s=i.value;if(void 0===this._tileClippingMaskIDs[s.key]){a=!0;break}}}catch(_){o.e(_)}finally{o.f()}if(!a)return}this.currentStencilSource=n.id;var l=this.context,c=l.gl;this.nextStencilID+r.length>256&&this.clearStencil(),l.setColorMode(e.ColorMode.disabled),l.setDepthMode(e.DepthMode.disabled);var u=this.useProgram("clippingMask");this._tileClippingMaskIDs={};var d,h=f(r);try{for(h.s();!(d=h.n()).done;){var p=d.value,m=n.getTile(p),v=this._tileClippingMaskIDs[p.key]=this.nextStencilID++,g=this.getTileBoundsBuffers(m),y=g.tileBoundsBuffer,x=g.tileBoundsIndexBuffer,b=g.tileBoundsSegments;u.draw(l,c.TRIANGLES,e.DepthMode.disabled,new e.StencilMode({func:c.ALWAYS,mask:0},v,255,c.KEEP,c.KEEP,c.REPLACE),e.ColorMode.disabled,e.CullFaceMode.disabled,Bn(p.projMatrix),"$clipping",y,x,b)}}catch(_){h.e(_)}finally{h.f()}}}},{key:"stencilModeFor3D",value:function(){this.currentStencilSource=void 0,this.nextStencilID+1>256&&this.clearStencil();var t=this.nextStencilID++,n=this.context.gl;return new e.StencilMode({func:n.NOTEQUAL,mask:255},t,255,n.KEEP,n.KEEP,n.REPLACE)}},{key:"stencilModeForClipping",value:function(t){if(this.terrain)return this.terrain.stencilModeForRTTOverlap(t);var n=this.context.gl;return new e.StencilMode({func:n.EQUAL,mask:255},this._tileClippingMaskIDs[t.key],0,n.KEEP,n.KEEP,n.REPLACE)}},{key:"stencilConfigForOverlap",value:function(t){var n=this.context.gl,i=t.sort((function(e,t){return t.overscaledZ-e.overscaledZ})),a=i[i.length-1].overscaledZ,o=i[0].overscaledZ-a+1;if(o>1){this.currentStencilSource=void 0,this.nextStencilID+o>256&&this.clearStencil();for(var s={},l=0;l<o;l++)s[l+a]=new e.StencilMode({func:n.GEQUAL,mask:255},l+this.nextStencilID,255,n.KEEP,n.KEEP,n.REPLACE);return this.nextStencilID+=o,[s,i]}return[r({},a,e.StencilMode.disabled),i]}},{key:"colorModeForRenderPass",value:function(){var t=this.context.gl;if(this._showOverdrawInspector){var n=1/8;return new e.ColorMode([t.CONSTANT_COLOR,t.ONE],new e.Color(n,n,n,0),[!0,!0,!0,!0])}return"opaque"===this.renderPass?e.ColorMode.unblended:e.ColorMode.alphaBlended}},{key:"depthModeForSublayer",value:function(t,n,r){if(!this.opaquePassEnabledForLayer())return e.DepthMode.disabled;var i=1-((1+this.currentLayer)*this.numSublayers+t)*this.depthEpsilon;return new e.DepthMode(r||this.context.gl.LEQUAL,n,[i,i])}},{key:"opaquePassEnabledForLayer",value:function(){return this.currentLayer<this.opaquePassCutoff}},{key:"render",value:function(t,n){var r=this;this.style=t,this.options=n,this.imageManager=t.imageManager,this.glyphManager=t.glyphManager,this.symbolFadeChange=t.placement.symbolFadeChange(e.exported.now()),this.imageManager.beginFrame();var i=this.style.order,a=this.style._sourceCaches;for(var o in a){var s=a[o];s.used&&s.prepare(this.context)}var l={},c={},u={};for(var d in a){var h=a[d];l[d]=h.getVisibleCoordinates(),c[d]=l[d].slice().reverse(),u[d]=h.getVisibleCoordinates(!0).reverse()}this.opaquePassCutoff=1/0;for(var p=0;p<i.length;p++)if(this.style._layers[i[p]].is3D()){this.opaquePassCutoff=p;break}if(this.terrain&&(this.terrain.updateTileBinding(u),this.opaquePassCutoff=0),"globe"!==this.transform.projection.name||this.globeSharedBuffers||(this.globeSharedBuffers=new e.GlobeSharedBuffers(this.context)),e.isMapAuthenticated(this.context.gl)){this.renderPass="offscreen";var m,v=f(i);try{for(v.s();!(m=v.n()).done;){var g=m.value,y=this.style._layers[g],x=t._getLayerSourceCache(y);if(y.hasOffscreenPass()&&!y.isHidden(this.transform.zoom)){var b=x?c[x.id]:void 0;("custom"===y.type||y.isSky()||b&&b.length)&&this.renderLayer(this,x,y,b)}}}catch(O){v.e(O)}finally{v.f()}if(this.depthRangeFor3D=[0,1-(t.order.length+2)*this.numSublayers*this.depthEpsilon],this.terrain&&(this.style.hasSymbolLayers()||this.style.hasCircleLayers())&&this.terrain.drawDepth(),this.context.bindFramebuffer.set(null),this.context.viewport.set([0,0,this.width,this.height]),this.context.clear({color:n.showOverdrawInspector?e.Color.black:e.Color.transparent,depth:1}),this.clearStencil(),this._showOverdrawInspector=n.showOverdrawInspector,this.renderPass="opaque",!this.terrain)for(this.currentLayer=i.length-1;this.currentLayer>=0;this.currentLayer--){var _=this.style._layers[i[this.currentLayer]],w=t._getLayerSourceCache(_);if(!_.isSky()){var k=w?c[w.id]:void 0;this._renderTileClippingMasks(_,w,k),this.renderLayer(this,w,_,k)}}if(this.style.fog&&this.transform.projection.supportsFog&&function(t,n){var r=t.context,i=r.gl,a=t.transform,o=new e.DepthMode(i.LEQUAL,e.DepthMode.ReadOnly,[0,1]),s=t.useProgram("globeAtmosphere",null,"globe"===a.projection.name?["PROJECTION_GLOBE_VIEW","FOG"]:["FOG"]),l=e.globeToMercatorTransition(a.zoom),c=n.properties.get("color").toArray01(),u=n.properties.get("high-color").toArray01(),d=n.properties.get("space-color").toArray01PremultipliedAlpha(),f=e.identity$1([]);e.rotateY$1(f,f,-e.degToRad(a._center.lng)),e.rotateX$1(f,f,e.degToRad(a._center.lat)),e.rotateZ$1(f,f,a.angle),e.rotateX$1(f,f,-a._pitch);var h=e.fromQuat(new Float32Array(16),f),p=e.mapValue(n.properties.get("star-intensity"),0,1,0,.25),m=5e-4,v=e.mapValue(n.properties.get("horizon-blend"),0,1,m,.25),g=e.globeUseCustomAntiAliasing(t,r,a)&&v===m?a.worldSize/(2*Math.PI*1.025)-1:a.globeRadius,y=t.frameCounter/1e3%1,x=e.length(a.globeCenterInViewSpace),b=Math.sqrt(Math.pow(x,2)-Math.pow(g,2)),_=Math.acos(b/x),w=function(t,n,r,i,a,o,s,l,c,u,d,f,h,p){return{u_frustum_tl:t,u_frustum_tr:n,u_frustum_br:r,u_frustum_bl:i,u_horizon:a,u_transition:o,u_fadeout_range:s,u_color:l,u_high_color:c,u_space_color:u,u_star_intensity:d,u_star_size:5*e.exported.devicePixelRatio,u_star_density:0,u_temporal_offset:f,u_horizon_angle:h,u_rotation_matrix:p}}(a.frustumCorners.TL,a.frustumCorners.TR,a.frustumCorners.BR,a.frustumCorners.BL,a.frustumCorners.horizon,l,v,c,u,d,p,y,_,h);t.prepareDrawProgram(r,s);var k=t.atmosphereBuffer;k&&s.draw(r,i.TRIANGLES,o,e.StencilMode.disabled,e.ColorMode.alphaBlended,e.CullFaceMode.backCW,w,"skybox",k.vertexBuffer,k.indexBuffer,k.segments)}(this,this.style.fog),this.renderPass="sky",(e.globeToMercatorTransition(this.transform.zoom)>0||"globe"!==this.transform.projection.name)&&this.transform.isHorizonVisible())for(this.currentLayer=0;this.currentLayer<i.length;this.currentLayer++){var S=this.style._layers[i[this.currentLayer]],E=t._getLayerSourceCache(S);S.isSky()&&this.renderLayer(this,E,S,E?c[E.id]:void 0)}for(this.renderPass="translucent",this.currentLayer=0;this.currentLayer<i.length;){var C=this.style._layers[i[this.currentLayer]],T=t._getLayerSourceCache(C);if(C.isSky())++this.currentLayer;else if(this.terrain&&this.style.isLayerDraped(C)){if(C.isHidden(this.transform.zoom)){++this.currentLayer;continue}this.currentLayer=this.terrain.renderBatch(this.currentLayer)}else{var M=T?("symbol"===C.type?u:c)[T.id]:void 0;this._renderTileClippingMasks(C,T,T?l[T.id]:void 0),this.renderLayer(this,T,C,M),++this.currentLayer}}if(this.terrain&&this.terrain.postRender(),this.options.showTileBoundaries||this.options.showQueryGeometry||this.options.showTileAABBs){var I=null;e.values(this.style._layers).forEach((function(e){var n=t._getLayerSourceCache(e);n&&!e.isHidden(r.transform.zoom)&&(!I||I.getSource().maxzoom<n.getSource().maxzoom)&&(I=n)})),I&&this.options.showTileBoundaries&&Xr.debug(this,I,I.getVisibleCoordinates())}this.options.showPadding&&function(e){var t=e.transform.padding;Nr(e,e.transform.height-(t.top||0),3,Ar),Nr(e,t.bottom||0,3,zr),Br(e,t.left||0,3,jr),Br(e,e.transform.width-(t.right||0),3,Rr);var n=e.transform.centerPoint;!function(e,t,n,r){Fr(e,t-1,n-10,2,20,r),Fr(e,t-10,n-1,20,2,r)}(e,n.x,e.transform.height-n.y,Dr)}(this),this.context.setDefault(),this.frameCounter=(this.frameCounter+1)%Number.MAX_SAFE_INTEGER,this.tileLoaded&&this.options.speedIndexTiming&&(this.loadTimeStamps.push(e.window.performance.now()),this.saveCanvasCopy())}}},{key:"renderLayer",value:function(e,t,n,r){n.isHidden(this.transform.zoom)||("background"===n.type||"sky"===n.type||"custom"===n.type||r&&r.length)&&(this.id=n.id,this.gpuTimingStart(n),e.transform.projection.unsupportedLayers&&e.transform.projection.unsupportedLayers.includes(n.type)||Xr[n.type](e,t,n,r,this.style.placement.variableOffsets,this.options.isInitialLoad),this.gpuTimingEnd())}},{key:"gpuTimingStart",value:function(e){if(this.options.gpuTiming){var t=this.context.extTimerQuery,n=this.gpuTimers[e.id];n||(n=this.gpuTimers[e.id]={calls:0,cpuTime:0,query:t.createQueryEXT()}),n.calls++,t.beginQueryEXT(t.TIME_ELAPSED_EXT,n.query)}}},{key:"gpuTimingDeferredRenderStart",value:function(){if(this.options.gpuTimingDeferredRender){var e=this.context.extTimerQuery,t=e.createQueryEXT();this.deferredRenderGpuTimeQueries.push(t),e.beginQueryEXT(e.TIME_ELAPSED_EXT,t)}}},{key:"gpuTimingDeferredRenderEnd",value:function(){if(this.options.gpuTimingDeferredRender){var e=this.context.extTimerQuery;e.endQueryEXT(e.TIME_ELAPSED_EXT)}}},{key:"gpuTimingEnd",value:function(){if(this.options.gpuTiming){var e=this.context.extTimerQuery;e.endQueryEXT(e.TIME_ELAPSED_EXT)}}},{key:"collectGpuTimers",value:function(){var e=this.gpuTimers;return this.gpuTimers={},e}},{key:"collectDeferredRenderGpuQueries",value:function(){var e=this.deferredRenderGpuTimeQueries;return this.deferredRenderGpuTimeQueries=[],e}},{key:"queryGpuTimers",value:function(e){var t={};for(var n in e){var r=e[n],i=this.context.extTimerQuery,a=i.getQueryObjectEXT(r.query,i.QUERY_RESULT_EXT)/1e6;i.deleteQueryEXT(r.query),t[n]=a}return t}},{key:"queryGpuTimeDeferredRender",value:function(e){if(!this.options.gpuTimingDeferredRender)return 0;var t,n=this.context.extTimerQuery,r=0,i=f(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;r+=n.getQueryObjectEXT(a,n.QUERY_RESULT_EXT)/1e6,n.deleteQueryEXT(a)}}catch(o){i.e(o)}finally{i.f()}return r}},{key:"translatePosMatrix",value:function(t,n,r,i,a){if(!r[0]&&!r[1])return t;var o=a?"map"===i?this.transform.angle:0:"viewport"===i?-this.transform.angle:0;if(o){var s=Math.sin(o),l=Math.cos(o);r=[r[0]*l-r[1]*s,r[0]*s+r[1]*l]}var c=[a?r[0]:q(n,r[0],this.transform.zoom),a?r[1]:q(n,r[1],this.transform.zoom),0],u=new Float32Array(16);return e.translate(u,t,c),u}},{key:"saveTileTexture",value:function(e){var t=this._tileTextures[e.size[0]];t?t.push(e):this._tileTextures[e.size[0]]=[e]}},{key:"getTileTexture",value:function(e){var t=this._tileTextures[e];return t&&t.length>0?t.pop():null}},{key:"isPatternMissing",value:function(e){return null===e||void 0!==e&&!this.imageManager.getPattern(e.toString())}},{key:"terrainRenderModeElevated",value:function(){return this.style&&!!this.style.getTerrain()&&!!this.terrain&&!this.terrain.renderingToTexture}},{key:"currentGlobalDefines",value:function(){var e=this.terrain&&this.terrain.renderingToTexture,t=this.terrain&&0===this.terrain.exaggeration(),n=this.style&&this.style.fog,r=[];return this.terrainRenderModeElevated()&&r.push("TERRAIN"),"globe"===this.transform.projection.name&&r.push("GLOBE"),t&&r.push("ZERO_EXAGGERATION"),n&&!e&&0!==n.getOpacity(this.transform.pitch)&&r.push("FOG"),e&&r.push("RENDER_TO_TEXTURE"),this._showOverdrawInspector&&r.push("OVERDRAW_INSPECTOR"),r}},{key:"useProgram",value:function(e,t,n){this.cache=this.cache||{};var r=n||[],i=this.currentGlobalDefines().concat(r),a=Wn.cacheKey(Sn[e],e,i,t);return this.cache[a]||(this.cache[a]=new Wn(this.context,e,Sn[e],t,_r[e],i)),this.cache[a]}},{key:"setCustomLayerDefaults",value:function(){this.context.unbindVAO(),this.context.cullFace.setDefault(),this.context.frontFace.setDefault(),this.context.cullFaceSide.setDefault(),this.context.activeTexture.setDefault(),this.context.pixelStoreUnpack.setDefault(),this.context.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.context.pixelStoreUnpackFlipY.setDefault()}},{key:"setBaseState",value:function(){var e=this.context.gl;this.context.cullFace.set(!1),this.context.viewport.set([0,0,this.width,this.height]),this.context.blendEquation.set(e.FUNC_ADD)}},{key:"initDebugOverlayCanvas",value:function(){null==this.debugOverlayCanvas&&(this.debugOverlayCanvas=e.window.document.createElement("canvas"),this.debugOverlayCanvas.width=512,this.debugOverlayCanvas.height=512,this.debugOverlayTexture=new e.Texture(this.context,this.debugOverlayCanvas,this.context.gl.RGBA))}},{key:"destroy",value:function(){this._terrain&&this._terrain.destroy(),this.globeSharedBuffers&&this.globeSharedBuffers.destroy(),this.emptyTexture.destroy(),this.debugOverlayTexture&&this.debugOverlayTexture.destroy(),this.atmosphereBuffer&&this.atmosphereBuffer.destroy()}},{key:"prepareDrawTile",value:function(){this.terrain&&this.terrain.prepareDrawTile()}},{key:"prepareDrawProgram",value:function(t,n,r){if(!this.terrain||!this.terrain.renderingToTexture){var i=this.style.fog;if(i){var a=i.getOpacity(this.transform.pitch),o=function(t,n,r,i,a,o,s,l,c,u,d){var f=t.transform,h=n.properties.get("color").toArray01();h[3]=i;var p=t.frameCounter/1e3%1;return{u_fog_matrix:r?f.calculateFogTileMatrix(r):t.identityMat,u_fog_range:n.getFovAdjustedRange(f._fov),u_fog_color:h,u_fog_horizon_blend:n.properties.get("horizon-blend"),u_fog_temporal_offset:p,u_frustum_tl:a,u_frustum_tr:o,u_frustum_br:s,u_frustum_bl:l,u_globe_pos:c,u_globe_radius:u,u_viewport:d,u_globe_transition:e.globeToMercatorTransition(f.zoom),u_is_globe:+("globe"===f.projection.name)}}(this,i,r,a,this.transform.frustumCorners.TL,this.transform.frustumCorners.TR,this.transform.frustumCorners.BR,this.transform.frustumCorners.BL,this.transform.globeCenterInViewSpace,this.transform.globeRadius,[this.transform.width*e.exported.devicePixelRatio,this.transform.height*e.exported.devicePixelRatio]);n.setFogUniformValues(t,o)}}}},{key:"setTileLoadedFlag",value:function(e){this.tileLoaded=e}},{key:"saveCanvasCopy",value:function(){this.frameCopies.push(this.canvasCopy()),this.tileLoaded=!1}},{key:"canvasCopy",value:function(){var e=this.context.gl,t=e.createTexture();return e.bindTexture(e.TEXTURE_2D,t),e.copyTexImage2D(e.TEXTURE_2D,0,e.RGBA,0,0,e.drawingBufferWidth,e.drawingBufferHeight,0),t}},{key:"getCanvasCopiesAndTimestamps",value:function(){return{canvasCopies:this.frameCopies,timeStamps:this.loadTimeStamps}}},{key:"averageElevationNeedsEasing",value:function(){if(!this.transform._elevation)return!1;var e=this.style&&this.style.fog;return!!e&&0!==e.getOpacity(this.transform.pitch)}},{key:"getBackgroundTiles",value:function(){var t,n=this._backgroundTiles,r=this._backgroundTiles={},i=this.transform.coveringTiles({tileSize:512}),a=f(i);try{for(a.s();!(t=a.n()).done;){var o=t.value;r[o.key]=n[o.key]||new e.Tile(o,512,this.transform.tileZoom,this)}}catch(s){a.e(s)}finally{a.f()}return r}},{key:"clearBackgroundTiles",value:function(){this._backgroundTiles={}}}]),t}(),Kr=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;if(h(this,t),isNaN(e)||e<0||isNaN(n)||n<0||isNaN(r)||r<0||isNaN(i)||i<0)throw new Error("Invalid value for edge-insets, top, bottom, left and right must all be numbers");this.top=e,this.bottom=n,this.left=r,this.right=i}return p(t,[{key:"interpolate",value:function(t,n,r){return null!=n.top&&null!=t.top&&(this.top=e.number(t.top,n.top,r)),null!=n.bottom&&null!=t.bottom&&(this.bottom=e.number(t.bottom,n.bottom,r)),null!=n.left&&null!=t.left&&(this.left=e.number(t.left,n.left,r)),null!=n.right&&null!=t.right&&(this.right=e.number(t.right,n.right,r)),this}},{key:"getCenter",value:function(t,n){var r=e.clamp((this.left+t-this.right)/2,0,t),i=e.clamp((this.top+n-this.bottom)/2,0,n);return new e.pointGeometry(r,i)}},{key:"equals",value:function(e){return this.top===e.top&&this.bottom===e.bottom&&this.left===e.left&&this.right===e.right}},{key:"clone",value:function(){return new t(this.top,this.bottom,this.left,this.right)}},{key:"toJSON",value:function(){return{top:this.top,bottom:this.bottom,left:this.left,right:this.right}}}]),t}();function Yr(t,n){var r=e.getColumn(t,3);e.fromQuat(t,n),e.setColumn(t,3,r)}function $r(t,n){var r=e.identity$1([]);return e.rotateZ$1(r,r,-n),e.rotateX$1(r,r,-t),r}function Jr(t,n){var r=[t[0],t[1],0],i=[n[0],n[1],0];if(e.length(r)>=1e-15){var a=e.normalize([],r);e.scale$2(i,a,e.dot(i,a)),n[0]=i[0],n[1]=i[1]}var o=e.cross([],n,t);if(e.len(o)<1e-15)return null;var s=Math.atan2(-o[1],o[0]);return $r(Math.atan2(Math.sqrt(t[0]*t[0]+t[1]*t[1]),-t[2]),s)}var Qr=function(){function t(e,n){h(this,t),this.position=e,this.orientation=n}return p(t,[{key:"position",get:function(){return this._position},set:function(t){if(t){var n=t instanceof e.MercatorCoordinate?t:new e.MercatorCoordinate(t[0],t[1],t[2]);this._renderWorldCopies&&(n.x=e.wrap(n.x,0,1)),this._position=n}else this._position=null}},{key:"lookAtPoint",value:function(t,n){if(this.orientation=null,this.position){var r=this._elevation?this._elevation.getAtPointOrZero(e.MercatorCoordinate.fromLngLat(t)):0,i=this.position,a=e.MercatorCoordinate.fromLngLat(t,r),o=[a.x-i.x,a.y-i.y,a.z-i.z];n||(n=[0,0,1]),n[2]=Math.abs(n[2]),this.orientation=Jr(o,n)}}},{key:"setPitchBearing",value:function(t,n){this.orientation=$r(e.degToRad(t),e.degToRad(-n))}}]),t}(),ei=function(){function t(n,r){h(this,t),this._transform=e.identity([]),this.orientation=r,this.position=n}return p(t,[{key:"mercatorPosition",get:function(){var t=this.position;return new e.MercatorCoordinate(t[0],t[1],t[2])}},{key:"position",get:function(){var t=e.getColumn(this._transform,3);return[t[0],t[1],t[2]]},set:function(t){var n;t&&e.setColumn(this._transform,3,[(n=t)[0],n[1],n[2],1])}},{key:"orientation",get:function(){return this._orientation},set:function(t){this._orientation=t||e.identity$1([]),t&&Yr(this._transform,this._orientation)}},{key:"getPitchBearing",value:function(){var e=this.forward(),t=this.right();return{bearing:Math.atan2(-t[1],t[0]),pitch:Math.atan2(Math.sqrt(e[0]*e[0]+e[1]*e[1]),-e[2])}}},{key:"setPitchBearing",value:function(e,t){this._orientation=$r(e,t),Yr(this._transform,this._orientation)}},{key:"forward",value:function(){var t=e.getColumn(this._transform,2);return[-t[0],-t[1],-t[2]]}},{key:"up",value:function(){var t=e.getColumn(this._transform,1);return[-t[0],-t[1],-t[2]]}},{key:"right",value:function(){var t=e.getColumn(this._transform,0);return[t[0],t[1],t[2]]}},{key:"getCameraToWorld",value:function(t,n){var r=new Float64Array(16);return e.invert(r,this.getWorldToCamera(t,n)),r}},{key:"getWorldToCameraPosition",value:function(t,n,r){var i=this.position;e.scale$2(i,i,-t);var a=new Float64Array(16);return e.fromScaling(a,[r,r,r]),e.translate(a,a,i),a[10]*=n,a}},{key:"getWorldToCamera",value:function(t,n){var r=new Float64Array(16),i=new Float64Array(4),a=this.position;return e.conjugate(i,this._orientation),e.scale$2(a,a,-t),e.fromQuat(r,i),e.translate(r,r,a),r[1]*=-1,r[5]*=-1,r[9]*=-1,r[13]*=-1,r[8]*=n,r[9]*=n,r[10]*=n,r[11]*=n,r}},{key:"getCameraToClipPerspective",value:function(t,n,r,i){var a=new Float64Array(16);return e.perspective(a,t,n,r,i),a}},{key:"getDistanceToElevation",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=0===t?0:e.mercatorZfromAltitude(t,n?e.latFromMercatorY(this.position[1]):this.position[1]),i=this.forward();return(r-this.position[2])/i[2]}},{key:"clone",value:function(){return new t(u(this.position),u(this.orientation))}}]),t}();function ti(t,n){var r=ri(t.projection,t.zoom,t.width,t.height),i=function(t,n,r,i,a){var o=new e.LngLat(r.lng-180*ii,r.lat),s=new e.LngLat(r.lng+180*ii,r.lat),l=t.project(o.lng,o.lat),c=t.project(s.lng,s.lat),u=-Math.atan2(c.y-l.y,c.x-l.x),d=e.MercatorCoordinate.fromLngLat(r);d.y=e.clamp(d.y,-.999975,.999975);var f=d.toLngLat(),h=t.project(f.lng,f.lat),p=e.MercatorCoordinate.fromLngLat(f);p.x+=ii;var m=p.toLngLat(),v=t.project(m.lng,m.lat),g=oi(v.x-h.x,v.y-h.y,u),y=e.MercatorCoordinate.fromLngLat(f);y.y+=ii;var x=y.toLngLat(),b=t.project(x.lng,x.lat),_=oi(b.x-h.x,b.y-h.y,u),w=Math.abs(g.x)/Math.abs(_.y),k=e.identity([]);e.rotateZ(k,k,-u*(1-(a?0:i)));var S=e.identity([]);return e.scale(S,S,[1,1-(1-w)*i,1]),S[4]=-_.x/_.y*i,e.rotateZ(S,S,u),e.multiply(S,k,S),S}(t.projection,0,t.center,r,n),a=ni(t);return e.scale(i,i,[a,a,1]),i}function ni(t){var n=t.projection,r=ri(t.projection,t.zoom,t.width,t.height),i=ai(n,t.center),a=ai(n,e.LngLat.convert(n.center));return Math.pow(2,i*r+(1-r)*a)}function ri(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1/0,o=t.range;if(!o)return 0;var s=Math.min(a,Math.max(r,i)),l=Math.log(s/1024)/Math.LN2;return e.smoothstep(o[0]+l,o[1]+l,n)}var ii=1/4e4;function ai(t,n){var r=e.clamp(n.lat,-e.MAX_MERCATOR_LATITUDE,e.MAX_MERCATOR_LATITUDE),i=new e.LngLat(n.lng-180*ii,r),a=new e.LngLat(n.lng+180*ii,r),o=t.project(i.lng,r),s=t.project(a.lng,r),l=e.MercatorCoordinate.fromLngLat(i),c=e.MercatorCoordinate.fromLngLat(a),u=s.x-o.x,d=s.y-o.y,f=c.x-l.x,h=c.y-l.y,p=Math.sqrt((f*f+h*h)/(u*u+d*d));return Math.log(p)/Math.LN2}function oi(e,t,n){var r=Math.cos(n),i=Math.sin(n);return{x:e*r-t*i,y:e*i+t*r}}var si=function(){function n(t,r,i,a,o,s,l){h(this,n),this.tileSize=512,this._renderWorldCopies=void 0===o||o,this._minZoom=t||0,this._maxZoom=r||22,this._minPitch=null==i?0:i,this._maxPitch=null==a?60:a,this.setProjection(s),this.setMaxBounds(l),this.width=0,this.height=0,this._center=new e.LngLat(0,0),this.zoom=0,this.angle=0,this._fov=.6435011087932844,this._pitch=0,this._nearZ=0,this._farZ=0,this._unmodified=!0,this._edgeInsets=new Kr,this._projMatrixCache={},this._alignedProjMatrixCache={},this._fogTileMatrixCache={},this._distanceTileDataCache={},this._camera=new ei,this._centerAltitude=0,this._averageElevation=0,this.cameraElevationReference="ground",this._pixelsPerMercatorPixel=1,this.globeRadius=0,this.globeCenterInViewSpace=[0,0,0],this._horizonShift=.1}return p(n,[{key:"clone",value:function(){var e=new n(this._minZoom,this._maxZoom,this._minPitch,this.maxPitch,this._renderWorldCopies,this.getProjection());return e._elevation=this._elevation,e._centerAltitude=this._centerAltitude,e._centerAltitudeValidForExaggeration=this._centerAltitudeValidForExaggeration,e.tileSize=this.tileSize,e.mercatorFromTransition=this.mercatorFromTransition,e.width=this.width,e.height=this.height,e.cameraElevationReference=this.cameraElevationReference,e._center=this._center,e._setZoom(this.zoom),e._seaLevelZoom=this._seaLevelZoom,e.angle=this.angle,e._fov=this._fov,e._pitch=this._pitch,e._nearZ=this._nearZ,e._farZ=this._farZ,e._averageElevation=this._averageElevation,e._unmodified=this._unmodified,e._edgeInsets=this._edgeInsets.clone(),e._camera=this._camera.clone(),e._calcMatrices(),e.freezeTileCoverage=this.freezeTileCoverage,e.frustumCorners=this.frustumCorners,e}},{key:"elevation",get:function(){return this._elevation},set:function(e){this._elevation!==e&&(this._elevation=e,this._updateCameraOnTerrain(),this._calcMatrices())}},{key:"updateElevation",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this._elevation&&this._elevation.exaggeration()!==this._centerAltitudeValidForExaggeration;(null==this._seaLevelZoom||n)&&this._updateCameraOnTerrain(),(e||n)&&this._constrainCamera(t),this._calcMatrices()}},{key:"getProjection",value:function(){return e.pick(this.projection,["name","center","parallels"])}},{key:"setProjection",value:function(n){this.projectionOptions=n||{name:"mercator"};var r=this.projection?this.getProjection():void 0;this.projection=e.getProjection(this.projectionOptions);var i=!t(r,this.getProjection());return i&&this._calcMatrices(),this.mercatorFromTransition=!1,i}},{key:"setMercatorFromTransition",value:function(){var t=this.projection.name;this.mercatorFromTransition=!0,this.projectionOptions={name:"mercator"},this.projection=e.getProjection({name:"mercator"});var n=t!==this.projection.name;return n&&this._calcMatrices(),n}},{key:"minZoom",get:function(){return this._minZoom},set:function(e){this._minZoom!==e&&(this._minZoom=e,this.zoom=Math.max(this.zoom,e))}},{key:"maxZoom",get:function(){return this._maxZoom},set:function(e){this._maxZoom!==e&&(this._maxZoom=e,this.zoom=Math.min(this.zoom,e))}},{key:"minPitch",get:function(){return this._minPitch},set:function(e){this._minPitch!==e&&(this._minPitch=e,this.pitch=Math.max(this.pitch,e))}},{key:"maxPitch",get:function(){return this._maxPitch},set:function(e){this._maxPitch!==e&&(this._maxPitch=e,this.pitch=Math.min(this.pitch,e))}},{key:"renderWorldCopies",get:function(){return this._renderWorldCopies&&!0===this.projection.supportsWorldCopies},set:function(e){void 0===e?e=!0:null===e&&(e=!1),this._renderWorldCopies=e}},{key:"worldSize",get:function(){return this.tileSize*this.scale}},{key:"cameraWorldSizeForFog",get:function(){var e=Math.max(this._camera.getDistanceToElevation(this._averageElevation),Number.EPSILON);return this._worldSizeFromZoom(this._zoomFromMercatorZ(e))}},{key:"cameraWorldSize",get:function(){var e=Math.max(this._camera.getDistanceToElevation(this._averageElevation,!0),Number.EPSILON);return this._worldSizeFromZoom(this._zoomFromMercatorZ(e))}},{key:"pixelsPerMeter",get:function(){return this.projection.pixelsPerMeter(this.center.lat,this.worldSize)}},{key:"cameraPixelsPerMeter",get:function(){return e.mercatorZfromAltitude(this.center.lat,this.cameraWorldSizeForFog)}},{key:"centerOffset",get:function(){return this.centerPoint._sub(this.size._div(2))}},{key:"size",get:function(){return new e.pointGeometry(this.width,this.height)}},{key:"bearing",get:function(){return e.wrap(this.rotation,-180,180)},set:function(e){this.rotation=e}},{key:"rotation",get:function(){return-this.angle/Math.PI*180},set:function(t){var n,r=-t*Math.PI/180;this.angle!==r&&(this._unmodified=!1,this.angle=r,this._calcMatrices(),this.rotationMatrix=(n=new e.ARRAY_TYPE(4),e.ARRAY_TYPE!=Float32Array&&(n[1]=0,n[2]=0),n[0]=1,n[3]=1,n),function(e,t,n){var r=t[0],i=t[1],a=t[2],o=t[3],s=Math.sin(n),l=Math.cos(n);e[0]=r*l+a*s,e[1]=i*l+o*s,e[2]=r*-s+a*l,e[3]=i*-s+o*l}(this.rotationMatrix,this.rotationMatrix,this.angle))}},{key:"pitch",get:function(){return this._pitch/Math.PI*180},set:function(t){var n=e.clamp(t,this.minPitch,this.maxPitch)/180*Math.PI;this._pitch!==n&&(this._unmodified=!1,this._pitch=n,this._calcMatrices())}},{key:"aspect",get:function(){return this.width/this.height}},{key:"fovX",get:function(){return this._fov}},{key:"fovY",get:function(){var e=1/Math.tan(.5*this.fovX);return 2*Math.atan(1/this.aspect/e)}},{key:"fov",set:function(t){t=Math.max(.01,Math.min(60,t)),this._fov!==t&&(this._unmodified=!1,this._fov=e.degToRad(t),this._calcMatrices())}},{key:"averageElevation",get:function(){return this._averageElevation},set:function(e){this._averageElevation=e,this._calcFogMatrices(),this._distanceTileDataCache={}}},{key:"zoom",get:function(){return this._zoom},set:function(e){var t=Math.min(Math.max(e,this.minZoom),this.maxZoom);this._zoom!==t&&(this._unmodified=!1,this._setZoom(t),this._updateSeaLevelZoom(),this._constrain(),this._calcMatrices())}},{key:"_setZoom",value:function(e){this._zoom=e,this.scale=this.zoomScale(e),this.tileZoom=Math.floor(e),this.zoomFraction=e-this.tileZoom}},{key:"_updateCameraOnTerrain",value:function(){if(!this._elevation||!this._elevation.isDataAvailableAtPoint(this.locationCoordinate(this.center)))return this._centerAltitude=0,this._seaLevelZoom=null,void(this._centerAltitudeValidForExaggeration=void 0);var e=this._elevation;this._centerAltitude=e.getAtPointOrZero(this.locationCoordinate(this.center)),this._centerAltitudeValidForExaggeration=e.exaggeration(),this._updateSeaLevelZoom()}},{key:"_updateSeaLevelZoom",value:function(){void 0!==this._centerAltitudeValidForExaggeration&&(this._seaLevelZoom=this._zoomFromMercatorZ((this.pixelsPerMeter*this._centerAltitude+this.cameraToCenterDistance)/this.worldSize))}},{key:"sampleAverageElevation",value:function(){if(!this._elevation)return 0;for(var t=this._elevation,n=[[.5,.2],[.3,.5],[.5,.5],[.7,.5],[.5,.8]],r=this.horizonLineFromTop(),i=0,a=0,o=0;o<n.length;o++){var s=new e.pointGeometry(n[o][0]*this.width,r+n[o][1]*(this.height-r)),l=t.pointCoordinate(s);if(l){var c=1/Math.hypot(l[0]-this._camera.position[0],l[1]-this._camera.position[1]);i+=l[3]*c,a+=c}}return 0===a?NaN:i/a}},{key:"center",get:function(){return this._center},set:function(e){e.lat===this._center.lat&&e.lng===this._center.lng||(this._unmodified=!1,this._center=e,this._terrainEnabled()&&("ground"===this.cameraElevationReference?this._updateCameraOnTerrain():this._updateZoomFromElevation()),this._constrain(),this._calcMatrices())}},{key:"_updateZoomFromElevation",value:function(){if(null!=this._seaLevelZoom&&this._elevation){var e=this._seaLevelZoom,t=this._elevation.getAtPointOrZero(this.locationCoordinate(this.center)),n=this.pixelsPerMeter/this.worldSize*t,r=this._mercatorZfromZoom(e),i=this._mercatorZfromZoom(this._maxZoom),a=Math.max(r-n,i);this._setZoom(this._zoomFromMercatorZ(a))}}},{key:"padding",get:function(){return this._edgeInsets.toJSON()},set:function(e){this._edgeInsets.equals(e)||(this._unmodified=!1,this._edgeInsets.interpolate(this._edgeInsets,e,1),this._calcMatrices())}},{key:"computeZoomRelativeTo",value:function(t){var n,r=this.rayIntersectionCoordinate(this.pointRayIntersection(this.centerPoint,t.toAltitude()));n=t.z<this._camera.position[2]?[r.x,r.y,r.z]:[t.x,t.y,t.z];var i=e.length(e.sub([],this._camera.position,n));return e.clamp(this._zoomFromMercatorZ(i),this._minZoom,this._maxZoom)}},{key:"setFreeCameraOptions",value:function(t){if(this.height&&(t.position||t.orientation)){this._updateCameraState();var n=!1;if(t.orientation&&!e.exactEquals(t.orientation,this._camera.orientation)&&(n=this._setCameraOrientation(t.orientation)),t.position){var r=[t.position.x,t.position.y,t.position.z];e.exactEquals$1(r,this._camera.position)||(this._setCameraPosition(r),n=!0)}n&&(this._updateStateFromCamera(),this.recenterOnTerrain())}}},{key:"getFreeCameraOptions",value:function(){this._updateCameraState();var t=this._camera.position,n=new Qr;return n.position=new e.MercatorCoordinate(t[0],t[1],t[2]),n.orientation=this._camera.orientation,n._elevation=this.elevation,n._renderWorldCopies=this.renderWorldCopies,n}},{key:"_setCameraOrientation",value:function(t){if(!e.length$1(t))return!1;e.normalize$1(t,t);var n=e.transformQuat([],[0,0,-1],t),r=e.transformQuat([],[0,-1,0],t);if(r[2]<0)return!1;var i=Jr(n,r);return!!i&&(this._camera.orientation=i,!0)}},{key:"_setCameraPosition",value:function(t){var n=this.zoomScale(this.minZoom)*this.tileSize,r=this.zoomScale(this.maxZoom)*this.tileSize,i=this.cameraToCenterDistance;t[2]=e.clamp(t[2],i/r,i/n),this._camera.position=t}},{key:"centerPoint",get:function(){return this._edgeInsets.getCenter(this.width,this.height)}},{key:"fovAboveCenter",get:function(){return this._fov*(.5+this.centerOffset.y/this.height)}},{key:"isPaddingEqual",value:function(e){return this._edgeInsets.equals(e)}},{key:"interpolatePadding",value:function(e,t,n){this._unmodified=!1,this._edgeInsets.interpolate(e,t,n),this._constrain(),this._calcMatrices()}},{key:"coveringZoomLevel",value:function(e){var t=(e.roundZoom?Math.round:Math.floor)(this.zoom+this.scaleZoom(this.tileSize/e.tileSize));return Math.max(0,t)}},{key:"getVisibleUnwrappedCoordinates",value:function(t){var n=[new e.UnwrappedTileID(0,t)];if(this.renderWorldCopies)for(var r=this.pointCoordinate(new e.pointGeometry(0,0)),i=this.pointCoordinate(new e.pointGeometry(this.width,0)),a=this.pointCoordinate(new e.pointGeometry(this.width,this.height)),o=this.pointCoordinate(new e.pointGeometry(0,this.height)),s=Math.floor(Math.min(r.x,i.x,a.x,o.x)),l=Math.floor(Math.max(r.x,i.x,a.x,o.x)),c=1,u=s-c;u<=l+c;u++)0!==u&&n.push(new e.UnwrappedTileID(u,t));return n}},{key:"coveringTiles",value:function(t){var n=this,r=this.coveringZoomLevel(t),i=r,a=this.elevation&&!t.isTerrainDEM,o="mercator"===this.projection.name;if(void 0!==t.minzoom&&r<t.minzoom)return[];void 0!==t.maxzoom&&r>t.maxzoom&&(r=t.maxzoom);var s=this.locationCoordinate(this.center),l=this.center.lat,c=1<<r,u=[c*s.x,c*s.y,0],d="globe"===this.projection.name,f=!d,h=e.Frustum.fromInvProjectionMatrix(this.invProjMatrix,this.worldSize,r,f),p=d?this._camera.mercatorPosition:this.pointCoordinate(this.getCameraPoint()),m=c*e.mercatorZfromAltitude(1,this.center.lat),v=this._camera.position[2]/e.mercatorZfromAltitude(1,this.center.lat),g=[c*p.x,c*p.y,v*(f?1:m)],y=this.cameraToCenterDistance/t.tileSize*(t.roundZoom?1:.502),x=this.pitch<=60&&this._edgeInsets.top<=this._edgeInsets.bottom&&!this._elevation&&!this.projection.isReprojectedInTileSpace?r:0,b=t.isTerrainDEM&&this._elevation?1e4*this._elevation.exaggeration():this._centerAltitude,_=t.isTerrainDEM?-b:this._elevation?this._elevation.getMinElevationBelowMSL():0,w=this.projection.isReprojectedInTileSpace?ni(this):1,k=function(t){var r=1/4e4,i=new e.MercatorCoordinate(t.x+r,t.y,t.z),a=new e.MercatorCoordinate(t.x,t.y+r,t.z),o=t.toLngLat(),s=i.toLngLat(),l=a.toLngLat(),c=n.locationCoordinate(o),u=n.locationCoordinate(s),d=n.locationCoordinate(l),f=Math.hypot(u.x-c.x,u.y-c.y),h=Math.hypot(d.x-c.x,d.y-c.y);return Math.sqrt(f*h)*w/r},S=function(t){var r=b,i=_;return{aabb:e.tileAABB(n,c,0,0,0,t,i,r,n.projection),zoom:0,x:0,y:0,minZ:i,maxZ:r,wrap:t,fullyVisible:!1}},E=[],C=[],T=r,M=t.reparseOverscaled?i:r,I=function(e){return e*e},O=I((v-this._centerAltitude)*m),P=function(e){if(n._elevation&&e.tileID&&o){var t=n._elevation.getMinMaxForTile(e.tileID),r=e.aabb;t?(r.min[2]=t.min,r.max[2]=t.max,r.center[2]=(r.min[2]+r.max[2])/2):(e.shouldSplit=A(e),e.shouldSplit||(r.min[2]=r.max[2]=r.center[2]=n._centerAltitude))}},A=function(t){if(t.zoom<x)return!0;if(t.zoom===T)return!1;if(null!=t.shouldSplit)return t.shouldSplit;var r=t.aabb.distanceX(g),o=t.aabb.distanceY(g),s=O,c=1;if(d){s=I(t.aabb.distanceZ(g));var u=Math.pow(2,t.zoom),f=e.latFromMercatorY((t.y+1)/u),h=e.latFromMercatorY(t.y/u),p=Math.min(Math.max(l,f),h),v=e.circumferenceAtLatitude(p)/e.circumferenceAtLatitude(l);if(c=p===l?1/Math.max(1,n._mercatorScaleRatio-.3):Math.min(1,v/n._mercatorScaleRatio),n.zoom<=e.GLOBE_ZOOM_THRESHOLD_MIN&&t.zoom===T-1&&v>=.9)return!0}else if(a&&(s=I(t.aabb.distanceZ(g)*m)),n.projection.isReprojectedInTileSpace&&i<=5){var b=Math.pow(2,t.zoom),_=k(new e.MercatorCoordinate((t.x+.5)/b,(t.y+.5)/b));c=_>.85?1:_}var w=r*r+o*o+s,S=I((1<<T-t.zoom)*y*c*function(e,t){if(t*I(.707)<e)return 1;var n=Math.sqrt(t/e);return n/(1.4144271570014144+(Math.pow(1.1,n-1.4144271570014144+1)-1)/(1.1-1)-1)}(Math.max(s,O),w));return w<S};if(this.renderWorldCopies)for(var z=1;z<=3;z++)E.push(S(-z)),E.push(S(z));for(E.push(S(0));E.length>0;){var j=E.pop(),R=j.x,D=j.y,L=j.fullyVisible;if(!L){var N=j.aabb.intersects(h);if(0===N)continue;L=2===N}if(j.zoom!==T&&A(j))for(var B=0;B<4;B++){var F=(R<<1)+B%2,V=(D<<1)+(B>>1),U={aabb:o?j.aabb.quadrant(B):e.tileAABB(this,c,j.zoom+1,F,V,j.wrap,j.minZ,j.maxZ,this.projection),zoom:j.zoom+1,x:F,y:V,wrap:j.wrap,fullyVisible:L,tileID:void 0,shouldSplit:void 0,minZ:j.minZ,maxZ:j.maxZ};a&&!d&&(U.tileID=new e.OverscaledTileID(j.zoom+1===T?M:j.zoom+1,j.wrap,j.zoom+1,F,V),P(U)),E.push(U)}else{var H=j.zoom===T?M:j.zoom;if(t.minzoom&&t.minzoom>H)continue;var G=u[0]-(.5+R+(j.wrap<<j.zoom))*(1<<r-j.zoom),W=u[1]-.5-D,q=j.tileID?j.tileID:new e.OverscaledTileID(H,j.wrap,j.zoom,R,D);C.push({tileID:q,distanceSq:G*G+W*W})}}if(this.fogCullDistSq){var X=this.fogCullDistSq,Z=this.horizonLineFromTop();C=C.filter((function(r){var i=[0,0,0,1],a=[e.EXTENT,e.EXTENT,0,1],o=n.calculateFogTileMatrix(r.tileID.toUnwrapped());e.transformMat4$1(i,i,o),e.transformMat4$1(a,a,o);var s=e.getAABBPointSquareDist(i,a);if(0===s)return!0;var l=!1,c=n._elevation;if(c&&s>X&&0!==Z){var u,d=n.calculateProjMatrix(r.tileID.toUnwrapped());t.isTerrainDEM||(u=c.getMinMaxForTile(r.tileID)),u||(u={min:_,max:b});var f=e.furthestTileCorner(n.rotation),h=[f[0]*e.EXTENT,f[1]*e.EXTENT,u.max];e.transformMat4(h,h,d),l=(1-h[1])*n.height*.5<Z}return s<X||l}))}return C.sort((function(e,t){return e.distanceSq-t.distanceSq})).map((function(e){return e.tileID}))}},{key:"resize",value:function(e,t){this.width=e,this.height=t,this.pixelsToGLUnits=[2/e,-2/t],this._constrain(),this._calcMatrices()}},{key:"unmodified",get:function(){return this._unmodified}},{key:"zoomScale",value:function(e){return Math.pow(2,e)}},{key:"scaleZoom",value:function(e){return Math.log(e)/Math.LN2}},{key:"project",value:function(t){var n=e.clamp(t.lat,-e.MAX_MERCATOR_LATITUDE,e.MAX_MERCATOR_LATITUDE),r=this.projection.project(t.lng,n);return new e.pointGeometry(r.x*this.worldSize,r.y*this.worldSize)}},{key:"unproject",value:function(e){return this.projection.unproject(e.x/this.worldSize,e.y/this.worldSize)}},{key:"point",get:function(){return this.project(this.center)}},{key:"setLocationAtPoint",value:function(t,n){var r,i,a=this.centerPoint;if("globe"===this.projection.name){var o=this.worldSize;r=(n.x-a.x)/o,i=(n.y-a.y)/o}else{var s=this.pointCoordinate(n),l=this.pointCoordinate(a);r=s.x-l.x,i=s.y-l.y}var c=this.locationCoordinate(t);this.setLocation(new e.MercatorCoordinate(c.x-r,c.y-i))}},{key:"setLocation",value:function(e){this.center=this.coordinateLocation(e),this.projection.wrap&&(this.center=this.center.wrap())}},{key:"locationPoint",value:function(e){return this.projection.locationPoint(this,e)}},{key:"locationPoint3D",value:function(e){return this.projection.locationPoint(this,e,!0)}},{key:"pointLocation",value:function(e){return this.coordinateLocation(this.pointCoordinate(e))}},{key:"pointLocation3D",value:function(e){return this.coordinateLocation(this.pointCoordinate3D(e))}},{key:"locationCoordinate",value:function(t,n){var r=n?e.mercatorZfromAltitude(n,t.lat):void 0,i=this.projection.project(t.lng,t.lat);return new e.MercatorCoordinate(i.x,i.y,r)}},{key:"coordinateLocation",value:function(e){return this.projection.unproject(e.x,e.y)}},{key:"pointRayIntersection",value:function(t,n){var r=null!=n?n:this._centerAltitude,i=[t.x,t.y,0,1],a=[t.x,t.y,1,1];e.transformMat4$1(i,i,this.pixelMatrixInverse),e.transformMat4$1(a,a,this.pixelMatrixInverse);var o=a[3];e.scale$1(i,i,1/i[3]),e.scale$1(a,a,1/o);var s=i[2],l=a[2];return{p0:i,p1:a,t:s===l?0:(r-s)/(l-s)}}},{key:"screenPointToMercatorRay",value:function(t){var n=[t.x,t.y,0,1],r=[t.x,t.y,1,1];return e.transformMat4$1(n,n,this.pixelMatrixInverse),e.transformMat4$1(r,r,this.pixelMatrixInverse),e.scale$1(n,n,1/n[3]),e.scale$1(r,r,1/r[3]),n[2]=e.mercatorZfromAltitude(n[2],this._center.lat)*this.worldSize,r[2]=e.mercatorZfromAltitude(r[2],this._center.lat)*this.worldSize,e.scale$1(n,n,1/this.worldSize),e.scale$1(r,r,1/this.worldSize),new e.Ray([n[0],n[1],n[2]],e.normalize([],e.sub([],r,n)))}},{key:"rayIntersectionCoordinate",value:function(t){var n=t.p0,r=t.p1,i=t.t,a=e.mercatorZfromAltitude(n[2],this._center.lat),o=e.mercatorZfromAltitude(r[2],this._center.lat);return new e.MercatorCoordinate(e.number(n[0],r[0],i)/this.worldSize,e.number(n[1],r[1],i)/this.worldSize,e.number(a,o,i))}},{key:"pointCoordinate",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._centerAltitude;return this.projection.pointCoordinate(this,e.x,e.y,t)}},{key:"pointCoordinate3D",value:function(t){if(!this.elevation)return this.pointCoordinate(t);var n=this.projection.pointCoordinate3D(this,t.x,t.y);if(n)return new e.MercatorCoordinate(n[0],n[1],n[2]);var r=0,i=this.horizonLineFromTop();if(t.y>i)return this.pointCoordinate(t);for(var a=.02*i,o=t.clone(),s=0;s<10&&i-r>a;s++){o.y=e.number(r,i,.66);var l=this.projection.pointCoordinate3D(this,o.x,o.y);l?(i=o.y,n=l):r=o.y}return n?new e.MercatorCoordinate(n[0],n[1],n[2]):this.pointCoordinate(t)}},{key:"isPointAboveHorizon",value:function(e){return this.projection.isPointAboveHorizon(this,e)}},{key:"_coordinatePoint",value:function(t,n){var r=n&&this.elevation?this.elevation.getAtPointOrZero(t,this._centerAltitude):this._centerAltitude,i=[t.x*this.worldSize,t.y*this.worldSize,r+t.toAltitude(),1];return e.transformMat4$1(i,i,this.pixelMatrix),i[3]>0?new e.pointGeometry(i[0]/i[3],i[1]/i[3]):new e.pointGeometry(Number.MAX_VALUE,Number.MAX_VALUE)}},{key:"_getGlobeBounds",value:function(){var t=this,n=this._edgeInsets,r=n.top,i=n.left,a=this.height-this._edgeInsets.bottom,o=this.width-this._edgeInsets.right,s=this.pointCoordinate3D(new e.pointGeometry(i,r)),l=this.pointCoordinate3D(new e.pointGeometry(o,r)),c=this.pointCoordinate3D(new e.pointGeometry(o,a)),u=this.pointCoordinate3D(new e.pointGeometry(i,a)),f=Math.min(s.x,u.x),h=Math.max(l.x,c.x),p=Math.min(s.y,l.y),m=Math.max(u.y,c.y),v=Math.pow(2,-this.zoom)/16,g=function n(r,i,a,o){var s=(r+a)/2,l=(i+o)/2,c=new e.pointGeometry(s,l),u=t.pointCoordinate3D(c),d=Math.max(0,f-u.x,p-u.y,u.x-h,u.y-m);f=Math.min(f,u.x),h=Math.max(h,u.x),p=Math.min(p,u.y),m=Math.max(m,u.y),d>v&&(n(r,i,s,l),n(s,l,a,o))};g(i,r,o,r),g(o,r,o,a),g(o,a,i,a),g(i,a,i,r);var y=e.polesInViewport(this),x=d(y,2),b=x[0],_=x[1],w=b||_,k=b?90:e.latFromMercatorY(p),S=w?180:e.lngFromMercatorX(h),E=_?-90:e.latFromMercatorY(m),C=w?-180:e.lngFromMercatorX(f);return new e.LngLatBounds(new e.LngLat(C,E),new e.LngLat(S,k))}},{key:"_getBounds",value:function(t,n){if("globe"===this.projection.name)return this._getGlobeBounds();var r=new e.pointGeometry(this._edgeInsets.left,this._edgeInsets.top),i=new e.pointGeometry(this.width-this._edgeInsets.right,this._edgeInsets.top),a=new e.pointGeometry(this.width-this._edgeInsets.right,this.height-this._edgeInsets.bottom),o=new e.pointGeometry(this._edgeInsets.left,this.height-this._edgeInsets.bottom),s=this.pointCoordinate(r,t),l=this.pointCoordinate(i,t),c=this.pointCoordinate(a,n),u=this.pointCoordinate(o,n),d=function(e,t){return(t.y-e.y)/(t.x-e.x)};return s.y>1&&l.y>=0?s=new e.MercatorCoordinate((1-u.y)/d(u,s)+u.x,1):s.y<0&&l.y<=1&&(s=new e.MercatorCoordinate(-u.y/d(u,s)+u.x,0)),l.y>1&&s.y>=0?l=new e.MercatorCoordinate((1-c.y)/d(c,l)+c.x,1):l.y<0&&s.y<=1&&(l=new e.MercatorCoordinate(-c.y/d(c,l)+c.x,0)),(new e.LngLatBounds).extend(this.coordinateLocation(s)).extend(this.coordinateLocation(l)).extend(this.coordinateLocation(u)).extend(this.coordinateLocation(c))}},{key:"_getBounds3D",value:function(){var e=this.elevation;if(!e.visibleDemTiles.length||e.isUsingMockSource())return this._getBounds(0,0);var t=e.visibleDemTiles.reduce((function(e,t){if(t.dem){var n=t.dem.tree;e.min=Math.min(e.min,n.minimums[0]),e.max=Math.max(e.max,n.maximums[0])}return e}),{min:Number.MAX_VALUE,max:0});return this._getBounds(t.min*e.exaggeration(),t.max*e.exaggeration())}},{key:"getBounds",value:function(){return this._terrainEnabled()?this._getBounds3D():this._getBounds(0,0)}},{key:"horizonLineFromTop",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=this.height/2/Math.tan(this._fov/2)/Math.tan(Math.max(this._pitch,.1))+this.centerOffset.y,n=this.height/2-t*(1-this._horizonShift);return e?Math.max(0,n):n}},{key:"getMaxBounds",value:function(){return this.maxBounds}},{key:"setMaxBounds",value:function(t){this.maxBounds=t,this.minLat=-e.MAX_MERCATOR_LATITUDE,this.maxLat=e.MAX_MERCATOR_LATITUDE,this.minLng=-180,this.maxLng=180,t&&(this.minLat=t.getSouth(),this.maxLat=t.getNorth(),this.minLng=t.getWest(),this.maxLng=t.getEast(),this.maxLng<this.minLng&&(this.maxLng+=360)),this.worldMinX=e.mercatorXfromLng(this.minLng)*this.tileSize,this.worldMaxX=e.mercatorXfromLng(this.maxLng)*this.tileSize,this.worldMinY=e.mercatorYfromLat(this.maxLat)*this.tileSize,this.worldMaxY=e.mercatorYfromLat(this.minLat)*this.tileSize,this._constrain()}},{key:"calculatePosMatrix",value:function(e,t){return this.projection.createTileMatrix(this,t,e)}},{key:"calculateDistanceTileData",value:function(t){var n=t.key,r=this._distanceTileDataCache;if(r[n])return r[n];var i=t.canonical,a=1/this.height,o=this.cameraWorldSize,s=o/this.zoomScale(i.z),l=(i.x+Math.pow(2,i.z)*t.wrap)*s,c=i.y*s,u=this.point;u.x*=o/this.worldSize,u.y*=o/this.worldSize;var d=this.angle,f=Math.sin(-d),h=-Math.cos(-d);return r[n]={bearing:[f,h],center:[(u.x-l)*a,(u.y-c)*a],scale:s/e.EXTENT*a},r[n]}},{key:"calculateFogTileMatrix",value:function(t){var n=t.key,r=this._fogTileMatrixCache;if(r[n])return r[n];var i=this.projection.createTileMatrix(this,this.cameraWorldSizeForFog,t);return e.multiply(i,this.worldToFogMatrix,i),r[n]=new Float32Array(i),r[n]}},{key:"calculateProjMatrix",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=t.key,i=n?this._alignedProjMatrixCache:this._projMatrixCache;if(i[r])return i[r];var a=this.calculatePosMatrix(t,this.worldSize);return e.multiply(a,this.projection.isReprojectedInTileSpace?this.mercatorMatrix:n?this.alignedProjMatrix:this.projMatrix,a),i[r]=new Float32Array(a),i[r]}},{key:"calculatePixelsToTileUnitsMatrix",value:function(t){var n=t.tileID.key,r=this._pixelsToTileUnitsCache;if(r[n])return r[n];var i=function(t,n){var r,i,a,o,s,l,c,u,d=t.tileTransform.scale*e.EXTENT/(t.tileSize*Math.pow(2,n.zoom-t.tileID.overscaledZ+t.tileID.canonical.z));return r=new Float32Array(4),o=(i=n.inverseAdjustmentMatrix)[1],s=i[2],l=i[3],u=(a=[d,d])[1],r[0]=i[0]*(c=a[0]),r[1]=o*c,r[2]=s*u,r[3]=l*u,r}(t,this);return r[n]=i,r[n]}},{key:"customLayerMatrix",value:function(){return this.mercatorMatrix.slice()}},{key:"recenterOnTerrain",value:function(){if(this._elevation&&"globe"!==this.projection.name){var t=this._elevation;this._updateCameraState();var n=e.mercatorZfromAltitude(1,this._center.lat)*this.worldSize,r=this._computeCameraPosition(n),i=this._camera.forward(),a=e.mercatorZfromAltitude(1,this._center.lat);r[2]/=a,i[2]/=a,e.normalize(i,i);var o=t.raycast(r,i,t.exaggeration());if(o){var s=e.scaleAndAdd([],r,i,o),l=new e.MercatorCoordinate(s[0],s[1],e.mercatorZfromAltitude(s[2],e.latFromMercatorY(s[1]))),c=(l.z+e.length([l.x-r[0],l.y-r[1],l.z-r[2]*a]))*this._pixelsPerMercatorPixel;this._seaLevelZoom=this._zoomFromMercatorZ(c),this._centerAltitude=l.toAltitude(),this._center=this.coordinateLocation(l),this._updateZoomFromElevation(),this._constrain(),this._calcMatrices()}}}},{key:"_constrainCamera",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this._elevation){var n=this._elevation,r=e.mercatorZfromAltitude(1,this._center.lat)*this.worldSize,i=this._computeCameraPosition(r),o=n.getAtPointOrZero(a(e.MercatorCoordinate,u(i))),s=this.pixelsPerMeter/this.worldSize*o,l=this._minimumHeightOverTerrain(),c=i[2]-s;if(c<=l)if(c<0||t){var d=this.locationCoordinate(this._center,this._centerAltitude),f=[i[0],i[1],d.z-i[2]],h=e.length(f);f[2]-=(l-c)/this._pixelsPerMercatorPixel;var p=e.length(f);if(0===p)return;e.scale$2(f,f,h/p*this._pixelsPerMercatorPixel),this._camera.position=[i[0],i[1],d.z*this._pixelsPerMercatorPixel-f[2]],this._updateStateFromCamera()}else this._isCameraConstrained=!0}}},{key:"_constrain",value:function(){if(this.center&&this.width&&this.height&&!this._constraining){this._constraining=!0;var t="globe"===this.projection.name||this.mercatorFromTransition;if(this.projection.isReprojectedInTileSpace||t){var n=this.center;return n.lat=e.clamp(n.lat,this.minLat,this.maxLat),(this.maxBounds||!this.renderWorldCopies&&!t)&&(n.lng=e.clamp(n.lng,this.minLng,this.maxLng)),this.center=n,void(this._constraining=!1)}var r=this._unmodified,i=this.point,a=i.x,o=i.y,s=0,l=a,c=o,u=this.width/2,d=this.height/2,f=this.worldMinY*this.scale,h=this.worldMaxY*this.scale;if(o-d<f&&(c=f+d),o+d>h&&(c=h-d),h-f<this.height&&(s=Math.max(s,this.height/(h-f)),c=(h+f)/2),this.maxBounds||!this._renderWorldCopies||!this.projection.wrap){var p=this.worldMinX*this.scale,m=this.worldMaxX*this.scale,v=this.worldSize/2-(p+m)/2;(l=(a+v+this.worldSize)%this.worldSize-v)-u<p&&(l=p+u),l+u>m&&(l=m-u),m-p<this.width&&(s=Math.max(s,this.width/(m-p)),l=(m+p)/2)}l===a&&c===o||(this.center=this.unproject(new e.pointGeometry(l,c))),s&&(this.zoom+=this.scaleZoom(s)),this._constrainCamera(),this._unmodified=r,this._constraining=!1}}},{key:"_minZoomForBounds",value:function(){var e=Math.max(0,this.scaleZoom(this.height/(this.worldMaxY-this.worldMinY)));return this.maxBounds&&(e=Math.max(e,this.scaleZoom(this.width/(this.worldMaxX-this.worldMinX)))),e}},{key:"_maxCameraBoundsDistance",value:function(){return this._mercatorZfromZoom(this._minZoomForBounds())}},{key:"_calcMatrices",value:function(){if(this.height){var t=this.centerOffset,n=this.pixelsPerMeter;"globe"===this.projection.name&&(this._mercatorScaleRatio=e.mercatorZfromAltitude(1,this.center.lat)/e.mercatorZfromAltitude(1,e.GLOBE_SCALE_MATCH_LATITUDE));var r=ri(this.projection,this.zoom,this.width,this.height,1024);this._pixelsPerMercatorPixel=this.projection.pixelSpaceConversion(this.center.lat,this.worldSize,r),this.cameraToCenterDistance=.5/Math.tan(.5*this._fov)*this.height*this._pixelsPerMercatorPixel,this._updateCameraState(),this._farZ=this.projection.farthestPixelDistance(this),this._nearZ=this.height/50;var i=this._camera.getWorldToCamera(this.worldSize,"meters"===this.projection.zAxisUnit?n:1),a=this._camera.getCameraToClipPerspective(this._fov,this.width/this.height,this._nearZ,this._farZ);a[8]=2*-t.x/this.width,a[9]=2*t.y/this.height;var o=e.mul([],a,i);if(this.projection.isReprojectedInTileSpace){var s=this.locationCoordinate(this.center),l=e.identity([]);e.translate(l,l,[s.x*this.worldSize,s.y*this.worldSize,0]),e.multiply(l,l,ti(this)),e.translate(l,l,[-s.x*this.worldSize,-s.y*this.worldSize,0]),e.multiply(o,o,l),this.inverseAdjustmentMatrix=function(e){var t=ti(e,!0);return P([],[t[0],t[1],t[4],t[5]])}(this)}else this.inverseAdjustmentMatrix=[1,0,0,1];this.mercatorMatrix=e.scale([],o,[this.worldSize,this.worldSize,this.worldSize/n,1]),this.projMatrix=o,this.invProjMatrix=e.invert(new Float64Array(16),this.projMatrix);var c=e.invert([],a);this.frustumCorners=e.FrustumCorners.fromInvProjectionMatrix(c,this.horizonLineFromTop(),this.height);var u=new Float32Array(16);e.identity(u),e.scale(u,u,[1,-1,1]),e.rotateX(u,u,this._pitch),e.rotateZ(u,u,this.angle);var d=e.perspective(new Float32Array(16),this._fov,this.width/this.height,this._nearZ,this._farZ),f=(Math.PI/2-this._pitch)*(this.height/this._fov)*this._horizonShift;d[8]=2*-t.x/this.width,d[9]=2*(t.y+f)/this.height,this.skyboxMatrix=e.multiply(u,d,u);var h=this.point,p=h.x,m=h.y,v=this.width%2/2,g=this.height%2/2,y=Math.cos(this.angle),x=Math.sin(this.angle),b=p-Math.round(p)+y*v+x*g,_=m-Math.round(m)+y*g+x*v,w=new Float64Array(o);if(e.translate(w,w,[b>.5?b-1:b,_>.5?_-1:_,0]),this.alignedProjMatrix=w,o=e.create(),e.scale(o,o,[this.width/2,-this.height/2,1]),e.translate(o,o,[1,-1,0]),this.labelPlaneMatrix=o,o=e.create(),e.scale(o,o,[1,-1,1]),e.translate(o,o,[-1,-1,0]),e.scale(o,o,[2/this.width,2/this.height,1]),this.glCoordMatrix=o,this.pixelMatrix=e.multiply(new Float64Array(16),this.labelPlaneMatrix,this.projMatrix),this._calcFogMatrices(),this._distanceTileDataCache={},!(o=e.invert(new Float64Array(16),this.pixelMatrix)))throw new Error("failed to invert matrix");if(this.pixelMatrixInverse=o,"globe"===this.projection.name||this.mercatorFromTransition){this.globeMatrix=e.calculateGlobeMatrix(this);var k=[this.globeMatrix[12],this.globeMatrix[13],this.globeMatrix[14]];this.globeCenterInViewSpace=e.transformMat4(k,k,i),this.globeRadius=this.worldSize/2/Math.PI-1}else this.globeMatrix=o;this._projMatrixCache={},this._alignedProjMatrixCache={},this._pixelsToTileUnitsCache={}}}},{key:"_calcFogMatrices",value:function(){this._fogTileMatrixCache={};var t=this.cameraWorldSizeForFog,n=this.cameraPixelsPerMeter,r=this._camera.position,i=1/this.height/this._pixelsPerMercatorPixel,a=[t,t,n];e.scale$2(a,a,i),e.scale$2(r,r,-1),e.multiply$2(r,r,a);var o=e.create();e.translate(o,o,r),e.scale(o,o,a),this.mercatorFogMatrix=o,this.worldToFogMatrix=this._camera.getWorldToCameraPosition(t,n,i)}},{key:"_computeCameraPosition",value:function(e){var t=(e=e||this.pixelsPerMeter)/this.pixelsPerMeter,n=this._camera.forward(),r=this.point,i=this._mercatorZfromZoom(this._seaLevelZoom?this._seaLevelZoom:this._zoom)*t-e/this.worldSize*this._centerAltitude;return[r.x/this.worldSize-n[0]*i,r.y/this.worldSize-n[1]*i,e/this.worldSize*this._centerAltitude-n[2]*i]}},{key:"_updateCameraState",value:function(){this.height&&(this._camera.setPitchBearing(this._pitch,this.angle),this._camera.position=this._computeCameraPosition())}},{key:"_translateCameraConstrained",value:function(t){var n=this._maxCameraBoundsDistance()*Math.cos(this._pitch),r=this._camera.position[2],i=t[2],a=1;this.projection.wrap&&(this.center=this.center.wrap()),i>0&&(a=Math.min((n-r)/i,1)),this._camera.position=e.scaleAndAdd([],this._camera.position,t,a),this._updateStateFromCamera()}},{key:"_updateStateFromCamera",value:function(){var t=this._camera.position,n=this._camera.forward(),r=this._camera.getPitchBearing(),i=r.pitch,a=r.bearing,o=e.mercatorZfromAltitude(this._centerAltitude,this.center.lat)*this._pixelsPerMercatorPixel,s=this._mercatorZfromZoom(this._maxZoom)*Math.cos(e.degToRad(this._maxPitch)),l=Math.max((t[2]-o)/Math.cos(i),s),c=this._zoomFromMercatorZ(l);e.scaleAndAdd(t,t,n,l),this._pitch=e.clamp(i,e.degToRad(this.minPitch),e.degToRad(this.maxPitch)),this.angle=e.wrap(a,-Math.PI,Math.PI),this._setZoom(e.clamp(c,this._minZoom,this._maxZoom)),this._updateSeaLevelZoom(),this._center=this.coordinateLocation(new e.MercatorCoordinate(t[0],t[1],t[2])),this._unmodified=!1,this._constrain(),this._calcMatrices()}},{key:"_worldSizeFromZoom",value:function(e){return Math.pow(2,e)*this.tileSize}},{key:"_mercatorZfromZoom",value:function(e){return this.cameraToCenterDistance/this._worldSizeFromZoom(e)}},{key:"_minimumHeightOverTerrain",value:function(){var e=Math.min((null!=this._seaLevelZoom?this._seaLevelZoom:this._zoom)+4,this._maxZoom);return this._mercatorZfromZoom(e)}},{key:"_zoomFromMercatorZ",value:function(e){return this.scaleZoom(this.cameraToCenterDistance/(e*this.tileSize))}},{key:"zoomFromMercatorZAdjusted",value:function(e){for(var t,n=this,r=function(t){var r=n.getCameraToCenterDistance(n.projection,t);return n.scaleZoom(r/(e*n.tileSize))},i=r(this.zoom),a=Math.abs(i-r(i));t!==a;)i=r(i),t=a,a=Math.abs(i-r(i));return i}},{key:"_terrainEnabled",value:function(){return!(!this._elevation||!this.projection.supportsTerrain&&(e.warnOnce("Terrain is not yet supported with alternate projections. Use mercator or globe to enable terrain."),1))}},{key:"anyCornerOffEdge",value:function(t,n){var r=Math.min(t.x,n.x),i=Math.max(t.x,n.x),a=Math.min(t.y,n.y),o=Math.max(t.y,n.y);if(a<this.horizonLineFromTop(!1))return!0;if("mercator"!==this.projection.name)return!1;for(var s=[new e.pointGeometry(r,a),new e.pointGeometry(i,o),new e.pointGeometry(r,o),new e.pointGeometry(i,a)],l=this.renderWorldCopies?-3:0,c=this.renderWorldCopies?4:1,u=0,d=s;u<d.length;u++){var f=d[u],h=this.pointRayIntersection(f);if(h.t<0)return!0;var p=this.rayIntersectionCoordinate(h);if(p.x<l||p.y<0||p.x>c||p.y>1)return!0}return!1}},{key:"isHorizonVisible",value:function(){return this.pitch+e.radToDeg(this.fovAboveCenter)>88||this.anyCornerOffEdge(new e.pointGeometry(0,0),new e.pointGeometry(this.width,this.height))}},{key:"zoomDeltaToMovement",value:function(t,n){var r=e.length(e.sub([],this._camera.position,t)),i=this._zoomFromMercatorZ(r)+n;return r-this._mercatorZfromZoom(i)}},{key:"getCameraPoint",value:function(){if("globe"===this.projection.name){var t=function(t,n){var r=d(t,3),i=[r[0],r[1],r[2],1];e.transformMat4$1(i,i,n);var a=i[3]=Math.max(i[3],1e-6);return i[0]/=a,i[1]/=a,i[2]/=a,i}([this.globeMatrix[12],this.globeMatrix[13],this.globeMatrix[14]],this.pixelMatrix);return new e.pointGeometry(t[0],t[1])}var n=Math.tan(this._pitch)*(this.cameraToCenterDistance||1);return this.centerPoint.add(new e.pointGeometry(0,n))}},{key:"getCameraToCenterDistance",value:function(e){var t=ri(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.zoom,this.width,this.height,1024),n=e.pixelSpaceConversion(this.center.lat,this.worldSize,t);return.5/Math.tan(.5*this._fov)*this.height*n}},{key:"getWorldToCameraMatrix",value:function(){var t=this._camera.getWorldToCamera(this.worldSize,"meters"===this.projection.zAxisUnit?this.pixelsPerMeter:1);return"globe"===this.projection.name&&e.multiply(t,t,this.globeMatrix),t}}]),n}();function li(e,t){var n=!1,r=null,i=function i(){r=null,n&&(e(),r=setTimeout(i,t),n=!1)};return function(){return n=!0,r||i(),r}}var ci=function(){function t(n){h(this,t),this._hashName=n&&encodeURIComponent(n),e.bindAll(["_getCurrentHash","_onHashChange","_updateHash"],this),this._updateHash=li(this._updateHashUnthrottled.bind(this),300)}return p(t,[{key:"addTo",value:function(t){return this._map=t,e.window.addEventListener("hashchange",this._onHashChange,!1),t.on("moveend",this._updateHash),this}},{key:"remove",value:function(){return this._map?(this._map.off("moveend",this._updateHash),e.window.removeEventListener("hashchange",this._onHashChange,!1),clearTimeout(this._updateHash()),this._map=void 0,this):this}},{key:"getHashString",value:function(){var t=this._map;if(!t)return"";var n=ui(t);if(this._hashName){var r=this._hashName,i=!1,a=e.window.location.hash.slice(1).split("&").map((function(e){var t=e.split("=")[0];return t===r?(i=!0,"".concat(t,"=").concat(n)):e})).filter((function(e){return e}));return i||a.push("".concat(r,"=").concat(n)),"#".concat(a.join("&"))}return"#".concat(n)}},{key:"_getCurrentHash",value:function(){var t,n=this,r=e.window.location.hash.replace("#","");return this._hashName?(r.split("&").map((function(e){return e.split("=")})).forEach((function(e){e[0]===n._hashName&&(t=e)})),(t&&t[1]||"").split("/")):r.split("/")}},{key:"_onHashChange",value:function(){var e=this._map;if(!e)return!1;var t=this._getCurrentHash();if(t.length>=3&&!t.some((function(e){return isNaN(e)}))){var n=e.dragRotate.isEnabled()&&e.touchZoomRotate.isEnabled()?+(t[3]||0):e.getBearing();return e.jumpTo({center:[+t[2],+t[1]],zoom:+t[0],bearing:n,pitch:+(t[4]||0)}),!0}return!1}},{key:"_updateHashUnthrottled",value:function(){var t=e.window.location.href.replace(/(#.+)?$/,this.getHashString());e.window.history.replaceState(e.window.history.state,null,t)}}]),t}();function ui(e,t){var n=e.getCenter(),r=Math.round(100*e.getZoom())/100,i=Math.ceil((r*Math.LN2+Math.log(512/360/.5))/Math.LN10),a=Math.pow(10,i),o=Math.round(n.lng*a)/a,s=Math.round(n.lat*a)/a,l=e.getBearing(),c=e.getPitch(),u=t?"/".concat(o,"/").concat(s,"/").concat(r):"".concat(r,"/").concat(s,"/").concat(o);return(l||c)&&(u+="/"+Math.round(10*l)/10),c&&(u+="/".concat(Math.round(c))),u}var di={linearity:.3,easing:e.bezier(0,0,.3,1)},fi=e.extend({deceleration:2500,maxSpeed:1400},di),hi=e.extend({deceleration:20,maxSpeed:1400},di),pi=e.extend({deceleration:1e3,maxSpeed:360},di),mi=e.extend({deceleration:1e3,maxSpeed:90},di),vi=function(){function t(e){h(this,t),this._map=e,this.clear()}return p(t,[{key:"clear",value:function(){this._inertiaBuffer=[]}},{key:"record",value:function(t){this._drainInertiaBuffer(),this._inertiaBuffer.push({time:e.exported.now(),settings:t})}},{key:"_drainInertiaBuffer",value:function(){for(var t=this._inertiaBuffer,n=e.exported.now();t.length>0&&n-t[0].time>160;)t.shift()}},{key:"_onMoveEnd",value:function(t){if(this._drainInertiaBuffer(),!(this._inertiaBuffer.length<2)){var n,r={zoom:0,bearing:0,pitch:0,pan:new e.pointGeometry(0,0),pinchAround:void 0,around:void 0},i=f(this._inertiaBuffer);try{for(i.s();!(n=i.n()).done;){var a=n.value.settings;r.zoom+=a.zoomDelta||0,r.bearing+=a.bearingDelta||0,r.pitch+=a.pitchDelta||0,a.panDelta&&r.pan._add(a.panDelta),a.around&&(r.around=a.around),a.pinchAround&&(r.pinchAround=a.pinchAround)}}catch(p){i.e(p)}finally{i.f()}var o=this._inertiaBuffer[this._inertiaBuffer.length-1].time-this._inertiaBuffer[0].time,s={};if(r.pan.mag()){var l=yi(r.pan.mag(),o,e.extend({},fi,t||{}));s.offset=r.pan.mult(l.amount/r.pan.mag()),s.center=this._map.transform.center,gi(s,l)}if(r.zoom){var c=yi(r.zoom,o,hi);s.zoom=this._map.transform.zoom+c.amount,gi(s,c)}if(r.bearing){var u=yi(r.bearing,o,pi);s.bearing=this._map.transform.bearing+e.clamp(u.amount,-179,179),gi(s,u)}if(r.pitch){var d=yi(r.pitch,o,mi);s.pitch=this._map.transform.pitch+d.amount,gi(s,d)}if(s.zoom||s.bearing){var h=void 0===r.pinchAround?r.around:r.pinchAround;s.around=h?this._map.unproject(h):this._map.getCenter()}return this.clear(),s.noMoveStart=!0,s}}}]),t}();function gi(e,t){(!e.duration||e.duration<t.duration)&&(e.duration=t.duration,e.easing=t.easing)}function yi(t,n,r){var i=r.maxSpeed,a=r.linearity,o=r.deceleration,s=e.clamp(t*a/(n/1e3),-i,i),l=Math.abs(s)/(o*a);return{easing:r.easing,duration:1e3*l,amount:s*(l/2)}}var xi=function(t){m(r,t);var n=v(r);function r(t,i,a){var o,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};h(this,r);var l=T(i.getCanvasContainer(),a),c=i.unproject(l);return(o=n.call(this,t,e.extend({point:l,lngLat:c,originalEvent:a},s)))._defaultPrevented=!1,o.target=i,o}return p(r,[{key:"preventDefault",value:function(){this._defaultPrevented=!0}},{key:"defaultPrevented",get:function(){return this._defaultPrevented}}]),r}(e.Event),bi=function(t){m(r,t);var n=v(r);function r(t,i,a){var o;h(this,r);var s="touchend"===t?a.changedTouches:a.touches,l=M(i.getCanvasContainer(),s),c=l.map((function(e){return i.unproject(e)})),u=l.reduce((function(e,t,n,r){return e.add(t.div(r.length))}),new e.pointGeometry(0,0));return(o=n.call(this,t,{points:l,point:u,lngLats:c,lngLat:i.unproject(u),originalEvent:a}))._defaultPrevented=!1,o}return p(r,[{key:"preventDefault",value:function(){this._defaultPrevented=!0}},{key:"defaultPrevented",get:function(){return this._defaultPrevented}}]),r}(e.Event),_i=function(e){m(n,e);var t=v(n);function n(e,r,i){var a;return h(this,n),(a=t.call(this,e,{originalEvent:i}))._defaultPrevented=!1,a}return p(n,[{key:"preventDefault",value:function(){this._defaultPrevented=!0}},{key:"defaultPrevented",get:function(){return this._defaultPrevented}}]),n}(e.Event),wi=function(){function t(e,n){h(this,t),this._map=e,this._clickTolerance=n.clickTolerance}return p(t,[{key:"reset",value:function(){this._mousedownPos=void 0}},{key:"wheel",value:function(e){return this._firePreventable(new _i(e.type,this._map,e))}},{key:"mousedown",value:function(e,t){return this._mousedownPos=t,this._firePreventable(new xi(e.type,this._map,e))}},{key:"mouseup",value:function(e){this._map.fire(new xi(e.type,this._map,e))}},{key:"preclick",value:function(t){var n=e.extend({},t);n.type="preclick",this._map.fire(new xi(n.type,this._map,n))}},{key:"click",value:function(e,t){this._mousedownPos&&this._mousedownPos.dist(t)>=this._clickTolerance||(this.preclick(e),this._map.fire(new xi(e.type,this._map,e)))}},{key:"dblclick",value:function(e){return this._firePreventable(new xi(e.type,this._map,e))}},{key:"mouseover",value:function(e){this._map.fire(new xi(e.type,this._map,e))}},{key:"mouseout",value:function(e){this._map.fire(new xi(e.type,this._map,e))}},{key:"touchstart",value:function(e){return this._firePreventable(new bi(e.type,this._map,e))}},{key:"touchmove",value:function(e){this._map.fire(new bi(e.type,this._map,e))}},{key:"touchend",value:function(e){this._map.fire(new bi(e.type,this._map,e))}},{key:"touchcancel",value:function(e){this._map.fire(new bi(e.type,this._map,e))}},{key:"_firePreventable",value:function(e){if(this._map.fire(e),e.defaultPrevented)return{}}},{key:"isEnabled",value:function(){return!0}},{key:"isActive",value:function(){return!1}},{key:"enable",value:function(){}},{key:"disable",value:function(){}}]),t}(),ki=function(){function e(t){h(this,e),this._map=t}return p(e,[{key:"reset",value:function(){this._delayContextMenu=!1,this._contextMenuEvent=void 0}},{key:"mousemove",value:function(e){this._map.fire(new xi(e.type,this._map,e))}},{key:"mousedown",value:function(){this._delayContextMenu=!0}},{key:"mouseup",value:function(){this._delayContextMenu=!1,this._contextMenuEvent&&(this._map.fire(new xi("contextmenu",this._map,this._contextMenuEvent)),delete this._contextMenuEvent)}},{key:"contextmenu",value:function(e){this._delayContextMenu?this._contextMenuEvent=e:this._map.fire(new xi(e.type,this._map,e)),this._map.listens("contextmenu")&&e.preventDefault()}},{key:"isEnabled",value:function(){return!0}},{key:"isActive",value:function(){return!1}},{key:"enable",value:function(){}},{key:"disable",value:function(){}}]),e}(),Si=function(){function t(e,n){h(this,t),this._map=e,this._el=e.getCanvasContainer(),this._container=e.getContainer(),this._clickTolerance=n.clickTolerance||1}return p(t,[{key:"isEnabled",value:function(){return!!this._enabled}},{key:"isActive",value:function(){return!!this._active}},{key:"enable",value:function(){this.isEnabled()||(this._enabled=!0)}},{key:"disable",value:function(){this.isEnabled()&&(this._enabled=!1)}},{key:"mousedown",value:function(e,t){this.isEnabled()&&e.shiftKey&&0===e.button&&(k(),this._startPos=this._lastPos=t,this._active=!0)}},{key:"mousemoveWindow",value:function(e,t){var n=this;if(this._active){var r=t,i=this._startPos,a=this._lastPos;if(!(!i||!a||a.equals(r)||!this._box&&r.dist(i)<this._clickTolerance)){this._lastPos=r,this._box||(this._box=y("div","mapboxgl-boxzoom",this._container),this._container.classList.add("mapboxgl-crosshair"),this._fireEvent("boxzoomstart",e));var o=Math.min(i.x,r.x),s=Math.max(i.x,r.x),l=Math.min(i.y,r.y),c=Math.max(i.y,r.y);this._map._requestDomTask((function(){n._box&&(n._box.style.transform="translate(".concat(o,"px,").concat(l,"px)"),n._box.style.width=s-o+"px",n._box.style.height=c-l+"px")}))}}}},{key:"mouseupWindow",value:function(t,n){var r=this;if(this._active){var i=this._startPos,a=n;if(i&&0===t.button){if(this.reset(),C(),i.x!==a.x||i.y!==a.y)return this._map.fire(new e.Event("boxzoomend",{originalEvent:t})),{cameraAnimation:function(e){return e.fitScreenCoordinates(i,a,r._map.getBearing(),{linear:!1})}};this._fireEvent("boxzoomcancel",t)}}}},{key:"keydown",value:function(e){this._active&&27===e.keyCode&&(this.reset(),this._fireEvent("boxzoomcancel",e))}},{key:"blur",value:function(){this.reset()}},{key:"reset",value:function(){this._active=!1,this._container.classList.remove("mapboxgl-crosshair"),this._box&&(this._box.remove(),this._box=null),S(),delete this._startPos,delete this._lastPos}},{key:"_fireEvent",value:function(t,n){return this._map.fire(new e.Event(t,{originalEvent:n}))}}]),t}();function Ei(e,t){for(var n={},r=0;r<e.length;r++)n[e[r].identifier]=t[r];return n}var Ci=function(){function t(e){h(this,t),this.reset(),this.numTouches=e.numTouches}return p(t,[{key:"reset",value:function(){this.centroid=void 0,this.startTime=0,this.touches={},this.aborted=!1}},{key:"touchstart",value:function(t,n,r){(this.centroid||r.length>this.numTouches)&&(this.aborted=!0),this.aborted||(0===this.startTime&&(this.startTime=t.timeStamp),r.length===this.numTouches&&(this.centroid=function(t){var n,r=new e.pointGeometry(0,0),i=f(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;r._add(a)}}catch(o){i.e(o)}finally{i.f()}return r.div(t.length)}(n),this.touches=Ei(r,n)))}},{key:"touchmove",value:function(e,t,n){if(!this.aborted&&this.centroid){var r=Ei(n,t);for(var i in this.touches){var a=this.touches[i],o=r[i];(!o||o.dist(a)>30)&&(this.aborted=!0)}}}},{key:"touchend",value:function(e,t,n){if((!this.centroid||e.timeStamp-this.startTime>500)&&(this.aborted=!0),0===n.length){var r=!this.aborted&&this.centroid;if(this.reset(),r)return r}}}]),t}(),Ti=function(){function e(t){h(this,e),this.singleTap=new Ci(t),this.numTaps=t.numTaps,this.reset()}return p(e,[{key:"reset",value:function(){this.lastTime=1/0,this.lastTap=void 0,this.count=0,this.singleTap.reset()}},{key:"touchstart",value:function(e,t,n){this.singleTap.touchstart(e,t,n)}},{key:"touchmove",value:function(e,t,n){this.singleTap.touchmove(e,t,n)}},{key:"touchend",value:function(e,t,n){var r=this.singleTap.touchend(e,t,n);if(r){var i=e.timeStamp-this.lastTime<500,a=!this.lastTap||this.lastTap.dist(r)<30;if(i&&a||this.reset(),this.count++,this.lastTime=e.timeStamp,this.lastTap=r,this.count===this.numTaps)return this.reset(),r}}}]),e}(),Mi=function(){function e(){h(this,e),this._zoomIn=new Ti({numTouches:1,numTaps:2}),this._zoomOut=new Ti({numTouches:2,numTaps:1}),this.reset()}return p(e,[{key:"reset",value:function(){this._active=!1,this._zoomIn.reset(),this._zoomOut.reset()}},{key:"touchstart",value:function(e,t,n){this._zoomIn.touchstart(e,t,n),this._zoomOut.touchstart(e,t,n)}},{key:"touchmove",value:function(e,t,n){this._zoomIn.touchmove(e,t,n),this._zoomOut.touchmove(e,t,n)}},{key:"touchend",value:function(e,t,n){var r=this,i=this._zoomIn.touchend(e,t,n),a=this._zoomOut.touchend(e,t,n);return i?(this._active=!0,e.preventDefault(),setTimeout((function(){return r.reset()}),0),{cameraAnimation:function(t){return t.easeTo({duration:300,zoom:t.getZoom()+1,around:t.unproject(i)},{originalEvent:e})}}):a?(this._active=!0,e.preventDefault(),setTimeout((function(){return r.reset()}),0),{cameraAnimation:function(t){return t.easeTo({duration:300,zoom:t.getZoom()-1,around:t.unproject(a)},{originalEvent:e})}}):void 0}},{key:"touchcancel",value:function(){this.reset()}},{key:"enable",value:function(){this._enabled=!0}},{key:"disable",value:function(){this._enabled=!1,this.reset()}},{key:"isEnabled",value:function(){return this._enabled}},{key:"isActive",value:function(){return this._active}}]),e}(),Ii={0:1,2:2},Oi=function(){function e(t){h(this,e),this.reset(),this._clickTolerance=t.clickTolerance||1}return p(e,[{key:"blur",value:function(){this.reset()}},{key:"reset",value:function(){this._active=!1,this._moved=!1,this._lastPoint=void 0,this._eventButton=void 0}},{key:"_correctButton",value:function(e,t){return!1}},{key:"_move",value:function(e,t){return{}}},{key:"mousedown",value:function(e,t){if(!this._lastPoint){var n=I(e);this._correctButton(e,n)&&(this._lastPoint=t,this._eventButton=n)}}},{key:"mousemoveWindow",value:function(e,t){var n=this._lastPoint;if(n)if(e.preventDefault(),null!=this._eventButton&&function(e,t){var n=Ii[t];return void 0===e.buttons||(e.buttons&n)!==n}(e,this._eventButton))this.reset();else if(this._moved||!(t.dist(n)<this._clickTolerance))return this._moved=!0,this._lastPoint=t,this._move(n,t)}},{key:"mouseupWindow",value:function(e){this._lastPoint&&I(e)===this._eventButton&&(this._moved&&C(),this.reset())}},{key:"enable",value:function(){this._enabled=!0}},{key:"disable",value:function(){this._enabled=!1,this.reset()}},{key:"isEnabled",value:function(){return this._enabled}},{key:"isActive",value:function(){return this._active}}]),e}(),Pi=function(e){m(n,e);var t=v(n);function n(){return h(this,n),t.apply(this,arguments)}return p(n,[{key:"mousedown",value:function(e,t){o(s(n.prototype),"mousedown",this).call(this,e,t),this._lastPoint&&(this._active=!0)}},{key:"_correctButton",value:function(e,t){return 0===t&&!e.ctrlKey}},{key:"_move",value:function(e,t){return{around:t,panDelta:t.sub(e)}}}]),n}(Oi),Ai=function(e){m(n,e);var t=v(n);function n(){return h(this,n),t.apply(this,arguments)}return p(n,[{key:"_correctButton",value:function(e,t){return 0===t&&e.ctrlKey||2===t}},{key:"_move",value:function(e,t){var n=.8*(t.x-e.x);if(n)return this._active=!0,{bearingDelta:n}}},{key:"contextmenu",value:function(e){e.preventDefault()}}]),n}(Oi),zi=function(e){m(n,e);var t=v(n);function n(){return h(this,n),t.apply(this,arguments)}return p(n,[{key:"_correctButton",value:function(e,t){return 0===t&&e.ctrlKey||2===t}},{key:"_move",value:function(e,t){var n=-.5*(t.y-e.y);if(n)return this._active=!0,{pitchDelta:n}}},{key:"contextmenu",value:function(e){e.preventDefault()}}]),n}(Oi),ji=function(){function t(n,r){h(this,t),this._map=n,this._el=n.getCanvasContainer(),this._minTouches=1,this._clickTolerance=r.clickTolerance||1,this.reset(),e.bindAll(["_addTouchPanBlocker","_showTouchPanBlockerAlert"],this)}return p(t,[{key:"reset",value:function(){this._active=!1,this._touches={},this._sum=new e.pointGeometry(0,0)}},{key:"touchstart",value:function(e,t,n){return this._calculateTransform(e,t,n)}},{key:"touchmove",value:function(t,n,r){if(this._active&&!(r.length<this._minTouches)){if(this._map._cooperativeGestures&&!this._map.isMoving()){if(1===r.length&&!e.isFullscreen())return void this._showTouchPanBlockerAlert();"hidden"!==this._alertContainer.style.visibility&&(this._alertContainer.style.visibility="hidden",clearTimeout(this._alertTimer))}return t.cancelable&&t.preventDefault(),this._calculateTransform(t,n,r)}}},{key:"touchend",value:function(e,t,n){this._calculateTransform(e,t,n),this._active&&n.length<this._minTouches&&this.reset()}},{key:"touchcancel",value:function(){this.reset()}},{key:"_calculateTransform",value:function(t,n,r){r.length>0&&(this._active=!0);var i=Ei(r,n),a=new e.pointGeometry(0,0),o=new e.pointGeometry(0,0),s=0;for(var l in i){var c=i[l],u=this._touches[l];u&&(a._add(c),o._add(c.sub(u)),s++,i[l]=c)}if(this._touches=i,!(s<this._minTouches)&&o.mag()){var d=o.div(s);return this._sum._add(d),this._sum.mag()<this._clickTolerance?void 0:{around:a.div(s),panDelta:d}}}},{key:"enable",value:function(){this._enabled=!0,this._map._cooperativeGestures&&(this._addTouchPanBlocker(),this._el.classList.add("mapboxgl-touch-pan-blocker-override","mapboxgl-scrollable-page"))}},{key:"disable",value:function(){this._enabled=!1,this._map._cooperativeGestures&&(clearTimeout(this._alertTimer),this._alertContainer.remove(),this._el.classList.remove("mapboxgl-touch-pan-blocker-override","mapboxgl-scrollable-page")),this.reset()}},{key:"isEnabled",value:function(){return!!this._enabled}},{key:"isActive",value:function(){return!!this._active}},{key:"_addTouchPanBlocker",value:function(){this._map&&!this._alertContainer&&(this._alertContainer=y("div","mapboxgl-touch-pan-blocker",this._map._container),this._alertContainer.textContent=this._map._getUIString("TouchPanBlocker.Message"),this._alertContainer.style.fontSize="".concat(Math.max(10,Math.min(24,Math.floor(.05*this._el.clientWidth))),"px"))}},{key:"_showTouchPanBlockerAlert",value:function(){var e=this;this._alertContainer.style.visibility="visible",this._alertContainer.classList.add("mapboxgl-touch-pan-blocker-show"),this._alertContainer.setAttribute("role","alert"),clearTimeout(this._alertTimer),this._alertTimer=setTimeout((function(){e._alertContainer.classList.remove("mapboxgl-touch-pan-blocker-show"),e._alertContainer.setAttribute("role","null")}),500)}}]),t}(),Ri=function(){function e(){h(this,e),this.reset()}return p(e,[{key:"reset",value:function(){this._active=!1,this._firstTwoTouches=void 0}},{key:"_start",value:function(e){}},{key:"_move",value:function(e,t,n){return{}}},{key:"touchstart",value:function(e,t,n){this._firstTwoTouches||n.length<2||(this._firstTwoTouches=[n[0].identifier,n[1].identifier],this._start([t[0],t[1]]))}},{key:"touchmove",value:function(e,t,n){var r=this._firstTwoTouches;if(r){e.preventDefault();var i=d(r,2),a=i[0],o=i[1],s=Di(n,t,a),l=Di(n,t,o);if(s&&l){var c=this._aroundCenter?null:s.add(l).div(2);return this._move([s,l],c,e)}}}},{key:"touchend",value:function(e,t,n){if(this._firstTwoTouches){var r=d(this._firstTwoTouches,2),i=r[0],a=r[1],o=Di(n,t,i),s=Di(n,t,a);o&&s||(this._active&&C(),this.reset())}}},{key:"touchcancel",value:function(){this.reset()}},{key:"enable",value:function(e){this._enabled=!0,this._aroundCenter=!!e&&"center"===e.around}},{key:"disable",value:function(){this._enabled=!1,this.reset()}},{key:"isEnabled",value:function(){return this._enabled}},{key:"isActive",value:function(){return this._active}}]),e}();function Di(e,t,n){for(var r=0;r<e.length;r++)if(e[r].identifier===n)return t[r]}function Li(e,t){return Math.log(e/t)/Math.LN2}var Ni=function(e){m(n,e);var t=v(n);function n(){return h(this,n),t.apply(this,arguments)}return p(n,[{key:"reset",value:function(){o(s(n.prototype),"reset",this).call(this),this._distance=0,this._startDistance=0}},{key:"_start",value:function(e){this._startDistance=this._distance=e[0].dist(e[1])}},{key:"_move",value:function(e,t){var n=this._distance;if(this._distance=e[0].dist(e[1]),this._active||!(Math.abs(Li(this._distance,this._startDistance))<.1))return this._active=!0,{zoomDelta:Li(this._distance,n),pinchAround:t}}}]),n}(Ri);function Bi(e,t){return 180*e.angleWith(t)/Math.PI}var Fi=function(e){m(n,e);var t=v(n);function n(){return h(this,n),t.apply(this,arguments)}return p(n,[{key:"reset",value:function(){o(s(n.prototype),"reset",this).call(this),this._minDiameter=0,this._startVector=void 0,this._vector=void 0}},{key:"_start",value:function(e){this._startVector=this._vector=e[0].sub(e[1]),this._minDiameter=e[0].dist(e[1])}},{key:"_move",value:function(e,t){var n=this._vector;if(this._vector=e[0].sub(e[1]),n&&(this._active||!this._isBelowThreshold(this._vector)))return this._active=!0,{bearingDelta:Bi(this._vector,n),pinchAround:t}}},{key:"_isBelowThreshold",value:function(e){this._minDiameter=Math.min(this._minDiameter,e.mag());var t=25/(Math.PI*this._minDiameter)*360,n=this._startVector;if(!n)return!1;var r=Bi(e,n);return Math.abs(r)<t}}]),n}(Ri);function Vi(e){return Math.abs(e.y)>Math.abs(e.x)}var Ui=function(t){m(r,t);var n=v(r);function r(e){var t;return h(this,r),(t=n.call(this))._map=e,t}return p(r,[{key:"reset",value:function(){o(s(r.prototype),"reset",this).call(this),this._valid=void 0,this._firstMove=void 0,this._lastPoints=void 0}},{key:"_start",value:function(e){this._lastPoints=e,Vi(e[0].sub(e[1]))&&(this._valid=!1)}},{key:"_move",value:function(t,n,r){var i=this._lastPoints;if(i){var a=t[0].sub(i[0]),o=t[1].sub(i[1]);return this._map._cooperativeGestures&&!e.isFullscreen()&&r.touches.length<3||(this._valid=this.gestureBeginsVertically(a,o,r.timeStamp),!this._valid)?void 0:(this._lastPoints=t,this._active=!0,{pitchDelta:(a.y+o.y)/2*-.5})}}},{key:"gestureBeginsVertically",value:function(e,t,n){if(void 0!==this._valid)return this._valid;var r=e.mag()>=2,i=t.mag()>=2;if(r||i){if(!r||!i)return null==this._firstMove&&(this._firstMove=n),n-this._firstMove<100&&void 0;var a=e.y>0==t.y>0;return Vi(e)&&Vi(t)&&a}}}]),r}(Ri),Hi={panStep:100,bearingStep:15,pitchStep:10},Gi=function(){function e(){h(this,e);var t=Hi;this._panStep=t.panStep,this._bearingStep=t.bearingStep,this._pitchStep=t.pitchStep,this._rotationDisabled=!1}return p(e,[{key:"blur",value:function(){this.reset()}},{key:"reset",value:function(){this._active=!1}},{key:"keydown",value:function(e){var t=this;if(!(e.altKey||e.ctrlKey||e.metaKey)){var n=0,r=0,i=0,a=0,o=0;switch(e.keyCode){case 61:case 107:case 171:case 187:n=1;break;case 189:case 109:case 173:n=-1;break;case 37:e.shiftKey?r=-1:(e.preventDefault(),a=-1);break;case 39:e.shiftKey?r=1:(e.preventDefault(),a=1);break;case 38:e.shiftKey?i=1:(e.preventDefault(),o=-1);break;case 40:e.shiftKey?i=-1:(e.preventDefault(),o=1);break;default:return}return this._rotationDisabled&&(r=0,i=0),{cameraAnimation:function(s){var l=s.getZoom();s.easeTo({duration:300,easeId:"keyboardHandler",easing:Wi,zoom:n?Math.round(l)+n*(e.shiftKey?2:1):l,bearing:s.getBearing()+r*t._bearingStep,pitch:s.getPitch()+i*t._pitchStep,offset:[-a*t._panStep,-o*t._panStep],center:s.getCenter()},{originalEvent:e})}}}}},{key:"enable",value:function(){this._enabled=!0}},{key:"disable",value:function(){this._enabled=!1,this.reset()}},{key:"isEnabled",value:function(){return this._enabled}},{key:"isActive",value:function(){return this._active}},{key:"disableRotation",value:function(){this._rotationDisabled=!0}},{key:"enableRotation",value:function(){this._rotationDisabled=!1}}]),e}();function Wi(e){return e*(2-e)}var qi=4.000244140625,Xi=function(){function t(n,r){h(this,t),this._map=n,this._el=n.getCanvasContainer(),this._handler=r,this._delta=0,this._defaultZoomRate=.01,this._wheelZoomRate=.0022222222222222222,e.bindAll(["_onTimeout","_addScrollZoomBlocker","_showBlockerAlert"],this)}return p(t,[{key:"setZoomRate",value:function(e){this._defaultZoomRate=e}},{key:"setWheelZoomRate",value:function(e){this._wheelZoomRate=e}},{key:"isEnabled",value:function(){return!!this._enabled}},{key:"isActive",value:function(){return this._active||void 0!==this._finishTimeout}},{key:"isZooming",value:function(){return!!this._zooming}},{key:"enable",value:function(e){this.isEnabled()||(this._enabled=!0,this._aroundCenter=!!e&&"center"===e.around,this._map._cooperativeGestures&&this._addScrollZoomBlocker())}},{key:"disable",value:function(){this.isEnabled()&&(this._enabled=!1,this._map._cooperativeGestures&&(clearTimeout(this._alertTimer),this._alertContainer.remove()))}},{key:"wheel",value:function(t){if(this.isEnabled()){if(this._map._cooperativeGestures){if(!(t.ctrlKey||t.metaKey||this.isZooming()||e.isFullscreen()))return void this._showBlockerAlert();"hidden"!==this._alertContainer.style.visibility&&(this._alertContainer.style.visibility="hidden",clearTimeout(this._alertTimer))}var n=t.deltaMode===e.window.WheelEvent.DOM_DELTA_LINE?40*t.deltaY:t.deltaY,r=e.exported.now(),i=r-(this._lastWheelEventTime||0);this._lastWheelEventTime=r,0!==n&&n%qi==0?this._type="wheel":0!==n&&Math.abs(n)<4?this._type="trackpad":i>400?(this._type=null,this._lastValue=n,this._timeout=setTimeout(this._onTimeout,40,t)):this._type||(this._type=Math.abs(i*n)<200?"trackpad":"wheel",this._timeout&&(clearTimeout(this._timeout),this._timeout=null,n+=this._lastValue)),t.shiftKey&&n&&(n/=4),this._type&&(this._lastWheelEvent=t,this._delta-=n,this._active||this._start(t)),t.preventDefault()}}},{key:"_onTimeout",value:function(e){this._type="wheel",this._delta-=this._lastValue,this._active||this._start(e)}},{key:"_start",value:function(e){if(this._delta){this._frameId&&(this._frameId=null),this._active=!0,this.isZooming()||(this._zooming=!0),this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout);var t=T(this._el,e);this._aroundPoint=this._aroundCenter?this._map.transform.centerPoint:t,this._aroundCoord=this._map.transform.pointCoordinate3D(this._aroundPoint),this._targetZoom=void 0,this._frameId||(this._frameId=!0,this._handler._triggerRenderFrame())}}},{key:"renderFrame",value:function(){var t=this;if(this._frameId&&(this._frameId=null,this.isActive())){var n=this._map.transform;"wheel"===this._type&&n.projection.wrap&&(n._center.lng>=180||n._center.lng<=-180)&&(this._prevEase=null,this._easing=null,this._lastWheelEvent=null,this._lastWheelEventTime=0);var r=function(){return n._terrainEnabled()&&t._aroundCoord?n.computeZoomRelativeTo(t._aroundCoord):n.zoom};if(0!==this._delta){var i="wheel"===this._type&&Math.abs(this._delta)>qi?this._wheelZoomRate:this._defaultZoomRate,a=2/(1+Math.exp(-Math.abs(this._delta*i)));this._delta<0&&0!==a&&(a=1/a);var o=r(),s=Math.pow(2,o),l="number"==typeof this._targetZoom?n.zoomScale(this._targetZoom):s;this._targetZoom=Math.min(n.maxZoom,Math.max(n.minZoom,n.scaleZoom(l*a))),"wheel"===this._type&&(this._startZoom=o,this._easing=this._smoothOutEasing(200)),this._delta=0}var c,u="number"==typeof this._targetZoom?this._targetZoom:r(),d=this._startZoom,f=this._easing,h=!1;if("wheel"===this._type&&d&&f){var p=Math.min((e.exported.now()-this._lastWheelEventTime)/200,1),m=f(p);c=e.number(d,u,m),p<1?this._frameId||(this._frameId=!0):h=!0}else c=u,h=!0;return this._active=!0,h&&(this._active=!1,this._finishTimeout=setTimeout((function(){t._zooming=!1,t._handler._triggerRenderFrame(),delete t._targetZoom,delete t._finishTimeout}),200)),{noInertia:!0,needsRenderFrame:!h,zoomDelta:c-r(),around:this._aroundPoint,aroundCoord:this._aroundCoord,originalEvent:this._lastWheelEvent}}}},{key:"_smoothOutEasing",value:function(t){var n=e.ease;if(this._prevEase){var r=this._prevEase,i=(e.exported.now()-r.start)/r.duration,a=r.easing(i+.01)-r.easing(i),o=.27/Math.sqrt(a*a+1e-4)*.01,s=Math.sqrt(.0729-o*o);n=e.bezier(o,s,.25,1)}return this._prevEase={start:e.exported.now(),duration:t,easing:n},n}},{key:"blur",value:function(){this.reset()}},{key:"reset",value:function(){this._active=!1}},{key:"_addScrollZoomBlocker",value:function(){this._map&&!this._alertContainer&&(this._alertContainer=y("div","mapboxgl-scroll-zoom-blocker",this._map._container),this._alertContainer.textContent=/(Mac|iPad)/i.test(e.window.navigator.userAgent)?this._map._getUIString("ScrollZoomBlocker.CmdMessage"):this._map._getUIString("ScrollZoomBlocker.CtrlMessage"),this._alertContainer.style.fontSize="".concat(Math.max(10,Math.min(24,Math.floor(.05*this._el.clientWidth))),"px"))}},{key:"_showBlockerAlert",value:function(){var e=this;this._alertContainer.style.visibility="visible",this._alertContainer.classList.add("mapboxgl-scroll-zoom-blocker-show"),this._alertContainer.setAttribute("role","alert"),clearTimeout(this._alertTimer),this._alertTimer=setTimeout((function(){e._alertContainer.classList.remove("mapboxgl-scroll-zoom-blocker-show"),e._alertContainer.setAttribute("role","null")}),200)}}]),t}(),Zi=function(){function e(t,n){h(this,e),this._clickZoom=t,this._tapZoom=n}return p(e,[{key:"enable",value:function(){this._clickZoom.enable(),this._tapZoom.enable()}},{key:"disable",value:function(){this._clickZoom.disable(),this._tapZoom.disable()}},{key:"isEnabled",value:function(){return this._clickZoom.isEnabled()&&this._tapZoom.isEnabled()}},{key:"isActive",value:function(){return this._clickZoom.isActive()||this._tapZoom.isActive()}}]),e}(),Ki=function(){function e(){h(this,e),this.reset()}return p(e,[{key:"reset",value:function(){this._active=!1}},{key:"blur",value:function(){this.reset()}},{key:"dblclick",value:function(e,t){return e.preventDefault(),{cameraAnimation:function(n){n.easeTo({duration:300,zoom:n.getZoom()+(e.shiftKey?-1:1),around:n.unproject(t)},{originalEvent:e})}}}},{key:"enable",value:function(){this._enabled=!0}},{key:"disable",value:function(){this._enabled=!1,this.reset()}},{key:"isEnabled",value:function(){return this._enabled}},{key:"isActive",value:function(){return this._active}}]),e}(),Yi=function(){function e(){h(this,e),this._tap=new Ti({numTouches:1,numTaps:1}),this.reset()}return p(e,[{key:"reset",value:function(){this._active=!1,this._swipePoint=void 0,this._swipeTouch=0,this._tapTime=0,this._tap.reset()}},{key:"touchstart",value:function(e,t,n){this._swipePoint||(this._tapTime&&e.timeStamp-this._tapTime>500&&this.reset(),this._tapTime?n.length>0&&(this._swipePoint=t[0],this._swipeTouch=n[0].identifier):this._tap.touchstart(e,t,n))}},{key:"touchmove",value:function(e,t,n){if(this._tapTime){if(this._swipePoint){if(n[0].identifier!==this._swipeTouch)return;var r=t[0],i=r.y-this._swipePoint.y;return this._swipePoint=r,e.preventDefault(),this._active=!0,{zoomDelta:i/128}}}else this._tap.touchmove(e,t,n)}},{key:"touchend",value:function(e,t,n){this._tapTime?this._swipePoint&&0===n.length&&this.reset():this._tap.touchend(e,t,n)&&(this._tapTime=e.timeStamp)}},{key:"touchcancel",value:function(){this.reset()}},{key:"enable",value:function(){this._enabled=!0}},{key:"disable",value:function(){this._enabled=!1,this.reset()}},{key:"isEnabled",value:function(){return this._enabled}},{key:"isActive",value:function(){return this._active}}]),e}(),$i=function(){function e(t,n,r){h(this,e),this._el=t,this._mousePan=n,this._touchPan=r}return p(e,[{key:"enable",value:function(e){this._inertiaOptions=e||{},this._mousePan.enable(),this._touchPan.enable(),this._el.classList.add("mapboxgl-touch-drag-pan")}},{key:"disable",value:function(){this._mousePan.disable(),this._touchPan.disable(),this._el.classList.remove("mapboxgl-touch-drag-pan")}},{key:"isEnabled",value:function(){return this._mousePan.isEnabled()&&this._touchPan.isEnabled()}},{key:"isActive",value:function(){return this._mousePan.isActive()||this._touchPan.isActive()}}]),e}(),Ji=function(){function e(t,n,r){h(this,e),this._pitchWithRotate=t.pitchWithRotate,this._mouseRotate=n,this._mousePitch=r}return p(e,[{key:"enable",value:function(){this._mouseRotate.enable(),this._pitchWithRotate&&this._mousePitch.enable()}},{key:"disable",value:function(){this._mouseRotate.disable(),this._mousePitch.disable()}},{key:"isEnabled",value:function(){return this._mouseRotate.isEnabled()&&(!this._pitchWithRotate||this._mousePitch.isEnabled())}},{key:"isActive",value:function(){return this._mouseRotate.isActive()||this._mousePitch.isActive()}}]),e}(),Qi=function(){function e(t,n,r,i){h(this,e),this._el=t,this._touchZoom=n,this._touchRotate=r,this._tapDragZoom=i,this._rotationDisabled=!1,this._enabled=!0}return p(e,[{key:"enable",value:function(e){this._touchZoom.enable(e),this._rotationDisabled||this._touchRotate.enable(e),this._tapDragZoom.enable(),this._el.classList.add("mapboxgl-touch-zoom-rotate")}},{key:"disable",value:function(){this._touchZoom.disable(),this._touchRotate.disable(),this._tapDragZoom.disable(),this._el.classList.remove("mapboxgl-touch-zoom-rotate")}},{key:"isEnabled",value:function(){return this._touchZoom.isEnabled()&&(this._rotationDisabled||this._touchRotate.isEnabled())&&this._tapDragZoom.isEnabled()}},{key:"isActive",value:function(){return this._touchZoom.isActive()||this._touchRotate.isActive()||this._tapDragZoom.isActive()}},{key:"disableRotation",value:function(){this._rotationDisabled=!0,this._touchRotate.disable()}},{key:"enableRotation",value:function(){this._rotationDisabled=!1,this._touchZoom.isEnabled()&&this._touchRotate.enable()}}]),e}(),ea=function(e){return e.zoom||e.drag||e.pitch||e.rotate},ta=function(e){m(n,e);var t=v(n);function n(){return h(this,n),t.apply(this,arguments)}return p(n)}(e.Event),na=function(){function t(){h(this,t),this.constants=[1,1,.01],this.radius=0}return p(t,[{key:"setup",value:function(t,n){var r=e.sub([],n,t);this.radius=e.length(r[2]<0?e.div([],r,this.constants):[r[0],r[1],0])}},{key:"projectRay",value:function(t){e.div(t,t,this.constants),e.normalize(t,t),e.mul$1(t,t,this.constants);var n=e.scale$2([],t,this.radius);if(n[2]>0){var r=e.scale$2([],[0,0,1],e.dot(n,[0,0,1])),i=e.scale$2([],e.normalize([],[n[0],n[1],0]),this.radius),a=e.add([],n,e.scale$2([],e.sub([],e.add([],i,r),n),2));n[0]=a[0],n[1]=a[1]}return n}}]),t}();function ra(e){return e.panDelta&&e.panDelta.mag()||e.zoomDelta||e.bearingDelta||e.pitchDelta}var ia=function(){function t(n,r){h(this,t),this._map=n,this._el=this._map.getCanvasContainer(),this._handlers=[],this._handlersById={},this._changes=[],this._inertia=new vi(n),this._bearingSnap=r.bearingSnap,this._previousActiveHandlers={},this._trackingEllipsoid=new na,this._dragOrigin=null,this._eventsInProgress={},this._addDefaultHandlers(r),e.bindAll(["handleEvent","handleWindowEvent"],this);var i=this._el;this._listeners=[[i,"touchstart",{passive:!0}],[i,"touchmove",{passive:!1}],[i,"touchend",void 0],[i,"touchcancel",void 0],[i,"mousedown",void 0],[i,"mousemove",void 0],[i,"mouseup",void 0],[e.window.document,"mousemove",{capture:!0}],[e.window.document,"mouseup",void 0],[i,"mouseover",void 0],[i,"mouseout",void 0],[i,"dblclick",void 0],[i,"click",void 0],[i,"keydown",{capture:!1}],[i,"keyup",void 0],[i,"wheel",{passive:!1}],[i,"contextmenu",void 0],[e.window,"blur",void 0]];var a,o=f(this._listeners);try{for(o.s();!(a=o.n()).done;){var s=d(a.value,3),l=s[0],c=s[1],u=s[2];l.addEventListener(c,l===e.window.document?this.handleWindowEvent:this.handleEvent,u)}}catch(p){o.e(p)}finally{o.f()}}return p(t,[{key:"destroy",value:function(){var t,n=f(this._listeners);try{for(n.s();!(t=n.n()).done;){var r=d(t.value,3),i=r[0],a=r[1],o=r[2];i.removeEventListener(a,i===e.window.document?this.handleWindowEvent:this.handleEvent,o)}}catch(s){n.e(s)}finally{n.f()}}},{key:"_addDefaultHandlers",value:function(e){var t=this._map,n=t.getCanvasContainer();this._add("mapEvent",new wi(t,e));var r=t.boxZoom=new Si(t,e);this._add("boxZoom",r);var i=new Mi,a=new Ki;t.doubleClickZoom=new Zi(a,i),this._add("tapZoom",i),this._add("clickZoom",a);var o=new Yi;this._add("tapDragZoom",o);var s=t.touchPitch=new Ui(t);this._add("touchPitch",s);var l=new Ai(e),c=new zi(e);t.dragRotate=new Ji(e,l,c),this._add("mouseRotate",l,["mousePitch"]),this._add("mousePitch",c,["mouseRotate"]);var u=new Pi(e),d=new ji(t,e);t.dragPan=new $i(n,u,d),this._add("mousePan",u),this._add("touchPan",d,["touchZoom","touchRotate"]);var f=new Fi,h=new Ni;t.touchZoomRotate=new Qi(n,h,f,o),this._add("touchRotate",f,["touchPan","touchZoom"]),this._add("touchZoom",h,["touchPan","touchRotate"]),this._add("blockableMapEvent",new ki(t));var p=t.scrollZoom=new Xi(t,this);this._add("scrollZoom",p,["mousePan"]);var m=t.keyboard=new Gi;this._add("keyboard",m);for(var v=0,g=["boxZoom","doubleClickZoom","tapDragZoom","touchPitch","dragRotate","dragPan","touchZoomRotate","scrollZoom","keyboard"];v<g.length;v++){var y=g[v];e.interactive&&e[y]&&t[y].enable(e[y])}}},{key:"_add",value:function(e,t,n){this._handlers.push({handlerName:e,handler:t,allowed:n}),this._handlersById[e]=t}},{key:"stop",value:function(e){if(!this._updatingCamera){var t,n=f(this._handlers);try{for(n.s();!(t=n.n()).done;)t.value.handler.reset()}catch(r){n.e(r)}finally{n.f()}this._inertia.clear(),this._fireEvents({},{},e),this._changes=[]}}},{key:"isActive",value:function(){var e,t=f(this._handlers);try{for(t.s();!(e=t.n()).done;)if(e.value.handler.isActive())return!0}catch(n){t.e(n)}finally{t.f()}return!1}},{key:"isZooming",value:function(){return!!this._eventsInProgress.zoom||this._map.scrollZoom.isZooming()}},{key:"isRotating",value:function(){return!!this._eventsInProgress.rotate}},{key:"isMoving",value:function(){return!!ea(this._eventsInProgress)||this.isZooming()}},{key:"_isDragging",value:function(){return!!this._eventsInProgress.drag}},{key:"_blockedByActive",value:function(e,t,n){for(var r in e)if(r!==n&&(!t||t.indexOf(r)<0))return!0;return!1}},{key:"handleWindowEvent",value:function(e){this.handleEvent(e,"".concat(e.type,"Window"))}},{key:"_getMapTouches",value:function(e){var t,n=[],r=f(e);try{for(r.s();!(t=r.n()).done;){var i=t.value;this._el.contains(i.target)&&n.push(i)}}catch(a){r.e(a)}finally{r.f()}return n}},{key:"handleEvent",value:function(e,t){this._updatingCamera=!0;var n,r="renderFrame"===e.type,i=r?void 0:e,a={needsRenderFrame:!1},o={},s={},l=e.touches?this._getMapTouches(e.touches):void 0,c=l?M(this._el,l):r?void 0:T(this._el,e),u=f(this._handlers);try{for(u.s();!(n=u.n()).done;){var d=n.value,h=d.handlerName,p=d.handler,m=d.allowed;if(p.isEnabled()){var v=void 0;this._blockedByActive(s,m,h)?p.reset():p[t||e.type]&&(v=p[t||e.type](e,c,l),this.mergeHandlerResult(a,o,v,h,i),v&&v.needsRenderFrame&&this._triggerRenderFrame()),(v||p.isActive())&&(s[h]=p)}}}catch(b){u.e(b)}finally{u.f()}var g={};for(var y in this._previousActiveHandlers)s[y]||(g[y]=i);this._previousActiveHandlers=s,(Object.keys(g).length||ra(a))&&(this._changes.push([a,o,g]),this._triggerRenderFrame()),(Object.keys(s).length||ra(a))&&this._map._stop(!0),this._updatingCamera=!1;var x=a.cameraAnimation;x&&(this._inertia.clear(),this._fireEvents({},{},!0),this._changes=[],x(this._map))}},{key:"mergeHandlerResult",value:function(t,n,r,i,a){if(r){e.extend(t,r);var o={handlerName:i,originalEvent:r.originalEvent||a};void 0!==r.zoomDelta&&(n.zoom=o),void 0!==r.panDelta&&(n.drag=o),void 0!==r.pitchDelta&&(n.pitch=o),void 0!==r.bearingDelta&&(n.rotate=o)}}},{key:"_applyChanges",value:function(){var t,n={},r={},i={},a=f(this._changes);try{for(a.s();!(t=a.n()).done;){var o=d(t.value,3),s=o[0],l=o[1],c=o[2];s.panDelta&&(n.panDelta=(n.panDelta||new e.pointGeometry(0,0))._add(s.panDelta)),s.zoomDelta&&(n.zoomDelta=(n.zoomDelta||0)+s.zoomDelta),s.bearingDelta&&(n.bearingDelta=(n.bearingDelta||0)+s.bearingDelta),s.pitchDelta&&(n.pitchDelta=(n.pitchDelta||0)+s.pitchDelta),void 0!==s.around&&(n.around=s.around),void 0!==s.aroundCoord&&(n.aroundCoord=s.aroundCoord),void 0!==s.pinchAround&&(n.pinchAround=s.pinchAround),s.noInertia&&(n.noInertia=s.noInertia),e.extend(r,l),e.extend(i,c)}}catch(u){a.e(u)}finally{a.f()}this._updateMapTransform(n,r,i),this._changes=[]}},{key:"_updateMapTransform",value:function(t,n,r){var i=this,a=this._map,o=a.transform,s=function(e){return[e.x,e.y,e.z]};if(function(e){var t=i._eventsInProgress.drag;return t&&!i._handlersById[t.handlerName].isActive()}()&&!ra(t)){var l=o.zoom;o.cameraElevationReference="sea",o.recenterOnTerrain(),o.cameraElevationReference="ground",l!==o.zoom&&this._map._update(!0)}if(o._isCameraConstrained&&a._stop(!0),ra(t)){var c=t.panDelta,u=t.zoomDelta,d=t.bearingDelta,f=t.pitchDelta,h=t.around,p=t.aroundCoord,m=t.pinchAround;o._isCameraConstrained&&(u>0&&(u=0),o._isCameraConstrained=!1),void 0!==m&&(h=m),n.drag&&!i._eventsInProgress.drag&&h&&(this._dragOrigin=s(o.pointCoordinate3D(h)),this._trackingEllipsoid.setup(o._camera.position,this._dragOrigin)),o.cameraElevationReference="sea",a._stop(!0),h=h||a.transform.centerPoint,d&&(o.bearing+=d),f&&(o.pitch+=f),o._updateCameraState();var v=[0,0,0];if(c)if("mercator"===o.projection.name){var g=this._trackingEllipsoid.projectRay(o.screenPointToMercatorRay(h).dir),y=this._trackingEllipsoid.projectRay(o.screenPointToMercatorRay(h.sub(c)).dir);v[0]=y[0]-g[0],v[1]=y[1]-g[1]}else{var x=o.pointCoordinate(h);if("globe"===o.projection.name){c=c.rotate(-o.angle);var b=o._pixelsPerMercatorPixel/o.worldSize;v[0]=-c.x*e.mercatorScale(e.latFromMercatorY(x.y))*b,v[1]=-c.y*e.mercatorScale(o.center.lat)*b}else{var _=o.pointCoordinate(h.sub(c));x&&_&&(v[0]=_.x-x.x,v[1]=_.y-x.y)}}var w=o.zoom,k=[0,0,0];if(u){var S=s(p||o.pointCoordinate3D(h)),E={dir:e.normalize([],e.sub([],S,o._camera.position))};if(E.dir[2]<0){var C=o.zoomDeltaToMovement(S,u);e.scale$2(k,E.dir,C)}}var T=e.add(v,v,k);o._translateCameraConstrained(T),u&&Math.abs(o.zoom-w)>1e-4&&o.recenterOnTerrain(),o.cameraElevationReference="ground",this._map._update(),t.noInertia||this._inertia.record(t),this._fireEvents(n,r,!0)}else this._fireEvents(n,r,!0)}},{key:"_fireEvents",value:function(t,n,r){var i=this,a=ea(this._eventsInProgress),o=ea(t),s={};for(var l in t){var c=t[l].originalEvent;this._eventsInProgress[l]||(s["".concat(l,"start")]=c),this._eventsInProgress[l]=t[l]}for(var u in!a&&o&&this._fireEvent("movestart",o.originalEvent),s)this._fireEvent(u,s[u]);for(var d in o&&this._fireEvent("move",o.originalEvent),t){var f=t[d].originalEvent;this._fireEvent(d,f)}var h,p={};for(var m in this._eventsInProgress){var v=this._eventsInProgress[m],g=v.handlerName,y=v.originalEvent;this._handlersById[g].isActive()||(delete this._eventsInProgress[m],h=n[g]||y,p["".concat(m,"end")]=h)}for(var x in p)this._fireEvent(x,p[x]);var b=ea(this._eventsInProgress);if(r&&(a||o)&&!b){this._updatingCamera=!0;var _=this._inertia._onMoveEnd(this._map.dragPan._inertiaOptions),w=function(e){return 0!==e&&-i._bearingSnap<e&&e<i._bearingSnap};_?(w(_.bearing||this._map.getBearing())&&(_.bearing=0),this._map.easeTo(_,{originalEvent:h})):(this._map.fire(new e.Event("moveend",{originalEvent:h})),w(this._map.getBearing())&&this._map.resetNorth()),this._updatingCamera=!1}}},{key:"_fireEvent",value:function(t,n){this._map.fire(new e.Event(t,n?{originalEvent:n}:{}))}},{key:"_requestFrame",value:function(){var e=this;return this._map.triggerRepaint(),this._map._renderTaskQueue.add((function(t){e._frameId=void 0,e.handleEvent(new ta("renderFrame",{timeStamp:t})),e._applyChanges()}))}},{key:"_triggerRenderFrame",value:function(){void 0===this._frameId&&(this._frameId=this._requestFrame())}}]),t}(),aa="map.setFreeCameraOptions(...) and map.getFreeCameraOptions() are not yet supported for non-mercator projections.",oa=function(t){m(r,t);var n=v(r);function r(t,a){var o;return h(this,r),(o=n.call(this))._moving=!1,o._zooming=!1,o.transform=t,o._bearingSnap=a.bearingSnap,e.bindAll(["_renderFrameCallback"],i(o)),o}return p(r,[{key:"getCenter",value:function(){return new e.LngLat(this.transform.center.lng,this.transform.center.lat)}},{key:"setCenter",value:function(e,t){return this.jumpTo({center:e},t)}},{key:"panBy",value:function(t,n,r){return t=e.pointGeometry.convert(t).mult(-1),this.panTo(this.transform.center,e.extend({offset:t},n),r)}},{key:"panTo",value:function(t,n,r){return this.easeTo(e.extend({center:t},n),r)}},{key:"getZoom",value:function(){return this.transform.zoom}},{key:"setZoom",value:function(e,t){return this.jumpTo({zoom:e},t),this}},{key:"zoomTo",value:function(t,n,r){return this.easeTo(e.extend({zoom:t},n),r)}},{key:"zoomIn",value:function(e,t){return this.zoomTo(this.getZoom()+1,e,t),this}},{key:"zoomOut",value:function(e,t){return this.zoomTo(this.getZoom()-1,e,t),this}},{key:"getBearing",value:function(){return this.transform.bearing}},{key:"setBearing",value:function(e,t){return this.jumpTo({bearing:e},t),this}},{key:"getPadding",value:function(){return this.transform.padding}},{key:"setPadding",value:function(e,t){return this.jumpTo({padding:e},t),this}},{key:"rotateTo",value:function(t,n,r){return this.easeTo(e.extend({bearing:t},n),r)}},{key:"resetNorth",value:function(t,n){return this.rotateTo(0,e.extend({duration:1e3},t),n),this}},{key:"resetNorthPitch",value:function(t,n){return this.easeTo(e.extend({bearing:0,pitch:0,duration:1e3},t),n),this}},{key:"snapToNorth",value:function(e,t){return Math.abs(this.getBearing())<this._bearingSnap?this.resetNorth(e,t):this}},{key:"getPitch",value:function(){return this.transform.pitch}},{key:"setPitch",value:function(e,t){return this.jumpTo({pitch:e},t),this}},{key:"cameraForBounds",value:function(t,n){t=e.LngLatBounds.convert(t);var r=n&&n.bearing||0,i=n&&n.pitch||0,a=t.getNorthWest(),o=t.getSouthEast();return this._cameraForBounds(this.transform,a,o,r,i,n)}},{key:"_extendCameraOptions",value:function(t){var n={top:0,bottom:0,right:0,left:0};if("number"==typeof(t=e.extend({padding:n,offset:[0,0],maxZoom:this.transform.maxZoom},t)).padding){var r=t.padding;t.padding={top:r,bottom:r,right:r,left:r}}return t.padding=e.extend(n,t.padding),t}},{key:"_minimumAABBFrustumDistance",value:function(e,t){var n=t.max[0]-t.min[0],r=t.max[1]-t.min[1];return n/r>e.aspect?n/(2*Math.tan(.5*e.fovX)*e.aspect):r/(2*Math.tan(.5*e.fovY)*e.aspect)}},{key:"_cameraForBoundsOnGlobe",value:function(t,n,r,i,a,o){var s=t.clone(),l=this._extendCameraOptions(o);s.bearing=i,s.pitch=a;var c=e.LngLat.convert(n),u=e.LngLat.convert(r),d=.5*(c.lat+u.lat),f=.5*(c.lng+u.lng),h=e.latLngToECEF(d,f),p=e.normalize([],h),m=e.normalize([],e.cross([],p,[0,1,0])),v=e.cross([],m,p),g=[m[0],m[1],m[2],0,v[0],v[1],v[2],0,p[0],p[1],p[2],0,0,0,0,1],y=[h,e.latLngToECEF(c.lat,c.lng),e.latLngToECEF(u.lat,c.lng),e.latLngToECEF(u.lat,u.lng),e.latLngToECEF(c.lat,u.lng),e.latLngToECEF(d,c.lng),e.latLngToECEF(d,u.lng),e.latLngToECEF(c.lat,f),e.latLngToECEF(u.lat,f)],x=e.Aabb.fromPoints(y.map((function(t){return[e.dot(m,t),e.dot(v,t),e.dot(p,t)]}))),b=e.transformMat4([],x.center,g);0===e.squaredLength(b)&&e.set(b,0,0,1),e.normalize(b,b),e.scale$2(b,b,e.GLOBE_RADIUS),s.center=e.ecefToLatLng(b);var _=s.getWorldToCameraMatrix(),w=e.invert(new Float64Array(16),_);x=e.Aabb.applyTransform(x,e.multiply([],_,g)),e.transformMat4(b,b,_);var k=.5*(x.max[2]-x.min[2]),S=this._minimumAABBFrustumDistance(s,x),E=e.scale$2([],[0,0,1],k),C=e.add(E,b,E),T=S+(0===s.pitch?0:e.distance(b,C)),M=s.globeCenterInViewSpace,I=e.sub([],b,[M[0],M[1],M[2]]);e.normalize(I,I),e.scale$2(I,I,T);var O=e.add([],b,I);e.transformMat4(O,O,w);var P=e.earthRadius/e.GLOBE_RADIUS,A=e.length(O),z=e.mercatorZfromAltitude(A*P-e.earthRadius,0),j=Math.min(s.zoomFromMercatorZAdjusted(z),l.maxZoom);return j>.5*(e.GLOBE_ZOOM_THRESHOLD_MIN+e.GLOBE_ZOOM_THRESHOLD_MAX)?(s.setProjection({name:"mercator"}),s.zoom=j,this._cameraForBounds(s,n,r,i,a,o)):{center:s.center,zoom:j,bearing:i,pitch:a}}},{key:"queryTerrainElevation",value:function(t,n){var r=this.transform.elevation;return r?(n=e.extend({},{exaggerated:!0},n),r.getAtPoint(e.MercatorCoordinate.fromLngLat(t),null,n.exaggerated)):null}},{key:"_cameraForBounds",value:function(t,n,r,i,a,o){if("globe"===t.projection.name)return this._cameraForBoundsOnGlobe(t,n,r,i,a,o);var s=t.clone(),l=this._extendCameraOptions(o),c=s.padding;s.bearing=i,s.pitch=a;var u=e.LngLat.convert(n),d=e.LngLat.convert(r),f=new e.LngLat(u.lng,d.lat),h=new e.LngLat(d.lng,u.lat),p=s.project(u),m=s.project(d),v=this.queryTerrainElevation(u),g=this.queryTerrainElevation(d),y=this.queryTerrainElevation(f),x=this.queryTerrainElevation(h),b=[[p.x,p.y,Math.min(v||0,g||0,y||0,x||0)],[m.x,m.y,Math.max(v||0,g||0,y||0,x||0)]],_=e.Aabb.fromPoints(b),w=s.getWorldToCameraMatrix(),k=e.invert(new Float64Array(16),w);_=e.Aabb.applyTransform(_,w);var S=e.sub([],_.max,_.min),E=c.left||0,C=c.right||0,T=c.bottom||0,M=c.top||0,I=l.padding,O=I.left,P=I.right,A=I.top,z=I.bottom,j=.5*(E+C),R=.5*(M+T),D=Math.min(s.scaleZoom(s.scale*Math.min((s.width-(E+C+O+P))/S[0],(s.height-(T+M+z+A))/S[1])),l.maxZoom),L=s.scale/s.zoomScale(D);_=new e.Aabb([_.min[0]-(O+j)*L,_.min[1]-(z+R)*L,_.min[2]],[_.max[0]+(P+j)*L,_.max[1]+(A+R)*L,_.max[2]]);var N=.5*S[2],B=this._minimumAABBFrustumDistance(s,_),F=[0,0,1,0];e.transformMat4$1(F,F,w),e.normalize$2(F,F);var V=e.scale$2([],F,B+N),U=e.add([],_.center,V),H=("number"==typeof l.offset.x&&"number"==typeof l.offset.y?new e.pointGeometry(l.offset.x,l.offset.y):e.pointGeometry.convert(l.offset)).rotate(-e.degToRad(i));_.center[0]-=H.x*L,_.center[1]+=H.y*L,e.transformMat4(_.center,_.center,k),e.transformMat4(U,U,k);var G=[_.center[0],_.center[1],U[2]*s.pixelsPerMeter];e.scale$2(G,G,1/s.worldSize);var W=e.lngFromMercatorX(G[0]),q=e.latFromMercatorY(G[1]),X=Math.min(s._zoomFromMercatorZ(G[2]),l.maxZoom),Z=new e.LngLat(W,q);return s.mercatorFromTransition&&X<.5*(e.GLOBE_ZOOM_THRESHOLD_MIN+e.GLOBE_ZOOM_THRESHOLD_MAX)?(s.setProjection({name:"globe"}),s.zoom=X,this._cameraForBounds(s,n,r,i,a,o)):{center:Z,zoom:X,bearing:i,pitch:a}}},{key:"fitBounds",value:function(e,t,n){var r=this.cameraForBounds(e,t);return this._fitInternal(r,t,n)}},{key:"fitScreenCoordinates",value:function(t,n,r,i,a){var o=e.pointGeometry.convert(t),s=e.pointGeometry.convert(n),l=new e.pointGeometry(Math.min(o.x,s.x),Math.min(o.y,s.y)),c=new e.pointGeometry(Math.max(o.x,s.x),Math.max(o.y,s.y));if("mercator"===this.transform.projection.name&&this.transform.anyCornerOffEdge(o,s))return this;var u=this.transform.pointLocation3D(l),d=this.transform.pointLocation3D(c),f=this.transform.pointLocation3D(new e.pointGeometry(l.x,c.y)),h=this.transform.pointLocation3D(new e.pointGeometry(c.x,l.y)),p=[Math.min(u.lng,d.lng,f.lng,h.lng),Math.min(u.lat,d.lat,f.lat,h.lat)],m=[Math.max(u.lng,d.lng,f.lng,h.lng),Math.max(u.lat,d.lat,f.lat,h.lat)],v=i&&i.pitch?i.pitch:this.getPitch(),g=this._cameraForBounds(this.transform,p,m,r,v,i);return this._fitInternal(g,i,a)}},{key:"_fitInternal",value:function(t,n,r){return t?(delete(n=e.extend(t,n)).padding,n.linear?this.easeTo(n,r):this.flyTo(n,r)):this}},{key:"jumpTo",value:function(t,n){this.stop();var r=t.preloadOnly?this.transform.clone():this.transform,i=!1,a=!1,o=!1;return"zoom"in t&&r.zoom!==+t.zoom&&(i=!0,r.zoom=+t.zoom),void 0!==t.center&&(r.center=e.LngLat.convert(t.center)),"bearing"in t&&r.bearing!==+t.bearing&&(a=!0,r.bearing=+t.bearing),"pitch"in t&&r.pitch!==+t.pitch&&(o=!0,r.pitch=+t.pitch),null==t.padding||r.isPaddingEqual(t.padding)||(r.padding=t.padding),t.preloadOnly?(this._preloadTiles(r),this):(this.fire(new e.Event("movestart",n)).fire(new e.Event("move",n)),i&&this.fire(new e.Event("zoomstart",n)).fire(new e.Event("zoom",n)).fire(new e.Event("zoomend",n)),a&&this.fire(new e.Event("rotatestart",n)).fire(new e.Event("rotate",n)).fire(new e.Event("rotateend",n)),o&&this.fire(new e.Event("pitchstart",n)).fire(new e.Event("pitch",n)).fire(new e.Event("pitchend",n)),this.fire(new e.Event("moveend",n)))}},{key:"getFreeCameraOptions",value:function(){return this.transform.projection.supportsFreeCamera||e.warnOnce(aa),this.transform.getFreeCameraOptions()}},{key:"setFreeCameraOptions",value:function(t,n){var r=this.transform;if(!r.projection.supportsFreeCamera)return e.warnOnce(aa),this;this.stop();var i=r.zoom,a=r.pitch,o=r.bearing;r.setFreeCameraOptions(t);var s=i!==r.zoom,l=a!==r.pitch,c=o!==r.bearing;return this.fire(new e.Event("movestart",n)).fire(new e.Event("move",n)),s&&this.fire(new e.Event("zoomstart",n)).fire(new e.Event("zoom",n)).fire(new e.Event("zoomend",n)),c&&this.fire(new e.Event("rotatestart",n)).fire(new e.Event("rotate",n)).fire(new e.Event("rotateend",n)),l&&this.fire(new e.Event("pitchstart",n)).fire(new e.Event("pitch",n)).fire(new e.Event("pitchend",n)),this.fire(new e.Event("moveend",n)),this}},{key:"easeTo",value:function(t,n){var r=this;this._stop(!1,t.easeId),(!1===(t=e.extend({offset:[0,0],duration:500,easing:e.ease},t)).animate||!t.essential&&e.exported.prefersReducedMotion)&&(t.duration=0);var i,a,o,s=this.transform,l=this.getZoom(),c=this.getBearing(),u=this.getPitch(),d=this.getPadding(),f="zoom"in t?+t.zoom:l,h="bearing"in t?this._normalizeBearing(t.bearing,c):c,p="pitch"in t?+t.pitch:u,m="padding"in t?t.padding:s.padding,v=e.pointGeometry.convert(t.offset);if("globe"===s.projection.name){var g=e.MercatorCoordinate.fromLngLat(s.center),y=v.rotate(-s.angle);g.x+=y.x/s.worldSize,g.y+=y.y/s.worldSize;var x=g.toLngLat(),b=e.LngLat.convert(t.center||x);this._normalizeCenter(b),i=s.centerPoint.add(y),a=new e.pointGeometry(g.x,g.y).mult(s.worldSize),o=new e.pointGeometry(e.mercatorXfromLng(b.lng),e.mercatorYfromLat(b.lat)).mult(s.worldSize).sub(a)}else{i=s.centerPoint.add(v);var _=s.pointLocation(i),w=e.LngLat.convert(t.center||_);this._normalizeCenter(w),a=s.project(_),o=s.project(w).sub(a)}var k,S,E=s.zoomScale(f-l);t.around&&(k=e.LngLat.convert(t.around),S=s.locationPoint(k));var C=this._zooming||f!==l,T=this._rotating||c!==h,M=this._pitching||p!==u,I=!s.isPaddingEqual(m),O=function(s){return function(g){if(C&&(s.zoom=e.number(l,f,g)),T&&(s.bearing=e.number(c,h,g)),M&&(s.pitch=e.number(u,p,g)),I&&(s.interpolatePadding(d,m,g),i=s.centerPoint.add(v)),k)s.setLocationAtPoint(k,S);else{var y=s.zoomScale(s.zoom-l),x=f>l?Math.min(2,E):Math.max(.5,E),b=Math.pow(x,1-g),_=s.unproject(a.add(o.mult(g*b)).mult(y));s.setLocationAtPoint(s.renderWorldCopies?_.wrap():_,i)}return t.preloadOnly||r._fireMoveEvents(n),s}};if(t.preloadOnly){var P=this._emulate(O,t.duration,s);return this._preloadTiles(P),this}var A={moving:this._moving,zooming:this._zooming,rotating:this._rotating,pitching:this._pitching};return this._zooming=C,this._rotating=T,this._pitching=M,this._padding=I,this._easeId=t.easeId,this._prepareEase(n,t.noMoveStart,A),this._ease(O(s),(function(e){s.recenterOnTerrain(),r._afterEase(n,e)}),t),this}},{key:"_prepareEase",value:function(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this._moving=!0,this.transform.cameraElevationReference="sea",n||r.moving||this.fire(new e.Event("movestart",t)),this._zooming&&!r.zooming&&this.fire(new e.Event("zoomstart",t)),this._rotating&&!r.rotating&&this.fire(new e.Event("rotatestart",t)),this._pitching&&!r.pitching&&this.fire(new e.Event("pitchstart",t))}},{key:"_fireMoveEvents",value:function(t){this.fire(new e.Event("move",t)),this._zooming&&this.fire(new e.Event("zoom",t)),this._rotating&&this.fire(new e.Event("rotate",t)),this._pitching&&this.fire(new e.Event("pitch",t))}},{key:"_afterEase",value:function(t,n){if(!this._easeId||!n||this._easeId!==n){this._easeId=void 0,this.transform.cameraElevationReference="ground";var r=this._zooming,i=this._rotating,a=this._pitching;this._moving=!1,this._zooming=!1,this._rotating=!1,this._pitching=!1,this._padding=!1,r&&this.fire(new e.Event("zoomend",t)),i&&this.fire(new e.Event("rotateend",t)),a&&this.fire(new e.Event("pitchend",t)),this.fire(new e.Event("moveend",t))}}},{key:"flyTo",value:function(t,n){var r=this;if(!t.essential&&e.exported.prefersReducedMotion){var i=e.pick(t,["center","zoom","bearing","pitch","around"]);return this.jumpTo(i,n)}this.stop(),t=e.extend({offset:[0,0],speed:1.2,curve:1.42,easing:e.ease},t);var a=this.transform,o=this.getZoom(),s=this.getBearing(),l=this.getPitch(),c=this.getPadding(),u="zoom"in t?e.clamp(+t.zoom,a.minZoom,a.maxZoom):o,d="bearing"in t?this._normalizeBearing(t.bearing,s):s,f="pitch"in t?+t.pitch:l,h="padding"in t?t.padding:a.padding,p=a.zoomScale(u-o),m=e.pointGeometry.convert(t.offset),v=a.centerPoint.add(m),g=a.pointLocation(v),y=e.LngLat.convert(t.center||g);this._normalizeCenter(y);var x=a.project(g),b=a.project(y).sub(x),_=t.curve,w=Math.max(a.width,a.height),k=w/p,S=b.mag();if("minZoom"in t){var E=e.clamp(Math.min(t.minZoom,o,u),a.minZoom,a.maxZoom),C=w/a.zoomScale(E-o);_=Math.sqrt(C/S*2)}var T=_*_;function M(e){var t=(k*k-w*w+(e?-1:1)*T*T*S*S)/(2*(e?k:w)*T*S);return Math.log(Math.sqrt(t*t+1)-t)}function I(e){return(Math.exp(e)-Math.exp(-e))/2}function O(e){return(Math.exp(e)+Math.exp(-e))/2}var P=M(0),A=function(e){return O(P)/O(P+_*e)},z=function(e){return w*((O(P)*(I(t=P+_*e)/O(t))-I(P))/T)/S;var t},j=(M(1)-P)/_;if(Math.abs(S)<1e-6||!isFinite(j)){if(Math.abs(w-k)<1e-6)return this.easeTo(t,n);var R=k<w?-1:1;j=Math.abs(Math.log(k/w))/_,z=function(){return 0},A=function(e){return Math.exp(R*_*e)}}t.duration="duration"in t?+t.duration:1e3*j/("screenSpeed"in t?+t.screenSpeed/_:+t.speed),t.maxDuration&&t.duration>t.maxDuration&&(t.duration=0);var D=s!==d,L=f!==l,N=!a.isPaddingEqual(h),B=function(i){return function(a){var p=a*j,g=1/A(p);i.zoom=1===a?u:o+i.scaleZoom(g),D&&(i.bearing=e.number(s,d,a)),L&&(i.pitch=e.number(l,f,a)),N&&(i.interpolatePadding(c,h,a),v=i.centerPoint.add(m));var _=1===a?y:i.unproject(x.add(b.mult(z(p))).mult(g));return i.setLocationAtPoint(i.renderWorldCopies?_.wrap():_,v),i._updateCameraOnTerrain(),t.preloadOnly||r._fireMoveEvents(n),i}};if(t.preloadOnly){var F=this._emulate(B,t.duration,a);return this._preloadTiles(F),this}return this._zooming=!0,this._rotating=D,this._pitching=L,this._padding=N,this._prepareEase(n,!1),this._ease(B(a),(function(){return r._afterEase(n)}),t),this}},{key:"isEasing",value:function(){return!!this._easeFrameId}},{key:"stop",value:function(){return this._stop()}},{key:"_stop",value:function(e,t){if(this._easeFrameId&&(this._cancelRenderFrame(this._easeFrameId),this._easeFrameId=void 0,this._onEaseFrame=void 0),this._onEaseEnd){var n=this._onEaseEnd;this._onEaseEnd=void 0,n.call(this,t)}if(!e){var r=this.handlers;r&&r.stop(!1)}return this}},{key:"_ease",value:function(t,n,r){!1===r.animate||0===r.duration?(t(1),n()):(this._easeStart=e.exported.now(),this._easeOptions=r,this._onEaseFrame=t,this._onEaseEnd=n,this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback))}},{key:"_renderFrameCallback",value:function(){var t=Math.min((e.exported.now()-this._easeStart)/this._easeOptions.duration,1),n=this._onEaseFrame;n&&n(this._easeOptions.easing(t)),t<1?this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback):this.stop()}},{key:"_normalizeBearing",value:function(t,n){t=e.wrap(t,-180,180);var r=Math.abs(t-n);return Math.abs(t-360-n)<r&&(t-=360),Math.abs(t+360-n)<r&&(t+=360),t}},{key:"_normalizeCenter",value:function(e){var t=this.transform;if(t.renderWorldCopies&&!t.maxBounds){var n=e.lng-t.center.lng;e.lng+=n>180?-360:n<-180?360:0}}},{key:"_emulate",value:function(e,t,n){for(var r=Math.ceil(15*t/1e3),i=[],a=e(n.clone()),o=0;o<=r;o++){var s=a(o/r);i.push(s.clone())}return i}}]),r}(e.Evented),sa=function(){function t(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};h(this,t),this.options=n,e.bindAll(["_toggleAttribution","_updateEditLink","_updateData","_updateCompact"],this)}return p(t,[{key:"getDefaultPosition",value:function(){return"bottom-right"}},{key:"onAdd",value:function(e){var t=this.options&&this.options.compact;return this._map=e,this._container=y("div","mapboxgl-ctrl mapboxgl-ctrl-attrib"),this._compactButton=y("button","mapboxgl-ctrl-attrib-button",this._container),y("span","mapboxgl-ctrl-icon",this._compactButton).setAttribute("aria-hidden","true"),this._compactButton.type="button",this._compactButton.addEventListener("click",this._toggleAttribution),this._setElementTitle(this._compactButton,"ToggleAttribution"),this._innerContainer=y("div","mapboxgl-ctrl-attrib-inner",this._container),this._innerContainer.setAttribute("role","list"),t&&this._container.classList.add("mapboxgl-compact"),this._updateAttributions(),this._updateEditLink(),this._map.on("styledata",this._updateData),this._map.on("sourcedata",this._updateData),this._map.on("moveend",this._updateEditLink),void 0===t&&(this._map.on("resize",this._updateCompact),this._updateCompact()),this._container}},{key:"onRemove",value:function(){this._container.remove(),this._map.off("styledata",this._updateData),this._map.off("sourcedata",this._updateData),this._map.off("moveend",this._updateEditLink),this._map.off("resize",this._updateCompact),this._map=void 0,this._attribHTML=void 0}},{key:"_setElementTitle",value:function(e,t){var n=this._map._getUIString("AttributionControl.".concat(t));e.setAttribute("aria-label",n),e.removeAttribute("title"),e.firstElementChild&&e.firstElementChild.setAttribute("title",n)}},{key:"_toggleAttribution",value:function(){this._container.classList.contains("mapboxgl-compact-show")?(this._container.classList.remove("mapboxgl-compact-show"),this._compactButton.setAttribute("aria-expanded","false")):(this._container.classList.add("mapboxgl-compact-show"),this._compactButton.setAttribute("aria-expanded","true"))}},{key:"_updateEditLink",value:function(){var t=this._editLink;t||(t=this._editLink=this._container.querySelector(".mapbox-improve-map"));var n=[{key:"owner",value:this.styleOwner},{key:"id",value:this.styleId},{key:"access_token",value:this._map._requestManager._customAccessToken||e.config.ACCESS_TOKEN}];if(t){var r=n.reduce((function(e,t,r){return t.value&&(e+="".concat(t.key,"=").concat(t.value).concat(r<n.length-1?"&":"")),e}),"?");t.href="".concat(e.config.FEEDBACK_URL,"/").concat(r,"#").concat(ui(this._map,!0)),t.rel="noopener nofollow",this._setElementTitle(t,"MapFeedback")}}},{key:"_updateData",value:function(e){!e||"metadata"!==e.sourceDataType&&"visibility"!==e.sourceDataType&&"style"!==e.dataType||(this._updateAttributions(),this._updateEditLink())}},{key:"_updateAttributions",value:function(){if(this._map.style){var e=[];if(this._map.style.stylesheet){var t=this._map.style.stylesheet;this.styleOwner=t.owner,this.styleId=t.id}var n=this._map.style._sourceCaches;for(var r in n){var i=n[r];if(i.used){var a=i.getSource();a.attribution&&e.indexOf(a.attribution)<0&&e.push(a.attribution)}}e.sort((function(e,t){return e.length-t.length})),e=e.filter((function(t,n){for(var r=n+1;r<e.length;r++)if(e[r].indexOf(t)>=0)return!1;return!0})),this.options.customAttribution&&(Array.isArray(this.options.customAttribution)?e=[].concat(u(this.options.customAttribution),u(e)):e.unshift(this.options.customAttribution));var o=e.join(" | ");o!==this._attribHTML&&(this._attribHTML=o,e.length?(this._innerContainer.innerHTML=o,this._container.classList.remove("mapboxgl-attrib-empty")):this._container.classList.add("mapboxgl-attrib-empty"),this._editLink=null)}}},{key:"_updateCompact",value:function(){this._map.getCanvasContainer().offsetWidth<=640?this._container.classList.add("mapboxgl-compact"):this._container.classList.remove("mapboxgl-compact","mapboxgl-compact-show")}}]),t}(),la=function(){function t(){h(this,t),e.bindAll(["_updateLogo","_updateCompact"],this)}return p(t,[{key:"onAdd",value:function(e){this._map=e,this._container=y("div","mapboxgl-ctrl");var t=y("a","mapboxgl-ctrl-logo");return t.target="_blank",t.rel="noopener nofollow",t.href="https://www.mapbox.com/",t.setAttribute("aria-label",this._map._getUIString("LogoControl.Title")),t.setAttribute("rel","noopener nofollow"),this._container.appendChild(t),this._container.style.display="none",this._map.on("sourcedata",this._updateLogo),this._updateLogo(),this._map.on("resize",this._updateCompact),this._updateCompact(),this._container}},{key:"onRemove",value:function(){this._container.remove(),this._map.off("sourcedata",this._updateLogo),this._map.off("resize",this._updateCompact)}},{key:"getDefaultPosition",value:function(){return"bottom-left"}},{key:"_updateLogo",value:function(e){e&&"metadata"!==e.sourceDataType||(this._container.style.display=this._logoRequired()?"block":"none")}},{key:"_logoRequired",value:function(){if(!this._map.style)return!0;var e=this._map.style._sourceCaches;if(0===Object.entries(e).length)return!0;for(var t in e){var n=e[t].getSource();if(n.hasOwnProperty("mapbox_logo")&&!n.mapbox_logo)return!1}return!0}},{key:"_updateCompact",value:function(){var e=this._container.children;if(e.length){var t=e[0];this._map.getCanvasContainer().offsetWidth<250?t.classList.add("mapboxgl-compact"):t.classList.remove("mapboxgl-compact")}}}]),t}(),ca=function(){function e(){h(this,e),this._queue=[],this._id=0,this._cleared=!1,this._currentlyRunning=!1}return p(e,[{key:"add",value:function(e){var t=++this._id;return this._queue.push({callback:e,id:t,cancelled:!1}),t}},{key:"remove",value:function(e){var t,n=this._currentlyRunning,r=n?this._queue.concat(n):this._queue,i=f(r);try{for(i.s();!(t=i.n()).done;){var a=t.value;if(a.id===e)return void(a.cancelled=!0)}}catch(o){i.e(o)}finally{i.f()}}},{key:"run",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=this._currentlyRunning=this._queue;this._queue=[];var n,r=f(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!i.cancelled&&(i.callback(e),this._cleared))break}}catch(a){r.e(a)}finally{r.f()}this._cleared=!1,this._currentlyRunning=!1}},{key:"clear",value:function(){this._currentlyRunning&&(this._cleared=!0),this._queue=[]}}]),e}();function ua(t,n,r){if(t=new e.LngLat(t.lng,t.lat),n){var i=new e.LngLat(t.lng-360,t.lat),a=new e.LngLat(t.lng+360,t.lat),o=360*Math.ceil(Math.abs(t.lng-r.center.lng)/360),s=r.locationPoint(t).distSqr(n),l=n.x<0||n.y<0||n.x>r.width||n.y>r.height;r.locationPoint(i).distSqr(n)<s&&(l||Math.abs(i.lng-r.center.lng)<o)?t=i:r.locationPoint(a).distSqr(n)<s&&(l||Math.abs(a.lng-r.center.lng)<o)&&(t=a)}for(;Math.abs(t.lng-r.center.lng)>180;){var c=r.locationPoint(t);if(c.x>=0&&c.y>=0&&c.x<=r.width&&c.y<=r.height)break;t.lng>r.center.lng?t.lng-=360:t.lng+=360}return t}var da={center:"translate(-50%,-50%)",top:"translate(-50%,0)","top-left":"translate(0,0)","top-right":"translate(-100%,0)",bottom:"translate(-50%,-100%)","bottom-left":"translate(0,-100%)","bottom-right":"translate(-100%,-100%)",left:"translate(0,-50%)",right:"translate(-100%,-50%)"},fa=function(t){m(r,t);var n=v(r);function r(t,a){var o;if(h(this,r),o=n.call(this),(t instanceof e.window.HTMLElement||a)&&(t=e.extend({element:t},a)),e.bindAll(["_update","_onMove","_onUp","_addDragHandler","_onMapClick","_onKeyPress","_clearFadeTimer"],i(o)),o._anchor=t&&t.anchor||"center",o._color=t&&t.color||"#3FB1CE",o._scale=t&&t.scale||1,o._draggable=t&&t.draggable||!1,o._clickTolerance=t&&t.clickTolerance||0,o._isDragging=!1,o._state="inactive",o._rotation=t&&t.rotation||0,o._rotationAlignment=t&&t.rotationAlignment||"auto",o._pitchAlignment=t&&t.pitchAlignment&&t.pitchAlignment||"auto",o._updateMoving=function(){return o._update(!0)},o._occludedOpacity=t&&t.occludedOpacity||.2,t&&t.element)o._element=t.element,o._offset=e.pointGeometry.convert(t&&t.offset||[0,0]);else{o._defaultMarker=!0,o._element=y("div");var s=41,c=27,u=x("svg",{display:"block",height:s*o._scale+"px",width:c*o._scale+"px",viewBox:"0 0 ".concat(c," ").concat(s)},o._element),d=x("radialGradient",{id:"shadowGradient"},x("defs",{},u));x("stop",{offset:"10%","stop-opacity":.4},d),x("stop",{offset:"100%","stop-opacity":.05},d),x("ellipse",{cx:13.5,cy:34.8,rx:10.5,ry:5.25,fill:"url(#shadowGradient)"},u),x("path",{fill:o._color,d:"M27,13.5C27,19.07 20.25,27 14.75,34.5C14.02,35.5 12.98,35.5 12.25,34.5C6.75,27 0,19.22 0,13.5C0,6.04 6.04,0 13.5,0C20.96,0 27,6.04 27,13.5Z"},u),x("path",{opacity:.25,d:"M13.5,0C6.04,0 0,6.04 0,13.5C0,19.22 6.75,27 12.25,34.5C13,35.52 14.02,35.5 14.75,34.5C20.25,27 27,19.07 27,13.5C27,6.04 20.96,0 13.5,0ZM13.5,1C20.42,1 26,6.58 26,13.5C26,15.9 24.5,19.18 22.22,22.74C19.95,26.3 16.71,30.14 13.94,33.91C13.74,34.18 13.61,34.32 13.5,34.44C13.39,34.32 13.26,34.18 13.06,33.91C10.28,30.13 7.41,26.31 5.02,22.77C2.62,19.23 1,15.95 1,13.5C1,6.58 6.58,1 13.5,1Z"},u),x("circle",{fill:"white",cx:13.5,cy:13.5,r:5.5},u),o._offset=e.pointGeometry.convert(t&&t.offset||[0,-14])}o._element.hasAttribute("aria-label")||o._element.setAttribute("aria-label","Map marker"),o._element.classList.add("mapboxgl-marker"),o._element.addEventListener("dragstart",(function(e){e.preventDefault()})),o._element.addEventListener("mousedown",(function(e){e.preventDefault()}));var f=o._element.classList;for(var p in da)f.remove("mapboxgl-marker-anchor-".concat(p));return f.add("mapboxgl-marker-anchor-".concat(o._anchor)),o._popup=null,l(o)}return p(r,[{key:"addTo",value:function(e){return e===this._map||(this.remove(),this._map=e,e.getCanvasContainer().appendChild(this._element),e.on("move",this._updateMoving),e.on("moveend",this._update),e.on("remove",this._clearFadeTimer),e._addMarker(this),this.setDraggable(this._draggable),this._update(),e.on("click",this._onMapClick)),this}},{key:"remove",value:function(){var e=this._map;return e&&(e.off("click",this._onMapClick),e.off("move",this._updateMoving),e.off("moveend",this._update),e.off("mousedown",this._addDragHandler),e.off("touchstart",this._addDragHandler),e.off("mouseup",this._onUp),e.off("touchend",this._onUp),e.off("mousemove",this._onMove),e.off("touchmove",this._onMove),e.off("remove",this._clearFadeTimer),e._removeMarker(this),this._map=void 0),this._clearFadeTimer(),this._element.remove(),this._popup&&this._popup.remove(),this}},{key:"getLngLat",value:function(){return this._lngLat}},{key:"setLngLat",value:function(t){return this._lngLat=e.LngLat.convert(t),this._pos=null,this._popup&&this._popup.setLngLat(this._lngLat),this._update(!0),this}},{key:"getElement",value:function(){return this._element}},{key:"setPopup",value:function(e){if(this._popup&&(this._popup.remove(),this._popup=null,this._element.removeAttribute("role"),this._element.removeEventListener("keypress",this._onKeyPress),this._originalTabIndex||this._element.removeAttribute("tabindex")),e){if(!("offset"in e.options)){var t=38.1,n=13.5,r=Math.sqrt(Math.pow(n,2)/2);e.options.offset=this._defaultMarker?{top:[0,0],"top-left":[0,0],"top-right":[0,0],bottom:[0,-t],"bottom-left":[r,-1*(t-n+r)],"bottom-right":[-r,-1*(t-n+r)],left:[n,-1*(t-n)],right:[-n,-1*(t-n)]}:this._offset}this._popup=e,e._marker=this,this._lngLat&&this._popup.setLngLat(this._lngLat),this._element.setAttribute("role","button"),this._originalTabIndex=this._element.getAttribute("tabindex"),this._originalTabIndex||this._element.setAttribute("tabindex","0"),this._element.addEventListener("keypress",this._onKeyPress),this._element.setAttribute("aria-expanded","false")}return this}},{key:"_onKeyPress",value:function(e){var t=e.code,n=e.charCode||e.keyCode;"Space"!==t&&"Enter"!==t&&32!==n&&13!==n||this.togglePopup()}},{key:"_onMapClick",value:function(e){var t=e.originalEvent.target,n=this._element;this._popup&&(t===n||n.contains(t))&&this.togglePopup()}},{key:"getPopup",value:function(){return this._popup}},{key:"togglePopup",value:function(){var e=this._popup;return e?(e.isOpen()?(e.remove(),this._element.setAttribute("aria-expanded","false")):this._map&&(e.addTo(this._map),this._element.setAttribute("aria-expanded","true")),this):this}},{key:"_behindTerrain",value:function(){var e=this._map,t=this._pos;if(!e||!t)return!1;var n=e.unproject(t),r=e.getFreeCameraOptions();if(!r.position)return!1;var i=r.position.toLngLat();return i.distanceTo(n)<.9*i.distanceTo(this._lngLat)}},{key:"_evaluateOpacity",value:function(){var t=this._map;if(t){var n=this._pos;if(!n||n.x<0||n.x>t.transform.width||n.y<0||n.y>t.transform.height)this._clearFadeTimer();else{var r,i=t.unproject(n);t._showingGlobe()&&e.isLngLatBehindGlobe(t.transform,this._lngLat)?r=0:(r=1-t._queryFogOpacity(i),t.transform._terrainEnabled()&&t.getTerrain()&&this._behindTerrain()&&(r*=this._occludedOpacity)),this._element.style.opacity="".concat(r),this._element.style.pointerEvents=r>0?"auto":"none",this._popup&&this._popup._setOpacity(r),this._fadeTimer=null}}}},{key:"_clearFadeTimer",value:function(){this._fadeTimer&&(clearTimeout(this._fadeTimer),this._fadeTimer=null)}},{key:"_updateDOM",value:function(){var e=this._pos;if(e&&this._map){var t=this._offset.mult(this._scale);this._element.style.transform="\n            translate(".concat(e.x,"px,").concat(e.y,"px)\n            ").concat(da[this._anchor],"\n            ").concat(this._calculateXYTransform()," ").concat(this._calculateZTransform(),"\n            translate(").concat(t.x,"px,").concat(t.y,"px)\n        ")}}},{key:"_calculateXYTransform",value:function(){var t=this._pos,n=this._map,r=this.getPitchAlignment();if(!n||!t||"map"!==r)return"";if(!n._showingGlobe()){var i=n.getPitch();return i?"rotateX(".concat(i,"deg)"):""}var a=e.radToDeg(e.globeTiltAtLngLat(n.transform,this._lngLat)),o=t.sub(e.globeCenterToScreenPoint(n.transform)),s=Math.abs(o.x)+Math.abs(o.y);if(0===s)return"";var l=a/s;return"rotateX(".concat(-o.y*l,"deg) rotateY(").concat(o.x*l,"deg)")}},{key:"_calculateZTransform",value:function(){var t=this._pos,n=this._map;if(!n||!t)return"";var r=0,i=this.getRotationAlignment();if("map"===i)if(n._showingGlobe()){var a=n.project(new e.LngLat(this._lngLat.lng,this._lngLat.lat+.001)),o=n.project(new e.LngLat(this._lngLat.lng,this._lngLat.lat-.001)).sub(a);r=e.radToDeg(Math.atan2(o.y,o.x))-90}else r=-n.getBearing();else if("horizon"===i){var s=e.smoothstep(4,6,n.getZoom()),l=e.globeCenterToScreenPoint(n.transform);l.y+=s*n.transform.height;var c=t.sub(l),u=e.radToDeg(Math.atan2(c.y,c.x));r=(u>90?u-270:u+90)*(1-s)}return(r+=this._rotation)?"rotateZ(".concat(r,"deg)"):""}},{key:"_update",value:function(t){var n=this;e.window.cancelAnimationFrame(this._updateFrameId);var r=this._map;r&&(r.transform.renderWorldCopies&&(this._lngLat=ua(this._lngLat,this._pos,r.transform)),this._pos=r.project(this._lngLat),!0===t?this._updateFrameId=e.window.requestAnimationFrame((function(){n._element&&n._pos&&n._anchor&&(n._pos=n._pos.round(),n._updateDOM())})):this._pos=this._pos.round(),r._requestDomTask((function(){n._map&&(n._element&&n._pos&&n._anchor&&n._updateDOM(),(r._showingGlobe()||r.getTerrain()||r.getFog())&&!n._fadeTimer&&(n._fadeTimer=setTimeout(n._evaluateOpacity.bind(n),60)))})))}},{key:"getOffset",value:function(){return this._offset}},{key:"setOffset",value:function(t){return this._offset=e.pointGeometry.convert(t),this._update(),this}},{key:"_onMove",value:function(t){var n=this._map;if(n){var r=this._pointerdownPos,i=this._positionDelta;if(r&&i){if(!this._isDragging){var a=this._clickTolerance||n._clickTolerance;if(t.point.dist(r)<a)return;this._isDragging=!0}this._pos=t.point.sub(i),this._lngLat=n.unproject(this._pos),this.setLngLat(this._lngLat),this._element.style.pointerEvents="none","pending"===this._state&&(this._state="active",this.fire(new e.Event("dragstart"))),this.fire(new e.Event("drag"))}}}},{key:"_onUp",value:function(){this._element.style.pointerEvents="auto",this._positionDelta=null,this._pointerdownPos=null,this._isDragging=!1;var t=this._map;t&&(t.off("mousemove",this._onMove),t.off("touchmove",this._onMove)),"active"===this._state&&this.fire(new e.Event("dragend")),this._state="inactive"}},{key:"_addDragHandler",value:function(e){var t=this._map,n=this._pos;t&&n&&this._element.contains(e.originalEvent.target)&&(e.preventDefault(),this._positionDelta=e.point.sub(n),this._pointerdownPos=e.point,this._state="pending",t.on("mousemove",this._onMove),t.on("touchmove",this._onMove),t.once("mouseup",this._onUp),t.once("touchend",this._onUp))}},{key:"setDraggable",value:function(e){this._draggable=!!e;var t=this._map;return t&&(e?(t.on("mousedown",this._addDragHandler),t.on("touchstart",this._addDragHandler)):(t.off("mousedown",this._addDragHandler),t.off("touchstart",this._addDragHandler))),this}},{key:"isDraggable",value:function(){return this._draggable}},{key:"setRotation",value:function(e){return this._rotation=e||0,this._update(),this}},{key:"getRotation",value:function(){return this._rotation}},{key:"setRotationAlignment",value:function(e){return this._rotationAlignment=e||"auto",this._update(),this}},{key:"getRotationAlignment",value:function(){return"auto"===this._rotationAlignment||"horizon"===this._rotationAlignment&&this._map&&!this._map._showingGlobe()?"viewport":this._rotationAlignment}},{key:"setPitchAlignment",value:function(e){return this._pitchAlignment=e||"auto",this._update(),this}},{key:"getPitchAlignment",value:function(){return"auto"===this._pitchAlignment?this.getRotationAlignment():this._pitchAlignment}},{key:"setOccludedOpacity",value:function(e){return this._occludedOpacity=e||.2,this._update(),this}},{key:"getOccludedOpacity",value:function(){return this._occludedOpacity}}]),r}(e.Evented),ha={closeButton:!0,closeOnClick:!0,focusAfterOpen:!0,className:"",maxWidth:"240px"},pa=["a[href]","[tabindex]:not([tabindex='-1'])","[contenteditable]:not([contenteditable='false'])","button:not([disabled])","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].join(", ");function ma(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new e.pointGeometry(0,0),n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"bottom";if("number"==typeof t){var r=Math.round(Math.sqrt(.5*Math.pow(t,2)));switch(n){case"top":return new e.pointGeometry(0,t);case"top-left":return new e.pointGeometry(r,r);case"top-right":return new e.pointGeometry(-r,r);case"bottom":return new e.pointGeometry(0,-t);case"bottom-left":return new e.pointGeometry(r,-r);case"bottom-right":return new e.pointGeometry(-r,-r);case"left":return new e.pointGeometry(t,0);case"right":return new e.pointGeometry(-t,0)}return new e.pointGeometry(0,0)}return t instanceof e.pointGeometry||Array.isArray(t)?e.pointGeometry.convert(t):e.pointGeometry.convert(t[n]||[0,0])}var va=function(){function t(e){h(this,t),this.jumpTo(e)}return p(t,[{key:"getValue",value:function(t){if(t<=this._startTime)return this._start;if(t>=this._endTime)return this._end;var n=e.easeCubicInOut((t-this._startTime)/(this._endTime-this._startTime));return this._start*(1-n)+this._end*n}},{key:"isEasing",value:function(e){return e>=this._startTime&&e<=this._endTime}},{key:"jumpTo",value:function(e){this._startTime=-1/0,this._endTime=-1/0,this._start=e,this._end=e}},{key:"easeTo",value:function(e,t,n){this._start=this.getValue(t),this._end=e,this._startTime=t,this._endTime=t+n}}]),t}(),ga={"AttributionControl.ToggleAttribution":"Toggle attribution","AttributionControl.MapFeedback":"Map feedback","FullscreenControl.Enter":"Enter fullscreen","FullscreenControl.Exit":"Exit fullscreen","GeolocateControl.FindMyLocation":"Find my location","GeolocateControl.LocationNotAvailable":"Location not available","LogoControl.Title":"Mapbox logo","Map.Title":"Map","NavigationControl.ResetBearing":"Reset bearing to north","NavigationControl.ZoomIn":"Zoom in","NavigationControl.ZoomOut":"Zoom out","ScrollZoomBlocker.CtrlMessage":"Use ctrl + scroll to zoom the map","ScrollZoomBlocker.CmdMessage":"Use \u2318 + scroll to zoom the map","TouchPanBlocker.Message":"Use two fingers to move the map"},ya={center:[0,0],zoom:0,bearing:0,pitch:0,minZoom:-2,maxZoom:22,minPitch:0,maxPitch:85,interactive:!0,scrollZoom:!0,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,touchPitch:!0,cooperativeGestures:!1,performanceMetricsCollection:!0,bearingSnap:7,clickTolerance:3,pitchWithRotate:!0,hash:!1,attributionControl:!0,failIfMajorPerformanceCaveat:!1,preserveDrawingBuffer:!1,trackResize:!0,optimizeForTerrain:!0,renderWorldCopies:!0,refreshExpiredTiles:!0,minTileCacheSize:null,maxTileCacheSize:null,localIdeographFontFamily:"sans-serif",localFontFamily:null,transformRequest:null,accessToken:null,fadeDuration:300,crossSourceCollisions:!0},xa={showCompass:!0,showZoom:!0,visualizePitch:!1},ba=function(){function t(n,r){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];h(this,t),this._clickTolerance=10,this.element=r,this.mouseRotate=new Ai({clickTolerance:n.dragRotate._mouseRotate._clickTolerance}),this.map=n,i&&(this.mousePitch=new zi({clickTolerance:n.dragRotate._mousePitch._clickTolerance})),e.bindAll(["mousedown","mousemove","mouseup","touchstart","touchmove","touchend","reset"],this),r.addEventListener("mousedown",this.mousedown),r.addEventListener("touchstart",this.touchstart,{passive:!1}),r.addEventListener("touchmove",this.touchmove),r.addEventListener("touchend",this.touchend),r.addEventListener("touchcancel",this.reset)}return p(t,[{key:"down",value:function(e,t){this.mouseRotate.mousedown(e,t),this.mousePitch&&this.mousePitch.mousedown(e,t),k()}},{key:"move",value:function(e,t){var n=this.map,r=this.mouseRotate.mousemoveWindow(e,t),i=r&&r.bearingDelta;if(i&&n.setBearing(n.getBearing()+i),this.mousePitch){var a=this.mousePitch.mousemoveWindow(e,t),o=a&&a.pitchDelta;o&&n.setPitch(n.getPitch()+o)}}},{key:"off",value:function(){var e=this.element;e.removeEventListener("mousedown",this.mousedown),e.removeEventListener("touchstart",this.touchstart,{passive:!1}),e.removeEventListener("touchmove",this.touchmove),e.removeEventListener("touchend",this.touchend),e.removeEventListener("touchcancel",this.reset),this.offTemp()}},{key:"offTemp",value:function(){S(),e.window.removeEventListener("mousemove",this.mousemove),e.window.removeEventListener("mouseup",this.mouseup)}},{key:"mousedown",value:function(t){this.down(e.extend({},t,{ctrlKey:!0,preventDefault:function(){return t.preventDefault()}}),T(this.element,t)),e.window.addEventListener("mousemove",this.mousemove),e.window.addEventListener("mouseup",this.mouseup)}},{key:"mousemove",value:function(e){this.move(e,T(this.element,e))}},{key:"mouseup",value:function(e){this.mouseRotate.mouseupWindow(e),this.mousePitch&&this.mousePitch.mouseupWindow(e),this.offTemp()}},{key:"touchstart",value:function(e){1!==e.targetTouches.length?this.reset():(this._startPos=this._lastPos=M(this.element,e.targetTouches)[0],this.down({type:"mousedown",button:0,ctrlKey:!0,preventDefault:function(){return e.preventDefault()}},this._startPos))}},{key:"touchmove",value:function(e){1!==e.targetTouches.length?this.reset():(this._lastPos=M(this.element,e.targetTouches)[0],this.move({preventDefault:function(){return e.preventDefault()}},this._lastPos))}},{key:"touchend",value:function(e){0===e.targetTouches.length&&this._startPos&&this._lastPos&&this._startPos.dist(this._lastPos)<this._clickTolerance&&this.element.click(),this.reset()}},{key:"reset",value:function(){this.mouseRotate.reset(),this.mousePitch&&this.mousePitch.reset(),delete this._startPos,delete this._lastPos,this.offTemp()}}]),t}(),_a={positionOptions:{enableHighAccuracy:!1,maximumAge:0,timeout:6e3},fitBoundsOptions:{maxZoom:15},trackUserLocation:!1,showAccuracyCircle:!0,showUserLocation:!0,showUserHeading:!1},wa={maxWidth:100,unit:"metric"};function ka(e,t,n){var r=this,i=Sa(t),a=i/t,o={kilometer:"km",meter:"m",mile:"mi",foot:"ft","nautical-mile":"nm"}[n];this._map._requestDomTask((function(){r._container.style.width=e*a+"px",r._container.innerHTML="".concat(i,"&nbsp;").concat(o)}))}function Sa(e){var t=Math.pow(10,"".concat(Math.floor(e)).length-1),n=e/t;return n=n>=10?10:n>=5?5:n>=3?3:n>=2?2:n>=1?1:function(e){var t=Math.pow(10,Math.ceil(-Math.log(e)/Math.LN10));return Math.round(e*t)/t}(n),t*n}var Ea={version:e.version,supported:n,setRTLTextPlugin:e.setRTLTextPlugin,getRTLTextPluginStatus:e.getRTLTextPluginStatus,Map:function(t){m(u,t);var a=v(u);function u(t){var n;if(h(this,u),e.LivePerformanceUtils.mark(e.PerformanceMarkers.create),null!=(t=e.extend({},ya,t)).minZoom&&null!=t.maxZoom&&t.minZoom>t.maxZoom)throw new Error("maxZoom must be greater than or equal to minZoom");if(null!=t.minPitch&&null!=t.maxPitch&&t.minPitch>t.maxPitch)throw new Error("maxPitch must be greater than or equal to minPitch");if(null!=t.minPitch&&t.minPitch<0)throw new Error("minPitch must be greater than or equal to 0");if(null!=t.maxPitch&&t.maxPitch>85)throw new Error("maxPitch must be less than or equal to 85");if(t.antialias&&e.isSafariWithAntialiasingBug(e.window)&&(t.antialias=!1,e.warnOnce("Antialiasing is disabled for this WebGL context to avoid browser bug: https://github.com/mapbox/mapbox-gl-js/issues/11609")),(n=a.call(this,new si(t.minZoom,t.maxZoom,t.minPitch,t.maxPitch,t.renderWorldCopies),t))._interactive=t.interactive,n._minTileCacheSize=t.minTileCacheSize,n._maxTileCacheSize=t.maxTileCacheSize,n._failIfMajorPerformanceCaveat=t.failIfMajorPerformanceCaveat,n._preserveDrawingBuffer=t.preserveDrawingBuffer,n._antialias=t.antialias,n._trackResize=t.trackResize,n._bearingSnap=t.bearingSnap,n._refreshExpiredTiles=t.refreshExpiredTiles,n._fadeDuration=t.fadeDuration,n._isInitialLoad=!0,n._crossSourceCollisions=t.crossSourceCollisions,n._collectResourceTiming=t.collectResourceTiming,n._optimizeForTerrain=t.optimizeForTerrain,n._language=n._parseLanguage(t.language),n._worldview=t.worldview,n._renderTaskQueue=new ca,n._domRenderTaskQueue=new ca,n._controls=[],n._markers=[],n._popups=[],n._mapId=e.uniqueId(),n._locale=e.extend({},ga,t.locale),n._clickTolerance=t.clickTolerance,n._cooperativeGestures=t.cooperativeGestures,n._performanceMetricsCollection=t.performanceMetricsCollection,n._containerWidth=0,n._containerHeight=0,n._averageElevationLastSampledAt=-1/0,n._averageElevationExaggeration=0,n._averageElevation=new va(0),n._interactionRange=[1/0,-1/0],n._visibilityHidden=0,n._useExplicitProjection=!1,n._requestManager=new e.RequestManager(t.transformRequest,t.accessToken,t.testMode),n._silenceAuthErrors=!!t.testMode,"string"==typeof t.container){if(n._container=e.window.document.getElementById(t.container),!n._container)throw new Error("Container '".concat(t.container,"' not found."))}else{if(!(t.container instanceof e.window.HTMLElement))throw new Error("Invalid type: 'container' must be a String or HTMLElement.");n._container=t.container}if(n._container.childNodes.length>0&&e.warnOnce("The map container element should be empty, otherwise the map's interactivity will be negatively impacted. If you want to display a message when WebGL is not supported, use the Mapbox GL Supported plugin instead."),t.maxBounds&&n.setMaxBounds(t.maxBounds),e.bindAll(["_onWindowOnline","_onWindowResize","_onVisibilityChange","_onMapScroll","_contextLost","_contextRestored"],i(n)),n._setupContainer(),n._setupPainter(),void 0===n.painter)throw new Error("Failed to initialize WebGL.");return n.on("move",(function(){return n._update(!1)})),n.on("moveend",(function(){return n._update(!1)})),n.on("zoom",(function(){return n._update(!0)})),void 0!==e.window&&(e.window.addEventListener("online",n._onWindowOnline,!1),e.window.addEventListener("resize",n._onWindowResize,!1),e.window.addEventListener("orientationchange",n._onWindowResize,!1),e.window.addEventListener("webkitfullscreenchange",n._onWindowResize,!1),e.window.addEventListener("visibilitychange",n._onVisibilityChange,!1)),n.handlers=new ia(i(n),t),n._localFontFamily=t.localFontFamily,n._localIdeographFontFamily=t.localIdeographFontFamily,t.style&&n.setStyle(t.style,{localFontFamily:n._localFontFamily,localIdeographFontFamily:n._localIdeographFontFamily}),t.projection&&n.setProjection(t.projection),n._hash=t.hash&&new ci("string"==typeof t.hash&&t.hash||void 0).addTo(i(n)),n._hash&&n._hash._onHashChange()||(n.jumpTo({center:t.center,zoom:t.zoom,bearing:t.bearing,pitch:t.pitch}),t.bounds&&(n.resize(),n.fitBounds(t.bounds,e.extend({},t.fitBoundsOptions,{duration:0})))),n.resize(),t.attributionControl&&n.addControl(new sa({customAttribution:t.customAttribution})),n._logoControl=new la,n.addControl(n._logoControl,t.logoPosition),n.on("style.load",(function(){n.transform.unmodified&&n.jumpTo(n.style.stylesheet)})),n.on("data",(function(t){n._update("style"===t.dataType),n.fire(new e.Event("".concat(t.dataType,"data"),t))})),n.on("dataloading",(function(t){n.fire(new e.Event("".concat(t.dataType,"dataloading"),t))})),l(n)}return p(u,[{key:"_getMapId",value:function(){return this._mapId}},{key:"addControl",value:function(t,n){if(void 0===n&&(n=t.getDefaultPosition?t.getDefaultPosition():"top-right"),!t||!t.onAdd)return this.fire(new e.ErrorEvent(new Error("Invalid argument to map.addControl(). Argument must be a control with onAdd and onRemove methods.")));var r=t.onAdd(this);this._controls.push(t);var i=this._controlPositions[n];return-1!==n.indexOf("bottom")?i.insertBefore(r,i.firstChild):i.appendChild(r),this}},{key:"removeControl",value:function(t){if(!t||!t.onRemove)return this.fire(new e.ErrorEvent(new Error("Invalid argument to map.removeControl(). Argument must be a control with onAdd and onRemove methods.")));var n=this._controls.indexOf(t);return n>-1&&this._controls.splice(n,1),t.onRemove(this),this}},{key:"hasControl",value:function(e){return this._controls.indexOf(e)>-1}},{key:"getContainer",value:function(){return this._container}},{key:"getCanvasContainer",value:function(){return this._canvasContainer}},{key:"getCanvas",value:function(){return this._canvas}},{key:"resize",value:function(t){if(this._updateContainerDimensions(),this._containerWidth===this.transform.width&&this._containerHeight===this.transform.height)return this;this._resizeCanvas(this._containerWidth,this._containerHeight),this.transform.resize(this._containerWidth,this._containerHeight),this.painter.resize(Math.ceil(this._containerWidth),Math.ceil(this._containerHeight));var n=!this._moving;return n&&this.fire(new e.Event("movestart",t)).fire(new e.Event("move",t)),this.fire(new e.Event("resize",t)),n&&this.fire(new e.Event("moveend",t)),this}},{key:"getBounds",value:function(){return this.transform.getBounds()}},{key:"getMaxBounds",value:function(){return this.transform.getMaxBounds()||null}},{key:"setMaxBounds",value:function(t){return this.transform.setMaxBounds(e.LngLatBounds.convert(t)),this._update()}},{key:"setMinZoom",value:function(t){if((t=null==t?-2:t)>=-2&&t<=this.transform.maxZoom)return this.transform.minZoom=t,this._update(),this.getZoom()<t?this.setZoom(t):this.fire(new e.Event("zoomstart")).fire(new e.Event("zoom")).fire(new e.Event("zoomend")),this;throw new Error("minZoom must be between -2 and the current maxZoom, inclusive")}},{key:"getMinZoom",value:function(){return this.transform.minZoom}},{key:"setMaxZoom",value:function(t){if((t=null==t?22:t)>=this.transform.minZoom)return this.transform.maxZoom=t,this._update(),this.getZoom()>t?this.setZoom(t):this.fire(new e.Event("zoomstart")).fire(new e.Event("zoom")).fire(new e.Event("zoomend")),this;throw new Error("maxZoom must be greater than the current minZoom")}},{key:"getMaxZoom",value:function(){return this.transform.maxZoom}},{key:"setMinPitch",value:function(t){if((t=null==t?0:t)<0)throw new Error("minPitch must be greater than or equal to 0");if(t>=0&&t<=this.transform.maxPitch)return this.transform.minPitch=t,this._update(),this.getPitch()<t?this.setPitch(t):this.fire(new e.Event("pitchstart")).fire(new e.Event("pitch")).fire(new e.Event("pitchend")),this;throw new Error("minPitch must be between 0 and the current maxPitch, inclusive")}},{key:"getMinPitch",value:function(){return this.transform.minPitch}},{key:"setMaxPitch",value:function(t){if((t=null==t?85:t)>85)throw new Error("maxPitch must be less than or equal to 85");if(t>=this.transform.minPitch)return this.transform.maxPitch=t,this._update(),this.getPitch()>t?this.setPitch(t):this.fire(new e.Event("pitchstart")).fire(new e.Event("pitch")).fire(new e.Event("pitchend")),this;throw new Error("maxPitch must be greater than or equal to minPitch")}},{key:"getMaxPitch",value:function(){return this.transform.maxPitch}},{key:"getRenderWorldCopies",value:function(){return this.transform.renderWorldCopies}},{key:"setRenderWorldCopies",value:function(e){return this.transform.renderWorldCopies=e,this.transform.renderWorldCopies||this._forceMarkerAndPopupUpdate(!0),this._update()}},{key:"getLanguage",value:function(){return this._language}},{key:"_parseLanguage",value:function(t){return"auto"===t?e.window.navigator.language:Array.isArray(t)?0===t.length?void 0:t.map((function(t){return"auto"===t?e.window.navigator.language:t})):t}},{key:"setLanguage",value:function(e){var t=this._parseLanguage(e);if(!this.style||t===this._language)return this;this._language=t,this.style._reloadSources();var n,r=f(this._controls);try{for(r.s();!(n=r.n()).done;){var i=n.value;i._setLanguage&&i._setLanguage(this._language)}}catch(a){r.e(a)}finally{r.f()}return this}},{key:"getWorldview",value:function(){return this._worldview}},{key:"setWorldview",value:function(e){return this.style&&e!==this._worldview?(this._worldview=e,this.style._reloadSources(),this):this}},{key:"getProjection",value:function(){return this.transform.mercatorFromTransition?{name:"globe",center:[0,0]}:this.transform.getProjection()}},{key:"_showingGlobe",value:function(){return"globe"===this.transform.projection.name}},{key:"setProjection",value:function(e){return this._lazyInitEmptyStyle(),e?"string"==typeof e&&(e={name:e}):e=null,this._useExplicitProjection=!!e,this._prioritizeAndUpdateProjection(e,this.style.stylesheet?this.style.stylesheet.projection:null)}},{key:"_updateProjectionTransition",value:function(){if("globe"===this.getProjection().name){var t,n=this.transform,r=n.projection.name;"globe"===r&&n.zoom>=e.GLOBE_ZOOM_THRESHOLD_MAX?(n.setMercatorFromTransition(),t=!0):"mercator"===r&&n.zoom<e.GLOBE_ZOOM_THRESHOLD_MAX&&(n.setProjection({name:"globe"}),t=!0),t&&(this.style.applyProjectionUpdate(),this.style._forceSymbolLayerUpdate())}}},{key:"_prioritizeAndUpdateProjection",value:function(e,t){return this._updateProjection(e||t||{name:"mercator"})}},{key:"_updateProjection",value:function(t){var n;if(n="globe"===t.name&&this.transform.zoom>=e.GLOBE_ZOOM_THRESHOLD_MAX?this.transform.setMercatorFromTransition():this.transform.setProjection(t),this.style.applyProjectionUpdate(),n){for(var r in this.painter.clearBackgroundTiles(),this.style._sourceCaches)this.style._sourceCaches[r].clearTiles();this._update(!0),this._forceMarkerAndPopupUpdate(!0)}return this}},{key:"project",value:function(t){return this.transform.locationPoint3D(e.LngLat.convert(t))}},{key:"unproject",value:function(t){return this.transform.pointLocation3D(e.pointGeometry.convert(t))}},{key:"isMoving",value:function(){return this._moving||this.handlers&&this.handlers.isMoving()||!1}},{key:"isZooming",value:function(){return this._zooming||this.handlers&&this.handlers.isZooming()||!1}},{key:"isRotating",value:function(){return this._rotating||this.handlers&&this.handlers.isRotating()||!1}},{key:"_isDragging",value:function(){return this.handlers&&this.handlers._isDragging()||!1}},{key:"_createDelegatedListener",value:function(e,t,n){var i=this;if("mouseenter"===e||"mouseover"===e){var a=!1,o=function(r){var o=t.filter((function(e){return i.getLayer(e)})),s=o.length?i.queryRenderedFeatures(r.point,{layers:o}):[];s.length?a||(a=!0,n.call(i,new xi(e,i,r.originalEvent,{features:s}))):a=!1},s=function(){a=!1};return{layers:new Set(t),listener:n,delegates:{mousemove:o,mouseout:s}}}if("mouseleave"===e||"mouseout"===e){var l=!1,c=function(r){var a=t.filter((function(e){return i.getLayer(e)}));(a.length?i.queryRenderedFeatures(r.point,{layers:a}):[]).length?l=!0:l&&(l=!1,n.call(i,new xi(e,i,r.originalEvent)))},u=function(t){l&&(l=!1,n.call(i,new xi(e,i,t.originalEvent)))};return{layers:new Set(t),listener:n,delegates:{mousemove:c,mouseout:u}}}var d=function(e){var r=t.filter((function(e){return i.getLayer(e)})),a=r.length?i.queryRenderedFeatures(e.point,{layers:r}):[];a.length&&(e.features=a,n.call(i,e),delete e.features)};return{layers:new Set(t),listener:n,delegates:r({},e,d)}}},{key:"on",value:function(e,t,n){if(void 0===n)return o(s(u.prototype),"on",this).call(this,e,t);Array.isArray(t)||(t=[t]);var r=this._createDelegatedListener(e,t,n);for(var i in this._delegatedListeners=this._delegatedListeners||{},this._delegatedListeners[e]=this._delegatedListeners[e]||[],this._delegatedListeners[e].push(r),r.delegates)this.on(i,r.delegates[i]);return this}},{key:"once",value:function(e,t,n){if(void 0===n)return o(s(u.prototype),"once",this).call(this,e,t);Array.isArray(t)||(t=[t]);var r=this._createDelegatedListener(e,t,n);for(var i in r.delegates)this.once(i,r.delegates[i]);return this}},{key:"off",value:function(e,t,n){var r=this;if(void 0===n)return o(s(u.prototype),"off",this).call(this,e,t);t=new Set(Array.isArray(t)?t:[t]);var i=function(e,t){if(e.size!==t.size)return!1;var n,r=f(e);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!t.has(i))return!1}}catch(a){r.e(a)}finally{r.f()}return!0},a=this._delegatedListeners?this._delegatedListeners[e]:void 0;return a&&function(e){for(var a=0;a<e.length;a++){var o=e[a];if(o.listener===n&&i(o.layers,t)){for(var s in o.delegates)r.off(s,o.delegates[s]);return e.splice(a,1),r}}}(a),this}},{key:"queryRenderedFeatures",value:function(t,n){return this.style?(void 0!==n||void 0===t||t instanceof e.pointGeometry||Array.isArray(t)||(n=t,t=void 0),this.style.queryRenderedFeatures(t=t||[[0,0],[this.transform.width,this.transform.height]],n=n||{},this.transform)):[]}},{key:"querySourceFeatures",value:function(e,t){return this.style.querySourceFeatures(e,t)}},{key:"setStyle",value:function(t,n){return!1!==(n=e.extend({},{localIdeographFontFamily:this._localIdeographFontFamily,localFontFamily:this._localFontFamily},n)).diff&&n.localIdeographFontFamily===this._localIdeographFontFamily&&n.localFontFamily===this._localFontFamily&&this.style&&t?(this._diffStyle(t,n),this):(this._localIdeographFontFamily=n.localIdeographFontFamily,this._localFontFamily=n.localFontFamily,this._updateStyle(t,n))}},{key:"_getUIString",value:function(e){var t=this._locale[e];if(null==t)throw new Error("Missing UI string '".concat(e,"'"));return t}},{key:"_updateStyle",value:function(e,t){return this.style&&(this.style.setEventedParent(null),this.style._remove(),this.style=void 0),e&&(this.style=new fn(this,t||{}),this.style.setEventedParent(this,{style:this.style}),"string"==typeof e?this.style.loadURL(e):this.style.loadJSON(e)),this._updateTerrain(),this}},{key:"_lazyInitEmptyStyle",value:function(){this.style||(this.style=new fn(this,{}),this.style.setEventedParent(this,{style:this.style}),this.style.loadEmpty())}},{key:"_diffStyle",value:function(t,n){var r=this;if("string"==typeof t){var i=this._requestManager.normalizeStyleURL(t),a=this._requestManager.transformRequest(i,e.ResourceType.Style);e.getJSON(a,(function(t,i){t?r.fire(new e.ErrorEvent(t)):i&&r._updateDiff(i,n)}))}else"object"==typeof t&&this._updateDiff(t,n)}},{key:"_updateDiff",value:function(t,n){try{this.style.setState(t)&&this._update(!0)}catch(c){e.warnOnce("Unable to perform style diff: ".concat(c.message||c.error||c,".  Rebuilding the style from scratch.")),this._updateStyle(t,n)}}},{key:"getStyle",value:function(){if(this.style)return this.style.serialize()}},{key:"isStyleLoaded",value:function(){return this.style?this.style.loaded():(e.warnOnce("There is no style added to the map."),!1)}},{key:"addSource",value:function(e,t){return this._lazyInitEmptyStyle(),this.style.addSource(e,t),this._update(!0)}},{key:"isSourceLoaded",value:function(e){return!!this.style&&this.style._isSourceCacheLoaded(e)}},{key:"areTilesLoaded",value:function(){var e=this.style&&this.style._sourceCaches;for(var t in e){var n=e[t]._tiles;for(var r in n){var i=n[r];if("loaded"!==i.state&&"errored"!==i.state)return!1}}return!0}},{key:"addSourceType",value:function(e,t,n){this._lazyInitEmptyStyle(),this.style.addSourceType(e,t,n)}},{key:"removeSource",value:function(e){return this.style.removeSource(e),this._updateTerrain(),this._update(!0)}},{key:"getSource",value:function(e){return this.style.getSource(e)}},{key:"addImage",value:function(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=r.pixelRatio,a=void 0===i?1:i,o=r.sdf,s=void 0!==o&&o,l=r.stretchX,c=r.stretchY,u=r.content;if(this._lazyInitEmptyStyle(),n instanceof e.window.HTMLImageElement||e.window.ImageBitmap&&n instanceof e.window.ImageBitmap){var d=e.exported.getImageData(n),f=d.width,h=d.height,p=d.data;this.style.addImage(t,{data:new e.RGBAImage({width:f,height:h},p),pixelRatio:a,stretchX:l,stretchY:c,content:u,sdf:s,version:0})}else if(void 0===n.width||void 0===n.height)this.fire(new e.ErrorEvent(new Error("Invalid arguments to map.addImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));else{var m=n.width,v=n.height,g=n;this.style.addImage(t,{data:new e.RGBAImage({width:m,height:v},new Uint8Array(g.data)),pixelRatio:a,stretchX:l,stretchY:c,content:u,sdf:s,version:0,userImage:g}),g.onAdd&&g.onAdd(this,t)}}},{key:"updateImage",value:function(t,n){var r=this.style.getImage(t);if(r){var i=n instanceof e.window.HTMLImageElement||e.window.ImageBitmap&&n instanceof e.window.ImageBitmap?e.exported.getImageData(n):n,a=i.width,o=i.height;void 0!==a&&void 0!==o?a===r.data.width&&o===r.data.height?(r.data.replace(i.data,!(n instanceof e.window.HTMLImageElement||e.window.ImageBitmap&&n instanceof e.window.ImageBitmap)),this.style.updateImage(t,r)):this.fire(new e.ErrorEvent(new Error("The width and height of the updated image (".concat(a,", ").concat(o,")\n                must be that same as the previous version of the image\n                (").concat(r.data.width,", ").concat(r.data.height,")")))):this.fire(new e.ErrorEvent(new Error("Invalid arguments to map.updateImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")))}else this.fire(new e.ErrorEvent(new Error("The map has no image with that id. If you are adding a new image use `map.addImage(...)` instead.")))}},{key:"hasImage",value:function(t){return t?!!this.style.getImage(t):(this.fire(new e.ErrorEvent(new Error("Missing required image id"))),!1)}},{key:"removeImage",value:function(e){this.style.removeImage(e)}},{key:"loadImage",value:function(t,n){e.getImage(this._requestManager.transformRequest(t,e.ResourceType.Image),(function(t,r){n(t,r instanceof e.window.HTMLImageElement?e.exported.getImageData(r):r)}))}},{key:"listImages",value:function(){return this.style.listImages()}},{key:"addLayer",value:function(e,t){return this._lazyInitEmptyStyle(),this.style.addLayer(e,t),this._update(!0)}},{key:"moveLayer",value:function(e,t){return this.style.moveLayer(e,t),this._update(!0)}},{key:"removeLayer",value:function(e){return this.style.removeLayer(e),this._update(!0)}},{key:"getLayer",value:function(e){return this.style.getLayer(e)}},{key:"setLayerZoomRange",value:function(e,t,n){return this.style.setLayerZoomRange(e,t,n),this._update(!0)}},{key:"setFilter",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.style.setFilter(e,t,n),this._update(!0)}},{key:"getFilter",value:function(e){return this.style.getFilter(e)}},{key:"setPaintProperty",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return this.style.setPaintProperty(e,t,n,r),this._update(!0)}},{key:"getPaintProperty",value:function(e,t){return this.style.getPaintProperty(e,t)}},{key:"setLayoutProperty",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return this.style.setLayoutProperty(e,t,n,r),this._update(!0)}},{key:"getLayoutProperty",value:function(e,t){return this.style.getLayoutProperty(e,t)}},{key:"setLight",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this._lazyInitEmptyStyle(),this.style.setLight(e,t),this._update(!0)}},{key:"getLight",value:function(){return this.style.getLight()}},{key:"setTerrain",value:function(e){return this._lazyInitEmptyStyle(),!e&&this.transform.projection.requiresDraping?this.style.setTerrainForDraping():this.style.setTerrain(e),this._averageElevationLastSampledAt=-1/0,this._update(!0)}},{key:"getTerrain",value:function(){return this.style?this.style.getTerrain():null}},{key:"setFog",value:function(e){return this._lazyInitEmptyStyle(),this.style.setFog(e),this._update(!0)}},{key:"getFog",value:function(){return this.style?this.style.getFog():null}},{key:"_queryFogOpacity",value:function(t){return this.style&&this.style.fog?this.style.fog.getOpacityAtLatLng(e.LngLat.convert(t),this.transform):0}},{key:"setFeatureState",value:function(e,t){return this.style.setFeatureState(e,t),this._update()}},{key:"removeFeatureState",value:function(e,t){return this.style.removeFeatureState(e,t),this._update()}},{key:"getFeatureState",value:function(e){return this.style.getFeatureState(e)}},{key:"_updateContainerDimensions",value:function(){if(this._container){for(var t,n,r,i=this._container.getBoundingClientRect().width||400,a=this._container.getBoundingClientRect().height||300,o=this._container;o&&(!n||!r);){var s=e.window.getComputedStyle(o).transform;s&&"none"!==s&&((t=s.match(/matrix.*\((.+)\)/)[1].split(", "))[0]&&"0"!==t[0]&&"1"!==t[0]&&(n=t[0]),t[3]&&"0"!==t[3]&&"1"!==t[3]&&(r=t[3])),o=o.parentElement}this._containerWidth=n?Math.abs(i/n):i,this._containerHeight=r?Math.abs(a/r):a}}},{key:"_detectMissingCSS",value:function(){"rgb(250, 128, 114)"!==e.window.getComputedStyle(this._missingCSSCanary).getPropertyValue("background-color")&&e.warnOnce("This page appears to be missing CSS declarations for Mapbox GL JS, which may cause the map to display incorrectly. Please ensure your page includes mapbox-gl.css, as described in https://www.mapbox.com/mapbox-gl-js/api/.")}},{key:"_setupContainer",value:function(){var e=this._container;e.classList.add("mapboxgl-map"),(this._missingCSSCanary=y("div","mapboxgl-canary",e)).style.visibility="hidden",this._detectMissingCSS();var t=this._canvasContainer=y("div","mapboxgl-canvas-container",e);this._interactive&&t.classList.add("mapboxgl-interactive"),this._canvas=y("canvas","mapboxgl-canvas",t),this._canvas.addEventListener("webglcontextlost",this._contextLost,!1),this._canvas.addEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.setAttribute("tabindex","0"),this._canvas.setAttribute("aria-label",this._getUIString("Map.Title")),this._canvas.setAttribute("role","region"),this._updateContainerDimensions(),this._resizeCanvas(this._containerWidth,this._containerHeight);var n=this._controlContainer=y("div","mapboxgl-control-container",e),r=this._controlPositions={};["top-left","top-right","bottom-left","bottom-right"].forEach((function(e){r[e]=y("div","mapboxgl-ctrl-".concat(e),n)})),this._container.addEventListener("scroll",this._onMapScroll,!1)}},{key:"_resizeCanvas",value:function(t,n){var r=e.exported.devicePixelRatio||1;this._canvas.width=r*Math.ceil(t),this._canvas.height=r*Math.ceil(n),this._canvas.style.width="".concat(t,"px"),this._canvas.style.height="".concat(n,"px")}},{key:"_addMarker",value:function(e){this._markers.push(e)}},{key:"_removeMarker",value:function(e){var t=this._markers.indexOf(e);-1!==t&&this._markers.splice(t,1)}},{key:"_addPopup",value:function(e){this._popups.push(e)}},{key:"_removePopup",value:function(e){var t=this._popups.indexOf(e);-1!==t&&this._popups.splice(t,1)}},{key:"_setupPainter",value:function(){var t=this,r=e.extend({},n.webGLContextAttributes,{failIfMajorPerformanceCaveat:this._failIfMajorPerformanceCaveat,preserveDrawingBuffer:this._preserveDrawingBuffer,antialias:this._antialias||!1}),i=this._canvas.getContext("webgl",r)||this._canvas.getContext("experimental-webgl",r);i?(e.storeAuthState(i,!0),this.painter=new Zr(i,this.transform),this.on("data",(function(e){"source"===e.dataType&&t.painter.setTileLoadedFlag(!0)})),e.exported$1.testSupport(i)):this.fire(new e.ErrorEvent(new Error("Failed to initialize WebGL")))}},{key:"_contextLost",value:function(t){t.preventDefault(),this._frame&&(this._frame.cancel(),this._frame=null),this.fire(new e.Event("webglcontextlost",{originalEvent:t}))}},{key:"_contextRestored",value:function(t){this._setupPainter(),this.resize(),this._update(),this.fire(new e.Event("webglcontextrestored",{originalEvent:t}))}},{key:"_onMapScroll",value:function(e){if(e.target===this._container)return this._container.scrollTop=0,this._container.scrollLeft=0,!1}},{key:"loaded",value:function(){return!this._styleDirty&&!this._sourcesDirty&&!!this.style&&this.style.loaded()}},{key:"_update",value:function(e){return this.style?(this._styleDirty=this._styleDirty||e,this._sourcesDirty=!0,this.triggerRepaint(),this):this}},{key:"_requestRenderFrame",value:function(e){return this._update(),this._renderTaskQueue.add(e)}},{key:"_cancelRenderFrame",value:function(e){this._renderTaskQueue.remove(e)}},{key:"_requestDomTask",value:function(e){!this.loaded()||this.loaded()&&!this.isMoving()?e():this._domRenderTaskQueue.add(e)}},{key:"_render",value:function(t){var n,r=this,i=this.painter.context.extTimerQuery,a=e.exported.now();if(this.listens("gpu-timing-frame")&&(n=i.createQueryEXT(),i.beginQueryEXT(i.TIME_ELAPSED_EXT,n)),this.painter.context.setDirty(),this.painter.setBaseState(),(this.isMoving()||this.isRotating()||this.isZooming())&&(this._interactionRange[0]=Math.min(this._interactionRange[0],e.window.performance.now()),this._interactionRange[1]=Math.max(this._interactionRange[1],e.window.performance.now())),this._renderTaskQueue.run(t),this._domRenderTaskQueue.run(t),!this._removed){this._updateProjectionTransition();var o=this._isInitialLoad?0:this._fadeDuration;if(this.style&&this._styleDirty){this._styleDirty=!1;var s=this.transform.zoom,l=this.transform.pitch,c=e.exported.now(),u=new e.EvaluationParameters(s,{now:c,fadeDuration:o,pitch:l,transition:this.style.getTransition()});this.style.update(u)}this.style&&this.style.fog&&this.style.fog.hasTransition()&&(this.style._markersNeedUpdate=!0,this._sourcesDirty=!0);var d=!1;if(this.style&&this._sourcesDirty?(this._sourcesDirty=!1,this.painter._updateFog(this.style),this._updateTerrain(),d=this._updateAverageElevation(a),this.style._updateSources(this.transform),this._forceMarkerAndPopupUpdate()):d=this._updateAverageElevation(a),this._placementDirty=this.style&&this.style._updatePlacement(this.painter.transform,this.showCollisionBoxes,o,this._crossSourceCollisions),this.style&&this.painter.render(this.style,{showTileBoundaries:this.showTileBoundaries,showTerrainWireframe:this.showTerrainWireframe,showOverdrawInspector:this._showOverdrawInspector,showQueryGeometry:!!this._showQueryGeometry,showTileAABBs:this.showTileAABBs,rotating:this.isRotating(),zooming:this.isZooming(),moving:this.isMoving(),fadeDuration:o,isInitialLoad:this._isInitialLoad,showPadding:this.showPadding,gpuTiming:!!this.listens("gpu-timing-layer"),gpuTimingDeferredRender:!!this.listens("gpu-timing-deferred-render"),speedIndexTiming:this.speedIndexTiming}),this.fire(new e.Event("render")),this.loaded()&&!this._loaded&&(this._loaded=!0,this.fire(new e.Event("load"))),this.style&&this.style.hasTransitions()&&(this._styleDirty=!0),this.style&&!this._placementDirty&&this.style._releaseSymbolFadeTiles(),n){var f=e.exported.now()-a;i.endQueryEXT(i.TIME_ELAPSED_EXT,n),setTimeout((function(){var t=i.getQueryObjectEXT(n,i.QUERY_RESULT_EXT)/1e6;i.deleteQueryEXT(n),r.fire(new e.Event("gpu-timing-frame",{cpuTime:f,gpuTime:t})),e.window.performance.mark("frame-gpu",{startTime:a,detail:{gpuTime:t}})}),50)}if(this.listens("gpu-timing-layer")){var h=this.painter.collectGpuTimers();setTimeout((function(){var t=r.painter.queryGpuTimers(h);r.fire(new e.Event("gpu-timing-layer",{layerTimes:t}))}),50)}if(this.listens("gpu-timing-deferred-render")){var p=this.painter.collectDeferredRenderGpuQueries();setTimeout((function(){var t=r.painter.queryGpuTimeDeferredRender(p);r.fire(new e.Event("gpu-timing-deferred-render",{gpuTime:t}))}),50)}var m=this._sourcesDirty||this._styleDirty||this._placementDirty||d;if(m||this._repaint)this.triggerRepaint();else{var v=!this.isMoving()&&this.loaded();if(v&&(d=this._updateAverageElevation(a,!0)),d)this.triggerRepaint();else if(this._triggerFrame(!1),v&&(this.fire(new e.Event("idle")),this._isInitialLoad=!1,this.speedIndexTiming)){var g=this._calculateSpeedIndex();this.fire(new e.Event("speedindexcompleted",{speedIndex:g})),this.speedIndexTiming=!1}}!this._loaded||this._fullyLoaded||m||(this._fullyLoaded=!0,e.LivePerformanceUtils.mark(e.PerformanceMarkers.fullLoad),this._performanceMetricsCollection&&e.postPerformanceEvent(this._requestManager._customAccessToken,{width:this.painter.width,height:this.painter.height,interactionRange:this._interactionRange,visibilityHidden:this._visibilityHidden,terrainEnabled:!!this.painter.style.getTerrain(),fogEnabled:!!this.painter.style.getFog(),projection:this.getProjection().name,zoom:this.transform.zoom,renderer:this.painter.context.renderer,vendor:this.painter.context.vendor}),this._authenticate())}}},{key:"_forceMarkerAndPopupUpdate",value:function(e){var t,n=f(this._markers);try{for(n.s();!(t=n.n()).done;){var r=t.value;e&&!this.getRenderWorldCopies()&&(r._lngLat=r._lngLat.wrap()),r._update()}}catch(s){n.e(s)}finally{n.f()}var i,a=f(this._popups);try{for(a.s();!(i=a.n()).done;){var o=i.value;!e||this.getRenderWorldCopies()||o._trackPointer||(o._lngLat=o._lngLat.wrap()),o._update()}}catch(s){a.e(s)}finally{a.f()}}},{key:"_updateAverageElevation",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=function(e){return t.transform.averageElevation=e,t._update(!1),!0};if(!this.painter.averageElevationNeedsEasing())return 0!==this.transform.averageElevation&&r(0);if((n||e-this._averageElevationLastSampledAt>500)&&!this._averageElevation.isEasing(e)){var i=this.transform.averageElevation,a=this.transform.sampleAverageElevation(),o=!1;this.transform.elevation&&(o=this.transform.elevation.exaggeration()!==this._averageElevationExaggeration,this._averageElevationExaggeration=this.transform.elevation.exaggeration()),isNaN(a)?a=0:this._averageElevationLastSampledAt=e;var s=Math.abs(i-a);if(s>1){if(this._isInitialLoad||o)return this._averageElevation.jumpTo(a),r(a);this._averageElevation.easeTo(a,e,300)}else if(s>1e-4)return this._averageElevation.jumpTo(a),r(a)}return!!this._averageElevation.isEasing(e)&&r(this._averageElevation.getValue(e))}},{key:"_authenticate",value:function(){var t=this;e.getMapSessionAPI(this._getMapId(),this._requestManager._skuToken,this._requestManager._customAccessToken,(function(n){if(n&&(n.message===e.AUTH_ERR_MSG||401===n.status)){var r=t.painter.context.gl;e.storeAuthState(r,!1),t._logoControl instanceof la&&t._logoControl._updateLogo(),r&&r.clear(r.DEPTH_BUFFER_BIT|r.COLOR_BUFFER_BIT|r.STENCIL_BUFFER_BIT),t._silenceAuthErrors||t.fire(new e.ErrorEvent(new Error("A valid Mapbox access token is required to use Mapbox GL JS. To create an account or a new access token, visit https://account.mapbox.com/")))}})),e.postMapLoadEvent(this._getMapId(),this._requestManager._skuToken,this._requestManager._customAccessToken,(function(){}))}},{key:"_updateTerrain",value:function(){var e=this._isDragging();this.painter.updateTerrain(this.style,e)}},{key:"_calculateSpeedIndex",value:function(){var e=this.painter.canvasCopy(),t=this.painter.getCanvasCopiesAndTimestamps();t.timeStamps.push(performance.now());var n=this.painter.context.gl,r=n.createFramebuffer();function i(e){n.framebufferTexture2D(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,e,0);var t=new Uint8Array(n.drawingBufferWidth*n.drawingBufferHeight*4);return n.readPixels(0,0,n.drawingBufferWidth,n.drawingBufferHeight,n.RGBA,n.UNSIGNED_BYTE,t),t}return n.bindFramebuffer(n.FRAMEBUFFER,r),this._canvasPixelComparison(i(e),t.canvasCopies.map(i),t.timeStamps)}},{key:"_canvasPixelComparison",value:function(e,t,n){for(var r=n[1]-n[0],i=e.length/4,a=0;a<t.length;a++){for(var o=t[a],s=0,l=0;l<o.length;l+=4)o[l]===e[l]&&o[l+1]===e[l+1]&&o[l+2]===e[l+2]&&o[l+3]===e[l+3]&&(s+=1);r+=(n[a+2]-n[a+1])*(1-s/i)}return r}},{key:"remove",value:function(){this._hash&&this._hash.remove();var t,n=f(this._controls);try{for(n.s();!(t=n.n()).done;)t.value.onRemove(this)}catch(i){n.e(i)}finally{n.f()}this._controls=[],this._frame&&(this._frame.cancel(),this._frame=null),this._renderTaskQueue.clear(),this._domRenderTaskQueue.clear(),this.style&&this.style.destroy(),this.painter.destroy(),this.handlers&&this.handlers.destroy(),this.handlers=void 0,this.setStyle(null),void 0!==e.window&&(e.window.removeEventListener("resize",this._onWindowResize,!1),e.window.removeEventListener("orientationchange",this._onWindowResize,!1),e.window.removeEventListener("webkitfullscreenchange",this._onWindowResize,!1),e.window.removeEventListener("online",this._onWindowOnline,!1),e.window.removeEventListener("visibilitychange",this._onVisibilityChange,!1));var r=this.painter.context.gl.getExtension("WEBGL_lose_context");r&&r.loseContext(),this._canvas.removeEventListener("webglcontextlost",this._contextLost,!1),this._canvas.removeEventListener("webglcontextrestored",this._contextRestored,!1),this._canvasContainer.remove(),this._controlContainer.remove(),this._missingCSSCanary.remove(),this._canvas=void 0,this._canvasContainer=void 0,this._controlContainer=void 0,this._missingCSSCanary=void 0,this._container.classList.remove("mapboxgl-map"),this._container.removeEventListener("scroll",this._onMapScroll,!1),e.removeAuthState(this.painter.context.gl),this._removed=!0,this.fire(new e.Event("remove"))}},{key:"triggerRepaint",value:function(){this._triggerFrame(!0)}},{key:"_triggerFrame",value:function(t){var n=this;this._renderNextFrame=this._renderNextFrame||t,this.style&&!this._frame&&(this._frame=e.exported.frame((function(e){var t=!!n._renderNextFrame;n._frame=null,n._renderNextFrame=null,t&&n._render(e)})))}},{key:"_preloadTiles",value:function(t){var n=this,r=this.style?Object.values(this.style._sourceCaches):[];return e.asyncAll(r,(function(e,n){return e._preloadTiles(t,n)}),(function(){n.triggerRepaint()})),this}},{key:"_onWindowOnline",value:function(){this._update()}},{key:"_onWindowResize",value:function(e){this._trackResize&&this.resize({originalEvent:e})._update()}},{key:"_onVisibilityChange",value:function(){"hidden"===e.window.document.visibilityState&&this._visibilityHidden++}},{key:"showTileBoundaries",get:function(){return!!this._showTileBoundaries},set:function(e){this._showTileBoundaries!==e&&(this._showTileBoundaries=e,this._update())}},{key:"showTerrainWireframe",get:function(){return!!this._showTerrainWireframe},set:function(e){this._showTerrainWireframe!==e&&(this._showTerrainWireframe=e,this._update())}},{key:"speedIndexTiming",get:function(){return!!this._speedIndexTiming},set:function(e){this._speedIndexTiming!==e&&(this._speedIndexTiming=e,this._update())}},{key:"showPadding",get:function(){return!!this._showPadding},set:function(e){this._showPadding!==e&&(this._showPadding=e,this._update())}},{key:"showCollisionBoxes",get:function(){return!!this._showCollisionBoxes},set:function(e){this._showCollisionBoxes!==e&&(this._showCollisionBoxes=e,e?this.style._generateCollisionBoxes():this._update())}},{key:"showOverdrawInspector",get:function(){return!!this._showOverdrawInspector},set:function(e){this._showOverdrawInspector!==e&&(this._showOverdrawInspector=e,this._update())}},{key:"repaint",get:function(){return!!this._repaint},set:function(e){this._repaint!==e&&(this._repaint=e,this.triggerRepaint())}},{key:"vertices",get:function(){return!!this._vertices},set:function(e){this._vertices=e,this._update()}},{key:"showTileAABBs",get:function(){return!!this._showTileAABBs},set:function(e){this._showTileAABBs!==e&&(this._showTileAABBs=e,e&&this._update())}},{key:"_setCacheLimits",value:function(t,n){e.setCacheLimits(t,n)}},{key:"version",get:function(){return e.version}}]),u}(oa),NavigationControl:function(){function t(n){var r=this;h(this,t),this.options=e.extend({},xa,n),this._container=y("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._container.addEventListener("contextmenu",(function(e){return e.preventDefault()})),this.options.showZoom&&(e.bindAll(["_setButtonTitle","_updateZoomButtons"],this),this._zoomInButton=this._createButton("mapboxgl-ctrl-zoom-in",(function(e){r._map&&r._map.zoomIn({},{originalEvent:e})})),y("span","mapboxgl-ctrl-icon",this._zoomInButton).setAttribute("aria-hidden","true"),this._zoomOutButton=this._createButton("mapboxgl-ctrl-zoom-out",(function(e){r._map&&r._map.zoomOut({},{originalEvent:e})})),y("span","mapboxgl-ctrl-icon",this._zoomOutButton).setAttribute("aria-hidden","true")),this.options.showCompass&&(e.bindAll(["_rotateCompassArrow"],this),this._compass=this._createButton("mapboxgl-ctrl-compass",(function(e){var t=r._map;t&&(r.options.visualizePitch?t.resetNorthPitch({},{originalEvent:e}):t.resetNorth({},{originalEvent:e}))})),this._compassIcon=y("span","mapboxgl-ctrl-icon",this._compass),this._compassIcon.setAttribute("aria-hidden","true"))}return p(t,[{key:"_updateZoomButtons",value:function(){var e=this._map;if(e){var t=e.getZoom(),n=t===e.getMaxZoom(),r=t===e.getMinZoom();this._zoomInButton.disabled=n,this._zoomOutButton.disabled=r,this._zoomInButton.setAttribute("aria-disabled",n.toString()),this._zoomOutButton.setAttribute("aria-disabled",r.toString())}}},{key:"_rotateCompassArrow",value:function(){var e=this,t=this._map;if(t){var n=this.options.visualizePitch?"scale(".concat(1/Math.pow(Math.cos(t.transform.pitch*(Math.PI/180)),.5),") rotateX(").concat(t.transform.pitch,"deg) rotateZ(").concat(t.transform.angle*(180/Math.PI),"deg)"):"rotate(".concat(t.transform.angle*(180/Math.PI),"deg)");t._requestDomTask((function(){e._compassIcon&&(e._compassIcon.style.transform=n)}))}}},{key:"onAdd",value:function(e){return this._map=e,this.options.showZoom&&(this._setButtonTitle(this._zoomInButton,"ZoomIn"),this._setButtonTitle(this._zoomOutButton,"ZoomOut"),e.on("zoom",this._updateZoomButtons),this._updateZoomButtons()),this.options.showCompass&&(this._setButtonTitle(this._compass,"ResetBearing"),this.options.visualizePitch&&e.on("pitch",this._rotateCompassArrow),e.on("rotate",this._rotateCompassArrow),this._rotateCompassArrow(),this._handler=new ba(e,this._compass,this.options.visualizePitch)),this._container}},{key:"onRemove",value:function(){var e=this._map;e&&(this._container.remove(),this.options.showZoom&&e.off("zoom",this._updateZoomButtons),this.options.showCompass&&(this.options.visualizePitch&&e.off("pitch",this._rotateCompassArrow),e.off("rotate",this._rotateCompassArrow),this._handler&&this._handler.off(),this._handler=void 0),this._map=void 0)}},{key:"_createButton",value:function(e,t){var n=y("button",e,this._container);return n.type="button",n.addEventListener("click",t),n}},{key:"_setButtonTitle",value:function(e,t){if(this._map){var n=this._map._getUIString("NavigationControl.".concat(t));e.setAttribute("aria-label",n),e.firstElementChild&&e.firstElementChild.setAttribute("title",n)}}}]),t}(),GeolocateControl:function(t){m(r,t);var n=v(r);function r(t){var a;return h(this,r),(a=n.call(this)).options=e.extend({geolocation:e.window.navigator.geolocation},_a,t),e.bindAll(["_onSuccess","_onError","_onZoom","_finish","_setupUI","_updateCamera","_updateMarker","_updateMarkerRotation","_onDeviceOrientation"],i(a)),a._updateMarkerRotationThrottled=li(a._updateMarkerRotation,20),a._numberOfWatches=0,a}return p(r,[{key:"onAdd",value:function(e){return this._map=e,this._container=y("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._checkGeolocationSupport(this._setupUI),this._container}},{key:"onRemove",value:function(){void 0!==this._geolocationWatchID&&(this.options.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0),this.options.showUserLocation&&this._userLocationDotMarker&&this._userLocationDotMarker.remove(),this.options.showAccuracyCircle&&this._accuracyCircleMarker&&this._accuracyCircleMarker.remove(),this._container.remove(),this._map.off("zoom",this._onZoom),this._map=void 0,this._numberOfWatches=0,this._noTimeout=!1}},{key:"_checkGeolocationSupport",value:function(t){var n=this,r=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:!!n.options.geolocation;n._supportsGeolocation=e,t(e)};void 0!==this._supportsGeolocation?t(this._supportsGeolocation):void 0!==e.window.navigator.permissions?e.window.navigator.permissions.query({name:"geolocation"}).then((function(e){return r("denied"!==e.state)})).catch((function(){return r()})):r()}},{key:"_isOutOfMapMaxBounds",value:function(e){var t=this._map.getMaxBounds(),n=e.coords;return!!t&&(n.longitude<t.getWest()||n.longitude>t.getEast()||n.latitude<t.getSouth()||n.latitude>t.getNorth())}},{key:"_setErrorState",value:function(){switch(this._watchState){case"WAITING_ACTIVE":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"ACTIVE_LOCK":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting");break;case"BACKGROUND":this._watchState="BACKGROUND_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting")}}},{key:"_onSuccess",value:function(t){if(this._map){if(this._isOutOfMapMaxBounds(t))return this._setErrorState(),this.fire(new e.Event("outofmaxbounds",t)),this._updateMarker(),void this._finish();if(this.options.trackUserLocation)switch(this._lastKnownPosition=t,this._watchState){case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"BACKGROUND":case"BACKGROUND_ERROR":this._watchState="BACKGROUND",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background")}this.options.showUserLocation&&"OFF"!==this._watchState&&this._updateMarker(t),this.options.trackUserLocation&&"ACTIVE_LOCK"!==this._watchState||this._updateCamera(t),this.options.showUserLocation&&this._dotElement.classList.remove("mapboxgl-user-location-dot-stale"),this.fire(new e.Event("geolocate",t)),this._finish()}}},{key:"_updateCamera",value:function(t){var n=new e.LngLat(t.coords.longitude,t.coords.latitude),r=t.coords.accuracy,i=this._map.getBearing(),a=e.extend({bearing:i},this.options.fitBoundsOptions);this._map.fitBounds(n.toBounds(r),a,{geolocateSource:!0})}},{key:"_updateMarker",value:function(t){if(t){var n=new e.LngLat(t.coords.longitude,t.coords.latitude);this._accuracyCircleMarker.setLngLat(n).addTo(this._map),this._userLocationDotMarker.setLngLat(n).addTo(this._map),this._accuracy=t.coords.accuracy,this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()}else this._userLocationDotMarker.remove(),this._accuracyCircleMarker.remove()}},{key:"_updateCircleRadius",value:function(){var t=this._map.transform,n=e.mercatorZfromAltitude(1,t._center.lat)*t.worldSize,r=Math.ceil(2*this._accuracy*n);this._circleElement.style.width="".concat(r,"px"),this._circleElement.style.height="".concat(r,"px")}},{key:"_onZoom",value:function(){this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()}},{key:"_updateMarkerRotation",value:function(){this._userLocationDotMarker&&"number"==typeof this._heading?(this._userLocationDotMarker.setRotation(this._heading),this._dotElement.classList.add("mapboxgl-user-location-show-heading")):(this._dotElement.classList.remove("mapboxgl-user-location-show-heading"),this._userLocationDotMarker.setRotation(0))}},{key:"_onError",value:function(t){if(this._map){if(this.options.trackUserLocation)if(1===t.code){this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.disabled=!0;var n=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.setAttribute("aria-label",n),this._geolocateButton.firstElementChild&&this._geolocateButton.firstElementChild.setAttribute("title",n),void 0!==this._geolocationWatchID&&this._clearWatch()}else{if(3===t.code&&this._noTimeout)return;this._setErrorState()}"OFF"!==this._watchState&&this.options.showUserLocation&&this._dotElement.classList.add("mapboxgl-user-location-dot-stale"),this.fire(new e.Event("error",t)),this._finish()}}},{key:"_finish",value:function(){this._timeoutId&&clearTimeout(this._timeoutId),this._timeoutId=void 0}},{key:"_setupUI",value:function(t){var n=this;if(void 0!==this._map){if(this._container.addEventListener("contextmenu",(function(e){return e.preventDefault()})),this._geolocateButton=y("button","mapboxgl-ctrl-geolocate",this._container),y("span","mapboxgl-ctrl-icon",this._geolocateButton).setAttribute("aria-hidden","true"),this._geolocateButton.type="button",!1===t){e.warnOnce("Geolocation support is not available so the GeolocateControl will be disabled.");var r=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.disabled=!0,this._geolocateButton.setAttribute("aria-label",r),this._geolocateButton.firstElementChild&&this._geolocateButton.firstElementChild.setAttribute("title",r)}else{var i=this._map._getUIString("GeolocateControl.FindMyLocation");this._geolocateButton.setAttribute("aria-label",i),this._geolocateButton.firstElementChild&&this._geolocateButton.firstElementChild.setAttribute("title",i)}this.options.trackUserLocation&&(this._geolocateButton.setAttribute("aria-pressed","false"),this._watchState="OFF"),this.options.showUserLocation&&(this._dotElement=y("div","mapboxgl-user-location"),this._dotElement.appendChild(y("div","mapboxgl-user-location-dot")),this._dotElement.appendChild(y("div","mapboxgl-user-location-heading")),this._userLocationDotMarker=new fa({element:this._dotElement,rotationAlignment:"map",pitchAlignment:"map"}),this._circleElement=y("div","mapboxgl-user-location-accuracy-circle"),this._accuracyCircleMarker=new fa({element:this._circleElement,pitchAlignment:"map"}),this.options.trackUserLocation&&(this._watchState="OFF"),this._map.on("zoom",this._onZoom)),this._geolocateButton.addEventListener("click",this.trigger.bind(this)),this._setup=!0,this.options.trackUserLocation&&this._map.on("movestart",(function(t){t.geolocateSource||"ACTIVE_LOCK"!==n._watchState||t.originalEvent&&"resize"===t.originalEvent.type||(n._watchState="BACKGROUND",n._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background"),n._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),n.fire(new e.Event("trackuserlocationend")))}))}}},{key:"_onDeviceOrientation",value:function(e){this._userLocationDotMarker&&(e.webkitCompassHeading?this._heading=e.webkitCompassHeading:!0===e.absolute&&(this._heading=-1*e.alpha),this._updateMarkerRotationThrottled())}},{key:"trigger",value:function(){if(!this._setup)return e.warnOnce("Geolocate control triggered before added to a map"),!1;if(this.options.trackUserLocation){switch(this._watchState){case"OFF":this._watchState="WAITING_ACTIVE",this.fire(new e.Event("trackuserlocationstart"));break;case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":case"BACKGROUND_ERROR":this._numberOfWatches--,this._noTimeout=!1,this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this.fire(new e.Event("trackuserlocationend"));break;case"BACKGROUND":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._lastKnownPosition&&this._updateCamera(this._lastKnownPosition),this.fire(new e.Event("trackuserlocationstart"))}switch(this._watchState){case"WAITING_ACTIVE":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_LOCK":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"BACKGROUND":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background");break;case"BACKGROUND_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error")}if("OFF"===this._watchState&&void 0!==this._geolocationWatchID)this._clearWatch();else if(void 0===this._geolocationWatchID){var t;this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","true"),this._numberOfWatches++,this._numberOfWatches>1?(t={maximumAge:6e5,timeout:0},this._noTimeout=!0):(t=this.options.positionOptions,this._noTimeout=!1),this._geolocationWatchID=this.options.geolocation.watchPosition(this._onSuccess,this._onError,t),this.options.showUserHeading&&this._addDeviceOrientationListener()}}else this.options.geolocation.getCurrentPosition(this._onSuccess,this._onError,this.options.positionOptions),this._timeoutId=setTimeout(this._finish,1e4);return!0}},{key:"_addDeviceOrientationListener",value:function(){var t=this,n=function(){e.window.addEventListener("ondeviceorientationabsolute"in e.window?"deviceorientationabsolute":"deviceorientation",t._onDeviceOrientation)};void 0!==e.window.DeviceMotionEvent&&"function"==typeof e.window.DeviceMotionEvent.requestPermission?DeviceOrientationEvent.requestPermission().then((function(e){"granted"===e&&n()})).catch(console.error):n()}},{key:"_clearWatch",value:function(){this.options.geolocation.clearWatch(this._geolocationWatchID),e.window.removeEventListener("deviceorientation",this._onDeviceOrientation),e.window.removeEventListener("deviceorientationabsolute",this._onDeviceOrientation),this._geolocationWatchID=void 0,this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","false"),this.options.showUserLocation&&this._updateMarker(null)}}]),r}(e.Evented),AttributionControl:sa,ScaleControl:function(){function t(n){h(this,t),this.options=e.extend({},wa,n),function(){try{return new Intl.NumberFormat("en",{style:"unit",unitDisplay:"narrow",unit:"meter"}),!0}catch(e){return!1}}()||(this._setScale=ka.bind(this)),e.bindAll(["_update","_setScale","setUnit"],this)}return p(t,[{key:"getDefaultPosition",value:function(){return"bottom-left"}},{key:"_update",value:function(){var e=this.options.maxWidth||100,t=this._map,n=t._containerHeight/2,r=t._containerWidth/2-e/2,i=t.unproject([r,n]),a=t.unproject([r+e,n]),o=i.distanceTo(a);if("imperial"===this.options.unit){var s=3.2808*o;s>5280?this._setScale(e,s/5280,"mile"):this._setScale(e,s,"foot")}else"nautical"===this.options.unit?this._setScale(e,o/1852,"nautical-mile"):o>=1e3?this._setScale(e,o/1e3,"kilometer"):this._setScale(e,o,"meter")}},{key:"_setScale",value:function(e,t,n){var r=this,i=Sa(t),a=i/t;this._map._requestDomTask((function(){r._container.style.width=e*a+"px",r._container.innerHTML="nautical-mile"!==n?new Intl.NumberFormat(r._language,{style:"unit",unitDisplay:"narrow",unit:n}).format(i):"".concat(i,"&nbsp;nm")}))}},{key:"onAdd",value:function(e){return this._map=e,this._language=e.getLanguage(),this._container=y("div","mapboxgl-ctrl mapboxgl-ctrl-scale",e.getContainer()),this._container.dir="auto",this._map.on("move",this._update),this._update(),this._container}},{key:"onRemove",value:function(){this._container.remove(),this._map.off("move",this._update),this._map=void 0}},{key:"_setLanguage",value:function(e){this._language=e,this._update()}},{key:"setUnit",value:function(e){this.options.unit=e,this._update()}}]),t}(),FullscreenControl:function(){function t(n){h(this,t),this._fullscreen=!1,n&&n.container&&(n.container instanceof e.window.HTMLElement?this._container=n.container:e.warnOnce("Full screen control 'container' must be a DOM element.")),e.bindAll(["_onClickFullscreen","_changeIcon"],this),"onfullscreenchange"in e.window.document?this._fullscreenchange="fullscreenchange":"onwebkitfullscreenchange"in e.window.document&&(this._fullscreenchange="webkitfullscreenchange")}return p(t,[{key:"onAdd",value:function(t){return this._map=t,this._container||(this._container=this._map.getContainer()),this._controlContainer=y("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._checkFullscreenSupport()?this._setupUI():(this._controlContainer.style.display="none",e.warnOnce("This device does not support fullscreen mode.")),this._controlContainer}},{key:"onRemove",value:function(){this._controlContainer.remove(),this._map=null,e.window.document.removeEventListener(this._fullscreenchange,this._changeIcon)}},{key:"_checkFullscreenSupport",value:function(){return!(!e.window.document.fullscreenEnabled&&!e.window.document.webkitFullscreenEnabled)}},{key:"_setupUI",value:function(){var t=this._fullscreenButton=y("button","mapboxgl-ctrl-fullscreen",this._controlContainer);y("span","mapboxgl-ctrl-icon",t).setAttribute("aria-hidden","true"),t.type="button",this._updateTitle(),this._fullscreenButton.addEventListener("click",this._onClickFullscreen),e.window.document.addEventListener(this._fullscreenchange,this._changeIcon)}},{key:"_updateTitle",value:function(){var e=this._getTitle();this._fullscreenButton.setAttribute("aria-label",e),this._fullscreenButton.firstElementChild&&this._fullscreenButton.firstElementChild.setAttribute("title",e)}},{key:"_getTitle",value:function(){return this._map._getUIString(this._isFullscreen()?"FullscreenControl.Exit":"FullscreenControl.Enter")}},{key:"_isFullscreen",value:function(){return this._fullscreen}},{key:"_changeIcon",value:function(){(e.window.document.fullscreenElement||e.window.document.webkitFullscreenElement)===this._container!==this._fullscreen&&(this._fullscreen=!this._fullscreen,this._fullscreenButton.classList.toggle("mapboxgl-ctrl-shrink"),this._fullscreenButton.classList.toggle("mapboxgl-ctrl-fullscreen"),this._updateTitle())}},{key:"_onClickFullscreen",value:function(){this._isFullscreen()?e.window.document.exitFullscreen?e.window.document.exitFullscreen():e.window.document.webkitCancelFullScreen&&e.window.document.webkitCancelFullScreen():this._container.requestFullscreen?this._container.requestFullscreen():this._container.webkitRequestFullscreen&&this._container.webkitRequestFullscreen()}}]),t}(),Popup:function(t){m(r,t);var n=v(r);function r(t){var a;return h(this,r),(a=n.call(this)).options=e.extend(Object.create(ha),t),e.bindAll(["_update","_onClose","remove","_onMouseEvent"],i(a)),a._classList=new Set(t&&t.className?t.className.trim().split(/\s+/):[]),a}return p(r,[{key:"addTo",value:function(t){return this._map&&this.remove(),this._map=t,this.options.closeOnClick&&t.on("preclick",this._onClose),this.options.closeOnMove&&t.on("move",this._onClose),t.on("remove",this.remove),this._update(),t._addPopup(this),this._focusFirstElement(),this._trackPointer?(t.on("mousemove",this._onMouseEvent),t.on("mouseup",this._onMouseEvent),t._canvasContainer.classList.add("mapboxgl-track-pointer")):t.on("move",this._update),this.fire(new e.Event("open")),this}},{key:"isOpen",value:function(){return!!this._map}},{key:"remove",value:function(){this._content&&this._content.remove(),this._container&&(this._container.remove(),this._container=void 0);var t=this._map;return t&&(t.off("move",this._update),t.off("move",this._onClose),t.off("preclick",this._onClose),t.off("click",this._onClose),t.off("remove",this.remove),t.off("mousemove",this._onMouseEvent),t.off("mouseup",this._onMouseEvent),t.off("drag",this._onMouseEvent),t._canvasContainer&&t._canvasContainer.classList.remove("mapboxgl-track-pointer"),t._removePopup(this),this._map=void 0),this.fire(new e.Event("close")),this}},{key:"getLngLat",value:function(){return this._lngLat}},{key:"setLngLat",value:function(t){this._lngLat=e.LngLat.convert(t),this._pos=null,this._trackPointer=!1,this._update();var n=this._map;return n&&(n.on("move",this._update),n.off("mousemove",this._onMouseEvent),n._canvasContainer.classList.remove("mapboxgl-track-pointer")),this}},{key:"trackPointer",value:function(){this._trackPointer=!0,this._pos=null,this._update();var e=this._map;return e&&(e.off("move",this._update),e.on("mousemove",this._onMouseEvent),e.on("drag",this._onMouseEvent),e._canvasContainer.classList.add("mapboxgl-track-pointer")),this}},{key:"getElement",value:function(){return this._container}},{key:"setText",value:function(t){return this.setDOMContent(e.window.document.createTextNode(t))}},{key:"setHTML",value:function(t){var n,r=e.window.document.createDocumentFragment(),i=e.window.document.createElement("body");for(i.innerHTML=t;n=i.firstChild;)r.appendChild(n);return this.setDOMContent(r)}},{key:"getMaxWidth",value:function(){return this._container&&this._container.style.maxWidth}},{key:"setMaxWidth",value:function(e){return this.options.maxWidth=e,this._update(),this}},{key:"setDOMContent",value:function(e){var t=this._content;if(t)for(;t.hasChildNodes();)t.firstChild&&t.removeChild(t.firstChild);else t=this._content=y("div","mapboxgl-popup-content",this._container||void 0);if(t.appendChild(e),this.options.closeButton){var n=this._closeButton=y("button","mapboxgl-popup-close-button",t);n.type="button",n.setAttribute("aria-label","Close popup"),n.setAttribute("aria-hidden","true"),n.innerHTML="&#215;",n.addEventListener("click",this._onClose)}return this._update(),this._focusFirstElement(),this}},{key:"addClassName",value:function(e){return this._classList.add(e),this._updateClassList(),this}},{key:"removeClassName",value:function(e){return this._classList.delete(e),this._updateClassList(),this}},{key:"setOffset",value:function(e){return this.options.offset=e,this._update(),this}},{key:"toggleClassName",value:function(e){var t;return this._classList.delete(e)?t=!1:(this._classList.add(e),t=!0),this._updateClassList(),t}},{key:"_onMouseEvent",value:function(e){this._update(e.point)}},{key:"_getAnchor",value:function(e){if(this.options.anchor)return this.options.anchor;var t=this._map,n=this._container,r=this._pos;if(!t||!n||!r)return"bottom";var i=n.offsetWidth,a=n.offsetHeight,o=r.x<i/2,s=r.x>t.transform.width-i/2;if(r.y+e<a)return o?"top-left":s?"top-right":"top";if(r.y>t.transform.height-a){if(o)return"bottom-left";if(s)return"bottom-right"}return o?"left":s?"right":"bottom"}},{key:"_updateClassList",value:function(){var e=this._container;if(e){var t=u(this._classList);t.push("mapboxgl-popup"),this._anchor&&t.push("mapboxgl-popup-anchor-".concat(this._anchor)),this._trackPointer&&t.push("mapboxgl-popup-track-pointer"),e.className=t.join(" ")}}},{key:"_update",value:function(t){var n=this,r=this._map,i=this._content;if(r&&(this._lngLat||this._trackPointer)&&i){var a=this._container;if(a||(a=this._container=y("div","mapboxgl-popup",r.getContainer()),this._tip=y("div","mapboxgl-popup-tip",a),a.appendChild(i)),this.options.maxWidth&&a.style.maxWidth!==this.options.maxWidth&&(a.style.maxWidth=this.options.maxWidth),r.transform.renderWorldCopies&&!this._trackPointer&&(this._lngLat=ua(this._lngLat,this._pos,r.transform)),!this._trackPointer||t){var o=this._pos=this._trackPointer&&t?t:r.project(this._lngLat),s=ma(this.options.offset),l=this._anchor=this._getAnchor(s.y),c=ma(this.options.offset,l),u=o.add(c).round();r._requestDomTask((function(){n._container&&l&&(n._container.style.transform="".concat(da[l]," translate(").concat(u.x,"px,").concat(u.y,"px)"))}))}if(!this._marker&&r._showingGlobe()){var d=e.isLngLatBehindGlobe(r.transform,this._lngLat)?0:1;this._setOpacity(d)}this._updateClassList()}}},{key:"_focusFirstElement",value:function(){if(this.options.focusAfterOpen&&this._container){var e=this._container.querySelector(pa);e&&e.focus()}}},{key:"_onClose",value:function(){this.remove()}},{key:"_setOpacity",value:function(e){this._container&&(this._container.style.opacity="".concat(e)),this._content&&(this._content.style.pointerEvents=e?"auto":"none")}}]),r}(e.Evented),Marker:fa,Style:fn,LngLat:e.LngLat,LngLatBounds:e.LngLatBounds,Point:e.pointGeometry,MercatorCoordinate:e.MercatorCoordinate,FreeCameraOptions:Qr,Evented:e.Evented,config:e.config,prewarm:function(){et().acquire(Je)},clearPrewarmedResources:function(){var e=$e;e&&(e.isPreloaded()&&1===e.numActive()?(e.release(Je),$e=null):console.warn("Could not clear WebWorkers since there are active Map instances that still reference it. The pre-warmed WebWorker pool can only be cleared when all map instances have been removed with map.remove()"))},get accessToken(){return e.config.ACCESS_TOKEN},set accessToken(t){e.config.ACCESS_TOKEN=t},get baseApiUrl(){return e.config.API_URL},set baseApiUrl(t){e.config.API_URL=t},get workerCount(){return Qe.workerCount},set workerCount(e){Qe.workerCount=e},get maxParallelImageRequests(){return e.config.MAX_PARALLEL_IMAGE_REQUESTS},set maxParallelImageRequests(t){e.config.MAX_PARALLEL_IMAGE_REQUESTS=t},clearStorage:function(t){e.clearTileCache(t)},workerUrl:"",workerClass:null,setNow:e.exported.setNow,restoreNow:e.exported.restoreNow};return Ea})),n}()},8193:function(e){var t=1e3,n=60*t,r=60*n,i=24*r,a=7*i,o=365.25*i;function s(e,t,n,r){var i=t>=1.5*n;return Math.round(e/n)+" "+r+(i?"s":"")}e.exports=function(e,l){l=l||{};var c=typeof e;if("string"===c&&e.length>0)return function(e){if((e=String(e)).length>100)return;var s=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(!s)return;var l=parseFloat(s[1]);switch((s[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return l*o;case"weeks":case"week":case"w":return l*a;case"days":case"day":case"d":return l*i;case"hours":case"hour":case"hrs":case"hr":case"h":return l*r;case"minutes":case"minute":case"mins":case"min":case"m":return l*n;case"seconds":case"second":case"secs":case"sec":case"s":return l*t;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return l;default:return}}(e);if("number"===c&&isFinite(e))return l.long?function(e){var a=Math.abs(e);if(a>=i)return s(e,a,i,"day");if(a>=r)return s(e,a,r,"hour");if(a>=n)return s(e,a,n,"minute");if(a>=t)return s(e,a,t,"second");return e+" ms"}(e):function(e){var a=Math.abs(e);if(a>=i)return Math.round(e/i)+"d";if(a>=r)return Math.round(e/r)+"h";if(a>=n)return Math.round(e/n)+"m";if(a>=t)return Math.round(e/t)+"s";return e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},5988:function(e,t){t.encode=function(e){var t="";for(var n in e)e.hasOwnProperty(n)&&(t.length&&(t+="&"),t+=encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t},t.decode=function(e){for(var t={},n=e.split("&"),r=0,i=n.length;r<i;r++){var a=n[r].split("=");t[decodeURIComponent(a[0])]=decodeURIComponent(a[1])}return t}},1176:function(e){var t=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,n=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];e.exports=function(e){var r=e,i=e.indexOf("["),a=e.indexOf("]");-1!=i&&-1!=a&&(e=e.substring(0,i)+e.substring(i,a).replace(/:/g,";")+e.substring(a,e.length));for(var o=t.exec(e||""),s={},l=14;l--;)s[n[l]]=o[l]||"";return-1!=i&&-1!=a&&(s.source=r,s.host=s.host.substring(1,s.host.length-1).replace(/;/g,":"),s.authority=s.authority.replace("[","").replace("]","").replace(/;/g,":"),s.ipv6uri=!0),s.pathNames=function(e,t){var n=/\/{2,9}/g,r=t.replace(n,"/").split("/");"/"!=t.substr(0,1)&&0!==t.length||r.splice(0,1);"/"==t.substr(t.length-1,1)&&r.splice(r.length-1,1);return r}(0,s.path),s.queryKey=function(e,t){var n={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,(function(e,t,r){t&&(n[t]=r)})),n}(0,s.query),s}},4463:function(e,t,n){"use strict";var r=n(2791),i=n(5296);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,s={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(s[e]=t,e=0;e<t.length;e++)o.add(t[e])}var u=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,h={},p={};function m(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var v={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){v[e]=new m(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];v[t]=new m(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){v[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){v[e]=new m(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){v[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){v[e]=new m(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){v[e]=new m(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){v[e]=new m(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){v[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)}));var g=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function x(e,t,n,r){var i=v.hasOwnProperty(t)?v[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!d.call(p,e)||!d.call(h,e)&&(f.test(e)?p[e]=!0:(h[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(g,y);v[t]=new m(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(g,y);v[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(g,y);v[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){v[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)})),v.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){v[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)}));var b=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,_=Symbol.for("react.element"),w=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),C=Symbol.for("react.provider"),T=Symbol.for("react.context"),M=Symbol.for("react.forward_ref"),I=Symbol.for("react.suspense"),O=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),A=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var z=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var j=Symbol.iterator;function R(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=j&&e[j]||e["@@iterator"])?e:null}var D,L=Object.assign;function N(e){if(void 0===D)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);D=t&&t[1]||""}return"\n"+D+e}var B=!1;function F(e,t){if(!e||B)return"";B=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,s=a.length-1;1<=o&&0<=s&&i[o]!==a[s];)s--;for(;1<=o&&0<=s;o--,s--)if(i[o]!==a[s]){if(1!==o||1!==s)do{if(o--,0>--s||i[o]!==a[s]){var l="\n"+i[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=o&&0<=s);break}}}finally{B=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?N(e):""}function V(e){switch(e.tag){case 5:return N(e.type);case 16:return N("Lazy");case 13:return N("Suspense");case 19:return N("SuspenseList");case 0:case 2:case 15:return e=F(e.type,!1);case 11:return e=F(e.type.render,!1);case 1:return e=F(e.type,!0);default:return""}}function U(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case k:return"Fragment";case w:return"Portal";case E:return"Profiler";case S:return"StrictMode";case I:return"Suspense";case O:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case T:return(e.displayName||"Context")+".Consumer";case C:return(e._context.displayName||"Context")+".Provider";case M:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case P:return null!==(t=e.displayName||null)?t:U(e.type)||"Memo";case A:t=e._payload,e=e._init;try{return U(e(t))}catch(n){}}return null}function H(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return U(t);case 8:return t===S?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function G(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function W(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function q(e){e._valueTracker||(e._valueTracker=function(e){var t=W(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function X(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=W(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Z(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function K(e,t){var n=t.checked;return L({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Y(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=G(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function $(e,t){null!=(t=t.checked)&&x(e,"checked",t,!1)}function J(e,t){$(e,t);var n=G(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,G(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Q(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Z(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+G(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return L({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(te(n)){if(1<n.length)throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:G(n)}}function ae(e,t){var n=G(t.value),r=G(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function se(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?se(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,ue,de=(ue=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ue(e,t)}))}:ue);function fe(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var he={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function me(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||he.hasOwnProperty(e)&&he[e]?(""+t).trim():t+"px"}function ve(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=me(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(he).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),he[t]=he[e]}))}));var ge=L({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(ge[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function xe(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var be=null;function _e(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var we=null,ke=null,Se=null;function Ee(e){if(e=xi(e)){if("function"!==typeof we)throw Error(a(280));var t=e.stateNode;t&&(t=_i(t),we(e.stateNode,e.type,t))}}function Ce(e){ke?Se?Se.push(e):Se=[e]:ke=e}function Te(){if(ke){var e=ke,t=Se;if(Se=ke=null,Ee(e),t)for(e=0;e<t.length;e++)Ee(t[e])}}function Me(e,t){return e(t)}function Ie(){}var Oe=!1;function Pe(e,t,n){if(Oe)return e(t,n);Oe=!0;try{return Me(e,t,n)}finally{Oe=!1,(null!==ke||null!==Se)&&(Ie(),Te())}}function Ae(e,t){var n=e.stateNode;if(null===n)return null;var r=_i(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var ze=!1;if(u)try{var je={};Object.defineProperty(je,"passive",{get:function(){ze=!0}}),window.addEventListener("test",je,je),window.removeEventListener("test",je,je)}catch(ue){ze=!1}function Re(e,t,n,r,i,a,o,s,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var De=!1,Le=null,Ne=!1,Be=null,Fe={onError:function(e){De=!0,Le=e}};function Ve(e,t,n,r,i,a,o,s,l){De=!1,Le=null,Re.apply(Fe,arguments)}function Ue(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function He(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Ge(e){if(Ue(e)!==e)throw Error(a(188))}function We(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ue(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return Ge(i),e;if(o===r)return Ge(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,l=i.child;l;){if(l===n){s=!0,n=i,r=o;break}if(l===r){s=!0,r=i,n=o;break}l=l.sibling}if(!s){for(l=o.child;l;){if(l===n){s=!0,n=o,r=i;break}if(l===r){s=!0,r=o,n=i;break}l=l.sibling}if(!s)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e))?qe(e):null}function qe(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=qe(e);if(null!==t)return t;e=e.sibling}return null}var Xe=i.unstable_scheduleCallback,Ze=i.unstable_cancelCallback,Ke=i.unstable_shouldYield,Ye=i.unstable_requestPaint,$e=i.unstable_now,Je=i.unstable_getCurrentPriorityLevel,Qe=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,at=null;var ot=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(st(e)/lt|0)|0},st=Math.log,lt=Math.LN2;var ct=64,ut=4194304;function dt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ft(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,o=268435455&n;if(0!==o){var s=o&~i;0!==s?r=dt(s):0!==(a&=o)&&(r=dt(a))}else 0!==(o=n&~i)?r=dt(o):0!==a&&(r=dt(a));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(a=t&-t)||16===i&&0!==(4194240&a)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-ot(t)),r|=e[n],t&=~i;return r}function ht(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function mt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function vt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function gt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function yt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ot(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var xt=0;function bt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var _t,wt,kt,St,Et,Ct=!1,Tt=[],Mt=null,It=null,Ot=null,Pt=new Map,At=new Map,zt=[],jt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Rt(e,t){switch(e){case"focusin":case"focusout":Mt=null;break;case"dragenter":case"dragleave":It=null;break;case"mouseover":case"mouseout":Ot=null;break;case"pointerover":case"pointerout":Pt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":At.delete(t.pointerId)}}function Dt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},null!==t&&(null!==(t=xi(t))&&wt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Lt(e){var t=yi(e.target);if(null!==t){var n=Ue(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=He(n)))return e.blockedOn=t,void Et(e.priority,(function(){kt(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Nt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Kt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=xi(n))&&wt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);be=r,n.target.dispatchEvent(r),be=null,t.shift()}return!0}function Bt(e,t,n){Nt(e)&&n.delete(t)}function Ft(){Ct=!1,null!==Mt&&Nt(Mt)&&(Mt=null),null!==It&&Nt(It)&&(It=null),null!==Ot&&Nt(Ot)&&(Ot=null),Pt.forEach(Bt),At.forEach(Bt)}function Vt(e,t){e.blockedOn===t&&(e.blockedOn=null,Ct||(Ct=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Ft)))}function Ut(e){function t(t){return Vt(t,e)}if(0<Tt.length){Vt(Tt[0],e);for(var n=1;n<Tt.length;n++){var r=Tt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Mt&&Vt(Mt,e),null!==It&&Vt(It,e),null!==Ot&&Vt(Ot,e),Pt.forEach(t),At.forEach(t),n=0;n<zt.length;n++)(r=zt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<zt.length&&null===(n=zt[0]).blockedOn;)Lt(n),null===n.blockedOn&&zt.shift()}var Ht=b.ReactCurrentBatchConfig,Gt=!0;function Wt(e,t,n,r){var i=xt,a=Ht.transition;Ht.transition=null;try{xt=1,Xt(e,t,n,r)}finally{xt=i,Ht.transition=a}}function qt(e,t,n,r){var i=xt,a=Ht.transition;Ht.transition=null;try{xt=4,Xt(e,t,n,r)}finally{xt=i,Ht.transition=a}}function Xt(e,t,n,r){if(Gt){var i=Kt(e,t,n,r);if(null===i)Gr(e,t,r,Zt,n),Rt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Mt=Dt(Mt,e,t,n,r,i),!0;case"dragenter":return It=Dt(It,e,t,n,r,i),!0;case"mouseover":return Ot=Dt(Ot,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return Pt.set(a,Dt(Pt.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,At.set(a,Dt(At.get(a)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Rt(e,r),4&t&&-1<jt.indexOf(e)){for(;null!==i;){var a=xi(i);if(null!==a&&_t(a),null===(a=Kt(e,t,n,r))&&Gr(e,t,r,Zt,n),a===i)break;i=a}null!==i&&r.stopPropagation()}else Gr(e,t,r,null,n)}}var Zt=null;function Kt(e,t,n,r){if(Zt=null,null!==(e=yi(e=_e(r))))if(null===(t=Ue(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=He(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Zt=e,null}function Yt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Je()){case Qe:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var $t=null,Jt=null,Qt=null;function en(){if(Qt)return Qt;var e,t,n=Jt,r=n.length,i="value"in $t?$t.value:$t.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return Qt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function an(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return L(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var on,sn,ln,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},un=an(cn),dn=L({},cn,{view:0,detail:0}),fn=an(dn),hn=L({},dn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:En,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(on=e.screenX-ln.screenX,sn=e.screenY-ln.screenY):sn=on=0,ln=e),on)},movementY:function(e){return"movementY"in e?e.movementY:sn}}),pn=an(hn),mn=an(L({},hn,{dataTransfer:0})),vn=an(L({},dn,{relatedTarget:0})),gn=an(L({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),yn=L({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),xn=an(yn),bn=an(L({},cn,{data:0})),_n={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},wn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},kn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Sn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=kn[e])&&!!t[e]}function En(){return Sn}var Cn=L({},dn,{key:function(e){if(e.key){var t=_n[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?wn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:En,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Tn=an(Cn),Mn=an(L({},hn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),In=an(L({},dn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:En})),On=an(L({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Pn=L({},hn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),An=an(Pn),zn=[9,13,27,32],jn=u&&"CompositionEvent"in window,Rn=null;u&&"documentMode"in document&&(Rn=document.documentMode);var Dn=u&&"TextEvent"in window&&!Rn,Ln=u&&(!jn||Rn&&8<Rn&&11>=Rn),Nn=String.fromCharCode(32),Bn=!1;function Fn(e,t){switch(e){case"keyup":return-1!==zn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Vn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Un=!1;var Hn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Gn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Hn[e.type]:"textarea"===t}function Wn(e,t,n,r){Ce(r),0<(t=qr(t,"onChange")).length&&(n=new un("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var qn=null,Xn=null;function Zn(e){Nr(e,0)}function Kn(e){if(X(bi(e)))return e}function Yn(e,t){if("change"===e)return t}var $n=!1;if(u){var Jn;if(u){var Qn="oninput"in document;if(!Qn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Qn="function"===typeof er.oninput}Jn=Qn}else Jn=!1;$n=Jn&&(!document.documentMode||9<document.documentMode)}function tr(){qn&&(qn.detachEvent("onpropertychange",nr),Xn=qn=null)}function nr(e){if("value"===e.propertyName&&Kn(Xn)){var t=[];Wn(t,Xn,e,_e(e)),Pe(Zn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Xn=n,(qn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Kn(Xn)}function ar(e,t){if("click"===e)return Kn(t)}function or(e,t){if("input"===e||"change"===e)return Kn(t)}var sr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function lr(e,t){if(sr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!d.call(t,i)||!sr(e[i],t[i]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ur(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function dr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?dr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function fr(){for(var e=window,t=Z();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Z((e=t.contentWindow).document)}return t}function hr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=fr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&dr(n.ownerDocument.documentElement,n)){if(null!==r&&hr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=void 0===r.end?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=ur(n,a);var o=ur(n,r);i&&o&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var mr=u&&"documentMode"in document&&11>=document.documentMode,vr=null,gr=null,yr=null,xr=!1;function br(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;xr||null==vr||vr!==Z(r)||("selectionStart"in(r=vr)&&hr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},yr&&lr(yr,r)||(yr=r,0<(r=qr(gr,"onSelect")).length&&(t=new un("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=vr)))}function _r(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var wr={animationend:_r("Animation","AnimationEnd"),animationiteration:_r("Animation","AnimationIteration"),animationstart:_r("Animation","AnimationStart"),transitionend:_r("Transition","TransitionEnd")},kr={},Sr={};function Er(e){if(kr[e])return kr[e];if(!wr[e])return e;var t,n=wr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Sr)return kr[e]=n[t];return e}u&&(Sr=document.createElement("div").style,"AnimationEvent"in window||(delete wr.animationend.animation,delete wr.animationiteration.animation,delete wr.animationstart.animation),"TransitionEvent"in window||delete wr.transitionend.transition);var Cr=Er("animationend"),Tr=Er("animationiteration"),Mr=Er("animationstart"),Ir=Er("transitionend"),Or=new Map,Pr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ar(e,t){Or.set(e,t),l(t,[e])}for(var zr=0;zr<Pr.length;zr++){var jr=Pr[zr];Ar(jr.toLowerCase(),"on"+(jr[0].toUpperCase()+jr.slice(1)))}Ar(Cr,"onAnimationEnd"),Ar(Tr,"onAnimationIteration"),Ar(Mr,"onAnimationStart"),Ar("dblclick","onDoubleClick"),Ar("focusin","onFocus"),Ar("focusout","onBlur"),Ar(Ir,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Rr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Dr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Rr));function Lr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,s,l,c){if(Ve.apply(this,arguments),De){if(!De)throw Error(a(198));var u=Le;De=!1,Le=null,Ne||(Ne=!0,Be=u)}}(r,t,void 0,e),e.currentTarget=null}function Nr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var s=r[o],l=s.instance,c=s.currentTarget;if(s=s.listener,l!==a&&i.isPropagationStopped())break e;Lr(i,s,c),a=l}else for(o=0;o<r.length;o++){if(l=(s=r[o]).instance,c=s.currentTarget,s=s.listener,l!==a&&i.isPropagationStopped())break e;Lr(i,s,c),a=l}}}if(Ne)throw e=Be,Ne=!1,Be=null,e}function Br(e,t){var n=t[mi];void 0===n&&(n=t[mi]=new Set);var r=e+"__bubble";n.has(r)||(Hr(t,e,2,!1),n.add(r))}function Fr(e,t,n){var r=0;t&&(r|=4),Hr(n,e,r,t)}var Vr="_reactListening"+Math.random().toString(36).slice(2);function Ur(e){if(!e[Vr]){e[Vr]=!0,o.forEach((function(t){"selectionchange"!==t&&(Dr.has(t)||Fr(t,!1,e),Fr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Vr]||(t[Vr]=!0,Fr("selectionchange",!1,t))}}function Hr(e,t,n,r){switch(Yt(t)){case 1:var i=Wt;break;case 4:i=qt;break;default:i=Xt}n=i.bind(null,t,n,e),i=void 0,!ze||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Gr(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var l=o.tag;if((3===l||4===l)&&((l=o.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;o=o.return}for(;null!==s;){if(null===(o=yi(s)))return;if(5===(l=o.tag)||6===l){r=a=o;continue e}s=s.parentNode}}r=r.return}Pe((function(){var r=a,i=_e(n),o=[];e:{var s=Or.get(e);if(void 0!==s){var l=un,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=Tn;break;case"focusin":c="focus",l=vn;break;case"focusout":c="blur",l=vn;break;case"beforeblur":case"afterblur":l=vn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=mn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=In;break;case Cr:case Tr:case Mr:l=gn;break;case Ir:l=On;break;case"scroll":l=fn;break;case"wheel":l=An;break;case"copy":case"cut":case"paste":l=xn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Mn}var u=0!==(4&t),d=!u&&"scroll"===e,f=u?null!==s?s+"Capture":null:s;u=[];for(var h,p=r;null!==p;){var m=(h=p).stateNode;if(5===h.tag&&null!==m&&(h=m,null!==f&&(null!=(m=Ae(p,f))&&u.push(Wr(p,m,h)))),d)break;p=p.return}0<u.length&&(s=new l(s,c,null,n,i),o.push({event:s,listeners:u}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===be||!(c=n.relatedTarget||n.fromElement)||!yi(c)&&!c[pi])&&(l||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,l?(l=r,null!==(c=(c=n.relatedTarget||n.toElement)?yi(c):null)&&(c!==(d=Ue(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=r),l!==c)){if(u=pn,m="onMouseLeave",f="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(u=Mn,m="onPointerLeave",f="onPointerEnter",p="pointer"),d=null==l?s:bi(l),h=null==c?s:bi(c),(s=new u(m,p+"leave",l,n,i)).target=d,s.relatedTarget=h,m=null,yi(i)===r&&((u=new u(f,p+"enter",c,n,i)).target=h,u.relatedTarget=d,m=u),d=m,l&&c)e:{for(f=c,p=0,h=u=l;h;h=Xr(h))p++;for(h=0,m=f;m;m=Xr(m))h++;for(;0<p-h;)u=Xr(u),p--;for(;0<h-p;)f=Xr(f),h--;for(;p--;){if(u===f||null!==f&&u===f.alternate)break e;u=Xr(u),f=Xr(f)}u=null}else u=null;null!==l&&Zr(o,s,l,u,!1),null!==c&&null!==d&&Zr(o,d,c,u,!0)}if("select"===(l=(s=r?bi(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===l&&"file"===s.type)var v=Yn;else if(Gn(s))if($n)v=or;else{v=ir;var g=rr}else(l=s.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(v=ar);switch(v&&(v=v(e,r))?Wn(o,v,n,i):(g&&g(e,s,r),"focusout"===e&&(g=s._wrapperState)&&g.controlled&&"number"===s.type&&ee(s,"number",s.value)),g=r?bi(r):window,e){case"focusin":(Gn(g)||"true"===g.contentEditable)&&(vr=g,gr=r,yr=null);break;case"focusout":yr=gr=vr=null;break;case"mousedown":xr=!0;break;case"contextmenu":case"mouseup":case"dragend":xr=!1,br(o,n,i);break;case"selectionchange":if(mr)break;case"keydown":case"keyup":br(o,n,i)}var y;if(jn)e:{switch(e){case"compositionstart":var x="onCompositionStart";break e;case"compositionend":x="onCompositionEnd";break e;case"compositionupdate":x="onCompositionUpdate";break e}x=void 0}else Un?Fn(e,n)&&(x="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(x="onCompositionStart");x&&(Ln&&"ko"!==n.locale&&(Un||"onCompositionStart"!==x?"onCompositionEnd"===x&&Un&&(y=en()):(Jt="value"in($t=i)?$t.value:$t.textContent,Un=!0)),0<(g=qr(r,x)).length&&(x=new bn(x,e,null,n,i),o.push({event:x,listeners:g}),y?x.data=y:null!==(y=Vn(n))&&(x.data=y))),(y=Dn?function(e,t){switch(e){case"compositionend":return Vn(t);case"keypress":return 32!==t.which?null:(Bn=!0,Nn);case"textInput":return(e=t.data)===Nn&&Bn?null:e;default:return null}}(e,n):function(e,t){if(Un)return"compositionend"===e||!jn&&Fn(e,t)?(e=en(),Qt=Jt=$t=null,Un=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Ln&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=qr(r,"onBeforeInput")).length&&(i=new bn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=y))}Nr(o,t)}))}function Wr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function qr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=Ae(e,n))&&r.unshift(Wr(e,a,i)),null!=(a=Ae(e,t))&&r.push(Wr(e,a,i))),e=e.return}return r}function Xr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Zr(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var s=n,l=s.alternate,c=s.stateNode;if(null!==l&&l===r)break;5===s.tag&&null!==c&&(s=c,i?null!=(l=Ae(n,a))&&o.unshift(Wr(n,l,s)):i||null!=(l=Ae(n,a))&&o.push(Wr(n,l,s))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var Kr=/\r\n?/g,Yr=/\u0000|\uFFFD/g;function $r(e){return("string"===typeof e?e:""+e).replace(Kr,"\n").replace(Yr,"")}function Jr(e,t,n){if(t=$r(t),$r(e)!==t&&n)throw Error(a(425))}function Qr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,ai="function"===typeof Promise?Promise:void 0,oi="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ai?function(e){return ai.resolve(null).then(e).catch(si)}:ri;function si(e){setTimeout((function(){throw e}))}function li(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Ut(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Ut(t)}function ci(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ui(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var di=Math.random().toString(36).slice(2),fi="__reactFiber$"+di,hi="__reactProps$"+di,pi="__reactContainer$"+di,mi="__reactEvents$"+di,vi="__reactListeners$"+di,gi="__reactHandles$"+di;function yi(e){var t=e[fi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[fi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ui(e);null!==e;){if(n=e[fi])return n;e=ui(e)}return t}n=(e=n).parentNode}return null}function xi(e){return!(e=e[fi]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function bi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function _i(e){return e[hi]||null}var wi=[],ki=-1;function Si(e){return{current:e}}function Ei(e){0>ki||(e.current=wi[ki],wi[ki]=null,ki--)}function Ci(e,t){ki++,wi[ki]=e.current,e.current=t}var Ti={},Mi=Si(Ti),Ii=Si(!1),Oi=Ti;function Pi(e,t){var n=e.type.contextTypes;if(!n)return Ti;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Ai(e){return null!==(e=e.childContextTypes)&&void 0!==e}function zi(){Ei(Ii),Ei(Mi)}function ji(e,t,n){if(Mi.current!==Ti)throw Error(a(168));Ci(Mi,t),Ci(Ii,n)}function Ri(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(a(108,H(e)||"Unknown",i));return L({},n,r)}function Di(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ti,Oi=Mi.current,Ci(Mi,e),Ci(Ii,Ii.current),!0}function Li(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=Ri(e,t,Oi),r.__reactInternalMemoizedMergedChildContext=e,Ei(Ii),Ei(Mi),Ci(Mi,e)):Ei(Ii),Ci(Ii,n)}var Ni=null,Bi=!1,Fi=!1;function Vi(e){null===Ni?Ni=[e]:Ni.push(e)}function Ui(){if(!Fi&&null!==Ni){Fi=!0;var e=0,t=xt;try{var n=Ni;for(xt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Ni=null,Bi=!1}catch(i){throw null!==Ni&&(Ni=Ni.slice(e+1)),Xe(Qe,Ui),i}finally{xt=t,Fi=!1}}return null}var Hi=[],Gi=0,Wi=null,qi=0,Xi=[],Zi=0,Ki=null,Yi=1,$i="";function Ji(e,t){Hi[Gi++]=qi,Hi[Gi++]=Wi,Wi=e,qi=t}function Qi(e,t,n){Xi[Zi++]=Yi,Xi[Zi++]=$i,Xi[Zi++]=Ki,Ki=e;var r=Yi;e=$i;var i=32-ot(r)-1;r&=~(1<<i),n+=1;var a=32-ot(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Yi=1<<32-ot(t)+i|n<<i|r,$i=a+e}else Yi=1<<a|n<<i|r,$i=e}function ea(e){null!==e.return&&(Ji(e,1),Qi(e,1,0))}function ta(e){for(;e===Wi;)Wi=Hi[--Gi],Hi[Gi]=null,qi=Hi[--Gi],Hi[Gi]=null;for(;e===Ki;)Ki=Xi[--Zi],Xi[Zi]=null,$i=Xi[--Zi],Xi[Zi]=null,Yi=Xi[--Zi],Xi[Zi]=null}var na=null,ra=null,ia=!1,aa=null;function oa(e,t){var n=Pc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function sa(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,na=e,ra=ci(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,na=e,ra=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Ki?{id:Yi,overflow:$i}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Pc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,na=e,ra=null,!0);default:return!1}}function la(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ca(e){if(ia){var t=ra;if(t){var n=t;if(!sa(e,t)){if(la(e))throw Error(a(418));t=ci(n.nextSibling);var r=na;t&&sa(e,t)?oa(r,n):(e.flags=-4097&e.flags|2,ia=!1,na=e)}}else{if(la(e))throw Error(a(418));e.flags=-4097&e.flags|2,ia=!1,na=e}}}function ua(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;na=e}function da(e){if(e!==na)return!1;if(!ia)return ua(e),ia=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ra)){if(la(e))throw fa(),Error(a(418));for(;t;)oa(e,t),t=ci(t.nextSibling)}if(ua(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ra=ci(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ra=null}}else ra=na?ci(e.stateNode.nextSibling):null;return!0}function fa(){for(var e=ra;e;)e=ci(e.nextSibling)}function ha(){ra=na=null,ia=!1}function pa(e){null===aa?aa=[e]:aa.push(e)}var ma=b.ReactCurrentBatchConfig;function va(e,t){if(e&&e.defaultProps){for(var n in t=L({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var ga=Si(null),ya=null,xa=null,ba=null;function _a(){ba=xa=ya=null}function wa(e){var t=ga.current;Ei(ga),e._currentValue=t}function ka(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Sa(e,t){ya=e,ba=xa=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(bs=!0),e.firstContext=null)}function Ea(e){var t=e._currentValue;if(ba!==e)if(e={context:e,memoizedValue:t,next:null},null===xa){if(null===ya)throw Error(a(308));xa=e,ya.dependencies={lanes:0,firstContext:e}}else xa=xa.next=e;return t}var Ca=null;function Ta(e){null===Ca?Ca=[e]:Ca.push(e)}function Ma(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Ta(t)):(n.next=i.next,i.next=n),t.interleaved=n,Ia(e,r)}function Ia(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Oa=!1;function Pa(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Aa(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function za(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function ja(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Ml)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Ia(e,n)}return null===(i=r.interleaved)?(t.next=t,Ta(r)):(t.next=i.next,i.next=t),r.interleaved=t,Ia(e,n)}function Ra(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}function Da(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function La(e,t,n,r){var i=e.updateQueue;Oa=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,s=i.shared.pending;if(null!==s){i.shared.pending=null;var l=s,c=l.next;l.next=null,null===o?a=c:o.next=c,o=l;var u=e.alternate;null!==u&&((s=(u=u.updateQueue).lastBaseUpdate)!==o&&(null===s?u.firstBaseUpdate=c:s.next=c,u.lastBaseUpdate=l))}if(null!==a){var d=i.baseState;for(o=0,u=c=l=null,s=a;;){var f=s.lane,h=s.eventTime;if((r&f)===f){null!==u&&(u=u.next={eventTime:h,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var p=e,m=s;switch(f=t,h=n,m.tag){case 1:if("function"===typeof(p=m.payload)){d=p.call(h,d,f);break e}d=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(f="function"===typeof(p=m.payload)?p.call(h,d,f):p)||void 0===f)break e;d=L({},d,f);break e;case 2:Oa=!0}}null!==s.callback&&0!==s.lane&&(e.flags|=64,null===(f=i.effects)?i.effects=[s]:f.push(s))}else h={eventTime:h,lane:f,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===u?(c=u=h,l=d):u=u.next=h,o|=f;if(null===(s=s.next)){if(null===(s=i.shared.pending))break;s=(f=s).next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}if(null===u&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,null!==(t=i.shared.interleaved)){i=t;do{o|=i.lane,i=i.next}while(i!==t)}else null===a&&(i.shared.lanes=0);Dl|=o,e.lanes=o,e.memoizedState=d}}function Na(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(a(191,i));i.call(r)}}}var Ba=(new r.Component).refs;function Fa(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:L({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var Va={isMounted:function(e){return!!(e=e._reactInternals)&&Ue(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ec(),i=tc(e),a=za(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=ja(e,a,i))&&(nc(t,e,i,r),Ra(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ec(),i=tc(e),a=za(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=ja(e,a,i))&&(nc(t,e,i,r),Ra(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ec(),r=tc(e),i=za(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=ja(e,i,r))&&(nc(t,e,r,n),Ra(t,e,r))}};function Ua(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!lr(n,r)||!lr(i,a))}function Ha(e,t,n){var r=!1,i=Ti,a=t.contextType;return"object"===typeof a&&null!==a?a=Ea(a):(i=Ai(t)?Oi:Mi.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?Pi(e,i):Ti),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Va,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function Ga(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Va.enqueueReplaceState(t,t.state,null)}function Wa(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=Ba,Pa(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=Ea(a):(a=Ai(t)?Oi:Mi.current,i.context=Pi(e,a)),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(Fa(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&Va.enqueueReplaceState(i,i.state,null),La(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function qa(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=i.refs;t===Ba&&(t=i.refs={}),null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function Xa(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Za(e){return(0,e._init)(e._payload)}function Ka(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=zc(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Lc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var a=n.type;return a===k?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===A&&Za(a)===t.type)?((r=i(t,n.props)).ref=qa(e,t,n),r.return=e,r):((r=jc(n.type,n.key,n.props,null,e.mode,r)).ref=qa(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Nc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function d(e,t,n,r,a){return null===t||7!==t.tag?((t=Rc(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function f(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Lc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case _:return(n=jc(t.type,t.key,t.props,null,e.mode,n)).ref=qa(e,null,t),n.return=e,n;case w:return(t=Nc(t,e.mode,n)).return=e,t;case A:return f(e,(0,t._init)(t._payload),n)}if(te(t)||R(t))return(t=Rc(t,e.mode,n,null)).return=e,t;Xa(e,t)}return null}function h(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case _:return n.key===i?c(e,t,n,r):null;case w:return n.key===i?u(e,t,n,r):null;case A:return h(e,t,(i=n._init)(n._payload),r)}if(te(n)||R(n))return null!==i?null:d(e,t,n,r,null);Xa(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case _:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case w:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case A:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||R(r))return d(t,e=e.get(n)||null,r,i,null);Xa(t,r)}return null}function m(i,a,s,l){for(var c=null,u=null,d=a,m=a=0,v=null;null!==d&&m<s.length;m++){d.index>m?(v=d,d=null):v=d.sibling;var g=h(i,d,s[m],l);if(null===g){null===d&&(d=v);break}e&&d&&null===g.alternate&&t(i,d),a=o(g,a,m),null===u?c=g:u.sibling=g,u=g,d=v}if(m===s.length)return n(i,d),ia&&Ji(i,m),c;if(null===d){for(;m<s.length;m++)null!==(d=f(i,s[m],l))&&(a=o(d,a,m),null===u?c=d:u.sibling=d,u=d);return ia&&Ji(i,m),c}for(d=r(i,d);m<s.length;m++)null!==(v=p(d,i,m,s[m],l))&&(e&&null!==v.alternate&&d.delete(null===v.key?m:v.key),a=o(v,a,m),null===u?c=v:u.sibling=v,u=v);return e&&d.forEach((function(e){return t(i,e)})),ia&&Ji(i,m),c}function v(i,s,l,c){var u=R(l);if("function"!==typeof u)throw Error(a(150));if(null==(l=u.call(l)))throw Error(a(151));for(var d=u=null,m=s,v=s=0,g=null,y=l.next();null!==m&&!y.done;v++,y=l.next()){m.index>v?(g=m,m=null):g=m.sibling;var x=h(i,m,y.value,c);if(null===x){null===m&&(m=g);break}e&&m&&null===x.alternate&&t(i,m),s=o(x,s,v),null===d?u=x:d.sibling=x,d=x,m=g}if(y.done)return n(i,m),ia&&Ji(i,v),u;if(null===m){for(;!y.done;v++,y=l.next())null!==(y=f(i,y.value,c))&&(s=o(y,s,v),null===d?u=y:d.sibling=y,d=y);return ia&&Ji(i,v),u}for(m=r(i,m);!y.done;v++,y=l.next())null!==(y=p(m,i,v,y.value,c))&&(e&&null!==y.alternate&&m.delete(null===y.key?v:y.key),s=o(y,s,v),null===d?u=y:d.sibling=y,d=y);return e&&m.forEach((function(e){return t(i,e)})),ia&&Ji(i,v),u}return function e(r,a,o,l){if("object"===typeof o&&null!==o&&o.type===k&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case _:e:{for(var c=o.key,u=a;null!==u;){if(u.key===c){if((c=o.type)===k){if(7===u.tag){n(r,u.sibling),(a=i(u,o.props.children)).return=r,r=a;break e}}else if(u.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===A&&Za(c)===u.type){n(r,u.sibling),(a=i(u,o.props)).ref=qa(r,u,o),a.return=r,r=a;break e}n(r,u);break}t(r,u),u=u.sibling}o.type===k?((a=Rc(o.props.children,r.mode,l,o.key)).return=r,r=a):((l=jc(o.type,o.key,o.props,null,r.mode,l)).ref=qa(r,a,o),l.return=r,r=l)}return s(r);case w:e:{for(u=o.key;null!==a;){if(a.key===u){if(4===a.tag&&a.stateNode.containerInfo===o.containerInfo&&a.stateNode.implementation===o.implementation){n(r,a.sibling),(a=i(a,o.children||[])).return=r,r=a;break e}n(r,a);break}t(r,a),a=a.sibling}(a=Nc(o,r.mode,l)).return=r,r=a}return s(r);case A:return e(r,a,(u=o._init)(o._payload),l)}if(te(o))return m(r,a,o,l);if(R(o))return v(r,a,o,l);Xa(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==a&&6===a.tag?(n(r,a.sibling),(a=i(a,o)).return=r,r=a):(n(r,a),(a=Lc(o,r.mode,l)).return=r,r=a),s(r)):n(r,a)}}var Ya=Ka(!0),$a=Ka(!1),Ja={},Qa=Si(Ja),eo=Si(Ja),to=Si(Ja);function no(e){if(e===Ja)throw Error(a(174));return e}function ro(e,t){switch(Ci(to,t),Ci(eo,e),Ci(Qa,Ja),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ei(Qa),Ci(Qa,t)}function io(){Ei(Qa),Ei(eo),Ei(to)}function ao(e){no(to.current);var t=no(Qa.current),n=le(t,e.type);t!==n&&(Ci(eo,e),Ci(Qa,n))}function oo(e){eo.current===e&&(Ei(Qa),Ei(eo))}var so=Si(0);function lo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var co=[];function uo(){for(var e=0;e<co.length;e++)co[e]._workInProgressVersionPrimary=null;co.length=0}var fo=b.ReactCurrentDispatcher,ho=b.ReactCurrentBatchConfig,po=0,mo=null,vo=null,go=null,yo=!1,xo=!1,bo=0,_o=0;function wo(){throw Error(a(321))}function ko(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!sr(e[n],t[n]))return!1;return!0}function So(e,t,n,r,i,o){if(po=o,mo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,fo.current=null===e||null===e.memoizedState?ss:ls,e=n(r,i),xo){o=0;do{if(xo=!1,bo=0,25<=o)throw Error(a(301));o+=1,go=vo=null,t.updateQueue=null,fo.current=cs,e=n(r,i)}while(xo)}if(fo.current=os,t=null!==vo&&null!==vo.next,po=0,go=vo=mo=null,yo=!1,t)throw Error(a(300));return e}function Eo(){var e=0!==bo;return bo=0,e}function Co(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===go?mo.memoizedState=go=e:go=go.next=e,go}function To(){if(null===vo){var e=mo.alternate;e=null!==e?e.memoizedState:null}else e=vo.next;var t=null===go?mo.memoizedState:go.next;if(null!==t)go=t,vo=e;else{if(null===e)throw Error(a(310));e={memoizedState:(vo=e).memoizedState,baseState:vo.baseState,baseQueue:vo.baseQueue,queue:vo.queue,next:null},null===go?mo.memoizedState=go=e:go=go.next=e}return go}function Mo(e,t){return"function"===typeof t?t(e):t}function Io(e){var t=To(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=vo,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(null!==i){o=i.next,r=r.baseState;var l=s=null,c=null,u=o;do{var d=u.lane;if((po&d)===d)null!==c&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===c?(l=c=f,s=r):c=c.next=f,mo.lanes|=d,Dl|=d}u=u.next}while(null!==u&&u!==o);null===c?s=r:c.next=l,sr(r,t.memoizedState)||(bs=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{o=i.lane,mo.lanes|=o,Dl|=o,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Oo(e){var t=To(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{o=e(o,s.action),s=s.next}while(s!==i);sr(o,t.memoizedState)||(bs=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Po(){}function Ao(e,t){var n=mo,r=To(),i=t(),o=!sr(r.memoizedState,i);if(o&&(r.memoizedState=i,bs=!0),r=r.queue,Go(Ro.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==go&&1&go.memoizedState.tag){if(n.flags|=2048,Bo(9,jo.bind(null,n,r,i,t),void 0,null),null===Il)throw Error(a(349));0!==(30&po)||zo(n,t,i)}return i}function zo(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=mo.updateQueue)?(t={lastEffect:null,stores:null},mo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function jo(e,t,n,r){t.value=n,t.getSnapshot=r,Do(t)&&Lo(e)}function Ro(e,t,n){return n((function(){Do(t)&&Lo(e)}))}function Do(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!sr(e,n)}catch(r){return!0}}function Lo(e){var t=Ia(e,1);null!==t&&nc(t,e,1,-1)}function No(e){var t=Co();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Mo,lastRenderedState:e},t.queue=e,e=e.dispatch=ns.bind(null,mo,e),[t.memoizedState,e]}function Bo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=mo.updateQueue)?(t={lastEffect:null,stores:null},mo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Fo(){return To().memoizedState}function Vo(e,t,n,r){var i=Co();mo.flags|=e,i.memoizedState=Bo(1|t,n,void 0,void 0===r?null:r)}function Uo(e,t,n,r){var i=To();r=void 0===r?null:r;var a=void 0;if(null!==vo){var o=vo.memoizedState;if(a=o.destroy,null!==r&&ko(r,o.deps))return void(i.memoizedState=Bo(t,n,a,r))}mo.flags|=e,i.memoizedState=Bo(1|t,n,a,r)}function Ho(e,t){return Vo(8390656,8,e,t)}function Go(e,t){return Uo(2048,8,e,t)}function Wo(e,t){return Uo(4,2,e,t)}function qo(e,t){return Uo(4,4,e,t)}function Xo(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Zo(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Uo(4,4,Xo.bind(null,t,e),n)}function Ko(){}function Yo(e,t){var n=To();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ko(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function $o(e,t){var n=To();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ko(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Jo(e,t,n){return 0===(21&po)?(e.baseState&&(e.baseState=!1,bs=!0),e.memoizedState=n):(sr(n,t)||(n=mt(),mo.lanes|=n,Dl|=n,e.baseState=!0),t)}function Qo(e,t){var n=xt;xt=0!==n&&4>n?n:4,e(!0);var r=ho.transition;ho.transition={};try{e(!1),t()}finally{xt=n,ho.transition=r}}function es(){return To().memoizedState}function ts(e,t,n){var r=tc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},rs(e))is(t,n);else if(null!==(n=Ma(e,t,n,r))){nc(n,e,r,ec()),as(n,t,r)}}function ns(e,t,n){var r=tc(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(rs(e))is(t,i);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,s=a(o,n);if(i.hasEagerState=!0,i.eagerState=s,sr(s,o)){var l=t.interleaved;return null===l?(i.next=i,Ta(t)):(i.next=l.next,l.next=i),void(t.interleaved=i)}}catch(c){}null!==(n=Ma(e,t,i,r))&&(nc(n,e,r,i=ec()),as(n,t,r))}}function rs(e){var t=e.alternate;return e===mo||null!==t&&t===mo}function is(e,t){xo=yo=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function as(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}var os={readContext:Ea,useCallback:wo,useContext:wo,useEffect:wo,useImperativeHandle:wo,useInsertionEffect:wo,useLayoutEffect:wo,useMemo:wo,useReducer:wo,useRef:wo,useState:wo,useDebugValue:wo,useDeferredValue:wo,useTransition:wo,useMutableSource:wo,useSyncExternalStore:wo,useId:wo,unstable_isNewReconciler:!1},ss={readContext:Ea,useCallback:function(e,t){return Co().memoizedState=[e,void 0===t?null:t],e},useContext:Ea,useEffect:Ho,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Vo(4194308,4,Xo.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Vo(4194308,4,e,t)},useInsertionEffect:function(e,t){return Vo(4,2,e,t)},useMemo:function(e,t){var n=Co();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Co();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=ts.bind(null,mo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Co().memoizedState=e},useState:No,useDebugValue:Ko,useDeferredValue:function(e){return Co().memoizedState=e},useTransition:function(){var e=No(!1),t=e[0];return e=Qo.bind(null,e[1]),Co().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=mo,i=Co();if(ia){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===Il)throw Error(a(349));0!==(30&po)||zo(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,Ho(Ro.bind(null,r,o,e),[e]),r.flags|=2048,Bo(9,jo.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=Co(),t=Il.identifierPrefix;if(ia){var n=$i;t=":"+t+"R"+(n=(Yi&~(1<<32-ot(Yi)-1)).toString(32)+n),0<(n=bo++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=_o++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},ls={readContext:Ea,useCallback:Yo,useContext:Ea,useEffect:Go,useImperativeHandle:Zo,useInsertionEffect:Wo,useLayoutEffect:qo,useMemo:$o,useReducer:Io,useRef:Fo,useState:function(){return Io(Mo)},useDebugValue:Ko,useDeferredValue:function(e){return Jo(To(),vo.memoizedState,e)},useTransition:function(){return[Io(Mo)[0],To().memoizedState]},useMutableSource:Po,useSyncExternalStore:Ao,useId:es,unstable_isNewReconciler:!1},cs={readContext:Ea,useCallback:Yo,useContext:Ea,useEffect:Go,useImperativeHandle:Zo,useInsertionEffect:Wo,useLayoutEffect:qo,useMemo:$o,useReducer:Oo,useRef:Fo,useState:function(){return Oo(Mo)},useDebugValue:Ko,useDeferredValue:function(e){var t=To();return null===vo?t.memoizedState=e:Jo(t,vo.memoizedState,e)},useTransition:function(){return[Oo(Mo)[0],To().memoizedState]},useMutableSource:Po,useSyncExternalStore:Ao,useId:es,unstable_isNewReconciler:!1};function us(e,t){try{var n="",r=t;do{n+=V(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i,digest:null}}function ds(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function fs(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var hs="function"===typeof WeakMap?WeakMap:Map;function ps(e,t,n){(n=za(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Gl||(Gl=!0,Wl=r),fs(0,t)},n}function ms(e,t,n){(n=za(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){fs(0,t)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){fs(0,t),"function"!==typeof r&&(null===ql?ql=new Set([this]):ql.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function vs(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new hs;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Ec.bind(null,e,t,n),t.then(e,e))}function gs(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function ys(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=za(-1,1)).tag=2,ja(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var xs=b.ReactCurrentOwner,bs=!1;function _s(e,t,n,r){t.child=null===e?$a(t,null,n,r):Ya(t,e.child,n,r)}function ws(e,t,n,r,i){n=n.render;var a=t.ref;return Sa(t,i),r=So(e,t,n,r,a,i),n=Eo(),null===e||bs?(ia&&n&&ea(t),t.flags|=1,_s(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Gs(e,t,i))}function ks(e,t,n,r,i){if(null===e){var a=n.type;return"function"!==typeof a||Ac(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=jc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Ss(e,t,a,r,i))}if(a=e.child,0===(e.lanes&i)){var o=a.memoizedProps;if((n=null!==(n=n.compare)?n:lr)(o,r)&&e.ref===t.ref)return Gs(e,t,i)}return t.flags|=1,(e=zc(a,r)).ref=t.ref,e.return=t,t.child=e}function Ss(e,t,n,r,i){if(null!==e){var a=e.memoizedProps;if(lr(a,r)&&e.ref===t.ref){if(bs=!1,t.pendingProps=r=a,0===(e.lanes&i))return t.lanes=e.lanes,Gs(e,t,i);0!==(131072&e.flags)&&(bs=!0)}}return Ts(e,t,n,r,i)}function Es(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ci(zl,Al),Al|=n;else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ci(zl,Al),Al|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==a?a.baseLanes:n,Ci(zl,Al),Al|=r}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,Ci(zl,Al),Al|=r;return _s(e,t,i,n),t.child}function Cs(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Ts(e,t,n,r,i){var a=Ai(n)?Oi:Mi.current;return a=Pi(t,a),Sa(t,i),n=So(e,t,n,r,a,i),r=Eo(),null===e||bs?(ia&&r&&ea(t),t.flags|=1,_s(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Gs(e,t,i))}function Ms(e,t,n,r,i){if(Ai(n)){var a=!0;Di(t)}else a=!1;if(Sa(t,i),null===t.stateNode)Hs(e,t),Ha(t,n,r),Wa(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,s=t.memoizedProps;o.props=s;var l=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=Ea(c):c=Pi(t,c=Ai(n)?Oi:Mi.current);var u=n.getDerivedStateFromProps,d="function"===typeof u||"function"===typeof o.getSnapshotBeforeUpdate;d||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==r||l!==c)&&Ga(t,o,r,c),Oa=!1;var f=t.memoizedState;o.state=f,La(t,r,o,i),l=t.memoizedState,s!==r||f!==l||Ii.current||Oa?("function"===typeof u&&(Fa(t,n,u,r),l=t.memoizedState),(s=Oa||Ua(t,n,s,r,f,l,c))?(d||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),o.props=r,o.state=l,o.context=c,r=s):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Aa(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:va(t.type,s),o.props=c,d=t.pendingProps,f=o.context,"object"===typeof(l=n.contextType)&&null!==l?l=Ea(l):l=Pi(t,l=Ai(n)?Oi:Mi.current);var h=n.getDerivedStateFromProps;(u="function"===typeof h||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==d||f!==l)&&Ga(t,o,r,l),Oa=!1,f=t.memoizedState,o.state=f,La(t,r,o,i);var p=t.memoizedState;s!==d||f!==p||Ii.current||Oa?("function"===typeof h&&(Fa(t,n,h,r),p=t.memoizedState),(c=Oa||Ua(t,n,c,r,f,p,l)||!1)?(u||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,l),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,l)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=l,r=c):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return Is(e,t,n,r,a,i)}function Is(e,t,n,r,i,a){Cs(e,t);var o=0!==(128&t.flags);if(!r&&!o)return i&&Li(t,n,!1),Gs(e,t,a);r=t.stateNode,xs.current=t;var s=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=Ya(t,e.child,null,a),t.child=Ya(t,null,s,a)):_s(e,t,s,a),t.memoizedState=r.state,i&&Li(t,n,!0),t.child}function Os(e){var t=e.stateNode;t.pendingContext?ji(0,t.pendingContext,t.pendingContext!==t.context):t.context&&ji(0,t.context,!1),ro(e,t.containerInfo)}function Ps(e,t,n,r,i){return ha(),pa(i),t.flags|=256,_s(e,t,n,r),t.child}var As,zs,js,Rs={dehydrated:null,treeContext:null,retryLane:0};function Ds(e){return{baseLanes:e,cachePool:null,transitions:null}}function Ls(e,t,n){var r,i=t.pendingProps,o=so.current,s=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(s=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),Ci(so,1&o),null===e)return ca(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=i.children,e=i.fallback,s?(i=t.mode,s=t.child,l={mode:"hidden",children:l},0===(1&i)&&null!==s?(s.childLanes=0,s.pendingProps=l):s=Dc(l,i,0,null),e=Rc(e,i,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Ds(n),t.memoizedState=Rs,e):Ns(t,l));if(null!==(o=e.memoizedState)&&null!==(r=o.dehydrated))return function(e,t,n,r,i,o,s){if(n)return 256&t.flags?(t.flags&=-257,Bs(e,t,s,r=ds(Error(a(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=Dc({mode:"visible",children:r.children},i,0,null),(o=Rc(o,i,s,null)).flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,0!==(1&t.mode)&&Ya(t,e.child,null,s),t.child.memoizedState=Ds(s),t.memoizedState=Rs,o);if(0===(1&t.mode))return Bs(e,t,s,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var l=r.dgst;return r=l,Bs(e,t,s,r=ds(o=Error(a(419)),r,void 0))}if(l=0!==(s&e.childLanes),bs||l){if(null!==(r=Il)){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|s))?0:i)&&i!==o.retryLane&&(o.retryLane=i,Ia(e,i),nc(r,e,i,-1))}return mc(),Bs(e,t,s,r=ds(Error(a(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Tc.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,ra=ci(i.nextSibling),na=t,ia=!0,aa=null,null!==e&&(Xi[Zi++]=Yi,Xi[Zi++]=$i,Xi[Zi++]=Ki,Yi=e.id,$i=e.overflow,Ki=t),t=Ns(t,r.children),t.flags|=4096,t)}(e,t,l,i,r,o,n);if(s){s=i.fallback,l=t.mode,r=(o=e.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&l)&&t.child!==o?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=zc(o,c)).subtreeFlags=14680064&o.subtreeFlags,null!==r?s=zc(r,s):(s=Rc(s,l,n,null)).flags|=2,s.return=t,i.return=t,i.sibling=s,t.child=i,i=s,s=t.child,l=null===(l=e.child.memoizedState)?Ds(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},s.memoizedState=l,s.childLanes=e.childLanes&~n,t.memoizedState=Rs,i}return e=(s=e.child).sibling,i=zc(s,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Ns(e,t){return(t=Dc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Bs(e,t,n,r){return null!==r&&pa(r),Ya(t,e.child,null,n),(e=Ns(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Fs(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),ka(e.return,t,n)}function Vs(e,t,n,r,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function Us(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(_s(e,t,r.children,n),0!==(2&(r=so.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Fs(e,n,t);else if(19===e.tag)Fs(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ci(so,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===lo(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Vs(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===lo(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Vs(t,!0,n,null,a);break;case"together":Vs(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Hs(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Gs(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Dl|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=zc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=zc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Ws(e,t){if(!ia)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function qs(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Xs(e,t,n){var r=t.pendingProps;switch(ta(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return qs(t),null;case 1:case 17:return Ai(t.type)&&zi(),qs(t),null;case 3:return r=t.stateNode,io(),Ei(Ii),Ei(Mi),uo(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(da(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==aa&&(oc(aa),aa=null))),qs(t),null;case 5:oo(t);var i=no(to.current);if(n=t.type,null!==e&&null!=t.stateNode)zs(e,t,n,r),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(a(166));return qs(t),null}if(e=no(Qa.current),da(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[fi]=t,r[hi]=o,e=0!==(1&t.mode),n){case"dialog":Br("cancel",r),Br("close",r);break;case"iframe":case"object":case"embed":Br("load",r);break;case"video":case"audio":for(i=0;i<Rr.length;i++)Br(Rr[i],r);break;case"source":Br("error",r);break;case"img":case"image":case"link":Br("error",r),Br("load",r);break;case"details":Br("toggle",r);break;case"input":Y(r,o),Br("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Br("invalid",r);break;case"textarea":ie(r,o),Br("invalid",r)}for(var l in ye(n,o),i=null,o)if(o.hasOwnProperty(l)){var c=o[l];"children"===l?"string"===typeof c?r.textContent!==c&&(!0!==o.suppressHydrationWarning&&Jr(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==o.suppressHydrationWarning&&Jr(r.textContent,c,e),i=["children",""+c]):s.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&Br("scroll",r)}switch(n){case"input":q(r),Q(r,o,!0);break;case"textarea":q(r),oe(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=Qr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=se(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[fi]=t,e[hi]=r,As(e,t),t.stateNode=e;e:{switch(l=xe(n,r),n){case"dialog":Br("cancel",e),Br("close",e),i=r;break;case"iframe":case"object":case"embed":Br("load",e),i=r;break;case"video":case"audio":for(i=0;i<Rr.length;i++)Br(Rr[i],e);i=r;break;case"source":Br("error",e),i=r;break;case"img":case"image":case"link":Br("error",e),Br("load",e),i=r;break;case"details":Br("toggle",e),i=r;break;case"input":Y(e,r),i=K(e,r),Br("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=L({},r,{value:void 0}),Br("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Br("invalid",e)}for(o in ye(n,i),c=i)if(c.hasOwnProperty(o)){var u=c[o];"style"===o?ve(e,u):"dangerouslySetInnerHTML"===o?null!=(u=u?u.__html:void 0)&&de(e,u):"children"===o?"string"===typeof u?("textarea"!==n||""!==u)&&fe(e,u):"number"===typeof u&&fe(e,""+u):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(s.hasOwnProperty(o)?null!=u&&"onScroll"===o&&Br("scroll",e):null!=u&&x(e,o,u,l))}switch(n){case"input":q(e),Q(e,r,!1);break;case"textarea":q(e),oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+G(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?ne(e,!!r.multiple,o,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Qr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return qs(t),null;case 6:if(e&&null!=t.stateNode)js(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));if(n=no(to.current),no(Qa.current),da(t)){if(r=t.stateNode,n=t.memoizedProps,r[fi]=t,(o=r.nodeValue!==n)&&null!==(e=na))switch(e.tag){case 3:Jr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Jr(r.nodeValue,n,0!==(1&e.mode))}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[fi]=t,t.stateNode=r}return qs(t),null;case 13:if(Ei(so),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ia&&null!==ra&&0!==(1&t.mode)&&0===(128&t.flags))fa(),ha(),t.flags|=98560,o=!1;else if(o=da(t),null!==r&&null!==r.dehydrated){if(null===e){if(!o)throw Error(a(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(a(317));o[fi]=t}else ha(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;qs(t),o=!1}else null!==aa&&(oc(aa),aa=null),o=!0;if(!o)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&so.current)?0===jl&&(jl=3):mc())),null!==t.updateQueue&&(t.flags|=4),qs(t),null);case 4:return io(),null===e&&Ur(t.stateNode.containerInfo),qs(t),null;case 10:return wa(t.type._context),qs(t),null;case 19:if(Ei(so),null===(o=t.memoizedState))return qs(t),null;if(r=0!==(128&t.flags),null===(l=o.rendering))if(r)Ws(o,!1);else{if(0!==jl||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=lo(e))){for(t.flags|=128,Ws(o,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(l=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=l.childLanes,o.lanes=l.lanes,o.child=l.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=l.memoizedProps,o.memoizedState=l.memoizedState,o.updateQueue=l.updateQueue,o.type=l.type,e=l.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ci(so,1&so.current|2),t.child}e=e.sibling}null!==o.tail&&$e()>Ul&&(t.flags|=128,r=!0,Ws(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=lo(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Ws(o,!0),null===o.tail&&"hidden"===o.tailMode&&!l.alternate&&!ia)return qs(t),null}else 2*$e()-o.renderingStartTime>Ul&&1073741824!==n&&(t.flags|=128,r=!0,Ws(o,!1),t.lanes=4194304);o.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=o.last)?n.sibling=l:t.child=l,o.last=l)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=$e(),t.sibling=null,n=so.current,Ci(so,r?1&n|2:1&n),t):(qs(t),null);case 22:case 23:return dc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Al)&&(qs(t),6&t.subtreeFlags&&(t.flags|=8192)):qs(t),null;case 24:case 25:return null}throw Error(a(156,t.tag))}function Zs(e,t){switch(ta(t),t.tag){case 1:return Ai(t.type)&&zi(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return io(),Ei(Ii),Ei(Mi),uo(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return oo(t),null;case 13:if(Ei(so),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));ha()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ei(so),null;case 4:return io(),null;case 10:return wa(t.type._context),null;case 22:case 23:return dc(),null;default:return null}}As=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},zs=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,no(Qa.current);var a,o=null;switch(n){case"input":i=K(e,i),r=K(e,r),o=[];break;case"select":i=L({},i,{value:void 0}),r=L({},r,{value:void 0}),o=[];break;case"textarea":i=re(e,i),r=re(e,r),o=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Qr)}for(u in ye(n,r),n=null,i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&null!=i[u])if("style"===u){var l=i[u];for(a in l)l.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(s.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var c=r[u];if(l=null!=i?i[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(null!=c||null!=l))if("style"===u)if(l){for(a in l)!l.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&l[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(o||(o=[]),o.push(u,n)),n=c;else"dangerouslySetInnerHTML"===u?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(o=o||[]).push(u,c)):"children"===u?"string"!==typeof c&&"number"!==typeof c||(o=o||[]).push(u,""+c):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(s.hasOwnProperty(u)?(null!=c&&"onScroll"===u&&Br("scroll",e),o||l===c||(o=[])):(o=o||[]).push(u,c))}n&&(o=o||[]).push("style",n);var u=o;(t.updateQueue=u)&&(t.flags|=4)}},js=function(e,t,n,r){n!==r&&(t.flags|=4)};var Ks=!1,Ys=!1,$s="function"===typeof WeakSet?WeakSet:Set,Js=null;function Qs(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Sc(e,t,r)}else n.current=null}function el(e,t,n){try{n()}catch(r){Sc(e,t,r)}}var tl=!1;function nl(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,void 0!==a&&el(t,n,a)}i=i.next}while(i!==r)}}function rl(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function il(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function al(e){var t=e.alternate;null!==t&&(e.alternate=null,al(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[fi],delete t[hi],delete t[mi],delete t[vi],delete t[gi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ol(e){return 5===e.tag||3===e.tag||4===e.tag}function sl(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||ol(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ll(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Qr));else if(4!==r&&null!==(e=e.child))for(ll(e,t,n),e=e.sibling;null!==e;)ll(e,t,n),e=e.sibling}function cl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(cl(e,t,n),e=e.sibling;null!==e;)cl(e,t,n),e=e.sibling}var ul=null,dl=!1;function fl(e,t,n){for(n=n.child;null!==n;)hl(e,t,n),n=n.sibling}function hl(e,t,n){if(at&&"function"===typeof at.onCommitFiberUnmount)try{at.onCommitFiberUnmount(it,n)}catch(s){}switch(n.tag){case 5:Ys||Qs(n,t);case 6:var r=ul,i=dl;ul=null,fl(e,t,n),dl=i,null!==(ul=r)&&(dl?(e=ul,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):ul.removeChild(n.stateNode));break;case 18:null!==ul&&(dl?(e=ul,n=n.stateNode,8===e.nodeType?li(e.parentNode,n):1===e.nodeType&&li(e,n),Ut(e)):li(ul,n.stateNode));break;case 4:r=ul,i=dl,ul=n.stateNode.containerInfo,dl=!0,fl(e,t,n),ul=r,dl=i;break;case 0:case 11:case 14:case 15:if(!Ys&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var a=i,o=a.destroy;a=a.tag,void 0!==o&&(0!==(2&a)||0!==(4&a))&&el(n,t,o),i=i.next}while(i!==r)}fl(e,t,n);break;case 1:if(!Ys&&(Qs(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){Sc(n,t,s)}fl(e,t,n);break;case 21:fl(e,t,n);break;case 22:1&n.mode?(Ys=(r=Ys)||null!==n.memoizedState,fl(e,t,n),Ys=r):fl(e,t,n);break;default:fl(e,t,n)}}function pl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new $s),t.forEach((function(t){var r=Mc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function ml(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,s=t,l=s;e:for(;null!==l;){switch(l.tag){case 5:ul=l.stateNode,dl=!1;break e;case 3:case 4:ul=l.stateNode.containerInfo,dl=!0;break e}l=l.return}if(null===ul)throw Error(a(160));hl(o,s,i),ul=null,dl=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(u){Sc(i,t,u)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)vl(t,e),t=t.sibling}function vl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ml(t,e),gl(e),4&r){try{nl(3,e,e.return),rl(3,e)}catch(v){Sc(e,e.return,v)}try{nl(5,e,e.return)}catch(v){Sc(e,e.return,v)}}break;case 1:ml(t,e),gl(e),512&r&&null!==n&&Qs(n,n.return);break;case 5:if(ml(t,e),gl(e),512&r&&null!==n&&Qs(n,n.return),32&e.flags){var i=e.stateNode;try{fe(i,"")}catch(v){Sc(e,e.return,v)}}if(4&r&&null!=(i=e.stateNode)){var o=e.memoizedProps,s=null!==n?n.memoizedProps:o,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===o.type&&null!=o.name&&$(i,o),xe(l,s);var u=xe(l,o);for(s=0;s<c.length;s+=2){var d=c[s],f=c[s+1];"style"===d?ve(i,f):"dangerouslySetInnerHTML"===d?de(i,f):"children"===d?fe(i,f):x(i,d,f,u)}switch(l){case"input":J(i,o);break;case"textarea":ae(i,o);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;null!=p?ne(i,!!o.multiple,p,!1):h!==!!o.multiple&&(null!=o.defaultValue?ne(i,!!o.multiple,o.defaultValue,!0):ne(i,!!o.multiple,o.multiple?[]:"",!1))}i[hi]=o}catch(v){Sc(e,e.return,v)}}break;case 6:if(ml(t,e),gl(e),4&r){if(null===e.stateNode)throw Error(a(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(v){Sc(e,e.return,v)}}break;case 3:if(ml(t,e),gl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Ut(t.containerInfo)}catch(v){Sc(e,e.return,v)}break;case 4:default:ml(t,e),gl(e);break;case 13:ml(t,e),gl(e),8192&(i=e.child).flags&&(o=null!==i.memoizedState,i.stateNode.isHidden=o,!o||null!==i.alternate&&null!==i.alternate.memoizedState||(Vl=$e())),4&r&&pl(e);break;case 22:if(d=null!==n&&null!==n.memoizedState,1&e.mode?(Ys=(u=Ys)||d,ml(t,e),Ys=u):ml(t,e),gl(e),8192&r){if(u=null!==e.memoizedState,(e.stateNode.isHidden=u)&&!d&&0!==(1&e.mode))for(Js=e,d=e.child;null!==d;){for(f=Js=d;null!==Js;){switch(p=(h=Js).child,h.tag){case 0:case 11:case 14:case 15:nl(4,h,h.return);break;case 1:Qs(h,h.return);var m=h.stateNode;if("function"===typeof m.componentWillUnmount){r=h,n=h.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(v){Sc(r,n,v)}}break;case 5:Qs(h,h.return);break;case 22:if(null!==h.memoizedState){_l(f);continue}}null!==p?(p.return=h,Js=p):_l(f)}d=d.sibling}e:for(d=null,f=e;;){if(5===f.tag){if(null===d){d=f;try{i=f.stateNode,u?"function"===typeof(o=i.style).setProperty?o.setProperty("display","none","important"):o.display="none":(l=f.stateNode,s=void 0!==(c=f.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=me("display",s))}catch(v){Sc(e,e.return,v)}}}else if(6===f.tag){if(null===d)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(v){Sc(e,e.return,v)}}else if((22!==f.tag&&23!==f.tag||null===f.memoizedState||f===e)&&null!==f.child){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;null===f.sibling;){if(null===f.return||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:ml(t,e),gl(e),4&r&&pl(e);case 21:}}function gl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(ol(n)){var r=n;break e}n=n.return}throw Error(a(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(fe(i,""),r.flags&=-33),cl(e,sl(e),i);break;case 3:case 4:var o=r.stateNode.containerInfo;ll(e,sl(e),o);break;default:throw Error(a(161))}}catch(s){Sc(e,e.return,s)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function yl(e,t,n){Js=e,xl(e,t,n)}function xl(e,t,n){for(var r=0!==(1&e.mode);null!==Js;){var i=Js,a=i.child;if(22===i.tag&&r){var o=null!==i.memoizedState||Ks;if(!o){var s=i.alternate,l=null!==s&&null!==s.memoizedState||Ys;s=Ks;var c=Ys;if(Ks=o,(Ys=l)&&!c)for(Js=i;null!==Js;)l=(o=Js).child,22===o.tag&&null!==o.memoizedState?wl(i):null!==l?(l.return=o,Js=l):wl(i);for(;null!==a;)Js=a,xl(a,t,n),a=a.sibling;Js=i,Ks=s,Ys=c}bl(e)}else 0!==(8772&i.subtreeFlags)&&null!==a?(a.return=i,Js=a):bl(e)}}function bl(e){for(;null!==Js;){var t=Js;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Ys||rl(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Ys)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:va(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&Na(t,o,r);break;case 3:var s=t.updateQueue;if(null!==s){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Na(t,s,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var d=u.memoizedState;if(null!==d){var f=d.dehydrated;null!==f&&Ut(f)}}}break;default:throw Error(a(163))}Ys||512&t.flags&&il(t)}catch(h){Sc(t,t.return,h)}}if(t===e){Js=null;break}if(null!==(n=t.sibling)){n.return=t.return,Js=n;break}Js=t.return}}function _l(e){for(;null!==Js;){var t=Js;if(t===e){Js=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Js=n;break}Js=t.return}}function wl(e){for(;null!==Js;){var t=Js;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{rl(4,t)}catch(l){Sc(t,n,l)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(l){Sc(t,i,l)}}var a=t.return;try{il(t)}catch(l){Sc(t,a,l)}break;case 5:var o=t.return;try{il(t)}catch(l){Sc(t,o,l)}}}catch(l){Sc(t,t.return,l)}if(t===e){Js=null;break}var s=t.sibling;if(null!==s){s.return=t.return,Js=s;break}Js=t.return}}var kl,Sl=Math.ceil,El=b.ReactCurrentDispatcher,Cl=b.ReactCurrentOwner,Tl=b.ReactCurrentBatchConfig,Ml=0,Il=null,Ol=null,Pl=0,Al=0,zl=Si(0),jl=0,Rl=null,Dl=0,Ll=0,Nl=0,Bl=null,Fl=null,Vl=0,Ul=1/0,Hl=null,Gl=!1,Wl=null,ql=null,Xl=!1,Zl=null,Kl=0,Yl=0,$l=null,Jl=-1,Ql=0;function ec(){return 0!==(6&Ml)?$e():-1!==Jl?Jl:Jl=$e()}function tc(e){return 0===(1&e.mode)?1:0!==(2&Ml)&&0!==Pl?Pl&-Pl:null!==ma.transition?(0===Ql&&(Ql=mt()),Ql):0!==(e=xt)?e:e=void 0===(e=window.event)?16:Yt(e.type)}function nc(e,t,n,r){if(50<Yl)throw Yl=0,$l=null,Error(a(185));gt(e,n,r),0!==(2&Ml)&&e===Il||(e===Il&&(0===(2&Ml)&&(Ll|=n),4===jl&&sc(e,Pl)),rc(e,r),1===n&&0===Ml&&0===(1&t.mode)&&(Ul=$e()+500,Bi&&Ui()))}function rc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-ot(a),s=1<<o,l=i[o];-1===l?0!==(s&n)&&0===(s&r)||(i[o]=ht(s,t)):l<=t&&(e.expiredLanes|=s),a&=~s}}(e,t);var r=ft(e,e===Il?Pl:0);if(0===r)null!==n&&Ze(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Ze(n),1===t)0===e.tag?function(e){Bi=!0,Vi(e)}(lc.bind(null,e)):Vi(lc.bind(null,e)),oi((function(){0===(6&Ml)&&Ui()})),n=null;else{switch(bt(r)){case 1:n=Qe;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Ic(n,ic.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ic(e,t){if(Jl=-1,Ql=0,0!==(6&Ml))throw Error(a(327));var n=e.callbackNode;if(wc()&&e.callbackNode!==n)return null;var r=ft(e,e===Il?Pl:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=vc(e,r);else{t=r;var i=Ml;Ml|=2;var o=pc();for(Il===e&&Pl===t||(Hl=null,Ul=$e()+500,fc(e,t));;)try{yc();break}catch(l){hc(e,l)}_a(),El.current=o,Ml=i,null!==Ol?t=0:(Il=null,Pl=0,t=jl)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=ac(e,i))),1===t)throw n=Rl,fc(e,0),sc(e,r),rc(e,$e()),n;if(6===t)sc(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!sr(a(),i))return!1}catch(s){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=vc(e,r))&&(0!==(o=pt(e))&&(r=o,t=ac(e,o))),1===t))throw n=Rl,fc(e,0),sc(e,r),rc(e,$e()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(a(345));case 2:case 5:_c(e,Fl,Hl);break;case 3:if(sc(e,r),(130023424&r)===r&&10<(t=Vl+500-$e())){if(0!==ft(e,0))break;if(((i=e.suspendedLanes)&r)!==r){ec(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(_c.bind(null,e,Fl,Hl),t);break}_c(e,Fl,Hl);break;case 4:if(sc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-ot(r);o=1<<s,(s=t[s])>i&&(i=s),r&=~o}if(r=i,10<(r=(120>(r=$e()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Sl(r/1960))-r)){e.timeoutHandle=ri(_c.bind(null,e,Fl,Hl),r);break}_c(e,Fl,Hl);break;default:throw Error(a(329))}}}return rc(e,$e()),e.callbackNode===n?ic.bind(null,e):null}function ac(e,t){var n=Bl;return e.current.memoizedState.isDehydrated&&(fc(e,t).flags|=256),2!==(e=vc(e,t))&&(t=Fl,Fl=n,null!==t&&oc(t)),e}function oc(e){null===Fl?Fl=e:Fl.push.apply(Fl,e)}function sc(e,t){for(t&=~Nl,t&=~Ll,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),r=1<<n;e[n]=-1,t&=~r}}function lc(e){if(0!==(6&Ml))throw Error(a(327));wc();var t=ft(e,0);if(0===(1&t))return rc(e,$e()),null;var n=vc(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=ac(e,r))}if(1===n)throw n=Rl,fc(e,0),sc(e,t),rc(e,$e()),n;if(6===n)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,_c(e,Fl,Hl),rc(e,$e()),null}function cc(e,t){var n=Ml;Ml|=1;try{return e(t)}finally{0===(Ml=n)&&(Ul=$e()+500,Bi&&Ui())}}function uc(e){null!==Zl&&0===Zl.tag&&0===(6&Ml)&&wc();var t=Ml;Ml|=1;var n=Tl.transition,r=xt;try{if(Tl.transition=null,xt=1,e)return e()}finally{xt=r,Tl.transition=n,0===(6&(Ml=t))&&Ui()}}function dc(){Al=zl.current,Ei(zl)}function fc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Ol)for(n=Ol.return;null!==n;){var r=n;switch(ta(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&zi();break;case 3:io(),Ei(Ii),Ei(Mi),uo();break;case 5:oo(r);break;case 4:io();break;case 13:case 19:Ei(so);break;case 10:wa(r.type._context);break;case 22:case 23:dc()}n=n.return}if(Il=e,Ol=e=zc(e.current,null),Pl=Al=t,jl=0,Rl=null,Nl=Ll=Dl=0,Fl=Bl=null,null!==Ca){for(t=0;t<Ca.length;t++)if(null!==(r=(n=Ca[t]).interleaved)){n.interleaved=null;var i=r.next,a=n.pending;if(null!==a){var o=a.next;a.next=i,r.next=o}n.pending=r}Ca=null}return e}function hc(e,t){for(;;){var n=Ol;try{if(_a(),fo.current=os,yo){for(var r=mo.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}yo=!1}if(po=0,go=vo=mo=null,xo=!1,bo=0,Cl.current=null,null===n||null===n.return){jl=1,Rl=t,Ol=null;break}e:{var o=e,s=n.return,l=n,c=t;if(t=Pl,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var u=c,d=l,f=d.tag;if(0===(1&d.mode)&&(0===f||11===f||15===f)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=gs(s);if(null!==p){p.flags&=-257,ys(p,s,l,0,t),1&p.mode&&vs(o,u,t),c=u;var m=(t=p).updateQueue;if(null===m){var v=new Set;v.add(c),t.updateQueue=v}else m.add(c);break e}if(0===(1&t)){vs(o,u,t),mc();break e}c=Error(a(426))}else if(ia&&1&l.mode){var g=gs(s);if(null!==g){0===(65536&g.flags)&&(g.flags|=256),ys(g,s,l,0,t),pa(us(c,l));break e}}o=c=us(c,l),4!==jl&&(jl=2),null===Bl?Bl=[o]:Bl.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,Da(o,ps(0,c,t));break e;case 1:l=c;var y=o.type,x=o.stateNode;if(0===(128&o.flags)&&("function"===typeof y.getDerivedStateFromError||null!==x&&"function"===typeof x.componentDidCatch&&(null===ql||!ql.has(x)))){o.flags|=65536,t&=-t,o.lanes|=t,Da(o,ms(o,l,t));break e}}o=o.return}while(null!==o)}bc(n)}catch(b){t=b,Ol===n&&null!==n&&(Ol=n=n.return);continue}break}}function pc(){var e=El.current;return El.current=os,null===e?os:e}function mc(){0!==jl&&3!==jl&&2!==jl||(jl=4),null===Il||0===(268435455&Dl)&&0===(268435455&Ll)||sc(Il,Pl)}function vc(e,t){var n=Ml;Ml|=2;var r=pc();for(Il===e&&Pl===t||(Hl=null,fc(e,t));;)try{gc();break}catch(i){hc(e,i)}if(_a(),Ml=n,El.current=r,null!==Ol)throw Error(a(261));return Il=null,Pl=0,jl}function gc(){for(;null!==Ol;)xc(Ol)}function yc(){for(;null!==Ol&&!Ke();)xc(Ol)}function xc(e){var t=kl(e.alternate,e,Al);e.memoizedProps=e.pendingProps,null===t?bc(e):Ol=t,Cl.current=null}function bc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Xs(n,t,Al)))return void(Ol=n)}else{if(null!==(n=Zs(n,t)))return n.flags&=32767,void(Ol=n);if(null===e)return jl=6,void(Ol=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Ol=t);Ol=t=e}while(null!==t);0===jl&&(jl=5)}function _c(e,t,n){var r=xt,i=Tl.transition;try{Tl.transition=null,xt=1,function(e,t,n,r){do{wc()}while(null!==Zl);if(0!==(6&Ml))throw Error(a(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ot(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}(e,o),e===Il&&(Ol=Il=null,Pl=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Xl||(Xl=!0,Ic(tt,(function(){return wc(),null}))),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=Tl.transition,Tl.transition=null;var s=xt;xt=1;var l=Ml;Ml|=4,Cl.current=null,function(e,t){if(ei=Gt,hr(e=fr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(_){n=null;break e}var s=0,l=-1,c=-1,u=0,d=0,f=e,h=null;t:for(;;){for(var p;f!==n||0!==i&&3!==f.nodeType||(l=s+i),f!==o||0!==r&&3!==f.nodeType||(c=s+r),3===f.nodeType&&(s+=f.nodeValue.length),null!==(p=f.firstChild);)h=f,f=p;for(;;){if(f===e)break t;if(h===n&&++u===i&&(l=s),h===o&&++d===r&&(c=s),null!==(p=f.nextSibling))break;h=(f=h).parentNode}f=p}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Gt=!1,Js=t;null!==Js;)if(e=(t=Js).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Js=e;else for(;null!==Js;){t=Js;try{var m=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var v=m.memoizedProps,g=m.memoizedState,y=t.stateNode,x=y.getSnapshotBeforeUpdate(t.elementType===t.type?v:va(t.type,v),g);y.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var b=t.stateNode.containerInfo;1===b.nodeType?b.textContent="":9===b.nodeType&&b.documentElement&&b.removeChild(b.documentElement);break;default:throw Error(a(163))}}catch(_){Sc(t,t.return,_)}if(null!==(e=t.sibling)){e.return=t.return,Js=e;break}Js=t.return}m=tl,tl=!1}(e,n),vl(n,e),pr(ti),Gt=!!ei,ti=ei=null,e.current=n,yl(n,e,i),Ye(),Ml=l,xt=s,Tl.transition=o}else e.current=n;if(Xl&&(Xl=!1,Zl=e,Kl=i),o=e.pendingLanes,0===o&&(ql=null),function(e){if(at&&"function"===typeof at.onCommitFiberRoot)try{at.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),rc(e,$e()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Gl)throw Gl=!1,e=Wl,Wl=null,e;0!==(1&Kl)&&0!==e.tag&&wc(),o=e.pendingLanes,0!==(1&o)?e===$l?Yl++:(Yl=0,$l=e):Yl=0,Ui()}(e,t,n,r)}finally{Tl.transition=i,xt=r}return null}function wc(){if(null!==Zl){var e=bt(Kl),t=Tl.transition,n=xt;try{if(Tl.transition=null,xt=16>e?16:e,null===Zl)var r=!1;else{if(e=Zl,Zl=null,Kl=0,0!==(6&Ml))throw Error(a(331));var i=Ml;for(Ml|=4,Js=e.current;null!==Js;){var o=Js,s=o.child;if(0!==(16&Js.flags)){var l=o.deletions;if(null!==l){for(var c=0;c<l.length;c++){var u=l[c];for(Js=u;null!==Js;){var d=Js;switch(d.tag){case 0:case 11:case 15:nl(8,d,o)}var f=d.child;if(null!==f)f.return=d,Js=f;else for(;null!==Js;){var h=(d=Js).sibling,p=d.return;if(al(d),d===u){Js=null;break}if(null!==h){h.return=p,Js=h;break}Js=p}}}var m=o.alternate;if(null!==m){var v=m.child;if(null!==v){m.child=null;do{var g=v.sibling;v.sibling=null,v=g}while(null!==v)}}Js=o}}if(0!==(2064&o.subtreeFlags)&&null!==s)s.return=o,Js=s;else e:for(;null!==Js;){if(0!==(2048&(o=Js).flags))switch(o.tag){case 0:case 11:case 15:nl(9,o,o.return)}var y=o.sibling;if(null!==y){y.return=o.return,Js=y;break e}Js=o.return}}var x=e.current;for(Js=x;null!==Js;){var b=(s=Js).child;if(0!==(2064&s.subtreeFlags)&&null!==b)b.return=s,Js=b;else e:for(s=x;null!==Js;){if(0!==(2048&(l=Js).flags))try{switch(l.tag){case 0:case 11:case 15:rl(9,l)}}catch(w){Sc(l,l.return,w)}if(l===s){Js=null;break e}var _=l.sibling;if(null!==_){_.return=l.return,Js=_;break e}Js=l.return}}if(Ml=i,Ui(),at&&"function"===typeof at.onPostCommitFiberRoot)try{at.onPostCommitFiberRoot(it,e)}catch(w){}r=!0}return r}finally{xt=n,Tl.transition=t}}return!1}function kc(e,t,n){e=ja(e,t=ps(0,t=us(n,t),1),1),t=ec(),null!==e&&(gt(e,1,t),rc(e,t))}function Sc(e,t,n){if(3===e.tag)kc(e,e,n);else for(;null!==t;){if(3===t.tag){kc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===ql||!ql.has(r))){t=ja(t,e=ms(t,e=us(n,e),1),1),e=ec(),null!==t&&(gt(t,1,e),rc(t,e));break}}t=t.return}}function Ec(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=ec(),e.pingedLanes|=e.suspendedLanes&n,Il===e&&(Pl&n)===n&&(4===jl||3===jl&&(130023424&Pl)===Pl&&500>$e()-Vl?fc(e,0):Nl|=n),rc(e,t)}function Cc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ut,0===(130023424&(ut<<=1))&&(ut=4194304)));var n=ec();null!==(e=Ia(e,t))&&(gt(e,t,n),rc(e,n))}function Tc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Cc(e,n)}function Mc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(a(314))}null!==r&&r.delete(t),Cc(e,n)}function Ic(e,t){return Xe(e,t)}function Oc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pc(e,t,n,r){return new Oc(e,t,n,r)}function Ac(e){return!(!(e=e.prototype)||!e.isReactComponent)}function zc(e,t){var n=e.alternate;return null===n?((n=Pc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function jc(e,t,n,r,i,o){var s=2;if(r=e,"function"===typeof e)Ac(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case k:return Rc(n.children,i,o,t);case S:s=8,i|=8;break;case E:return(e=Pc(12,n,t,2|i)).elementType=E,e.lanes=o,e;case I:return(e=Pc(13,n,t,i)).elementType=I,e.lanes=o,e;case O:return(e=Pc(19,n,t,i)).elementType=O,e.lanes=o,e;case z:return Dc(n,i,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case C:s=10;break e;case T:s=9;break e;case M:s=11;break e;case P:s=14;break e;case A:s=16,r=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Pc(s,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Rc(e,t,n,r){return(e=Pc(7,e,r,t)).lanes=n,e}function Dc(e,t,n,r){return(e=Pc(22,e,r,t)).elementType=z,e.lanes=n,e.stateNode={isHidden:!1},e}function Lc(e,t,n){return(e=Pc(6,e,null,t)).lanes=n,e}function Nc(e,t,n){return(t=Pc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Bc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=vt(0),this.expirationTimes=vt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=vt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Fc(e,t,n,r,i,a,o,s,l){return e=new Bc(e,t,n,s,l),1===t?(t=1,!0===a&&(t|=8)):t=0,a=Pc(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Pa(a),e}function Vc(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:w,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function Uc(e){if(!e)return Ti;e:{if(Ue(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ai(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(a(171))}if(1===e.tag){var n=e.type;if(Ai(n))return Ri(e,n,t)}return t}function Hc(e,t,n,r,i,a,o,s,l){return(e=Fc(n,r,!0,e,0,a,0,s,l)).context=Uc(null),n=e.current,(a=za(r=ec(),i=tc(n))).callback=void 0!==t&&null!==t?t:null,ja(n,a,i),e.current.lanes=i,gt(e,i,r),rc(e,r),e}function Gc(e,t,n,r){var i=t.current,a=ec(),o=tc(i);return n=Uc(n),null===t.context?t.context=n:t.pendingContext=n,(t=za(a,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=ja(i,t,o))&&(nc(e,i,o,a),Ra(e,i,o)),o}function Wc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function qc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Xc(e,t){qc(e,t),(e=e.alternate)&&qc(e,t)}kl=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ii.current)bs=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return bs=!1,function(e,t,n){switch(t.tag){case 3:Os(t),ha();break;case 5:ao(t);break;case 1:Ai(t.type)&&Di(t);break;case 4:ro(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ci(ga,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ci(so,1&so.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Ls(e,t,n):(Ci(so,1&so.current),null!==(e=Gs(e,t,n))?e.sibling:null);Ci(so,1&so.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Us(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ci(so,so.current),r)break;return null;case 22:case 23:return t.lanes=0,Es(e,t,n)}return Gs(e,t,n)}(e,t,n);bs=0!==(131072&e.flags)}else bs=!1,ia&&0!==(1048576&t.flags)&&Qi(t,qi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Hs(e,t),e=t.pendingProps;var i=Pi(t,Mi.current);Sa(t,n),i=So(null,t,r,e,i,n);var o=Eo();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ai(r)?(o=!0,Di(t)):o=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Pa(t),i.updater=Va,t.stateNode=i,i._reactInternals=t,Wa(t,r,e,n),t=Is(null,t,r,!0,o,n)):(t.tag=0,ia&&o&&ea(t),_s(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Hs(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Ac(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===M)return 11;if(e===P)return 14}return 2}(r),e=va(r,e),i){case 0:t=Ts(null,t,r,e,n);break e;case 1:t=Ms(null,t,r,e,n);break e;case 11:t=ws(null,t,r,e,n);break e;case 14:t=ks(null,t,r,va(r.type,e),n);break e}throw Error(a(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Ts(e,t,r,i=t.elementType===r?i:va(r,i),n);case 1:return r=t.type,i=t.pendingProps,Ms(e,t,r,i=t.elementType===r?i:va(r,i),n);case 3:e:{if(Os(t),null===e)throw Error(a(387));r=t.pendingProps,i=(o=t.memoizedState).element,Aa(e,t),La(t,r,null,n);var s=t.memoizedState;if(r=s.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Ps(e,t,r,n,i=us(Error(a(423)),t));break e}if(r!==i){t=Ps(e,t,r,n,i=us(Error(a(424)),t));break e}for(ra=ci(t.stateNode.containerInfo.firstChild),na=t,ia=!0,aa=null,n=$a(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(ha(),r===i){t=Gs(e,t,n);break e}_s(e,t,r,n)}t=t.child}return t;case 5:return ao(t),null===e&&ca(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,s=i.children,ni(r,i)?s=null:null!==o&&ni(r,o)&&(t.flags|=32),Cs(e,t),_s(e,t,s,n),t.child;case 6:return null===e&&ca(t),null;case 13:return Ls(e,t,n);case 4:return ro(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Ya(t,null,r,n):_s(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,ws(e,t,r,i=t.elementType===r?i:va(r,i),n);case 7:return _s(e,t,t.pendingProps,n),t.child;case 8:case 12:return _s(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,s=i.value,Ci(ga,r._currentValue),r._currentValue=s,null!==o)if(sr(o.value,s)){if(o.children===i.children&&!Ii.current){t=Gs(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var l=o.dependencies;if(null!==l){s=o.child;for(var c=l.firstContext;null!==c;){if(c.context===r){if(1===o.tag){(c=za(-1,n&-n)).tag=2;var u=o.updateQueue;if(null!==u){var d=(u=u.shared).pending;null===d?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}o.lanes|=n,null!==(c=o.alternate)&&(c.lanes|=n),ka(o.return,n,t),l.lanes|=n;break}c=c.next}}else if(10===o.tag)s=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(s=o.return))throw Error(a(341));s.lanes|=n,null!==(l=s.alternate)&&(l.lanes|=n),ka(s,n,t),s=o.sibling}else s=o.child;if(null!==s)s.return=o;else for(s=o;null!==s;){if(s===t){s=null;break}if(null!==(o=s.sibling)){o.return=s.return,s=o;break}s=s.return}o=s}_s(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Sa(t,n),r=r(i=Ea(i)),t.flags|=1,_s(e,t,r,n),t.child;case 14:return i=va(r=t.type,t.pendingProps),ks(e,t,r,i=va(r.type,i),n);case 15:return Ss(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:va(r,i),Hs(e,t),t.tag=1,Ai(r)?(e=!0,Di(t)):e=!1,Sa(t,n),Ha(t,r,i),Wa(t,r,i,n),Is(null,t,r,!0,e,n);case 19:return Us(e,t,n);case 22:return Es(e,t,n)}throw Error(a(156,t.tag))};var Zc="function"===typeof reportError?reportError:function(e){console.error(e)};function Kc(e){this._internalRoot=e}function Yc(e){this._internalRoot=e}function $c(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Jc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Qc(){}function eu(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a;if("function"===typeof i){var s=i;i=function(){var e=Wc(o);s.call(e)}}Gc(t,o,e,i)}else o=function(e,t,n,r,i){if(i){if("function"===typeof r){var a=r;r=function(){var e=Wc(o);a.call(e)}}var o=Hc(t,r,e,0,null,!1,0,"",Qc);return e._reactRootContainer=o,e[pi]=o.current,Ur(8===e.nodeType?e.parentNode:e),uc(),o}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var s=r;r=function(){var e=Wc(l);s.call(e)}}var l=Fc(e,0,!1,null,0,!1,0,"",Qc);return e._reactRootContainer=l,e[pi]=l.current,Ur(8===e.nodeType?e.parentNode:e),uc((function(){Gc(t,l,n,r)})),l}(n,t,e,i,r);return Wc(o)}Yc.prototype.render=Kc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));Gc(e,t,null,null)},Yc.prototype.unmount=Kc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;uc((function(){Gc(null,e,null,null)})),t[pi]=null}},Yc.prototype.unstable_scheduleHydration=function(e){if(e){var t=St();e={blockedOn:null,target:e,priority:t};for(var n=0;n<zt.length&&0!==t&&t<zt[n].priority;n++);zt.splice(n,0,e),0===n&&Lt(e)}},_t=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=dt(t.pendingLanes);0!==n&&(yt(t,1|n),rc(t,$e()),0===(6&Ml)&&(Ul=$e()+500,Ui()))}break;case 13:uc((function(){var t=Ia(e,1);if(null!==t){var n=ec();nc(t,e,1,n)}})),Xc(e,1)}},wt=function(e){if(13===e.tag){var t=Ia(e,134217728);if(null!==t)nc(t,e,134217728,ec());Xc(e,134217728)}},kt=function(e){if(13===e.tag){var t=tc(e),n=Ia(e,t);if(null!==n)nc(n,e,t,ec());Xc(e,t)}},St=function(){return xt},Et=function(e,t){var n=xt;try{return xt=e,t()}finally{xt=n}},we=function(e,t,n){switch(t){case"input":if(J(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=_i(r);if(!i)throw Error(a(90));X(r),J(r,i)}}}break;case"textarea":ae(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Me=cc,Ie=uc;var tu={usingClientEntryPoint:!1,Events:[xi,bi,_i,Ce,Te,cc]},nu={findFiberByHostInstance:yi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},ru={bundleType:nu.bundleType,version:nu.version,rendererPackageName:nu.rendererPackageName,rendererConfig:nu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=We(e))?null:e.stateNode},findFiberByHostInstance:nu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var iu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!iu.isDisabled&&iu.supportsFiber)try{it=iu.inject(ru),at=iu}catch(ue){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tu,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!$c(t))throw Error(a(200));return Vc(e,t,null,n)},t.createRoot=function(e,t){if(!$c(e))throw Error(a(299));var n=!1,r="",i=Zc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Fc(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,Ur(8===e.nodeType?e.parentNode:e),new Kc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=null===(e=We(t))?null:e.stateNode},t.flushSync=function(e){return uc(e)},t.hydrate=function(e,t,n){if(!Jc(t))throw Error(a(200));return eu(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!$c(e))throw Error(a(405));var r=null!=n&&n.hydratedSources||null,i=!1,o="",s=Zc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(s=n.onRecoverableError)),t=Hc(t,null,e,1,null!=n?n:null,i,0,o,s),e[pi]=t.current,Ur(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Yc(t)},t.render=function(e,t,n){if(!Jc(t))throw Error(a(200));return eu(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Jc(e))throw Error(a(40));return!!e._reactRootContainer&&(uc((function(){eu(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=cc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Jc(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return eu(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},1250:function(e,t,n){"use strict";var r=n(4164);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},4164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(4463)},1372:function(e,t){"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,a=n?Symbol.for("react.fragment"):60107,o=n?Symbol.for("react.strict_mode"):60108,s=n?Symbol.for("react.profiler"):60114,l=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,u=n?Symbol.for("react.async_mode"):60111,d=n?Symbol.for("react.concurrent_mode"):60111,f=n?Symbol.for("react.forward_ref"):60112,h=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,m=n?Symbol.for("react.memo"):60115,v=n?Symbol.for("react.lazy"):60116,g=n?Symbol.for("react.block"):60121,y=n?Symbol.for("react.fundamental"):60117,x=n?Symbol.for("react.responder"):60118,b=n?Symbol.for("react.scope"):60119;function _(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case u:case d:case a:case s:case o:case h:return e;default:switch(e=e&&e.$$typeof){case c:case f:case v:case m:case l:return e;default:return t}}case i:return t}}}function w(e){return _(e)===d}t.isFragment=function(e){return _(e)===a},t.isMemo=function(e){return _(e)===m}},7441:function(e,t,n){"use strict";e.exports=n(1372)},6374:function(e,t,n){"use strict";var r=n(2791),i=Symbol.for("react.element"),a=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,a={},c=null,u=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)o.call(t,r)&&!l.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:u,props:a,_owner:s.current}}t.Fragment=a,t.jsx=c,t.jsxs=c},9117:function(e,t){"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),h=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,v={};function g(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||p}function y(){}function x(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||p}g.prototype.isReactComponent={},g.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},g.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=g.prototype;var b=x.prototype=new y;b.constructor=x,m(b,g.prototype),b.isPureReactComponent=!0;var _=Array.isArray,w=Object.prototype.hasOwnProperty,k={current:null},S={key:!0,ref:!0,__self:!0,__source:!0};function E(e,t,r){var i,a={},o=null,s=null;if(null!=t)for(i in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(o=""+t.key),t)w.call(t,i)&&!S.hasOwnProperty(i)&&(a[i]=t[i]);var l=arguments.length-2;if(1===l)a.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];a.children=c}if(e&&e.defaultProps)for(i in l=e.defaultProps)void 0===a[i]&&(a[i]=l[i]);return{$$typeof:n,type:e,key:o,ref:s,props:a,_owner:k.current}}function C(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var T=/\/+/g;function M(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function I(e,t,i,a,o){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var l=!1;if(null===e)l=!0;else switch(s){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return o=o(l=e),e=""===a?"."+M(l,0):a,_(o)?(i="",null!=e&&(i=e.replace(T,"$&/")+"/"),I(o,t,i,"",(function(e){return e}))):null!=o&&(C(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,i+(!o.key||l&&l.key===o.key?"":(""+o.key).replace(T,"$&/")+"/")+e)),t.push(o)),1;if(l=0,a=""===a?".":a+":",_(e))for(var c=0;c<e.length;c++){var u=a+M(s=e[c],c);l+=I(s,t,i,u,o)}else if(u=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=h&&e[h]||e["@@iterator"])?e:null}(e),"function"===typeof u)for(e=u.call(e),c=0;!(s=e.next()).done;)l+=I(s=s.value,t,i,u=a+M(s,c++),o);else if("object"===s)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function O(e,t,n){if(null==e)return e;var r=[],i=0;return I(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function P(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var A={current:null},z={transition:null},j={ReactCurrentDispatcher:A,ReactCurrentBatchConfig:z,ReactCurrentOwner:k};t.Children={map:O,forEach:function(e,t,n){O(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return O(e,(function(){t++})),t},toArray:function(e){return O(e,(function(e){return e}))||[]},only:function(e){if(!C(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=g,t.Fragment=i,t.Profiler=o,t.PureComponent=x,t.StrictMode=a,t.Suspense=u,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=j,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=m({},e.props),a=e.key,o=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,s=k.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)w.call(t,c)&&!S.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];i.children=l}return{$$typeof:n,type:e.type,key:a,ref:o,props:i,_owner:s}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.createElement=E,t.createFactory=function(e){var t=E.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=C,t.lazy=function(e){return{$$typeof:f,_payload:{_status:-1,_result:e},_init:P}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=z.transition;z.transition={};try{e()}finally{z.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return A.current.useCallback(e,t)},t.useContext=function(e){return A.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return A.current.useDeferredValue(e)},t.useEffect=function(e,t){return A.current.useEffect(e,t)},t.useId=function(){return A.current.useId()},t.useImperativeHandle=function(e,t,n){return A.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return A.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return A.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return A.current.useMemo(e,t)},t.useReducer=function(e,t,n){return A.current.useReducer(e,t,n)},t.useRef=function(e){return A.current.useRef(e)},t.useState=function(e){return A.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return A.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return A.current.useTransition()},t.version="18.2.0"},2791:function(e,t,n){"use strict";e.exports=n(9117)},184:function(e,t,n){"use strict";e.exports=n(6374)},6813:function(e,t){"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<a(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var s=2*(r+1)-1,l=e[s],c=s+1,u=e[c];if(0>a(l,n))c<i&&0>a(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[s]=n,r=s);else{if(!(c<i&&0>a(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,l=s.now();t.unstable_now=function(){return s.now()-l}}var c=[],u=[],d=1,f=null,h=3,p=!1,m=!1,v=!1,g="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,x="undefined"!==typeof setImmediate?setImmediate:null;function b(e){for(var t=r(u);null!==t;){if(null===t.callback)i(u);else{if(!(t.startTime<=e))break;i(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function _(e){if(v=!1,b(e),!m)if(null!==r(c))m=!0,z(w);else{var t=r(u);null!==t&&j(_,t.startTime-e)}}function w(e,n){m=!1,v&&(v=!1,y(C),C=-1),p=!0;var a=h;try{for(b(n),f=r(c);null!==f&&(!(f.expirationTime>n)||e&&!I());){var o=f.callback;if("function"===typeof o){f.callback=null,h=f.priorityLevel;var s=o(f.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?f.callback=s:f===r(c)&&i(c),b(n)}else i(c);f=r(c)}if(null!==f)var l=!0;else{var d=r(u);null!==d&&j(_,d.startTime-n),l=!1}return l}finally{f=null,h=a,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var k,S=!1,E=null,C=-1,T=5,M=-1;function I(){return!(t.unstable_now()-M<T)}function O(){if(null!==E){var e=t.unstable_now();M=e;var n=!0;try{n=E(!0,e)}finally{n?k():(S=!1,E=null)}}else S=!1}if("function"===typeof x)k=function(){x(O)};else if("undefined"!==typeof MessageChannel){var P=new MessageChannel,A=P.port2;P.port1.onmessage=O,k=function(){A.postMessage(null)}}else k=function(){g(O,0)};function z(e){E=e,S||(S=!0,k())}function j(e,n){C=g((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,z(w))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(h){case 1:case 2:case 3:var t=3;break;default:t=h}var n=h;h=t;try{return e()}finally{h=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=h;h=e;try{return t()}finally{h=n}},t.unstable_scheduleCallback=function(e,i,a){var o=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?o+a:o:a=o,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:d++,callback:i,priorityLevel:e,startTime:a,expirationTime:s=a+s,sortIndex:-1},a>o?(e.sortIndex=a,n(u,e),null===r(c)&&e===r(u)&&(v?(y(C),C=-1):v=!0,j(_,a-o))):(e.sortIndex=s,n(c,e),m||p||(m=!0,z(w))),e},t.unstable_shouldYield=I,t.unstable_wrapCallback=function(e){var t=h;return function(){var n=h;h=t;try{return e.apply(this,arguments)}finally{h=n}}}},5296:function(e,t,n){"use strict";e.exports=n(6813)},8497:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.reconstructPacket=t.deconstructPacket=void 0;var r=n(9362);function i(e,t){if(!e)return e;if(r.isBinary(e)){var n={_placeholder:!0,num:t.length};return t.push(e),n}if(Array.isArray(e)){for(var a=new Array(e.length),o=0;o<e.length;o++)a[o]=i(e[o],t);return a}if("object"===typeof e&&!(e instanceof Date)){var s={};for(var l in e)e.hasOwnProperty(l)&&(s[l]=i(e[l],t));return s}return e}function a(e,t){if(!e)return e;if(e&&!0===e._placeholder){if("number"===typeof e.num&&e.num>=0&&e.num<t.length)return t[e.num];throw new Error("illegal attachments")}if(Array.isArray(e))for(var n=0;n<e.length;n++)e[n]=a(e[n],t);else if("object"===typeof e)for(var r in e)e.hasOwnProperty(r)&&(e[r]=a(e[r],t));return e}t.deconstructPacket=function(e){var t=[],n=e.data,r=e;return r.data=i(n,t),r.attachments=t.length,{packet:r,buffers:t}},t.reconstructPacket=function(e,t){return e.data=a(e.data,t),e.attachments=void 0,e}},5253:function(e,t,n){"use strict";var r=n(1588).default,i=n(3808).default,a=n(1655).default,o=n(6389).default,s=n(6690).default,l=n(9728).default;Object.defineProperty(t,"__esModule",{value:!0}),t.Decoder=t.Encoder=t.PacketType=t.protocol=void 0;var c,u=n(9773),d=n(8497),f=n(9362),h=n(8392)("socket.io-parser");t.protocol=5,function(e){e[e.CONNECT=0]="CONNECT",e[e.DISCONNECT=1]="DISCONNECT",e[e.EVENT=2]="EVENT",e[e.ACK=3]="ACK",e[e.CONNECT_ERROR=4]="CONNECT_ERROR",e[e.BINARY_EVENT=5]="BINARY_EVENT",e[e.BINARY_ACK=6]="BINARY_ACK"}(c=t.PacketType||(t.PacketType={}));var p=function(){function e(){s(this,e)}return l(e,[{key:"encode",value:function(e){return h("encoding packet %j",e),e.type!==c.EVENT&&e.type!==c.ACK||!f.hasBinary(e)?[this.encodeAsString(e)]:(e.type=e.type===c.EVENT?c.BINARY_EVENT:c.BINARY_ACK,this.encodeAsBinary(e))}},{key:"encodeAsString",value:function(e){var t=""+e.type;return e.type!==c.BINARY_EVENT&&e.type!==c.BINARY_ACK||(t+=e.attachments+"-"),e.nsp&&"/"!==e.nsp&&(t+=e.nsp+","),null!=e.id&&(t+=e.id),null!=e.data&&(t+=JSON.stringify(e.data)),h("encoded %j as %s",e,t),t}},{key:"encodeAsBinary",value:function(e){var t=d.deconstructPacket(e),n=this.encodeAsString(t.packet),r=t.buffers;return r.unshift(n),r}}]),e}();t.Encoder=p;var m=function(e){a(n,e);var t=o(n);function n(){return s(this,n),t.call(this)}return l(n,[{key:"add",value:function(e){var t;if("string"===typeof e){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");(t=this.decodeString(e)).type===c.BINARY_EVENT||t.type===c.BINARY_ACK?(this.reconstructor=new v(t),0===t.attachments&&r(i(n.prototype),"emit",this).call(this,"decoded",t)):r(i(n.prototype),"emit",this).call(this,"decoded",t)}else{if(!f.isBinary(e)&&!e.base64)throw new Error("Unknown type: "+e);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");(t=this.reconstructor.takeBinaryData(e))&&(this.reconstructor=null,r(i(n.prototype),"emit",this).call(this,"decoded",t))}}},{key:"decodeString",value:function(e){var t=0,r={type:Number(e.charAt(0))};if(void 0===c[r.type])throw new Error("unknown packet type "+r.type);if(r.type===c.BINARY_EVENT||r.type===c.BINARY_ACK){for(var i=t+1;"-"!==e.charAt(++t)&&t!=e.length;);var a=e.substring(i,t);if(a!=Number(a)||"-"!==e.charAt(t))throw new Error("Illegal attachments");r.attachments=Number(a)}if("/"===e.charAt(t+1)){for(var o=t+1;++t;){if(","===e.charAt(t))break;if(t===e.length)break}r.nsp=e.substring(o,t)}else r.nsp="/";var s=e.charAt(t+1);if(""!==s&&Number(s)==s){for(var l=t+1;++t;){var u=e.charAt(t);if(null==u||Number(u)!=u){--t;break}if(t===e.length)break}r.id=Number(e.substring(l,t+1))}if(e.charAt(++t)){var d=function(e){try{return JSON.parse(e)}catch(t){return!1}}(e.substr(t));if(!n.isPayloadValid(r.type,d))throw new Error("invalid payload");r.data=d}return h("decoded %s as %j",e,r),r}},{key:"destroy",value:function(){this.reconstructor&&this.reconstructor.finishedReconstruction()}}],[{key:"isPayloadValid",value:function(e,t){switch(e){case c.CONNECT:return"object"===typeof t;case c.DISCONNECT:return void 0===t;case c.CONNECT_ERROR:return"string"===typeof t||"object"===typeof t;case c.EVENT:case c.BINARY_EVENT:return Array.isArray(t)&&t.length>0;case c.ACK:case c.BINARY_ACK:return Array.isArray(t)}}}]),n}(u);t.Decoder=m;var v=function(){function e(t){s(this,e),this.packet=t,this.buffers=[],this.reconPack=t}return l(e,[{key:"takeBinaryData",value:function(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){var t=d.reconstructPacket(this.reconPack,this.buffers);return this.finishedReconstruction(),t}return null}},{key:"finishedReconstruction",value:function(){this.reconPack=null,this.buffers=[]}}]),e}()},9362:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.hasBinary=t.isBinary=void 0;var n="function"===typeof ArrayBuffer,r=Object.prototype.toString,i="function"===typeof Blob||"undefined"!==typeof Blob&&"[object BlobConstructor]"===r.call(Blob),a="function"===typeof File||"undefined"!==typeof File&&"[object FileConstructor]"===r.call(File);function o(e){return n&&(e instanceof ArrayBuffer||function(e){return"function"===typeof ArrayBuffer.isView?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer}(e))||i&&e instanceof Blob||a&&e instanceof File}t.isBinary=o,t.hasBinary=function e(t,n){if(!t||"object"!==typeof t)return!1;if(Array.isArray(t)){for(var r=0,i=t.length;r<i;r++)if(e(t[r]))return!0;return!1}if(o(t))return!0;if(t.toJSON&&"function"===typeof t.toJSON&&1===arguments.length)return e(t.toJSON(),!0);for(var a in t)if(Object.prototype.hasOwnProperty.call(t,a)&&e(t[a]))return!0;return!1}},5590:function(e){"use strict";var t,n="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),r={},i=0,a=0;function o(e){var t="";do{t=n[e%64]+t,e=Math.floor(e/64)}while(e>0);return t}function s(){var e=o(+new Date);return e!==t?(i=0,t=e):e+"."+o(i++)}for(;a<64;a++)r[n[a]]=a;s.encode=o,s.decode=function(e){var t=0;for(a=0;a<e.length;a++)t=64*t+r[e.charAt(a)];return t},e.exports=s},3897:function(e){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r},e.exports.__esModule=!0,e.exports.default=e.exports},5372:function(e){e.exports=function(e){if(Array.isArray(e))return e},e.exports.__esModule=!0,e.exports.default=e.exports},3405:function(e,t,n){var r=n(3897);e.exports=function(e){if(Array.isArray(e))return r(e)},e.exports.__esModule=!0,e.exports.default=e.exports},6115:function(e){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e},e.exports.__esModule=!0,e.exports.default=e.exports},6690:function(e){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},e.exports.__esModule=!0,e.exports.default=e.exports},3515:function(e,t,n){var r=n(6015),i=n(9617);function a(t,n,o){return i()?(e.exports=a=Reflect.construct.bind(),e.exports.__esModule=!0,e.exports.default=e.exports):(e.exports=a=function(e,t,n){var i=[null];i.push.apply(i,t);var a=new(Function.bind.apply(e,i));return n&&r(a,n.prototype),a},e.exports.__esModule=!0,e.exports.default=e.exports),a.apply(null,arguments)}e.exports=a,e.exports.__esModule=!0,e.exports.default=e.exports},9728:function(e,t,n){var r=n(4062);function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,r(i.key),i)}}e.exports=function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e},e.exports.__esModule=!0,e.exports.default=e.exports},4704:function(e,t,n){var r=n(6116);e.exports=function(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=r(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var i=0,a=function(){};return{s:a,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){l=!0,o=e},f:function(){try{s||null==n.return||n.return()}finally{if(l)throw o}}}},e.exports.__esModule=!0,e.exports.default=e.exports},6389:function(e,t,n){var r=n(3808),i=n(9617),a=n(4993);e.exports=function(e){var t=i();return function(){var n,i=r(e);if(t){var o=r(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return a(this,n)}},e.exports.__esModule=!0,e.exports.default=e.exports},8416:function(e,t,n){var r=n(4062);e.exports=function(e,t,n){return(t=r(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},e.exports.__esModule=!0,e.exports.default=e.exports},1588:function(e,t,n){var r=n(1753);function i(){return"undefined"!==typeof Reflect&&Reflect.get?(e.exports=i=Reflect.get.bind(),e.exports.__esModule=!0,e.exports.default=e.exports):(e.exports=i=function(e,t,n){var i=r(e,t);if(i){var a=Object.getOwnPropertyDescriptor(i,t);return a.get?a.get.call(arguments.length<3?e:n):a.value}},e.exports.__esModule=!0,e.exports.default=e.exports),i.apply(this,arguments)}e.exports=i,e.exports.__esModule=!0,e.exports.default=e.exports},3808:function(e){function t(n){return e.exports=t=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},1655:function(e,t,n){var r=n(6015);e.exports=function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&r(e,t)},e.exports.__esModule=!0,e.exports.default=e.exports},6035:function(e){e.exports=function(e){return-1!==Function.toString.call(e).indexOf("[native code]")},e.exports.__esModule=!0,e.exports.default=e.exports},9617:function(e){e.exports=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}},e.exports.__esModule=!0,e.exports.default=e.exports},9498:function(e){e.exports=function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)},e.exports.__esModule=!0,e.exports.default=e.exports},8872:function(e){e.exports=function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,s=[],l=!0,c=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}},e.exports.__esModule=!0,e.exports.default=e.exports},2218:function(e){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports},2281:function(e){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports},4993:function(e,t,n){var r=n(8698).default,i=n(6115);e.exports=function(e,t){if(t&&("object"===r(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return i(e)},e.exports.__esModule=!0,e.exports.default=e.exports},6015:function(e){function t(n,r){return e.exports=t=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},e.exports.__esModule=!0,e.exports.default=e.exports,t(n,r)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},7424:function(e,t,n){var r=n(5372),i=n(8872),a=n(6116),o=n(2218);e.exports=function(e,t){return r(e)||i(e,t)||a(e,t)||o()},e.exports.__esModule=!0,e.exports.default=e.exports},1753:function(e,t,n){var r=n(3808);e.exports=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=r(e)););return e},e.exports.__esModule=!0,e.exports.default=e.exports},1589:function(e,t,n){var r=n(5372),i=n(9498),a=n(6116),o=n(2218);e.exports=function(e){return r(e)||i(e)||a(e)||o()},e.exports.__esModule=!0,e.exports.default=e.exports},861:function(e,t,n){var r=n(3405),i=n(9498),a=n(6116),o=n(2281);e.exports=function(e){return r(e)||i(e)||a(e)||o()},e.exports.__esModule=!0,e.exports.default=e.exports},5036:function(e,t,n){var r=n(8698).default;e.exports=function(e,t){if("object"!==r(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)},e.exports.__esModule=!0,e.exports.default=e.exports},4062:function(e,t,n){var r=n(8698).default,i=n(5036);e.exports=function(e){var t=i(e,"string");return"symbol"===r(t)?t:String(t)},e.exports.__esModule=!0,e.exports.default=e.exports},8698:function(e){function t(n){return e.exports=t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},6116:function(e,t,n){var r=n(3897);e.exports=function(e,t){if(e){if("string"===typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}},e.exports.__esModule=!0,e.exports.default=e.exports},3496:function(e,t,n){var r=n(3808),i=n(6015),a=n(6035),o=n(3515);function s(t){var n="function"===typeof Map?new Map:void 0;return e.exports=s=function(e){if(null===e||!a(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof n){if(n.has(e))return n.get(e);n.set(e,t)}function t(){return o(e,arguments,r(this).constructor)}return t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),i(t,e)},e.exports.__esModule=!0,e.exports.default=e.exports,s(t)}e.exports=s,e.exports.__esModule=!0,e.exports.default=e.exports},5394:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Socket=t.io=t.Manager=t.protocol=void 0;var r=n(2029),i=n(2363),a=n(791);Object.defineProperty(t,"Socket",{enumerable:!0,get:function(){return a.Socket}});var o=n(8392)("socket.io-client");e.exports=t=l;var s=t.managers={};function l(e,t){"object"===typeof e&&(t=e,e=void 0),t=t||{};var n,a=r.url(e,t.path),l=a.source,c=a.id,u=a.path,d=s[c]&&u in s[c].nsps;return t.forceNew||t["force new connection"]||!1===t.multiplex||d?(o("ignoring socket cache for %s",l),n=new i.Manager(l,t)):(s[c]||(o("new io instance for %s",l),s[c]=new i.Manager(l,t)),n=s[c]),a.query&&!t.query&&(t.query=a.queryKey),n.socket(a.path,t)}t.io=l;var c=n(5253);Object.defineProperty(t,"protocol",{enumerable:!0,get:function(){return c.protocol}}),t.connect=l;var u=n(2363);Object.defineProperty(t,"Manager",{enumerable:!0,get:function(){return u.Manager}}),t.default=l},2363:function(e,t,n){"use strict";var r=n(6690).default,i=n(9728).default,a=n(1655).default,o=n(6389).default;Object.defineProperty(t,"__esModule",{value:!0}),t.Manager=void 0;var s=n(2370),l=n(791),c=n(5253),u=n(2389),d=n(8077),f=n(185),h=n(8392)("socket.io-client:manager"),p=function(e){a(n,e);var t=o(n);function n(e,i){var a;r(this,n),(a=t.call(this)).nsps={},a.subs=[],e&&"object"===typeof e&&(i=e,e=void 0),(i=i||{}).path=i.path||"/socket.io",a.opts=i,a.reconnection(!1!==i.reconnection),a.reconnectionAttempts(i.reconnectionAttempts||1/0),a.reconnectionDelay(i.reconnectionDelay||1e3),a.reconnectionDelayMax(i.reconnectionDelayMax||5e3),a.randomizationFactor(i.randomizationFactor||.5),a.backoff=new d({min:a.reconnectionDelay(),max:a.reconnectionDelayMax(),jitter:a.randomizationFactor()}),a.timeout(null==i.timeout?2e4:i.timeout),a._readyState="closed",a.uri=e;var o=i.parser||c;return a.encoder=new o.Encoder,a.decoder=new o.Decoder,a._autoConnect=!1!==i.autoConnect,a._autoConnect&&a.open(),a}return i(n,[{key:"reconnection",value:function(e){return arguments.length?(this._reconnection=!!e,this):this._reconnection}},{key:"reconnectionAttempts",value:function(e){return void 0===e?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}},{key:"reconnectionDelay",value:function(e){var t;return void 0===e?this._reconnectionDelay:(this._reconnectionDelay=e,null===(t=this.backoff)||void 0===t||t.setMin(e),this)}},{key:"randomizationFactor",value:function(e){var t;return void 0===e?this._randomizationFactor:(this._randomizationFactor=e,null===(t=this.backoff)||void 0===t||t.setJitter(e),this)}},{key:"reconnectionDelayMax",value:function(e){var t;return void 0===e?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,null===(t=this.backoff)||void 0===t||t.setMax(e),this)}},{key:"timeout",value:function(e){return arguments.length?(this._timeout=e,this):this._timeout}},{key:"maybeReconnectOnOpen",value:function(){!this._reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()}},{key:"open",value:function(e){var t=this;if(h("readyState %s",this._readyState),~this._readyState.indexOf("open"))return this;h("opening %s",this.uri),this.engine=s(this.uri,this.opts);var n=this.engine,r=this;this._readyState="opening",this.skipReconnect=!1;var i=u.on(n,"open",(function(){r.onopen(),e&&e()})),a=u.on(n,"error",(function(n){h("error"),r.cleanup(),r._readyState="closed",t.emitReserved("error",n),e?e(n):r.maybeReconnectOnOpen()}));if(!1!==this._timeout){var o=this._timeout;h("connect attempt will timeout after %d",o),0===o&&i();var l=setTimeout((function(){h("connect attempt timed out after %d",o),i(),n.close(),n.emit("error",new Error("timeout"))}),o);this.opts.autoUnref&&l.unref(),this.subs.push((function(){clearTimeout(l)}))}return this.subs.push(i),this.subs.push(a),this}},{key:"connect",value:function(e){return this.open(e)}},{key:"onopen",value:function(){h("open"),this.cleanup(),this._readyState="open",this.emitReserved("open");var e=this.engine;this.subs.push(u.on(e,"ping",this.onping.bind(this)),u.on(e,"data",this.ondata.bind(this)),u.on(e,"error",this.onerror.bind(this)),u.on(e,"close",this.onclose.bind(this)),u.on(this.decoder,"decoded",this.ondecoded.bind(this)))}},{key:"onping",value:function(){this.emitReserved("ping")}},{key:"ondata",value:function(e){this.decoder.add(e)}},{key:"ondecoded",value:function(e){this.emitReserved("packet",e)}},{key:"onerror",value:function(e){h("error",e),this.emitReserved("error",e)}},{key:"socket",value:function(e,t){var n=this.nsps[e];return n||(n=new l.Socket(this,e,t),this.nsps[e]=n),n}},{key:"_destroy",value:function(e){for(var t=0,n=Object.keys(this.nsps);t<n.length;t++){var r=n[t];if(this.nsps[r].active)return void h("socket %s is still active, skipping close",r)}this._close()}},{key:"_packet",value:function(e){h("writing packet %j",e);for(var t=this.encoder.encode(e),n=0;n<t.length;n++)this.engine.write(t[n],e.options)}},{key:"cleanup",value:function(){h("cleanup"),this.subs.forEach((function(e){return e()})),this.subs.length=0,this.decoder.destroy()}},{key:"_close",value:function(){h("disconnect"),this.skipReconnect=!0,this._reconnecting=!1,"opening"===this._readyState&&this.cleanup(),this.backoff.reset(),this._readyState="closed",this.engine&&this.engine.close()}},{key:"disconnect",value:function(){return this._close()}},{key:"onclose",value:function(e){h("onclose"),this.cleanup(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e),this._reconnection&&!this.skipReconnect&&this.reconnect()}},{key:"reconnect",value:function(){var e=this;if(this._reconnecting||this.skipReconnect)return this;var t=this;if(this.backoff.attempts>=this._reconnectionAttempts)h("reconnect failed"),this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{var n=this.backoff.duration();h("will wait %dms before reconnect attempt",n),this._reconnecting=!0;var r=setTimeout((function(){t.skipReconnect||(h("attempting reconnect"),e.emitReserved("reconnect_attempt",t.backoff.attempts),t.skipReconnect||t.open((function(n){n?(h("reconnect attempt error"),t._reconnecting=!1,t.reconnect(),e.emitReserved("reconnect_error",n)):(h("reconnect success"),t.onreconnect())})))}),n);this.opts.autoUnref&&r.unref(),this.subs.push((function(){clearTimeout(r)}))}}},{key:"onreconnect",value:function(){var e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}}]),n}(f.StrictEventEmitter);t.Manager=p},2389:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.on=void 0,t.on=function(e,t,n){return e.on(t,n),function(){e.off(t,n)}}},791:function(e,t,n){"use strict";var r=n(4704).default,i=n(6690).default,a=n(9728).default,o=n(1588).default,s=n(3808).default,l=n(1655).default,c=n(6389).default;Object.defineProperty(t,"__esModule",{value:!0}),t.Socket=void 0;var u=n(5253),d=n(2389),f=n(185),h=n(8392)("socket.io-client:socket"),p=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1}),m=function(e){l(n,e);var t=c(n);function n(e,r,a){var o;return i(this,n),(o=t.call(this)).receiveBuffer=[],o.sendBuffer=[],o.ids=0,o.acks={},o.flags={},o.io=e,o.nsp=r,o.ids=0,o.acks={},o.receiveBuffer=[],o.sendBuffer=[],o.connected=!1,o.disconnected=!0,o.flags={},a&&a.auth&&(o.auth=a.auth),o.io._autoConnect&&o.open(),o}return a(n,[{key:"subEvents",value:function(){if(!this.subs){var e=this.io;this.subs=[d.on(e,"open",this.onopen.bind(this)),d.on(e,"packet",this.onpacket.bind(this)),d.on(e,"error",this.onerror.bind(this)),d.on(e,"close",this.onclose.bind(this))]}}},{key:"active",get:function(){return!!this.subs}},{key:"connect",value:function(){return this.connected||(this.subEvents(),this.io._reconnecting||this.io.open(),"open"===this.io._readyState&&this.onopen()),this}},{key:"open",value:function(){return this.connect()}},{key:"send",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.unshift("message"),this.emit.apply(this,t),this}},{key:"emit",value:function(e){if(p.hasOwnProperty(e))throw new Error('"'+e+'" is a reserved event name');for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];n.unshift(e);var i={type:u.PacketType.EVENT,data:n,options:{}};i.options.compress=!1!==this.flags.compress,"function"===typeof n[n.length-1]&&(h("emitting packet with ack id %d",this.ids),this.acks[this.ids]=n.pop(),i.id=this.ids++);var a=this.io.engine&&this.io.engine.transport&&this.io.engine.transport.writable,o=this.flags.volatile&&(!a||!this.connected);return o?h("discard packet as the transport is not currently writable"):this.connected?this.packet(i):this.sendBuffer.push(i),this.flags={},this}},{key:"packet",value:function(e){e.nsp=this.nsp,this.io._packet(e)}},{key:"onopen",value:function(){var e=this;h("transport is open - connecting"),"function"==typeof this.auth?this.auth((function(t){e.packet({type:u.PacketType.CONNECT,data:t})})):this.packet({type:u.PacketType.CONNECT,data:this.auth})}},{key:"onerror",value:function(e){this.connected||this.emitReserved("connect_error",e)}},{key:"onclose",value:function(e){h("close (%s)",e),this.connected=!1,this.disconnected=!0,delete this.id,this.emitReserved("disconnect",e)}},{key:"onpacket",value:function(e){if(e.nsp===this.nsp)switch(e.type){case u.PacketType.CONNECT:if(e.data&&e.data.sid){var t=e.data.sid;this.onconnect(t)}else this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case u.PacketType.EVENT:case u.PacketType.BINARY_EVENT:this.onevent(e);break;case u.PacketType.ACK:case u.PacketType.BINARY_ACK:this.onack(e);break;case u.PacketType.DISCONNECT:this.ondisconnect();break;case u.PacketType.CONNECT_ERROR:var n=new Error(e.data.message);n.data=e.data.data,this.emitReserved("connect_error",n)}}},{key:"onevent",value:function(e){var t=e.data||[];h("emitting event %j",t),null!=e.id&&(h("attaching ack callback to event"),t.push(this.ack(e.id))),this.connected?this.emitEvent(t):this.receiveBuffer.push(Object.freeze(t))}},{key:"emitEvent",value:function(e){if(this._anyListeners&&this._anyListeners.length){var t,i=this._anyListeners.slice(),a=r(i);try{for(a.s();!(t=a.n()).done;){t.value.apply(this,e)}}catch(l){a.e(l)}finally{a.f()}}o(s(n.prototype),"emit",this).apply(this,e)}},{key:"ack",value:function(e){var t=this,n=!1;return function(){if(!n){n=!0;for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];h("sending ack %j",i),t.packet({type:u.PacketType.ACK,id:e,data:i})}}}},{key:"onack",value:function(e){var t=this.acks[e.id];"function"===typeof t?(h("calling ack %s with %j",e.id,e.data),t.apply(this,e.data),delete this.acks[e.id]):h("bad ack %s",e.id)}},{key:"onconnect",value:function(e){h("socket connected with id %s",e),this.id=e,this.connected=!0,this.disconnected=!1,this.emitReserved("connect"),this.emitBuffered()}},{key:"emitBuffered",value:function(){var e=this;this.receiveBuffer.forEach((function(t){return e.emitEvent(t)})),this.receiveBuffer=[],this.sendBuffer.forEach((function(t){return e.packet(t)})),this.sendBuffer=[]}},{key:"ondisconnect",value:function(){h("server disconnect (%s)",this.nsp),this.destroy(),this.onclose("io server disconnect")}},{key:"destroy",value:function(){this.subs&&(this.subs.forEach((function(e){return e()})),this.subs=void 0),this.io._destroy(this)}},{key:"disconnect",value:function(){return this.connected&&(h("performing disconnect (%s)",this.nsp),this.packet({type:u.PacketType.DISCONNECT})),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}},{key:"close",value:function(){return this.disconnect()}},{key:"compress",value:function(e){return this.flags.compress=e,this}},{key:"volatile",get:function(){return this.flags.volatile=!0,this}},{key:"onAny",value:function(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}},{key:"prependAny",value:function(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}},{key:"offAny",value:function(e){if(!this._anyListeners)return this;if(e){for(var t=this._anyListeners,n=0;n<t.length;n++)if(e===t[n])return t.splice(n,1),this}else this._anyListeners=[];return this}},{key:"listenersAny",value:function(){return this._anyListeners||[]}}]),n}(f.StrictEventEmitter);t.Socket=m},185:function(e,t,n){"use strict";var r=n(6690).default,i=n(9728).default,a=n(1588).default,o=n(3808).default,s=n(1655).default,l=n(6389).default;Object.defineProperty(t,"__esModule",{value:!0}),t.StrictEventEmitter=void 0;var c=function(e){s(n,e);var t=l(n);function n(){return r(this,n),t.apply(this,arguments)}return i(n,[{key:"on",value:function(e,t){return a(o(n.prototype),"on",this).call(this,e,t),this}},{key:"once",value:function(e,t){return a(o(n.prototype),"once",this).call(this,e,t),this}},{key:"emit",value:function(e){for(var t,r=arguments.length,i=new Array(r>1?r-1:0),s=1;s<r;s++)i[s-1]=arguments[s];return(t=a(o(n.prototype),"emit",this)).call.apply(t,[this,e].concat(i)),this}},{key:"emitReserved",value:function(e){for(var t,r=arguments.length,i=new Array(r>1?r-1:0),s=1;s<r;s++)i[s-1]=arguments[s];return(t=a(o(n.prototype),"emit",this)).call.apply(t,[this,e].concat(i)),this}},{key:"listeners",value:function(e){return a(o(n.prototype),"listeners",this).call(this,e)}}]),n}(n(9773));t.StrictEventEmitter=c},2029:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.url=void 0;var r=n(1176),i=n(8392)("socket.io-client:url");t.url=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2?arguments[2]:void 0,a=e;n=n||"undefined"!==typeof location&&location,null==e&&(e=n.protocol+"//"+n.host),"string"===typeof e&&("/"===e.charAt(0)&&(e="/"===e.charAt(1)?n.protocol+e:n.host+e),/^(https?|wss?):\/\//.test(e)||(i("protocol-less url %s",e),e="undefined"!==typeof n?n.protocol+"//"+e:"https://"+e),i("parse %s",e),a=r(e)),a.port||(/^(http|ws)$/.test(a.protocol)?a.port="80":/^(http|ws)s$/.test(a.protocol)&&(a.port="443")),a.path=a.path||"/";var o=-1!==a.host.indexOf(":"),s=o?"["+a.host+"]":a.host;return a.id=a.protocol+"://"+s+":"+a.port+t,a.href=a.protocol+"://"+s+(n&&n.port===a.port?"":":"+a.port),a}}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r].call(a.exports,a,a.exports,n),a.exports}n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},function(){var e,t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__};n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var a=Object.create(null);n.r(a);var o={};e=e||[null,t({}),t([]),t(t)];for(var s=2&i&&r;"object"==typeof s&&!~e.indexOf(s);s=t(s))Object.getOwnPropertyNames(s).forEach((function(e){o[e]=function(){return r[e]}}));return o.default=function(){return r},n.d(a,o),a}}(),n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},function(){"use strict";var e,t=n(2791),r=n.t(t,2),i=n(1250);function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function o(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function s(e,t){if(e){if("string"===typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(e,t):void 0}}function l(e){return function(e){if(Array.isArray(e))return a(e)}(e)||o(e)||s(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u(e)}function d(e){var t=function(e,t){if("object"!==u(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==u(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===u(t)?t:String(t)}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,d(r.key),r)}}function h(e,t,n){return t&&f(e.prototype,t),n&&f(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function p(e,t){return p=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},p(e,t)}function m(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&p(e,t)}function v(e){return v=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},v(e)}function g(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(Jv){return!1}}function y(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function x(e,t){if(t&&("object"===u(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return y(e)}function b(e){var t=g();return function(){var n,r=v(e);if(t){var i=v(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return x(this,n)}}function _(e){if(Array.isArray(e))return e}function w(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function k(e,t){return _(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,s=[],l=!0,c=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}(e,t)||s(e,t)||w()}function S(e,t,n){return S=g()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&p(i,n.prototype),i},S.apply(null,arguments)}function E(e){var t="function"===typeof Map?new Map:void 0;return E=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return S(e,arguments,v(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),p(r,e)},E(e)}function C(e){return _(e)||o(e)||s(e)||w()}function T(){return T=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},T.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(e||(e={}));var M,I="popstate";function O(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function P(e,t){return{usr:e.state,key:e.key,idx:t}}function A(e,t,n,r){return void 0===n&&(n=null),T({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?j(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function z(e){var t=e.pathname,n=void 0===t?"/":t,r=e.search,i=void 0===r?"":r,a=e.hash,o=void 0===a?"":a;return i&&"?"!==i&&(n+="?"===i.charAt(0)?i:"?"+i),o&&"#"!==o&&(n+="#"===o.charAt(0)?o:"#"+o),n}function j(e){var t={};if(e){var n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));var r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function R(t,n,r,i){void 0===i&&(i={});var a=i,o=a.window,s=void 0===o?document.defaultView:o,l=a.v5Compat,c=void 0!==l&&l,u=s.history,d=e.Pop,f=null,h=p();function p(){return(u.state||{idx:null}).idx}function m(){d=e.Pop;var t=p(),n=null==t?null:t-h;h=t,f&&f({action:d,location:g.location,delta:n})}function v(e){var t="null"!==s.location.origin?s.location.origin:s.location.href,n="string"===typeof e?e:z(e);return O(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==h&&(h=0,u.replaceState(T({},u.state,{idx:h}),""));var g={get action(){return d},get location(){return t(s,u)},listen:function(e){if(f)throw new Error("A history only accepts one active listener");return s.addEventListener(I,m),f=e,function(){s.removeEventListener(I,m),f=null}},createHref:function(e){return n(s,e)},createURL:v,encodeLocation:function(e){var t=v(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(t,n){d=e.Push;var i=A(g.location,t,n);r&&r(i,t);var a=P(i,h=p()+1),o=g.createHref(i);try{u.pushState(a,"",o)}catch(l){s.location.assign(o)}c&&f&&f({action:d,location:g.location,delta:1})},replace:function(t,n){d=e.Replace;var i=A(g.location,t,n);r&&r(i,t);var a=P(i,h=p()),o=g.createHref(i);u.replaceState(a,"",o),c&&f&&f({action:d,location:g.location,delta:0})},go:function(e){return u.go(e)}};return g}function D(e,t,n){void 0===n&&(n="/");var r=W(("string"===typeof t?j(t):t).pathname||"/",n);if(null==r)return null;var i=L(e);!function(e){e.sort((function(e,t){return e.score!==t.score?t.score-e.score:function(e,t){var n=e.length===t.length&&e.slice(0,-1).every((function(e,n){return e===t[n]}));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((function(e){return e.childrenIndex})),t.routesMeta.map((function(e){return e.childrenIndex})))}))}(i);for(var a=null,o=0;null==a&&o<i.length;++o)a=U(i[o],G(r));return a}function L(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");var i=function(e,i,a){var o={relativePath:void 0===a?e.path||"":a,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};o.relativePath.startsWith("/")&&(O(o.relativePath.startsWith(r),'Absolute route path "'+o.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),o.relativePath=o.relativePath.slice(r.length));var s=Y([r,o.relativePath]),l=n.concat(o);e.children&&e.children.length>0&&(O(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+s+'".'),L(e.children,t,l,s)),(null!=e.path||e.index)&&t.push({path:s,score:V(s,e.index),routesMeta:l})};return e.forEach((function(e,t){var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?")){var r,a=function(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=s(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){l=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(l)throw a}}}}(N(e.path));try{for(a.s();!(r=a.n()).done;){var o=r.value;i(e,t,o)}}catch(l){a.e(l)}finally{a.f()}}else i(e,t)})),t}function N(e){var t=e.split("/");if(0===t.length)return[];var n=C(t),r=n[0],i=n.slice(1),a=r.endsWith("?"),o=r.replace(/\?$/,"");if(0===i.length)return a?[o,""]:[o];var s=N(i.join("/")),c=[];return c.push.apply(c,l(s.map((function(e){return""===e?o:[o,e].join("/")})))),a&&c.push.apply(c,l(s)),c.map((function(t){return e.startsWith("/")&&""===t?"/":t}))}!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(M||(M={}));var B=/^:\w+$/,F=function(e){return"*"===e};function V(e,t){var n=e.split("/"),r=n.length;return n.some(F)&&(r+=-2),t&&(r+=2),n.filter((function(e){return!F(e)})).reduce((function(e,t){return e+(B.test(t)?3:""===t?1:10)}),r)}function U(e,t){for(var n=e.routesMeta,r={},i="/",a=[],o=0;o<n.length;++o){var s=n[o],l=o===n.length-1,c="/"===i?t:t.slice(i.length)||"/",u=H({path:s.relativePath,caseSensitive:s.caseSensitive,end:l},c);if(!u)return null;Object.assign(r,u.params);var d=s.route;a.push({params:r,pathname:Y([i,u.pathname]),pathnameBase:$(Y([i,u.pathnameBase])),route:d}),"/"!==u.pathnameBase&&(i=Y([i,u.pathnameBase]))}return a}function H(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});var n=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);q("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');var r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(function(e,t){return r.push(t),"/([^\\/]+)"}));e.endsWith("*")?(r.push("*"),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");var a=new RegExp(i,t?void 0:"i");return[a,r]}(e.path,e.caseSensitive,e.end),r=k(n,2),i=r[0],a=r[1],o=t.match(i);if(!o)return null;var s=o[0],l=s.replace(/(.)\/+$/,"$1"),c=o.slice(1),u=a.reduce((function(e,t,n){if("*"===t){var r=c[n]||"";l=s.slice(0,s.length-r.length).replace(/(.)\/+$/,"$1")}return e[t]=function(e,t){try{return decodeURIComponent(e)}catch(n){return q(!1,'The value for the URL param "'+t+'" will not be decoded because the string "'+e+'" is a malformed URL segment. This is probably due to a bad percent encoding ('+n+")."),e}}(c[n]||"",t),e}),{});return{params:u,pathname:s,pathnameBase:l,pattern:e}}function G(e){try{return decodeURI(e)}catch(t){return q(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function W(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;var n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function q(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(Jv){}}}function X(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function Z(e){return e.filter((function(e,t){return 0===t||e.route.path&&e.route.path.length>0}))}function K(e,t,n,r){var i;void 0===r&&(r=!1),"string"===typeof e?i=j(e):(O(!(i=T({},e)).pathname||!i.pathname.includes("?"),X("?","pathname","search",i)),O(!i.pathname||!i.pathname.includes("#"),X("#","pathname","hash",i)),O(!i.search||!i.search.includes("#"),X("#","search","hash",i)));var a,o=""===e||""===i.pathname,s=o?"/":i.pathname;if(r||null==s)a=n;else{var l=t.length-1;if(s.startsWith("..")){for(var c=s.split("/");".."===c[0];)c.shift(),l-=1;i.pathname=c.join("/")}a=l>=0?t[l]:"/"}var u=function(e,t){void 0===t&&(t="/");var n="string"===typeof e?j(e):e,r=n.pathname,i=n.search,a=void 0===i?"":i,o=n.hash,s=void 0===o?"":o,l=r?r.startsWith("/")?r:function(e,t){var n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((function(e){".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(r,t):t;return{pathname:l,search:J(a),hash:Q(s)}}(i,a),d=s&&"/"!==s&&s.endsWith("/"),f=(o||"."===s)&&n.endsWith("/");return u.pathname.endsWith("/")||!d&&!f||(u.pathname+="/"),u}var Y=function(e){return e.join("/").replace(/\/\/+/g,"/")},$=function(e){return e.replace(/\/+$/,"").replace(/^\/*/,"/")},J=function(e){return e&&"?"!==e?e.startsWith("?")?e:"?"+e:""},Q=function(e){return e&&"#"!==e?e.startsWith("#")?e:"#"+e:""},ee=function(e){m(n,e);var t=b(n);function n(){return c(this,n),t.apply(this,arguments)}return h(n)}(E(Error));function te(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}var ne=["post","put","patch","delete"],re=(new Set(ne),["get"].concat(ne));new Set(re),new Set([301,302,303,307,308]),new Set([307,308]),"undefined"!==typeof window&&"undefined"!==typeof window.document&&window.document.createElement;Symbol("deferred");function ie(){return ie=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ie.apply(this,arguments)}var ae="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},oe=t.useState,se=t.useEffect,le=t.useLayoutEffect,ce=t.useDebugValue;function ue(e){var t=e.getSnapshot,n=e.value;try{var r=t();return!ae(n,r)}catch(i){return!0}}"undefined"===typeof window||"undefined"===typeof window.document||window.document.createElement,r.useSyncExternalStore;var de=t.createContext(null);var fe=t.createContext(null);var he=t.createContext(null);var pe=t.createContext(null);var me=t.createContext(null);var ve=t.createContext({outlet:null,matches:[]});var ge=t.createContext(null);function ye(){return null!=t.useContext(me)}function xe(){return ye()||O(!1),t.useContext(me).location}function be(){ye()||O(!1);var e=t.useContext(pe),n=e.basename,r=e.navigator,i=t.useContext(ve).matches,a=xe().pathname,o=JSON.stringify(Z(i).map((function(e){return e.pathnameBase}))),s=t.useRef(!1);t.useEffect((function(){s.current=!0}));var l=t.useCallback((function(e,t){if(void 0===t&&(t={}),s.current)if("number"!==typeof e){var i=K(e,JSON.parse(o),a,"path"===t.relative);"/"!==n&&(i.pathname="/"===i.pathname?n:Y([n,i.pathname])),(t.replace?r.replace:r.push)(i,t.state,t)}else r.go(e)}),[n,r,o,a]);return l}function _e(){var e=t.useContext(ve).matches,n=e[e.length-1];return n?n.params:{}}function we(e,n){var r=(void 0===n?{}:n).relative,i=t.useContext(ve).matches,a=xe().pathname,o=JSON.stringify(Z(i).map((function(e){return e.pathnameBase})));return t.useMemo((function(){return K(e,JSON.parse(o),a,"path"===r)}),[e,o,a,r])}function ke(){var e=function(){var e,n=t.useContext(ge),r=Ie(Ee.UseRouteError),i=Oe(Ee.UseRouteError);if(n)return n;return null==(e=r.errors)?void 0:e[i]}(),n=te(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,i="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:i};return t.createElement(t.Fragment,null,t.createElement("h2",null,"Unexpected Application Error!"),t.createElement("h3",{style:{fontStyle:"italic"}},n),r?t.createElement("pre",{style:a},r):null,null)}var Se,Ee,Ce=function(e){m(r,e);var n=b(r);function r(e){var t;return c(this,r),(t=n.call(this,e)).state={location:e.location,error:e.error},t}return h(r,[{key:"componentDidCatch",value:function(e,t){console.error("React Router caught the following error during render",e,t)}},{key:"render",value:function(){return this.state.error?t.createElement(ve.Provider,{value:this.props.routeContext},t.createElement(ge.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{error:e}}},{key:"getDerivedStateFromProps",value:function(e,t){return t.location!==e.location?{error:e.error,location:e.location}:{error:e.error||t.error,location:t.location}}}]),r}(t.Component);function Te(e){var n=e.routeContext,r=e.match,i=e.children,a=t.useContext(de);return a&&a.static&&a.staticContext&&r.route.errorElement&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),t.createElement(ve.Provider,{value:n},i)}function Me(e,n,r){if(void 0===n&&(n=[]),null==e){if(null==r||!r.errors)return null;e=r.matches}var i=e,a=null==r?void 0:r.errors;if(null!=a){var o=i.findIndex((function(e){return e.route.id&&(null==a?void 0:a[e.route.id])}));o>=0||O(!1),i=i.slice(0,Math.min(i.length,o+1))}return i.reduceRight((function(e,o,s){var l=o.route.id?null==a?void 0:a[o.route.id]:null,c=r?o.route.errorElement||t.createElement(ke,null):null,u=n.concat(i.slice(0,s+1)),d=function(){return t.createElement(Te,{match:o,routeContext:{outlet:e,matches:u}},l?c:void 0!==o.route.element?o.route.element:e)};return r&&(o.route.errorElement||0===s)?t.createElement(Ce,{location:r.location,component:c,error:l,children:d(),routeContext:{outlet:null,matches:u}}):d()}),null)}function Ie(e){var n=t.useContext(fe);return n||O(!1),n}function Oe(e){var n=function(e){var n=t.useContext(ve);return n||O(!1),n}(),r=n.matches[n.matches.length-1];return r.route.id||O(!1),r.route.id}!function(e){e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator"}(Se||(Se={})),function(e){e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator"}(Ee||(Ee={}));var Pe;function Ae(e){O(!1)}function ze(n){var r=n.basename,i=void 0===r?"/":r,a=n.children,o=void 0===a?null:a,s=n.location,l=n.navigationType,c=void 0===l?e.Pop:l,u=n.navigator,d=n.static,f=void 0!==d&&d;ye()&&O(!1);var h=i.replace(/^\/*/,"/"),p=t.useMemo((function(){return{basename:h,navigator:u,static:f}}),[h,u,f]);"string"===typeof s&&(s=j(s));var m=s,v=m.pathname,g=void 0===v?"/":v,y=m.search,x=void 0===y?"":y,b=m.hash,_=void 0===b?"":b,w=m.state,k=void 0===w?null:w,S=m.key,E=void 0===S?"default":S,C=t.useMemo((function(){var e=W(g,h);return null==e?null:{pathname:e,search:x,hash:_,state:k,key:E}}),[h,g,x,_,k,E]);return null==C?null:t.createElement(pe.Provider,{value:p},t.createElement(me.Provider,{children:o,value:{location:C,navigationType:c}}))}function je(n){var r=n.children,i=n.location,a=t.useContext(de);return function(n,r){ye()||O(!1);var i,a=t.useContext(pe).navigator,o=t.useContext(fe),s=t.useContext(ve).matches,l=s[s.length-1],c=l?l.params:{},u=(l&&l.pathname,l?l.pathnameBase:"/"),d=(l&&l.route,xe());if(r){var f,h="string"===typeof r?j(r):r;"/"===u||(null==(f=h.pathname)?void 0:f.startsWith(u))||O(!1),i=h}else i=d;var p=i.pathname||"/",m=D(n,{pathname:"/"===u?p:p.slice(u.length)||"/"}),v=Me(m&&m.map((function(e){return Object.assign({},e,{params:Object.assign({},c,e.params),pathname:Y([u,a.encodeLocation?a.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?u:Y([u,a.encodeLocation?a.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})})),s,o||void 0);return r&&v?t.createElement(me.Provider,{value:{location:ie({pathname:"/",search:"",hash:"",state:null,key:"default"},i),navigationType:e.Pop}},v):v}(a&&!r?a.router.routes:De(r),i)}!function(e){e[e.pending=0]="pending",e[e.success=1]="success",e[e.error=2]="error"}(Pe||(Pe={}));var Re=new Promise((function(){}));t.Component;function De(e,n){void 0===n&&(n=[]);var r=[];return t.Children.forEach(e,(function(e,i){if(t.isValidElement(e))if(e.type!==t.Fragment){e.type!==Ae&&O(!1),e.props.index&&e.props.children&&O(!1);var a=[].concat(l(n),[i]),o={id:e.props.id||a.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,hasErrorBoundary:null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle};e.props.children&&(o.children=De(e.props.children,a)),r.push(o)}else r.push.apply(r,De(e.props.children,n))})),r}function Le(){Le=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(I){l=function(e,t,n){return e[t]=n}}function c(e,t,n,i){var a=t&&t.prototype instanceof h?t:h,o=Object.create(a.prototype),s=new C(i||[]);return r(o,"_invoke",{value:w(e,n,s)}),o}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(I){return{type:"throw",arg:I}}}e.wrap=c;var f={};function h(){}function p(){}function m(){}var v={};l(v,a,(function(){return this}));var g=Object.getPrototypeOf,y=g&&g(g(T([])));y&&y!==t&&n.call(y,a)&&(v=y);var x=m.prototype=h.prototype=Object.create(v);function b(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function _(e,t){function i(r,a,o,s){var l=d(e[r],e,a);if("throw"!==l.type){var c=l.arg,f=c.value;return f&&"object"==u(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){i("next",e,o,s)}),(function(e){i("throw",e,o,s)})):t.resolve(f).then((function(e){c.value=e,o(c)}),(function(e){return i("throw",e,o,s)}))}s(l.arg)}var a;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){i(e,n,t,r)}))}return a=a?a.then(r,r):r()}})}function w(e,t,n){var r="suspendedStart";return function(i,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw a;return M()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var s=k(o,n);if(s){if(s===f)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=d(e,t,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}function k(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,k(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var i=d(r,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,f;var a=i.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function T(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:M}}function M(){return{value:void 0,done:!0}}return p.prototype=m,r(x,"constructor",{value:m,configurable:!0}),r(m,"constructor",{value:p,configurable:!0}),p.displayName=l(m,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,l(e,s,"GeneratorFunction")),e.prototype=Object.create(x),e},e.awrap=function(e){return{__await:e}},b(_.prototype),l(_.prototype,o,(function(){return this})),e.AsyncIterator=_,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new _(c(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},b(x),l(x,s,"Generator"),l(x,a,(function(){return this})),l(x,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=T,C.prototype={constructor:C,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],o=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var s=n.call(a,"catchLoc"),l=n.call(a,"finallyLoc");if(s&&l){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,f):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),E(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;E(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:T(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},e}function Ne(e,t,n,r,i,a,o){try{var s=e[a](o),l=s.value}catch(c){return void n(c)}s.done?t(l):Promise.resolve(l).then(r,i)}function Be(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){Ne(a,r,i,o,s,"next",e)}function s(e){Ne(a,r,i,o,s,"throw",e)}o(void 0)}))}}function Fe(e,t,n){return(t=d(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ve=n(1694),Ue=n.n(Ve),He="anticon",Ge=t.createContext({getPrefixCls:function(e,t){return t||(e?"ant-".concat(e):"ant")},iconPrefixCls:He}),We=Ge.Consumer;function qe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Xe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?qe(Object(n),!0).forEach((function(t){Fe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ze=function(e){for(var t,n=0,r=0,i=e.length;i>=4;++r,i-=4)t=1540483477*(65535&(t=255&e.charCodeAt(r)|(255&e.charCodeAt(++r))<<8|(255&e.charCodeAt(++r))<<16|(255&e.charCodeAt(++r))<<24))+(59797*(t>>>16)<<16),n=1540483477*(65535&(t^=t>>>24))+(59797*(t>>>16)<<16)^1540483477*(65535&n)+(59797*(n>>>16)<<16);switch(i){case 3:n^=(255&e.charCodeAt(r+2))<<16;case 2:n^=(255&e.charCodeAt(r+1))<<8;case 1:n=1540483477*(65535&(n^=255&e.charCodeAt(r)))+(59797*(n>>>16)<<16)}return(((n=1540483477*(65535&(n^=n>>>13))+(59797*(n>>>16)<<16))^n>>>15)>>>0).toString(36)};function Ke(e,n,r){var i=t.useRef({});return"value"in i.current&&!r(i.current.condition,n)||(i.current.value=e(),i.current.condition=n),i.current.value}var Ye={};function $e(e,t){0}function Je(e,t,n){t||Ye[n]||(e(!1,n),Ye[n]=!0)}var Qe=function(e,t){Je($e,e,t)};var et=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=new Set;function i(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=r.has(e);if(Qe(!o,"Warning: There may be circular references"),o)return!1;if(e===t)return!0;if(n&&a>1)return!1;r.add(e);var s=a+1;if(Array.isArray(e)){if(!Array.isArray(t)||e.length!==t.length)return!1;for(var l=0;l<e.length;l++)if(!i(e[l],t[l],s))return!1;return!0}if(e&&t&&"object"===u(e)&&"object"===u(t)){var c=Object.keys(e);return c.length===Object.keys(t).length&&c.every((function(n){return i(e[n],t[n],s)}))}return!1}return i(e,t)},tt=function(){function e(){c(this,e),Fe(this,"cache",new Map)}return h(e,[{key:"get",value:function(e){return this.cache.get(e.join("%"))||null}},{key:"update",value:function(e,t){var n=e.join("%"),r=t(this.cache.get(n));null===r?this.cache.delete(n):this.cache.set(n,r)}}]),e}(),nt=tt,rt="data-token-hash",it="data-css-hash",at="__cssinjs_instance__",ot=Math.random().toString(12).slice(2);function st(){if("undefined"!==typeof document&&document.head&&document.body){var e=document.body.querySelectorAll("style[".concat(it,"]"))||[],t=document.head.firstChild;Array.from(e).forEach((function(e){e[at]=e[at]||ot,document.head.insertBefore(e,t)}));var n={};Array.from(document.querySelectorAll("style[".concat(it,"]"))).forEach((function(e){var t,r=e.getAttribute(it);n[r]?e[at]===ot&&(null===(t=e.parentNode)||void 0===t||t.removeChild(e)):n[r]=!0}))}return new nt}var lt=t.createContext({hashPriority:"low",cache:st(),defaultCache:!0}),ct=lt;var ut=function(){return!1};function dt(e,n,r,i){var a=t.useContext(ct).cache,o=[e].concat(l(n));ut();return t.useMemo((function(){a.update(o,(function(e){var t=k(e||[],2),n=t[0];return[(void 0===n?0:n)+1,t[1]||r()]}))}),[o.join("_")]),t.useEffect((function(){return function(){a.update(o,(function(e){var t=k(e||[],2),n=t[0],r=void 0===n?0:n,a=t[1];return 0===r-1?(null===i||void 0===i||i(a,!1),null):[r-1,a]}))}}),o),a.get(o)[1]}function ft(){return!("undefined"===typeof window||!window.document||!window.document.createElement)}function ht(e,t){if(!e)return!1;if(e.contains)return e.contains(t);for(var n=t;n;){if(n===e)return!0;n=n.parentNode}return!1}var pt="data-rc-order",mt="rc-util-key",vt=new Map;function gt(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.mark;return t?t.startsWith("data-")?t:"data-".concat(t):mt}function yt(e){return e.attachTo?e.attachTo:document.querySelector("head")||document.body}function xt(e){return"queue"===e?"prependQueue":e?"prepend":"append"}function bt(e){return Array.from((vt.get(e)||e).children).filter((function(e){return"STYLE"===e.tagName}))}function _t(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!ft())return null;var n=t.csp,r=t.prepend,i=document.createElement("style");i.setAttribute(pt,xt(r)),null!==n&&void 0!==n&&n.nonce&&(i.nonce=null===n||void 0===n?void 0:n.nonce),i.innerHTML=e;var a=yt(t),o=a.firstChild;if(r){if("queue"===r){var s=bt(a).filter((function(e){return["prepend","prependQueue"].includes(e.getAttribute(pt))}));if(s.length)return a.insertBefore(i,s[s.length-1].nextSibling),i}a.insertBefore(i,o)}else a.appendChild(i);return i}function wt(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=yt(t);return bt(n).find((function(n){return n.getAttribute(gt(t))===e}))}function kt(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=wt(e,t);if(n){var r=yt(t);r.removeChild(n)}}function St(e,t){var n=vt.get(e);if(!n||!ht(document,n)){var r=_t("",t),i=r.parentNode;vt.set(e,i),e.removeChild(r)}}function Et(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=yt(n);St(r,n);var i=wt(t,n);if(i){var a,o,s;if(null!==(a=n.csp)&&void 0!==a&&a.nonce&&i.nonce!==(null===(o=n.csp)||void 0===o?void 0:o.nonce))i.nonce=null===(s=n.csp)||void 0===s?void 0:s.nonce;return i.innerHTML!==e&&(i.innerHTML=e),i}var l=_t(e,n);return l.setAttribute(gt(n),t),l}function Ct(e){var t="";return Object.keys(e).forEach((function(n){var r=e[n];t+=n,r&&"object"===u(r)?t+=Ct(r):t+=r})),t}function Tt(e,t){return Ze("".concat(t,"_").concat(Ct(e)))}var Mt="layer-".concat(Date.now(),"-").concat(Math.random()).replace(/\./g,""),It="903px";var Ot=void 0;function Pt(){return void 0===Ot&&(Ot=function(e,t){if(ft()){var n;Et(e,Mt);var r=document.createElement("div");r.style.position="fixed",r.style.left="0",r.style.top="0",null===t||void 0===t||t(r),document.body.appendChild(r);var i=getComputedStyle(r).width===It;return null===(n=r.parentNode)||void 0===n||n.removeChild(r),kt(Mt),i}return!1}("@layer ".concat(Mt," { .").concat(Mt," { width: ").concat(It,"!important; } }"),(function(e){e.className=Mt}))),Ot}var At={},zt=new Map;function jt(e){zt.set(e,(zt.get(e)||0)+1)}function Rt(e){zt.set(e,(zt.get(e)||0)-1);var t=Array.from(zt.keys()),n=t.filter((function(e){return(zt.get(e)||0)<=0}));n.length<t.length&&n.forEach((function(e){!function(e){"undefined"!==typeof document&&document.querySelectorAll("style[".concat(rt,'="').concat(e,'"]')).forEach((function(e){var t;e[at]===ot&&(null===(t=e.parentNode)||void 0===t||t.removeChild(e))}))}(e),zt.delete(e)}))}function Dt(){return Dt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Dt.apply(this,arguments)}var Lt={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},Nt="comm",Bt="rule",Ft="decl",Vt=Math.abs,Ut=String.fromCharCode;Object.assign;function Ht(e){return e.trim()}function Gt(e,t,n){return e.replace(t,n)}function Wt(e,t){return e.indexOf(t)}function qt(e,t){return 0|e.charCodeAt(t)}function Xt(e,t,n){return e.slice(t,n)}function Zt(e){return e.length}function Kt(e){return e.length}function Yt(e,t){return t.push(e),e}function $t(e,t){for(var n="",r=Kt(e),i=0;i<r;i++)n+=t(e[i],i,e,t)||"";return n}function Jt(e,t,n,r){switch(e.type){case"@import":case Ft:return e.return=e.return||e.value;case Nt:return"";case"@keyframes":return e.return=e.value+"{"+$t(e.children,r)+"}";case Bt:e.value=e.props.join(",")}return Zt(n=$t(e.children,r))?e.return=e.value+"{"+n+"}":""}var Qt=1,en=1,tn=0,nn=0,rn=0,an="";function on(e,t,n,r,i,a,o){return{value:e,root:t,parent:n,type:r,props:i,children:a,line:Qt,column:en,length:o,return:""}}function sn(){return rn=nn>0?qt(an,--nn):0,en--,10===rn&&(en=1,Qt--),rn}function ln(){return rn=nn<tn?qt(an,nn++):0,en++,10===rn&&(en=1,Qt++),rn}function cn(){return qt(an,nn)}function un(){return nn}function dn(e,t){return Xt(an,e,t)}function fn(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function hn(e){return Qt=en=1,tn=Zt(an=e),nn=0,[]}function pn(e){return an="",e}function mn(e){return Ht(dn(nn-1,yn(91===e?e+2:40===e?e+1:e)))}function vn(e){for(;(rn=cn())&&rn<33;)ln();return fn(e)>2||fn(rn)>3?"":" "}function gn(e,t){for(;--t&&ln()&&!(rn<48||rn>102||rn>57&&rn<65||rn>70&&rn<97););return dn(e,un()+(t<6&&32==cn()&&32==ln()))}function yn(e){for(;ln();)switch(rn){case e:return nn;case 34:case 39:34!==e&&39!==e&&yn(rn);break;case 40:41===e&&yn(e);break;case 92:ln()}return nn}function xn(e,t){for(;ln()&&e+rn!==57&&(e+rn!==84||47!==cn()););return"/*"+dn(t,nn-1)+"*"+Ut(47===e?e:ln())}function bn(e){for(;!fn(cn());)ln();return dn(e,nn)}function _n(e){return pn(wn("",null,null,null,[""],e=hn(e),0,[0],e))}function wn(e,t,n,r,i,a,o,s,l){for(var c=0,u=0,d=o,f=0,h=0,p=0,m=1,v=1,g=1,y=0,x="",b=i,_=a,w=r,k=x;v;)switch(p=y,y=ln()){case 40:if(108!=p&&58==qt(k,d-1)){-1!=Wt(k+=Gt(mn(y),"&","&\f"),"&\f")&&(g=-1);break}case 34:case 39:case 91:k+=mn(y);break;case 9:case 10:case 13:case 32:k+=vn(p);break;case 92:k+=gn(un()-1,7);continue;case 47:switch(cn()){case 42:case 47:Yt(Sn(xn(ln(),un()),t,n),l);break;default:k+="/"}break;case 123*m:s[c++]=Zt(k)*g;case 125*m:case 59:case 0:switch(y){case 0:case 125:v=0;case 59+u:h>0&&Zt(k)-d&&Yt(h>32?En(k+";",r,n,d-1):En(Gt(k," ","")+";",r,n,d-2),l);break;case 59:k+=";";default:if(Yt(w=kn(k,t,n,c,u,i,s,x,b=[],_=[],d),a),123===y)if(0===u)wn(k,t,w,w,b,a,d,s,_);else switch(99===f&&110===qt(k,3)?100:f){case 100:case 109:case 115:wn(e,w,w,r&&Yt(kn(e,w,w,0,0,i,s,x,i,b=[],d),_),i,_,d,s,r?b:_);break;default:wn(k,w,w,w,[""],_,0,s,_)}}c=u=h=0,m=g=1,x=k="",d=o;break;case 58:d=1+Zt(k),h=p;default:if(m<1)if(123==y)--m;else if(125==y&&0==m++&&125==sn())continue;switch(k+=Ut(y),y*m){case 38:g=u>0?1:(k+="\f",-1);break;case 44:s[c++]=(Zt(k)-1)*g,g=1;break;case 64:45===cn()&&(k+=mn(ln())),f=cn(),u=d=Zt(x=k+=bn(un())),y++;break;case 45:45===p&&2==Zt(k)&&(m=0)}}return a}function kn(e,t,n,r,i,a,o,s,l,c,u){for(var d=i-1,f=0===i?a:[""],h=Kt(f),p=0,m=0,v=0;p<r;++p)for(var g=0,y=Xt(e,d+1,d=Vt(m=o[p])),x=e;g<h;++g)(x=Ht(m>0?f[g]+" "+y:Gt(y,/&\f/g,f[g])))&&(l[v++]=x);return on(e,t,n,0===i?Bt:s,l,c,u)}function Sn(e,t,n){return on(e,t,n,Nt,Ut(rn),Xt(e,2,-2),0)}function En(e,t,n,r){return on(e,t,n,Ft,Xt(e,0,r),Xt(e,r+1,-1),r)}var Cn=ft();function Tn(e){return $t(_n(e),Jt).replace(/\{%%%\:[^;];}/g,";")}function Mn(e){return"object"===u(e)&&e&&"_skip_check_"in e}function In(e,t,n){if(!t)return e;var r=".".concat(t),i="low"===n?":where(".concat(r,")"):r;return e.split(",").map((function(e){var t,n=e.trim().split(/\s+/),r=n[0]||"",a=(null===(t=r.match(/^\w+/))||void 0===t?void 0:t[0])||"";return[r="".concat(a).concat(i).concat(r.slice(a.length))].concat(l(n.slice(1))).join(" ")})).join(",")}var On=new Set,Pn=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{root:!0,parentSelectors:[]},i=r.root,a=r.injectHash,o=r.parentSelectors,s=n.hashId,c=n.layer,d=(n.path,n.hashPriority),f=n.transformers,h=void 0===f?[]:f,p=(n.linters,""),m={};function v(t){var r=t.getName(s);if(!m[r]){var i=k(e(t.style,n,{root:!1,parentSelectors:o}),1)[0];m[r]="@keyframes ".concat(t.getName(s)).concat(i)}}function g(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return e.forEach((function(e){Array.isArray(e)?g(e,t):e&&t.push(e)})),t}var y=g(Array.isArray(t)?t:[t]);if(y.forEach((function(t){var r="string"!==typeof t||i?t:{};if("string"===typeof r)p+="".concat(r,"\n");else if(r._keyframe)v(r);else{var c=h.reduce((function(e,t){var n;return(null===t||void 0===t||null===(n=t.visit)||void 0===n?void 0:n.call(t,e))||e}),r);Object.keys(c).forEach((function(t){var r=c[t];if("object"!==u(r)||!r||"animationName"===t&&r._keyframe||Mn(r)){var f,h=null!==(f=null===r||void 0===r?void 0:r.value)&&void 0!==f?f:r;0;var g=t.replace(/[A-Z]/g,(function(e){return"-".concat(e.toLowerCase())})),y=h;Lt[t]||"number"!==typeof y||0===y||(y="".concat(y,"px")),"animationName"===t&&null!==r&&void 0!==r&&r._keyframe&&(v(r),y=r.getName(s)),p+="".concat(g,":").concat(y,";")}else{var x=!1,b=t.trim(),_=!1;(i||a)&&s?b.startsWith("@")?x=!0:b=In(t,s,d):!i||s||"&"!==b&&""!==b||(b="",_=!0);var w=k(e(r,n,{root:_,injectHash:x,parentSelectors:[].concat(l(o),[b])}),2),S=w[0],E=w[1];m=Xe(Xe({},m),E),p+="".concat(b).concat(S)}}))}})),i){if(c&&Pt()){var x=c.split(","),b=x[x.length-1].trim();p="@layer ".concat(b," {").concat(p,"}"),x.length>1&&(p="@layer ".concat(c,"{%%%:%}").concat(p))}}else p="{".concat(p,"}");return[p,m]};function An(){return null}function zn(e,n){var r=e.token,i=e.path,a=e.hashId,o=e.layer,s=t.useContext(ct),c=s.autoClear,u=(s.mock,s.defaultCache),d=s.hashPriority,f=s.container,h=s.ssrInline,p=s.transformers,m=s.linters,v=r._tokenKey,g=[v].concat(l(i)),y=Cn;var x=dt("style",g,(function(){var e=n(),t=k(Pn(e,{hashId:a,hashPriority:d,layer:o,path:i.join("-"),transformers:p,linters:m}),2),r=t[0],s=t[1],l=Tn(r),c=function(e,t){return Ze("".concat(e.join("%")).concat(t))}(g,l);if(y){var u=Et(l,c,{mark:it,prepend:"queue",attachTo:f});u[at]=ot,u.setAttribute(rt,v),Object.keys(s).forEach((function(e){On.has(e)||(On.add(e),Et(Tn(s[e]),"_effect-".concat(e),{mark:it,prepend:"queue",attachTo:f}))}))}return[l,v,c]}),(function(e,t){var n=k(e,3)[2];(t||c)&&Cn&&kt(n,{mark:it})})),b=k(x,3),_=b[0],w=b[1],S=b[2];return function(e){var n,r;h&&!y&&u?n=t.createElement("style",Dt({},(Fe(r={},rt,w),Fe(r,it,S),r),{dangerouslySetInnerHTML:{__html:_}})):n=t.createElement(An,null);return t.createElement(t.Fragment,null,n,e)}}var jn=function(){function e(t,n){c(this,e),Fe(this,"name",void 0),Fe(this,"style",void 0),Fe(this,"_keyframe",!0),this.name=t,this.style=n}return h(e,[{key:"getName",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e?"".concat(e,"-").concat(this.name):this.name}}]),e}(),Rn=jn;var Dn=function(){function e(){c(this,e),Fe(this,"cache",void 0),Fe(this,"keys",void 0),Fe(this,"cacheCallTimes",void 0),this.cache=new Map,this.keys=[],this.cacheCallTimes=0}return h(e,[{key:"size",value:function(){return this.keys.length}},{key:"internalGet",value:function(e){var t,n,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i={map:this.cache};return e.forEach((function(e){var t,n;i?i=null===(t=i)||void 0===t||null===(n=t.map)||void 0===n?void 0:n.get(e):i=void 0})),null!==(t=i)&&void 0!==t&&t.value&&r&&(i.value[1]=this.cacheCallTimes++),null===(n=i)||void 0===n?void 0:n.value}},{key:"get",value:function(e){var t;return null===(t=this.internalGet(e,!0))||void 0===t?void 0:t[0]}},{key:"has",value:function(e){return!!this.internalGet(e)}},{key:"set",value:function(t,n){var r=this;if(!this.has(t)){if(this.size()+1>e.MAX_CACHE_SIZE+e.MAX_CACHE_OFFSET){var i=this.keys.reduce((function(e,t){var n=k(e,2)[1];return r.internalGet(t)[1]<n?[t,r.internalGet(t)[1]]:e}),[this.keys[0],this.cacheCallTimes]),a=k(i,1)[0];this.delete(a)}this.keys.push(t)}var o=this.cache;t.forEach((function(e,i){if(i===t.length-1)o.set(e,{value:[n,r.cacheCallTimes++]});else{var a=o.get(e);a?a.map||(a.map=new Map):o.set(e,{map:new Map}),o=o.get(e).map}}))}},{key:"deleteByPath",value:function(e,t){var n,r=e.get(t[0]);if(1===t.length)return r.map?e.set(t[0],{map:r.map}):e.delete(t[0]),null===(n=r.value)||void 0===n?void 0:n[0];var i=this.deleteByPath(r.map,t.slice(1));return r.map&&0!==r.map.size||r.value||e.delete(t[0]),i}},{key:"delete",value:function(e){if(this.has(e))return this.keys=this.keys.filter((function(t){return!function(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}(t,e)})),this.deleteByPath(this.cache,e)}}]),e}();Fe(Dn,"MAX_CACHE_SIZE",20),Fe(Dn,"MAX_CACHE_OFFSET",5);var Ln=0,Nn=function(){function e(t){c(this,e),Fe(this,"derivatives",void 0),Fe(this,"id",void 0),this.derivatives=Array.isArray(t)?t:[t],this.id=Ln,0===t.length&&$e(t.length),Ln+=1}return h(e,[{key:"getDerivativeToken",value:function(e){return this.derivatives.reduce((function(t,n){return n(e,t)}),void 0)}}]),e}(),Bn=new Dn;function Fn(e){var t=Array.isArray(e)?e:[e];return Bn.has(t)||Bn.set(t,new Nn(t)),Bn.get(t)}function Vn(e){return e.notSplit=!0,e}Vn(["borderTop","borderBottom"]),Vn(["borderTop"]),Vn(["borderBottom"]),Vn(["borderLeft","borderRight"]),Vn(["borderLeft"]),Vn(["borderRight"]);var Un={overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"},Hn=function(e){return{boxSizing:"border-box",margin:0,padding:0,color:e.colorText,fontSize:e.fontSize,lineHeight:e.lineHeight,listStyle:"none",fontFamily:e.fontFamily}},Gn=function(e){var t;return{a:(t={color:e.colorLink,textDecoration:e.linkDecoration,backgroundColor:"transparent",outline:"none",cursor:"pointer",transition:"color ".concat(e.motionDurationSlow),"-webkit-text-decoration-skip":"objects","&:hover":{color:e.colorLinkHover},"&:active":{color:e.colorLinkActive}},Fe(t,"&:active,\n  &:hover",{textDecoration:e.linkHoverDecoration,outline:0}),Fe(t,"&:focus",{textDecoration:e.linkFocusDecoration,outline:0}),Fe(t,"&[disabled]",{color:e.colorTextDisabled,cursor:"not-allowed"}),t)}},Wn=function(e,t){var n=e.fontFamily,r=e.fontSize,i='[class^="'.concat(t,'"], [class*=" ').concat(t,'"]');return Fe({},i,Fe({fontFamily:n,fontSize:r,boxSizing:"border-box","&::before, &::after":{boxSizing:"border-box"}},i,{boxSizing:"border-box","&::before, &::after":{boxSizing:"border-box"}}))},qn=function(e){return{outline:"".concat(e.lineWidthBold,"px solid ").concat(e.colorPrimaryBorder),outlineOffset:1,transition:"outline-offset 0s, outline 0s"}},Xn=function(e){return{"&:focus-visible":Object.assign({},qn(e))}};function Zn(e,t){(function(e){return"string"===typeof e&&-1!==e.indexOf(".")&&1===parseFloat(e)})(e)&&(e="100%");var n=function(e){return"string"===typeof e&&-1!==e.indexOf("%")}(e);return e=360===t?e:Math.min(t,Math.max(0,parseFloat(e))),n&&(e=parseInt(String(e*t),10)/100),Math.abs(e-t)<1e-6?1:e=360===t?(e<0?e%t+t:e%t)/parseFloat(String(t)):e%t/parseFloat(String(t))}function Kn(e){return Math.min(1,Math.max(0,e))}function Yn(e){return e=parseFloat(e),(isNaN(e)||e<0||e>1)&&(e=1),e}function $n(e){return e<=1?"".concat(100*Number(e),"%"):e}function Jn(e){return 1===e.length?"0"+e:String(e)}function Qn(e,t,n){e=Zn(e,255),t=Zn(t,255),n=Zn(n,255);var r=Math.max(e,t,n),i=Math.min(e,t,n),a=0,o=0,s=(r+i)/2;if(r===i)o=0,a=0;else{var l=r-i;switch(o=s>.5?l/(2-r-i):l/(r+i),r){case e:a=(t-n)/l+(t<n?6:0);break;case t:a=(n-e)/l+2;break;case n:a=(e-t)/l+4}a/=6}return{h:a,s:o,l:s}}function er(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*n*(t-e):n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function tr(e,t,n){e=Zn(e,255),t=Zn(t,255),n=Zn(n,255);var r=Math.max(e,t,n),i=Math.min(e,t,n),a=0,o=r,s=r-i,l=0===r?0:s/r;if(r===i)a=0;else{switch(r){case e:a=(t-n)/s+(t<n?6:0);break;case t:a=(n-e)/s+2;break;case n:a=(e-t)/s+4}a/=6}return{h:a,s:l,v:o}}function nr(e,t,n,r){var i=[Jn(Math.round(e).toString(16)),Jn(Math.round(t).toString(16)),Jn(Math.round(n).toString(16))];return r&&i[0].startsWith(i[0].charAt(1))&&i[1].startsWith(i[1].charAt(1))&&i[2].startsWith(i[2].charAt(1))?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0):i.join("")}function rr(e){return Math.round(255*parseFloat(e)).toString(16)}function ir(e){return ar(e)/255}function ar(e){return parseInt(e,16)}var or={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",goldenrod:"#daa520",gold:"#ffd700",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavenderblush:"#fff0f5",lavender:"#e6e6fa",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};function sr(e){var t={r:0,g:0,b:0},n=1,r=null,i=null,a=null,o=!1,s=!1;return"string"===typeof e&&(e=function(e){if(e=e.trim().toLowerCase(),0===e.length)return!1;var t=!1;if(or[e])e=or[e],t=!0;else if("transparent"===e)return{r:0,g:0,b:0,a:0,format:"name"};var n=dr.rgb.exec(e);if(n)return{r:n[1],g:n[2],b:n[3]};if(n=dr.rgba.exec(e),n)return{r:n[1],g:n[2],b:n[3],a:n[4]};if(n=dr.hsl.exec(e),n)return{h:n[1],s:n[2],l:n[3]};if(n=dr.hsla.exec(e),n)return{h:n[1],s:n[2],l:n[3],a:n[4]};if(n=dr.hsv.exec(e),n)return{h:n[1],s:n[2],v:n[3]};if(n=dr.hsva.exec(e),n)return{h:n[1],s:n[2],v:n[3],a:n[4]};if(n=dr.hex8.exec(e),n)return{r:ar(n[1]),g:ar(n[2]),b:ar(n[3]),a:ir(n[4]),format:t?"name":"hex8"};if(n=dr.hex6.exec(e),n)return{r:ar(n[1]),g:ar(n[2]),b:ar(n[3]),format:t?"name":"hex"};if(n=dr.hex4.exec(e),n)return{r:ar(n[1]+n[1]),g:ar(n[2]+n[2]),b:ar(n[3]+n[3]),a:ir(n[4]+n[4]),format:t?"name":"hex8"};if(n=dr.hex3.exec(e),n)return{r:ar(n[1]+n[1]),g:ar(n[2]+n[2]),b:ar(n[3]+n[3]),format:t?"name":"hex"};return!1}(e)),"object"===typeof e&&(fr(e.r)&&fr(e.g)&&fr(e.b)?(t=function(e,t,n){return{r:255*Zn(e,255),g:255*Zn(t,255),b:255*Zn(n,255)}}(e.r,e.g,e.b),o=!0,s="%"===String(e.r).substr(-1)?"prgb":"rgb"):fr(e.h)&&fr(e.s)&&fr(e.v)?(r=$n(e.s),i=$n(e.v),t=function(e,t,n){e=6*Zn(e,360),t=Zn(t,100),n=Zn(n,100);var r=Math.floor(e),i=e-r,a=n*(1-t),o=n*(1-i*t),s=n*(1-(1-i)*t),l=r%6;return{r:255*[n,o,a,a,s,n][l],g:255*[s,n,n,o,a,a][l],b:255*[a,a,s,n,n,o][l]}}(e.h,r,i),o=!0,s="hsv"):fr(e.h)&&fr(e.s)&&fr(e.l)&&(r=$n(e.s),a=$n(e.l),t=function(e,t,n){var r,i,a;if(e=Zn(e,360),t=Zn(t,100),n=Zn(n,100),0===t)i=n,a=n,r=n;else{var o=n<.5?n*(1+t):n+t-n*t,s=2*n-o;r=er(s,o,e+1/3),i=er(s,o,e),a=er(s,o,e-1/3)}return{r:255*r,g:255*i,b:255*a}}(e.h,r,a),o=!0,s="hsl"),Object.prototype.hasOwnProperty.call(e,"a")&&(n=e.a)),n=Yn(n),{ok:o,format:e.format||s,r:Math.min(255,Math.max(t.r,0)),g:Math.min(255,Math.max(t.g,0)),b:Math.min(255,Math.max(t.b,0)),a:n}}var lr="(?:".concat("[-\\+]?\\d*\\.\\d+%?",")|(?:").concat("[-\\+]?\\d+%?",")"),cr="[\\s|\\(]+(".concat(lr,")[,|\\s]+(").concat(lr,")[,|\\s]+(").concat(lr,")\\s*\\)?"),ur="[\\s|\\(]+(".concat(lr,")[,|\\s]+(").concat(lr,")[,|\\s]+(").concat(lr,")[,|\\s]+(").concat(lr,")\\s*\\)?"),dr={CSS_UNIT:new RegExp(lr),rgb:new RegExp("rgb"+cr),rgba:new RegExp("rgba"+ur),hsl:new RegExp("hsl"+cr),hsla:new RegExp("hsla"+ur),hsv:new RegExp("hsv"+cr),hsva:new RegExp("hsva"+ur),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/};function fr(e){return Boolean(dr.CSS_UNIT.exec(String(e)))}var hr=[{index:7,opacity:.15},{index:6,opacity:.25},{index:5,opacity:.3},{index:5,opacity:.45},{index:5,opacity:.65},{index:5,opacity:.85},{index:4,opacity:.9},{index:3,opacity:.95},{index:2,opacity:.97},{index:1,opacity:.98}];function pr(e){var t=tr(e.r,e.g,e.b);return{h:360*t.h,s:t.s,v:t.v}}function mr(e){var t=e.r,n=e.g,r=e.b;return"#".concat(nr(t,n,r,!1))}function vr(e,t,n){var r=n/100;return{r:(t.r-e.r)*r+e.r,g:(t.g-e.g)*r+e.g,b:(t.b-e.b)*r+e.b}}function gr(e,t,n){var r;return(r=Math.round(e.h)>=60&&Math.round(e.h)<=240?n?Math.round(e.h)-2*t:Math.round(e.h)+2*t:n?Math.round(e.h)+2*t:Math.round(e.h)-2*t)<0?r+=360:r>=360&&(r-=360),r}function yr(e,t,n){return 0===e.h&&0===e.s?e.s:((r=n?e.s-.16*t:4===t?e.s+.16:e.s+.05*t)>1&&(r=1),n&&5===t&&r>.1&&(r=.1),r<.06&&(r=.06),Number(r.toFixed(2)));var r}function xr(e,t,n){var r;return(r=n?e.v+.05*t:e.v-.15*t)>1&&(r=1),Number(r.toFixed(2))}function br(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=[],r=sr(e),i=5;i>0;i-=1){var a=pr(r),o=mr(sr({h:gr(a,i,!0),s:yr(a,i,!0),v:xr(a,i,!0)}));n.push(o)}n.push(mr(r));for(var s=1;s<=4;s+=1){var l=pr(r),c=mr(sr({h:gr(l,s),s:yr(l,s),v:xr(l,s)}));n.push(c)}return"dark"===t.theme?hr.map((function(e){var r=e.index,i=e.opacity;return mr(vr(sr(t.backgroundColor||"#141414"),sr(n[r]),100*i))})):n}var _r={red:"#F5222D",volcano:"#FA541C",orange:"#FA8C16",gold:"#FAAD14",yellow:"#FADB14",lime:"#A0D911",green:"#52C41A",cyan:"#13C2C2",blue:"#1677FF",geekblue:"#2F54EB",purple:"#722ED1",magenta:"#EB2F96",grey:"#666666"},wr={},kr={};Object.keys(_r).forEach((function(e){wr[e]=br(_r[e]),wr[e].primary=wr[e][5],kr[e]=br(_r[e],{theme:"dark",backgroundColor:"#141414"}),kr[e].primary=kr[e][5]}));wr.red,wr.volcano,wr.gold,wr.orange,wr.yellow,wr.lime,wr.green,wr.cyan,wr.blue,wr.geekblue,wr.purple,wr.magenta,wr.grey,wr.grey;var Sr=function(e){var t=e.controlHeight;return{controlHeightSM:.75*t,controlHeightXS:.5*t,controlHeightLG:1.25*t}};var Er={blue:"#1677ff",purple:"#722ED1",cyan:"#13C2C2",green:"#52C41A",magenta:"#EB2F96",pink:"#eb2f96",red:"#F5222D",orange:"#FA8C16",yellow:"#FADB14",volcano:"#FA541C",geekblue:"#2F54EB",gold:"#FAAD14",lime:"#A0D911"},Cr=Object.assign(Object.assign({},Er),{colorPrimary:"#1677ff",colorSuccess:"#52c41a",colorWarning:"#faad14",colorError:"#ff4d4f",colorInfo:"#1677ff",colorTextBase:"",colorBgBase:"",fontFamily:"-apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial,\n'Noto Sans', sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol',\n'Noto Color Emoji'",fontSize:14,lineWidth:1,lineType:"solid",motionUnit:.1,motionBase:0,motionEaseOutCirc:"cubic-bezier(0.08, 0.82, 0.17, 1)",motionEaseInOutCirc:"cubic-bezier(0.78, 0.14, 0.15, 0.86)",motionEaseOut:"cubic-bezier(0.215, 0.61, 0.355, 1)",motionEaseInOut:"cubic-bezier(0.645, 0.045, 0.355, 1)",motionEaseOutBack:"cubic-bezier(0.12, 0.4, 0.29, 1.46)",motionEaseInBack:"cubic-bezier(0.71, -0.46, 0.88, 0.6)",motionEaseInQuint:"cubic-bezier(0.755, 0.05, 0.855, 0.06)",motionEaseOutQuint:"cubic-bezier(0.23, 1, 0.32, 1)",borderRadius:6,sizeUnit:4,sizeStep:4,sizePopupArrow:16,controlHeight:32,zIndexBase:0,zIndexPopupBase:1e3,opacityImage:1,wireframe:!1}),Tr=function(){function e(t,n){var r;if(void 0===t&&(t=""),void 0===n&&(n={}),t instanceof e)return t;"number"===typeof t&&(t=function(e){return{r:e>>16,g:(65280&e)>>8,b:255&e}}(t)),this.originalInput=t;var i=sr(t);this.originalInput=t,this.r=i.r,this.g=i.g,this.b=i.b,this.a=i.a,this.roundA=Math.round(100*this.a)/100,this.format=null!==(r=n.format)&&void 0!==r?r:i.format,this.gradientType=n.gradientType,this.r<1&&(this.r=Math.round(this.r)),this.g<1&&(this.g=Math.round(this.g)),this.b<1&&(this.b=Math.round(this.b)),this.isValid=i.ok}return e.prototype.isDark=function(){return this.getBrightness()<128},e.prototype.isLight=function(){return!this.isDark()},e.prototype.getBrightness=function(){var e=this.toRgb();return(299*e.r+587*e.g+114*e.b)/1e3},e.prototype.getLuminance=function(){var e=this.toRgb(),t=e.r/255,n=e.g/255,r=e.b/255;return.2126*(t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4))+.7152*(n<=.03928?n/12.92:Math.pow((n+.055)/1.055,2.4))+.0722*(r<=.03928?r/12.92:Math.pow((r+.055)/1.055,2.4))},e.prototype.getAlpha=function(){return this.a},e.prototype.setAlpha=function(e){return this.a=Yn(e),this.roundA=Math.round(100*this.a)/100,this},e.prototype.isMonochrome=function(){return 0===this.toHsl().s},e.prototype.toHsv=function(){var e=tr(this.r,this.g,this.b);return{h:360*e.h,s:e.s,v:e.v,a:this.a}},e.prototype.toHsvString=function(){var e=tr(this.r,this.g,this.b),t=Math.round(360*e.h),n=Math.round(100*e.s),r=Math.round(100*e.v);return 1===this.a?"hsv(".concat(t,", ").concat(n,"%, ").concat(r,"%)"):"hsva(".concat(t,", ").concat(n,"%, ").concat(r,"%, ").concat(this.roundA,")")},e.prototype.toHsl=function(){var e=Qn(this.r,this.g,this.b);return{h:360*e.h,s:e.s,l:e.l,a:this.a}},e.prototype.toHslString=function(){var e=Qn(this.r,this.g,this.b),t=Math.round(360*e.h),n=Math.round(100*e.s),r=Math.round(100*e.l);return 1===this.a?"hsl(".concat(t,", ").concat(n,"%, ").concat(r,"%)"):"hsla(".concat(t,", ").concat(n,"%, ").concat(r,"%, ").concat(this.roundA,")")},e.prototype.toHex=function(e){return void 0===e&&(e=!1),nr(this.r,this.g,this.b,e)},e.prototype.toHexString=function(e){return void 0===e&&(e=!1),"#"+this.toHex(e)},e.prototype.toHex8=function(e){return void 0===e&&(e=!1),function(e,t,n,r,i){var a=[Jn(Math.round(e).toString(16)),Jn(Math.round(t).toString(16)),Jn(Math.round(n).toString(16)),Jn(rr(r))];return i&&a[0].startsWith(a[0].charAt(1))&&a[1].startsWith(a[1].charAt(1))&&a[2].startsWith(a[2].charAt(1))&&a[3].startsWith(a[3].charAt(1))?a[0].charAt(0)+a[1].charAt(0)+a[2].charAt(0)+a[3].charAt(0):a.join("")}(this.r,this.g,this.b,this.a,e)},e.prototype.toHex8String=function(e){return void 0===e&&(e=!1),"#"+this.toHex8(e)},e.prototype.toRgb=function(){return{r:Math.round(this.r),g:Math.round(this.g),b:Math.round(this.b),a:this.a}},e.prototype.toRgbString=function(){var e=Math.round(this.r),t=Math.round(this.g),n=Math.round(this.b);return 1===this.a?"rgb(".concat(e,", ").concat(t,", ").concat(n,")"):"rgba(".concat(e,", ").concat(t,", ").concat(n,", ").concat(this.roundA,")")},e.prototype.toPercentageRgb=function(){var e=function(e){return"".concat(Math.round(100*Zn(e,255)),"%")};return{r:e(this.r),g:e(this.g),b:e(this.b),a:this.a}},e.prototype.toPercentageRgbString=function(){var e=function(e){return Math.round(100*Zn(e,255))};return 1===this.a?"rgb(".concat(e(this.r),"%, ").concat(e(this.g),"%, ").concat(e(this.b),"%)"):"rgba(".concat(e(this.r),"%, ").concat(e(this.g),"%, ").concat(e(this.b),"%, ").concat(this.roundA,")")},e.prototype.toName=function(){if(0===this.a)return"transparent";if(this.a<1)return!1;for(var e="#"+nr(this.r,this.g,this.b,!1),t=0,n=Object.entries(or);t<n.length;t++){var r=n[t],i=r[0];if(e===r[1])return i}return!1},e.prototype.toString=function(e){var t=Boolean(e);e=null!==e&&void 0!==e?e:this.format;var n=!1,r=this.a<1&&this.a>=0;return t||!r||!e.startsWith("hex")&&"name"!==e?("rgb"===e&&(n=this.toRgbString()),"prgb"===e&&(n=this.toPercentageRgbString()),"hex"!==e&&"hex6"!==e||(n=this.toHexString()),"hex3"===e&&(n=this.toHexString(!0)),"hex4"===e&&(n=this.toHex8String(!0)),"hex8"===e&&(n=this.toHex8String()),"name"===e&&(n=this.toName()),"hsl"===e&&(n=this.toHslString()),"hsv"===e&&(n=this.toHsvString()),n||this.toHexString()):"name"===e&&0===this.a?this.toName():this.toRgbString()},e.prototype.toNumber=function(){return(Math.round(this.r)<<16)+(Math.round(this.g)<<8)+Math.round(this.b)},e.prototype.clone=function(){return new e(this.toString())},e.prototype.lighten=function(t){void 0===t&&(t=10);var n=this.toHsl();return n.l+=t/100,n.l=Kn(n.l),new e(n)},e.prototype.brighten=function(t){void 0===t&&(t=10);var n=this.toRgb();return n.r=Math.max(0,Math.min(255,n.r-Math.round(-t/100*255))),n.g=Math.max(0,Math.min(255,n.g-Math.round(-t/100*255))),n.b=Math.max(0,Math.min(255,n.b-Math.round(-t/100*255))),new e(n)},e.prototype.darken=function(t){void 0===t&&(t=10);var n=this.toHsl();return n.l-=t/100,n.l=Kn(n.l),new e(n)},e.prototype.tint=function(e){return void 0===e&&(e=10),this.mix("white",e)},e.prototype.shade=function(e){return void 0===e&&(e=10),this.mix("black",e)},e.prototype.desaturate=function(t){void 0===t&&(t=10);var n=this.toHsl();return n.s-=t/100,n.s=Kn(n.s),new e(n)},e.prototype.saturate=function(t){void 0===t&&(t=10);var n=this.toHsl();return n.s+=t/100,n.s=Kn(n.s),new e(n)},e.prototype.greyscale=function(){return this.desaturate(100)},e.prototype.spin=function(t){var n=this.toHsl(),r=(n.h+t)%360;return n.h=r<0?360+r:r,new e(n)},e.prototype.mix=function(t,n){void 0===n&&(n=50);var r=this.toRgb(),i=new e(t).toRgb(),a=n/100;return new e({r:(i.r-r.r)*a+r.r,g:(i.g-r.g)*a+r.g,b:(i.b-r.b)*a+r.b,a:(i.a-r.a)*a+r.a})},e.prototype.analogous=function(t,n){void 0===t&&(t=6),void 0===n&&(n=30);var r=this.toHsl(),i=360/n,a=[this];for(r.h=(r.h-(i*t>>1)+720)%360;--t;)r.h=(r.h+i)%360,a.push(new e(r));return a},e.prototype.complement=function(){var t=this.toHsl();return t.h=(t.h+180)%360,new e(t)},e.prototype.monochromatic=function(t){void 0===t&&(t=6);for(var n=this.toHsv(),r=n.h,i=n.s,a=n.v,o=[],s=1/t;t--;)o.push(new e({h:r,s:i,v:a})),a=(a+s)%1;return o},e.prototype.splitcomplement=function(){var t=this.toHsl(),n=t.h;return[this,new e({h:(n+72)%360,s:t.s,l:t.l}),new e({h:(n+216)%360,s:t.s,l:t.l})]},e.prototype.onBackground=function(t){var n=this.toRgb(),r=new e(t).toRgb();return new e({r:r.r+(n.r-r.r)*n.a,g:r.g+(n.g-r.g)*n.a,b:r.b+(n.b-r.b)*n.a})},e.prototype.triad=function(){return this.polyad(3)},e.prototype.tetrad=function(){return this.polyad(4)},e.prototype.polyad=function(t){for(var n=this.toHsl(),r=n.h,i=[this],a=360/t,o=1;o<t;o++)i.push(new e({h:(r+o*a)%360,s:n.s,l:n.l}));return i},e.prototype.equals=function(t){return this.toRgbString()===new e(t).toRgbString()},e}();var Mr=function(e){var t=e,n=e,r=e,i=e;return e<6&&e>=5?t=e+1:e<16&&e>=6?t=e+2:e>=16&&(t=16),e<7&&e>=5?n=4:e<8&&e>=7?n=5:e<14&&e>=8?n=6:e<16&&e>=14?n=7:e>=16&&(n=8),e<6&&e>=2?r=1:e>=6&&(r=2),e>4&&e<8?i=4:e>=8&&(i=6),{borderRadius:e>16?16:e,borderRadiusXS:r,borderRadiusSM:n,borderRadiusLG:t,borderRadiusOuter:i}};var Ir=function(e,t){return new Tr(e).setAlpha(t).toRgbString()},Or=function(e,t){return new Tr(e).darken(t).toHexString()},Pr=function(e){var t=br(e);return{1:t[0],2:t[1],3:t[2],4:t[3],5:t[4],6:t[5],7:t[6],8:t[4],9:t[5],10:t[6]}},Ar=function(e,t){var n=e||"#fff",r=t||"#000";return{colorBgBase:n,colorTextBase:r,colorText:Ir(r,.88),colorTextSecondary:Ir(r,.65),colorTextTertiary:Ir(r,.45),colorTextQuaternary:Ir(r,.25),colorFill:Ir(r,.15),colorFillSecondary:Ir(r,.06),colorFillTertiary:Ir(r,.04),colorFillQuaternary:Ir(r,.02),colorBgLayout:Or(n,4),colorBgContainer:Or(n,0),colorBgElevated:Or(n,0),colorBgSpotlight:Ir(r,.85),colorBorder:Or(n,15),colorBorderSecondary:Or(n,6)}};var zr=function(e){var t=function(e){var t=new Array(10).fill(null).map((function(t,n){var r=n-1,i=e*Math.pow(2.71828,r/5),a=n>1?Math.floor(i):Math.ceil(i);return 2*Math.floor(a/2)}));return t[1]=e,t.map((function(e){return{size:e,lineHeight:(e+8)/e}}))}(e),n=t.map((function(e){return e.size})),r=t.map((function(e){return e.lineHeight}));return{fontSizeSM:n[0],fontSize:n[1],fontSizeLG:n[2],fontSizeXL:n[3],fontSizeHeading1:n[6],fontSizeHeading2:n[5],fontSizeHeading3:n[4],fontSizeHeading4:n[3],fontSizeHeading5:n[2],lineHeight:r[1],lineHeightLG:r[2],lineHeightSM:r[0],lineHeightHeading1:r[6],lineHeightHeading2:r[5],lineHeightHeading3:r[4],lineHeightHeading4:r[3],lineHeightHeading5:r[2]}};function jr(e){return e>=0&&e<=255}var Rr=function(e,t){var n=new Tr(e).toRgb(),r=n.r,i=n.g,a=n.b;if(n.a<1)return e;for(var o=new Tr(t).toRgb(),s=o.r,l=o.g,c=o.b,u=.01;u<=1;u+=.01){var d=Math.round((r-s*(1-u))/u),f=Math.round((i-l*(1-u))/u),h=Math.round((a-c*(1-u))/u);if(jr(d)&&jr(f)&&jr(h))return new Tr({r:d,g:f,b:h,a:Math.round(100*u)/100}).toRgbString()}return new Tr({r:r,g:i,b:a,a:1}).toRgbString()},Dr=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};function Lr(e){var t=e.override,n=Dr(e,["override"]),r=Object.assign({},t);Object.keys(Cr).forEach((function(e){delete r[e]}));var i=Object.assign(Object.assign({},n),r),a=1200,o=1600;return Object.assign(Object.assign(Object.assign({},i),{colorLink:i.colorInfoText,colorLinkHover:i.colorInfoHover,colorLinkActive:i.colorInfoActive,colorFillContent:i.colorFillSecondary,colorFillContentHover:i.colorFill,colorFillAlter:i.colorFillQuaternary,colorBgContainerDisabled:i.colorFillTertiary,colorBorderBg:i.colorBgContainer,colorSplit:Rr(i.colorBorderSecondary,i.colorBgContainer),colorTextPlaceholder:i.colorTextQuaternary,colorTextDisabled:i.colorTextQuaternary,colorTextHeading:i.colorText,colorTextLabel:i.colorTextSecondary,colorTextDescription:i.colorTextTertiary,colorTextLightSolid:i.colorWhite,colorHighlight:i.colorError,colorBgTextHover:i.colorFillSecondary,colorBgTextActive:i.colorFill,colorIcon:i.colorTextTertiary,colorIconHover:i.colorText,colorErrorOutline:Rr(i.colorErrorBg,i.colorBgContainer),colorWarningOutline:Rr(i.colorWarningBg,i.colorBgContainer),fontSizeIcon:i.fontSizeSM,lineWidth:i.lineWidth,controlOutlineWidth:2*i.lineWidth,controlInteractiveSize:i.controlHeight/2,controlItemBgHover:i.colorFillTertiary,controlItemBgActive:i.colorPrimaryBg,controlItemBgActiveHover:i.colorPrimaryBgHover,controlItemBgActiveDisabled:i.colorFill,controlTmpOutline:i.colorFillQuaternary,controlOutline:Rr(i.colorPrimaryBg,i.colorBgContainer),lineType:i.lineType,borderRadius:i.borderRadius,borderRadiusXS:i.borderRadiusXS,borderRadiusSM:i.borderRadiusSM,borderRadiusLG:i.borderRadiusLG,fontWeightStrong:600,opacityLoading:.65,linkDecoration:"none",linkHoverDecoration:"none",linkFocusDecoration:"none",controlPaddingHorizontal:12,controlPaddingHorizontalSM:8,paddingXXS:i.sizeXXS,paddingXS:i.sizeXS,paddingSM:i.sizeSM,padding:i.size,paddingMD:i.sizeMD,paddingLG:i.sizeLG,paddingXL:i.sizeXL,paddingContentHorizontalLG:i.sizeLG,paddingContentVerticalLG:i.sizeMS,paddingContentHorizontal:i.sizeMS,paddingContentVertical:i.sizeSM,paddingContentHorizontalSM:i.size,paddingContentVerticalSM:i.sizeXS,marginXXS:i.sizeXXS,marginXS:i.sizeXS,marginSM:i.sizeSM,margin:i.size,marginMD:i.sizeMD,marginLG:i.sizeLG,marginXL:i.sizeXL,marginXXL:i.sizeXXL,boxShadow:"\n      0 1px 2px 0 rgba(0, 0, 0, 0.03),\n      0 1px 6px -1px rgba(0, 0, 0, 0.02),\n      0 2px 4px 0 rgba(0, 0, 0, 0.02)\n    ",boxShadowSecondary:"\n      0 6px 16px 0 rgba(0, 0, 0, 0.08),\n      0 3px 6px -4px rgba(0, 0, 0, 0.12),\n      0 9px 28px 8px rgba(0, 0, 0, 0.05)\n    ",screenXS:480,screenXSMin:480,screenXSMax:575,screenSM:576,screenSMMin:576,screenSMMax:767,screenMD:768,screenMDMin:768,screenMDMax:991,screenLG:992,screenLGMin:992,screenLGMax:1199,screenXL:a,screenXLMin:a,screenXLMax:1599,screenXXL:o,screenXXLMin:o,boxShadowPopoverArrow:"3px 3px 7px rgba(0, 0, 0, 0.1)",boxShadowCard:"\n      0 1px 2px -2px ".concat(new Tr("rgba(0, 0, 0, 0.16)").toRgbString(),",\n      0 3px 6px 0 ").concat(new Tr("rgba(0, 0, 0, 0.12)").toRgbString(),",\n      0 5px 12px 4px ").concat(new Tr("rgba(0, 0, 0, 0.09)").toRgbString(),"\n    "),boxShadowDrawerRight:"\n      -6px 0 16px 0 rgba(0, 0, 0, 0.08),\n      -3px 0 6px -4px rgba(0, 0, 0, 0.12),\n      -9px 0 28px 8px rgba(0, 0, 0, 0.05)\n    ",boxShadowDrawerLeft:"\n      6px 0 16px 0 rgba(0, 0, 0, 0.08),\n      3px 0 6px -4px rgba(0, 0, 0, 0.12),\n      9px 0 28px 8px rgba(0, 0, 0, 0.05)\n    ",boxShadowDrawerUp:"\n      0 6px 16px 0 rgba(0, 0, 0, 0.08),\n      0 3px 6px -4px rgba(0, 0, 0, 0.12),\n      0 9px 28px 8px rgba(0, 0, 0, 0.05)\n    ",boxShadowDrawerDown:"\n      0 -6px 16px 0 rgba(0, 0, 0, 0.08),\n      0 -3px 6px -4px rgba(0, 0, 0, 0.12),\n      0 -9px 28px 8px rgba(0, 0, 0, 0.05)\n    ",boxShadowTabsOverflowLeft:"inset 10px 0 8px -8px rgba(0, 0, 0, 0.08)",boxShadowTabsOverflowRight:"inset -10px 0 8px -8px rgba(0, 0, 0, 0.08)",boxShadowTabsOverflowTop:"inset 0 10px 8px -8px rgba(0, 0, 0, 0.08)",boxShadowTabsOverflowBottom:"inset 0 -10px 8px -8px rgba(0, 0, 0, 0.08)"}),r)}var Nr=Fn((function(e){var t=Object.keys(Er).map((function(t){var n=br(e[t]);return new Array(10).fill(1).reduce((function(e,r,i){return e["".concat(t,"-").concat(i+1)]=n[i],e}),{})})).reduce((function(e,t){return e=Object.assign(Object.assign({},e),t)}),{});return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},e),t),function(e,t){var n=t.generateColorPalettes,r=t.generateNeutralColorPalettes,i=e.colorSuccess,a=e.colorWarning,o=e.colorError,s=e.colorInfo,l=e.colorPrimary,c=e.colorBgBase,u=e.colorTextBase,d=n(l),f=n(i),h=n(a),p=n(o),m=n(s),v=r(c,u);return Object.assign(Object.assign({},v),{colorPrimaryBg:d[1],colorPrimaryBgHover:d[2],colorPrimaryBorder:d[3],colorPrimaryBorderHover:d[4],colorPrimaryHover:d[5],colorPrimary:d[6],colorPrimaryActive:d[7],colorPrimaryTextHover:d[8],colorPrimaryText:d[9],colorPrimaryTextActive:d[10],colorSuccessBg:f[1],colorSuccessBgHover:f[2],colorSuccessBorder:f[3],colorSuccessBorderHover:f[4],colorSuccessHover:f[4],colorSuccess:f[6],colorSuccessActive:f[7],colorSuccessTextHover:f[8],colorSuccessText:f[9],colorSuccessTextActive:f[10],colorErrorBg:p[1],colorErrorBgHover:p[2],colorErrorBorder:p[3],colorErrorBorderHover:p[4],colorErrorHover:p[5],colorError:p[6],colorErrorActive:p[7],colorErrorTextHover:p[8],colorErrorText:p[9],colorErrorTextActive:p[10],colorWarningBg:h[1],colorWarningBgHover:h[2],colorWarningBorder:h[3],colorWarningBorderHover:h[4],colorWarningHover:h[4],colorWarning:h[6],colorWarningActive:h[7],colorWarningTextHover:h[8],colorWarningText:h[9],colorWarningTextActive:h[10],colorInfoBg:m[1],colorInfoBgHover:m[2],colorInfoBorder:m[3],colorInfoBorderHover:m[4],colorInfoHover:m[4],colorInfo:m[6],colorInfoActive:m[7],colorInfoTextHover:m[8],colorInfoText:m[9],colorInfoTextActive:m[10],colorBgMask:new Tr("#000").setAlpha(.45).toRgbString(),colorWhite:"#fff"})}(e,{generateColorPalettes:Pr,generateNeutralColorPalettes:Ar})),zr(e.fontSize)),function(e){var t=e.sizeUnit,n=e.sizeStep;return{sizeXXL:t*(n+8),sizeXL:t*(n+4),sizeLG:t*(n+2),sizeMD:t*(n+1),sizeMS:t*n,size:t*n,sizeSM:t*(n-1),sizeXS:t*(n-2),sizeXXS:t*(n-3)}}(e)),Sr(e)),function(e){var t=e.motionUnit,n=e.motionBase,r=e.borderRadius,i=e.lineWidth;return Object.assign({motionDurationFast:"".concat((n+t).toFixed(1),"s"),motionDurationMid:"".concat((n+2*t).toFixed(1),"s"),motionDurationSlow:"".concat((n+3*t).toFixed(1),"s"),lineWidthBold:i+1},Mr(r))}(e))})),Br={token:Cr,hashed:!0},Fr=t.createContext(Br);function Vr(){var e=t.useContext(Fr),n=e.token,r=e.hashed,i=e.theme,a=e.components,o="".concat("5.1.7","-").concat(r||""),s=i||Nr,c=function(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=r.salt,a=void 0===i?"":i,o=r.override,s=void 0===o?At:o,c=r.formatToken,u=t.useMemo((function(){return Object.assign.apply(Object,[{}].concat(l(n)))}),[n]),d=t.useMemo((function(){return Ct(u)}),[u]),f=t.useMemo((function(){return Ct(s)}),[s]),h=dt("token",[a,e.id,d,f],(function(){var t=Xe(Xe({},e.getDerivativeToken(u)),s);c&&(t=c(t));var n=Tt(t,a);t._tokenKey=n,jt(n);var r="".concat("css","-").concat(Ze(n));return t._hashId=r,[t,r]}),(function(e){Rt(e[0]._tokenKey)}));return h}(s,[Cr,n],{salt:o,override:Object.assign({override:n},a),formatToken:Lr}),u=k(c,2),d=u[0],f=u[1];return[s,d,r?f:""]}var Ur="undefined"!==typeof CSSINJS_STATISTIC,Hr=!0;function Gr(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(!Ur)return Object.assign.apply(Object,[{}].concat(t));Hr=!1;var r={};return t.forEach((function(e){Object.keys(e).forEach((function(t){Object.defineProperty(r,t,{configurable:!0,enumerable:!0,get:function(){return e[t]}})}))})),Hr=!0,r}var Wr={};function qr(){}function Xr(e,n,r){return function(i){var a=k(Vr(),3),o=a[0],s=a[1],l=a[2],c=(0,t.useContext)(Ge),u=c.getPrefixCls,d=c.iconPrefixCls,f=u();return zn({theme:o,token:s,hashId:l,path:["Shared",f]},(function(){return[{"&":Gn(s)}]})),[zn({theme:o,token:s,hashId:l,path:[e,i,d]},(function(){var t=function(e){var t,n=e,r=qr;return Ur&&(t=new Set,n=new Proxy(e,{get:function(e,n){return Hr&&t.add(n),e[n]}}),r=function(e,n){Wr[e]={global:Array.from(t),component:n}}),{token:n,keys:t,flush:r}}(s),a=t.token,o=t.flush,c="function"===typeof r?r(a):r,u=Object.assign(Object.assign({},c),s[e]),h=Gr(a,{componentCls:".".concat(i),prefixCls:i,iconCls:".".concat(d),antCls:".".concat(f)},u),p=n(h,{hashId:l,prefixCls:i,rootPrefixCls:f,iconPrefixCls:d,overrideComponentToken:s[e]});return o(e,u),[Wn(s,i),p]})),l]}}var Zr=function(e){var t,n=e.componentCls,r=e.colorBgContainer,i=e.colorBgBody,a=e.colorText;return Fe({},"".concat(n,"-sider-light"),(Fe(t={background:r},"".concat(n,"-sider-trigger"),{color:a,background:r}),Fe(t,"".concat(n,"-sider-zero-width-trigger"),{color:a,background:r,border:"1px solid ".concat(i),borderInlineStart:0}),t))},Kr=function(e){var t,n=e.antCls,r=e.componentCls,i=e.colorText,a=e.colorTextLightSolid,o=e.colorBgHeader,s=e.colorBgBody,l=e.colorBgTrigger,c=e.layoutHeaderHeight,u=e.layoutHeaderPaddingInline,d=e.layoutHeaderColor,f=e.layoutFooterPadding,h=e.layoutTriggerHeight,p=e.layoutZeroTriggerSize,m=e.motionDurationMid,v=e.motionDurationSlow,g=e.fontSize,y=e.borderRadius;return Fe({},r,Object.assign(Object.assign((Fe(t={display:"flex",flex:"auto",flexDirection:"column",minHeight:0,background:s,"&, *":{boxSizing:"border-box"}},"&".concat(r,"-has-sider"),Fe({flexDirection:"row"},"> ".concat(r,", > ").concat(r,"-content"),{width:0})),Fe(t,"".concat(r,"-header, &").concat(r,"-footer"),{flex:"0 0 auto"}),Fe(t,"".concat(r,"-header"),Fe({height:c,paddingInline:u,color:d,lineHeight:"".concat(c,"px"),background:o},"".concat(n,"-menu"),{lineHeight:"inherit"})),Fe(t,"".concat(r,"-footer"),{padding:f,color:i,fontSize:g,background:s}),Fe(t,"".concat(r,"-content"),{flex:"auto",minHeight:0}),Fe(t,"".concat(r,"-sider"),{position:"relative",minWidth:0,background:o,transition:"all ".concat(m),"&-children":Fe({height:"100%",marginTop:-.1,paddingTop:.1},"".concat(n,"-menu").concat(n,"-menu-inline-collapsed"),{width:"auto"}),"&-has-trigger":{paddingBottom:h},"&-right":{order:1},"&-trigger":{position:"fixed",bottom:0,zIndex:1,height:h,color:a,lineHeight:"".concat(h,"px"),textAlign:"center",background:l,cursor:"pointer",transition:"all ".concat(m)},"&-zero-width":{"> *":{overflow:"hidden"},"&-trigger":{position:"absolute",top:c,insetInlineEnd:-p,zIndex:1,width:p,height:p,color:a,fontSize:e.fontSizeXL,display:"flex",alignItems:"center",justifyContent:"center",background:o,borderStartStartRadius:0,borderStartEndRadius:y,borderEndEndRadius:y,borderEndStartRadius:0,cursor:"pointer",transition:"background ".concat(v," ease"),"&::after":{position:"absolute",inset:0,background:"transparent",transition:"all ".concat(v),content:'""'},"&:hover::after":{background:"rgba(255, 255, 255, 0.2)"},"&-right":{insetInlineStart:-p,borderStartStartRadius:y,borderStartEndRadius:0,borderEndEndRadius:0,borderEndStartRadius:y}}}}),t),Zr(e)),{"&-rtl":{direction:"rtl"}}))},Yr=Xr("Layout",(function(e){var t=e.colorText,n=e.controlHeightSM,r=e.controlHeight,i=e.controlHeightLG,a=e.marginXXS,o=1.25*i,s=Gr(e,{layoutHeaderHeight:2*r,layoutHeaderPaddingInline:o,layoutHeaderColor:t,layoutFooterPadding:"".concat(n,"px ").concat(o,"px"),layoutTriggerHeight:i+2*a,layoutZeroTriggerSize:i});return[Kr(s)]}),(function(e){return{colorBgHeader:"#001529",colorBgBody:e.colorBgLayout,colorBgTrigger:"#002140"}})),$r=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},Jr=t.createContext({siderHook:{addSider:function(){return null},removeSider:function(){return null}}});function Qr(e){var n=e.suffixCls,r=e.tagName;e.displayName;return function(e){return t.forwardRef((function(i,a){var o=t.useContext(Ge).getPrefixCls,s=i.prefixCls,l=o(n,s);return t.createElement(e,Object.assign({ref:a,prefixCls:l,tagName:r},i))}))}}var ei=t.forwardRef((function(e,n){var r=e.prefixCls,i=e.className,a=e.children,o=e.tagName,s=$r(e,["prefixCls","className","children","tagName"]),l=Ue()(r,i);return t.createElement(o,Object.assign(Object.assign({className:l},s),{ref:n}),a)})),ti=t.forwardRef((function(e,n){var r,i=t.useContext(Ge).direction,a=k(t.useState([]),2),o=a[0],s=a[1],c=e.prefixCls,u=e.className,d=e.children,f=e.hasSider,h=e.tagName,p=$r(e,["prefixCls","className","children","hasSider","tagName"]),m=k(Yr(c),2),v=m[0],g=m[1],y=Ue()(c,(Fe(r={},"".concat(c,"-has-sider"),"boolean"===typeof f?f:o.length>0),Fe(r,"".concat(c,"-rtl"),"rtl"===i),r),u,g),x=t.useMemo((function(){return{siderHook:{addSider:function(e){s((function(t){return[].concat(l(t),[e])}))},removeSider:function(e){s((function(t){return t.filter((function(t){return t!==e}))}))}}}}),[]);return v(t.createElement(Jr.Provider,{value:x},t.createElement(h,Object.assign({ref:n,className:y},p),d)))})),ni=Qr({suffixCls:"layout",tagName:"section",displayName:"Layout"})(ti),ri=Qr({suffixCls:"layout-header",tagName:"header",displayName:"Header"})(ei),ii=Qr({suffixCls:"layout-footer",tagName:"footer",displayName:"Footer"})(ei),ai=Qr({suffixCls:"layout-content",tagName:"main",displayName:"Content"})(ei),oi=ni,si={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M912 192H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 284H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 284H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM104 228a56 56 0 10112 0 56 56 0 10-112 0zm0 284a56 56 0 10112 0 56 56 0 10-112 0zm0 284a56 56 0 10112 0 56 56 0 10-112 0z"}}]},name:"bars",theme:"outlined"};function li(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var ci=(0,t.createContext)({});function ui(e){return"object"===u(e)&&"string"===typeof e.name&&"string"===typeof e.theme&&("object"===u(e.icon)||"function"===typeof e.icon)}function di(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.keys(e).reduce((function(t,n){var r=e[n];if("class"===n)t.className=r,delete t.class;else t[n]=r;return t}),{})}function fi(e,n,r){return r?t.createElement(e.tag,Xe(Xe({key:n},di(e.attrs)),r),(e.children||[]).map((function(t,r){return fi(t,"".concat(n,"-").concat(e.tag,"-").concat(r))}))):t.createElement(e.tag,Xe({key:n},di(e.attrs)),(e.children||[]).map((function(t,r){return fi(t,"".concat(n,"-").concat(e.tag,"-").concat(r))})))}function hi(e){return br(e)[0]}function pi(e){return e?Array.isArray(e)?e:[e]:[]}var mi="\n.anticon {\n  display: inline-block;\n  color: inherit;\n  font-style: normal;\n  line-height: 0;\n  text-align: center;\n  text-transform: none;\n  vertical-align: -0.125em;\n  text-rendering: optimizeLegibility;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n\n.anticon > * {\n  line-height: 1;\n}\n\n.anticon svg {\n  display: inline-block;\n}\n\n.anticon::before {\n  display: none;\n}\n\n.anticon .anticon-icon {\n  display: block;\n}\n\n.anticon[tabindex] {\n  cursor: pointer;\n}\n\n.anticon-spin::before,\n.anticon-spin {\n  display: inline-block;\n  -webkit-animation: loadingCircle 1s infinite linear;\n  animation: loadingCircle 1s infinite linear;\n}\n\n@-webkit-keyframes loadingCircle {\n  100% {\n    -webkit-transform: rotate(360deg);\n    transform: rotate(360deg);\n  }\n}\n\n@keyframes loadingCircle {\n  100% {\n    -webkit-transform: rotate(360deg);\n    transform: rotate(360deg);\n  }\n}\n",vi=["icon","className","onClick","style","primaryColor","secondaryColor"],gi={primaryColor:"#333",secondaryColor:"#E6E6E6",calculated:!1};var yi=function(e){var n=e.icon,r=e.className,i=e.onClick,a=e.style,o=e.primaryColor,s=e.secondaryColor,l=li(e,vi),c=gi;if(o&&(c={primaryColor:o,secondaryColor:s||hi(o)}),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:mi,n=(0,t.useContext)(ci),r=n.csp,i=n.prefixCls,a=e;i&&(a=a.replace(/anticon/g,i)),(0,t.useEffect)((function(){Et(a,"@ant-design-icons",{prepend:!0,csp:r})}),[])}(),function(e,t){Qe(e,"[@ant-design/icons] ".concat(t))}(ui(n),"icon should be icon definiton, but got ".concat(n)),!ui(n))return null;var u=n;return u&&"function"===typeof u.icon&&(u=Xe(Xe({},u),{},{icon:u.icon(c.primaryColor,c.secondaryColor)})),fi(u.icon,"svg-".concat(u.name),Xe({className:r,onClick:i,style:a,"data-icon":u.name,width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true"},l))};yi.displayName="IconReact",yi.getTwoToneColors=function(){return Xe({},gi)},yi.setTwoToneColors=function(e){var t=e.primaryColor,n=e.secondaryColor;gi.primaryColor=t,gi.secondaryColor=n||hi(t),gi.calculated=!!n};var xi=yi;function bi(e){var t=k(pi(e),2),n=t[0],r=t[1];return xi.setTwoToneColors({primaryColor:n,secondaryColor:r})}var _i=["className","icon","spin","rotate","tabIndex","onClick","twoToneColor"];bi("#1890ff");var wi=t.forwardRef((function(e,n){var r,i=e.className,a=e.icon,o=e.spin,s=e.rotate,l=e.tabIndex,c=e.onClick,u=e.twoToneColor,d=li(e,_i),f=t.useContext(ci),h=f.prefixCls,p=void 0===h?"anticon":h,m=f.rootClassName,v=Ue()(m,p,(Fe(r={},"".concat(p,"-").concat(a.name),!!a.name),Fe(r,"".concat(p,"-spin"),!!o||"loading"===a.name),r),i),g=l;void 0===g&&c&&(g=-1);var y=s?{msTransform:"rotate(".concat(s,"deg)"),transform:"rotate(".concat(s,"deg)")}:void 0,x=k(pi(u),2),b=x[0],_=x[1];return t.createElement("span",Xe(Xe({role:"img","aria-label":a.name},d),{},{ref:n,tabIndex:g,onClick:c,className:v}),t.createElement(xi,{icon:a,primaryColor:b,secondaryColor:_,style:y}))}));wi.displayName="AntdIcon",wi.getTwoToneColor=function(){var e=xi.getTwoToneColors();return e.calculated?[e.primaryColor,e.secondaryColor]:e.primaryColor},wi.setTwoToneColor=bi;var ki=wi,Si=function(e,n){return t.createElement(ki,Xe(Xe({},e),{},{ref:n,icon:si}))};Si.displayName="BarsOutlined";var Ei=t.forwardRef(Si),Ci={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M724 218.3V141c0-6.7-7.7-10.4-12.9-6.3L260.3 486.8a31.86 31.86 0 000 50.3l450.8 352.1c5.3 4.1 12.9.4 12.9-6.3v-77.3c0-4.9-2.3-9.6-6.1-12.6l-360-281 360-281.1c3.8-3 6.1-7.7 6.1-12.6z"}}]},name:"left",theme:"outlined"},Ti=function(e,n){return t.createElement(ki,Xe(Xe({},e),{},{ref:n,icon:Ci}))};Ti.displayName="LeftOutlined";var Mi=t.forwardRef(Ti),Ii={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M765.7 486.8L314.9 134.7A7.97 7.97 0 00302 141v77.3c0 4.9 2.3 9.6 6.1 12.6l360 281.1-360 281.1c-3.9 3-6.1 7.7-6.1 12.6V883c0 6.7 7.7 10.4 12.9 6.3l450.8-352.1a31.96 31.96 0 000-50.4z"}}]},name:"right",theme:"outlined"},Oi=function(e,n){return t.createElement(ki,Xe(Xe({},e),{},{ref:n,icon:Ii}))};Oi.displayName="RightOutlined";var Pi=t.forwardRef(Oi);function Ai(e,t){var n=Xe({},e);return Array.isArray(t)&&t.forEach((function(e){delete n[e]})),n}var zi=function(e){return!isNaN(parseFloat(e))&&isFinite(e)},ji=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},Ri={xs:"479.98px",sm:"575.98px",md:"767.98px",lg:"991.98px",xl:"1199.98px",xxl:"1599.98px"},Di=t.createContext({}),Li=function(){var e=0;return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e+=1,"".concat(t).concat(e)}}(),Ni=t.forwardRef((function(e,n){var r=e.prefixCls,i=e.className,a=e.trigger,o=e.children,s=e.defaultCollapsed,l=void 0!==s&&s,c=e.theme,u=void 0===c?"dark":c,d=e.style,f=void 0===d?{}:d,h=e.collapsible,p=void 0!==h&&h,m=e.reverseArrow,v=void 0!==m&&m,g=e.width,y=void 0===g?200:g,x=e.collapsedWidth,b=void 0===x?80:x,_=e.zeroWidthTriggerStyle,w=e.breakpoint,S=e.onCollapse,E=e.onBreakpoint,C=ji(e,["prefixCls","className","trigger","children","defaultCollapsed","theme","style","collapsible","reverseArrow","width","collapsedWidth","zeroWidthTriggerStyle","breakpoint","onCollapse","onBreakpoint"]),T=(0,t.useContext)(Jr).siderHook,M=k((0,t.useState)("collapsed"in C?C.collapsed:l),2),I=M[0],O=M[1],P=k((0,t.useState)(!1),2),A=P[0],z=P[1];(0,t.useEffect)((function(){"collapsed"in C&&O(C.collapsed)}),[C.collapsed]);var j=function(e,t){"collapsed"in C||O(e),null===S||void 0===S||S(e,t)},R=(0,t.useRef)();R.current=function(e){z(e.matches),null===E||void 0===E||E(e.matches),I!==e.matches&&j(e.matches,"responsive")},(0,t.useEffect)((function(){function e(e){return R.current(e)}var t;if("undefined"!==typeof window){var n=window.matchMedia;if(n&&w&&w in Ri){t=n("(max-width: ".concat(Ri[w],")"));try{t.addEventListener("change",e)}catch(r){t.addListener(e)}e(t)}}return function(){try{null===t||void 0===t||t.removeEventListener("change",e)}catch(r){null===t||void 0===t||t.removeListener(e)}}}),[w]),(0,t.useEffect)((function(){var e=Li("ant-sider-");return T.addSider(e),function(){return T.removeSider(e)}}),[]);var D=function(){j(!I,"clickTrigger")},L=(0,t.useContext)(Ge).getPrefixCls,N=t.useMemo((function(){return{siderCollapsed:I}}),[I]);return t.createElement(Di.Provider,{value:N},function(){var e,s=L("layout-sider",r),l=Ai(C,["collapsed"]),c=I?b:y,d=zi(c)?"".concat(c,"px"):String(c),h=0===parseFloat(String(b||0))?t.createElement("span",{onClick:D,className:Ue()("".concat(s,"-zero-width-trigger"),"".concat(s,"-zero-width-trigger-").concat(v?"right":"left")),style:_},a||t.createElement(Ei,null)):null,m={expanded:v?t.createElement(Pi,null):t.createElement(Mi,null),collapsed:v?t.createElement(Mi,null):t.createElement(Pi,null)}[I?"collapsed":"expanded"],g=null!==a?h||t.createElement("div",{className:"".concat(s,"-trigger"),onClick:D,style:{width:d}},a||m):null,x=Object.assign(Object.assign({},f),{flex:"0 0 ".concat(d),maxWidth:d,minWidth:d,width:d}),w=Ue()(s,"".concat(s,"-").concat(u),(Fe(e={},"".concat(s,"-collapsed"),!!I),Fe(e,"".concat(s,"-has-trigger"),p&&null!==a&&!h),Fe(e,"".concat(s,"-below"),!!A),Fe(e,"".concat(s,"-zero-width"),0===parseFloat(d)),e),i);return t.createElement("aside",Object.assign({className:w},l,{style:x,ref:n}),t.createElement("div",{className:"".concat(s,"-children")},o),p||A&&h?g:null)}())}));var Bi=Ni,Fi=oi;Fi.Header=ri,Fi.Footer=ii,Fi.Content=ai,Fi.Sider=Bi;var Vi=Fi;function Ui(e,t){return function(){return e.apply(t,arguments)}}var Hi,Gi=Object.prototype.toString,Wi=Object.getPrototypeOf,qi=(Hi=Object.create(null),function(e){var t=Gi.call(e);return Hi[t]||(Hi[t]=t.slice(8,-1).toLowerCase())}),Xi=function(e){return e=e.toLowerCase(),function(t){return qi(t)===e}},Zi=function(e){return function(t){return typeof t===e}},Ki=Array.isArray,Yi=Zi("undefined");var $i=Xi("ArrayBuffer");var Ji=Zi("string"),Qi=Zi("function"),ea=Zi("number"),ta=function(e){return null!==e&&"object"===typeof e},na=function(e){if("object"!==qi(e))return!1;var t=Wi(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},ra=Xi("Date"),ia=Xi("File"),aa=Xi("Blob"),oa=Xi("FileList"),sa=Xi("URLSearchParams");function la(e,t){var n,r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=i.allOwnKeys,o=void 0!==a&&a;if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),Ki(e))for(n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else{var s,l=o?Object.getOwnPropertyNames(e):Object.keys(e),c=l.length;for(n=0;n<c;n++)s=l[n],t.call(null,e[s],s,e)}}function ca(e,t){t=t.toLowerCase();for(var n,r=Object.keys(e),i=r.length;i-- >0;)if(t===(n=r[i]).toLowerCase())return n;return null}var ua="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:global,da=function(e){return!Yi(e)&&e!==ua};var fa,ha=(fa="undefined"!==typeof Uint8Array&&Wi(Uint8Array),function(e){return fa&&e instanceof fa}),pa=Xi("HTMLFormElement"),ma=function(e){var t=Object.prototype.hasOwnProperty;return function(e,n){return t.call(e,n)}}(),va=Xi("RegExp"),ga=function(e,t){var n=Object.getOwnPropertyDescriptors(e),r={};la(n,(function(n,i){!1!==t(n,i,e)&&(r[i]=n)})),Object.defineProperties(e,r)},ya="abcdefghijklmnopqrstuvwxyz",xa="0123456789",ba={DIGIT:xa,ALPHA:ya,ALPHA_DIGIT:ya+ya.toUpperCase()+xa};var _a={isArray:Ki,isArrayBuffer:$i,isBuffer:function(e){return null!==e&&!Yi(e)&&null!==e.constructor&&!Yi(e.constructor)&&Qi(e.constructor.isBuffer)&&e.constructor.isBuffer(e)},isFormData:function(e){var t="[object FormData]";return e&&("function"===typeof FormData&&e instanceof FormData||Gi.call(e)===t||Qi(e.toString)&&e.toString()===t)},isArrayBufferView:function(e){return"undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&$i(e.buffer)},isString:Ji,isNumber:ea,isBoolean:function(e){return!0===e||!1===e},isObject:ta,isPlainObject:na,isUndefined:Yi,isDate:ra,isFile:ia,isBlob:aa,isRegExp:va,isFunction:Qi,isStream:function(e){return ta(e)&&Qi(e.pipe)},isURLSearchParams:sa,isTypedArray:ha,isFileList:oa,forEach:la,merge:function e(){for(var t=da(this)&&this||{},n=t.caseless,r={},i=function(t,i){var a=n&&ca(r,i)||i;na(r[a])&&na(t)?r[a]=e(r[a],t):na(t)?r[a]=e({},t):Ki(t)?r[a]=t.slice():r[a]=t},a=0,o=arguments.length;a<o;a++)arguments[a]&&la(arguments[a],i);return r},extend:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=r.allOwnKeys;return la(t,(function(t,r){n&&Qi(t)?e[r]=Ui(t,n):e[r]=t}),{allOwnKeys:i}),e},trim:function(e){return e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")},stripBOM:function(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e},inherits:function(e,t,n,r){e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},toFlatObject:function(e,t,n,r){var i,a,o,s={};if(t=t||{},null==e)return t;do{for(a=(i=Object.getOwnPropertyNames(e)).length;a-- >0;)o=i[a],r&&!r(o,e,t)||s[o]||(t[o]=e[o],s[o]=!0);e=!1!==n&&Wi(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},kindOf:qi,kindOfTest:Xi,endsWith:function(e,t,n){e=String(e),(void 0===n||n>e.length)&&(n=e.length),n-=t.length;var r=e.indexOf(t,n);return-1!==r&&r===n},toArray:function(e){if(!e)return null;if(Ki(e))return e;var t=e.length;if(!ea(t))return null;for(var n=new Array(t);t-- >0;)n[t]=e[t];return n},forEachEntry:function(e,t){for(var n,r=(e&&e[Symbol.iterator]).call(e);(n=r.next())&&!n.done;){var i=n.value;t.call(e,i[0],i[1])}},matchAll:function(e,t){for(var n,r=[];null!==(n=e.exec(t));)r.push(n);return r},isHTMLForm:pa,hasOwnProperty:ma,hasOwnProp:ma,reduceDescriptors:ga,freezeMethods:function(e){ga(e,(function(t,n){if(Qi(e)&&-1!==["arguments","caller","callee"].indexOf(n))return!1;var r=e[n];Qi(r)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=function(){throw Error("Can not rewrite read-only method '"+n+"'")}))}))},toObjectSet:function(e,t){var n={},r=function(e){e.forEach((function(e){n[e]=!0}))};return Ki(e)?r(e):r(String(e).split(t)),n},toCamelCase:function(e){return e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,(function(e,t,n){return t.toUpperCase()+n}))},noop:function(){},toFiniteNumber:function(e,t){return e=+e,Number.isFinite(e)?e:t},findKey:ca,global:ua,isContextDefined:da,ALPHABET:ba,generateString:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:16,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ba.ALPHA_DIGIT,n="",r=t.length;e--;)n+=t[Math.random()*r|0];return n},isSpecCompliantForm:function(e){return!!(e&&Qi(e.append)&&"FormData"===e[Symbol.toStringTag]&&e[Symbol.iterator])},toJSONObject:function(e){var t=new Array(10);return function e(n,r){if(ta(n)){if(t.indexOf(n)>=0)return;if(!("toJSON"in n)){t[r]=n;var i=Ki(n)?[]:{};return la(n,(function(t,n){var a=e(t,r+1);!Yi(a)&&(i[n]=a)})),t[r]=void 0,i}}return n}(e,0)}};function wa(e,t,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i)}_a.inherits(wa,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:_a.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});var ka=wa.prototype,Sa={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach((function(e){Sa[e]={value:e}})),Object.defineProperties(wa,Sa),Object.defineProperty(ka,"isAxiosError",{value:!0}),wa.from=function(e,t,n,r,i,a){var o=Object.create(ka);return _a.toFlatObject(e,o,(function(e){return e!==Error.prototype}),(function(e){return"isAxiosError"!==e})),wa.call(o,e.message,t,n,r,i),o.cause=e,o.name=e.name,a&&Object.assign(o,a),o};var Ea=wa;function Ca(e){return _a.isPlainObject(e)||_a.isArray(e)}function Ta(e){return _a.endsWith(e,"[]")?e.slice(0,-2):e}function Ma(e,t,n){return e?e.concat(t).map((function(e,t){return e=Ta(e),!n&&t?"["+e+"]":e})).join(n?".":""):t}var Ia=_a.toFlatObject(_a,{},null,(function(e){return/^is[A-Z]/.test(e)}));var Oa=function(e,t,n){if(!_a.isObject(e))throw new TypeError("target must be an object");t=t||new FormData;var r=(n=_a.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,(function(e,t){return!_a.isUndefined(t[e])}))).metaTokens,i=n.visitor||c,a=n.dots,o=n.indexes,s=(n.Blob||"undefined"!==typeof Blob&&Blob)&&_a.isSpecCompliantForm(t);if(!_a.isFunction(i))throw new TypeError("visitor must be a function");function l(e){if(null===e)return"";if(_a.isDate(e))return e.toISOString();if(!s&&_a.isBlob(e))throw new Ea("Blob is not supported. Use a Buffer instead.");return _a.isArrayBuffer(e)||_a.isTypedArray(e)?s&&"function"===typeof Blob?new Blob([e]):Buffer.from(e):e}function c(e,n,i){var s=e;if(e&&!i&&"object"===typeof e)if(_a.endsWith(n,"{}"))n=r?n:n.slice(0,-2),e=JSON.stringify(e);else if(_a.isArray(e)&&function(e){return _a.isArray(e)&&!e.some(Ca)}(e)||(_a.isFileList(e)||_a.endsWith(n,"[]"))&&(s=_a.toArray(e)))return n=Ta(n),s.forEach((function(e,r){!_a.isUndefined(e)&&null!==e&&t.append(!0===o?Ma([n],r,a):null===o?n:n+"[]",l(e))})),!1;return!!Ca(e)||(t.append(Ma(i,n,a),l(e)),!1)}var u=[],d=Object.assign(Ia,{defaultVisitor:c,convertValue:l,isVisitable:Ca});if(!_a.isObject(e))throw new TypeError("data must be an object");return function e(n,r){if(!_a.isUndefined(n)){if(-1!==u.indexOf(n))throw Error("Circular reference detected in "+r.join("."));u.push(n),_a.forEach(n,(function(n,a){!0===(!(_a.isUndefined(n)||null===n)&&i.call(t,n,_a.isString(a)?a.trim():a,r,d))&&e(n,r?r.concat(a):[a])})),u.pop()}}(e),t};function Pa(e){var t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,(function(e){return t[e]}))}function Aa(e,t){this._pairs=[],e&&Oa(e,this,t)}var za=Aa.prototype;za.append=function(e,t){this._pairs.push([e,t])},za.toString=function(e){var t=e?function(t){return e.call(this,t,Pa)}:Pa;return this._pairs.map((function(e){return t(e[0])+"="+t(e[1])}),"").join("&")};var ja=Aa;function Ra(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Da(e,t,n){if(!t)return e;var r,i=n&&n.encode||Ra,a=n&&n.serialize;if(r=a?a(t,n):_a.isURLSearchParams(t)?t.toString():new ja(t,n).toString(i)){var o=e.indexOf("#");-1!==o&&(e=e.slice(0,o)),e+=(-1===e.indexOf("?")?"?":"&")+r}return e}var La=function(){function e(){c(this,e),this.handlers=[]}return h(e,[{key:"use",value:function(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1}},{key:"eject",value:function(e){this.handlers[e]&&(this.handlers[e]=null)}},{key:"clear",value:function(){this.handlers&&(this.handlers=[])}},{key:"forEach",value:function(e){_a.forEach(this.handlers,(function(t){null!==t&&e(t)}))}}]),e}(),Na=La,Ba={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Fa="undefined"!==typeof URLSearchParams?URLSearchParams:ja,Va=FormData,Ua=function(){var e;return("undefined"===typeof navigator||"ReactNative"!==(e=navigator.product)&&"NativeScript"!==e&&"NS"!==e)&&("undefined"!==typeof window&&"undefined"!==typeof document)}(),Ha="undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"===typeof self.importScripts,Ga={isBrowser:!0,classes:{URLSearchParams:Fa,FormData:Va,Blob:Blob},isStandardBrowserEnv:Ua,isStandardBrowserWebWorkerEnv:Ha,protocols:["http","https","file","blob","url","data"]};var Wa=function(e){function t(e,n,r,i){var a=e[i++],o=Number.isFinite(+a),s=i>=e.length;return a=!a&&_a.isArray(r)?r.length:a,s?(_a.hasOwnProp(r,a)?r[a]=[r[a],n]:r[a]=n,!o):(r[a]&&_a.isObject(r[a])||(r[a]=[]),t(e,n,r[a],i)&&_a.isArray(r[a])&&(r[a]=function(e){var t,n,r={},i=Object.keys(e),a=i.length;for(t=0;t<a;t++)r[n=i[t]]=e[n];return r}(r[a])),!o)}if(_a.isFormData(e)&&_a.isFunction(e.entries)){var n={};return _a.forEachEntry(e,(function(e,r){t(function(e){return _a.matchAll(/\w+|\[(\w*)]/g,e).map((function(e){return"[]"===e[0]?"":e[1]||e[0]}))}(e),r,n,0)})),n}return null},qa={"Content-Type":void 0};var Xa={transitional:Ba,adapter:["xhr","http"],transformRequest:[function(e,t){var n,r=t.getContentType()||"",i=r.indexOf("application/json")>-1,a=_a.isObject(e);if(a&&_a.isHTMLForm(e)&&(e=new FormData(e)),_a.isFormData(e))return i&&i?JSON.stringify(Wa(e)):e;if(_a.isArrayBuffer(e)||_a.isBuffer(e)||_a.isStream(e)||_a.isFile(e)||_a.isBlob(e))return e;if(_a.isArrayBufferView(e))return e.buffer;if(_a.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();if(a){if(r.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return Oa(e,new Ga.classes.URLSearchParams,Object.assign({visitor:function(e,t,n,r){return Ga.isNode&&_a.isBuffer(e)?(this.append(t,e.toString("base64")),!1):r.defaultVisitor.apply(this,arguments)}},t))}(e,this.formSerializer).toString();if((n=_a.isFileList(e))||r.indexOf("multipart/form-data")>-1){var o=this.env&&this.env.FormData;return Oa(n?{"files[]":e}:e,o&&new o,this.formSerializer)}}return a||i?(t.setContentType("application/json",!1),function(e,t,n){if(_a.isString(e))try{return(t||JSON.parse)(e),_a.trim(e)}catch(Jv){if("SyntaxError"!==Jv.name)throw Jv}return(n||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){var t=this.transitional||Xa.transitional,n=t&&t.forcedJSONParsing,r="json"===this.responseType;if(e&&_a.isString(e)&&(n&&!this.responseType||r)){var i=!(t&&t.silentJSONParsing)&&r;try{return JSON.parse(e)}catch(Jv){if(i){if("SyntaxError"===Jv.name)throw Ea.from(Jv,Ea.ERR_BAD_RESPONSE,this,null,this.response);throw Jv}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Ga.classes.FormData,Blob:Ga.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};_a.forEach(["delete","get","head"],(function(e){Xa.headers[e]={}})),_a.forEach(["post","put","patch"],(function(e){Xa.headers[e]=_a.merge(qa)}));var Za=Xa,Ka=_a.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Ya=Symbol("internals");function $a(e){return e&&String(e).trim().toLowerCase()}function Ja(e){return!1===e||null==e?e:_a.isArray(e)?e.map(Ja):String(e)}function Qa(e,t,n,r){return _a.isFunction(r)?r.call(this,t,n):_a.isString(t)?_a.isString(r)?-1!==t.indexOf(r):_a.isRegExp(r)?r.test(t):void 0:void 0}var eo=function(e,t){function n(e){c(this,n),e&&this.set(e)}return h(n,[{key:"set",value:function(e,t,n){var r=this;function i(e,t,n){var i=$a(t);if(!i)throw new Error("header name must be a non-empty string");var a=_a.findKey(r,i);(!a||void 0===r[a]||!0===n||void 0===n&&!1!==r[a])&&(r[a||t]=Ja(e))}var a=function(e,t){return _a.forEach(e,(function(e,n){return i(e,n,t)}))};return _a.isPlainObject(e)||e instanceof this.constructor?a(e,t):_a.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z]+$/.test(e.trim())?a(function(e){var t,n,r,i={};return e&&e.split("\n").forEach((function(e){r=e.indexOf(":"),t=e.substring(0,r).trim().toLowerCase(),n=e.substring(r+1).trim(),!t||i[t]&&Ka[t]||("set-cookie"===t?i[t]?i[t].push(n):i[t]=[n]:i[t]=i[t]?i[t]+", "+n:n)})),i}(e),t):null!=e&&i(t,e,n),this}},{key:"get",value:function(e,t){if(e=$a(e)){var n=_a.findKey(this,e);if(n){var r=this[n];if(!t)return r;if(!0===t)return function(e){for(var t,n=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;t=r.exec(e);)n[t[1]]=t[2];return n}(r);if(_a.isFunction(t))return t.call(this,r,n);if(_a.isRegExp(t))return t.exec(r);throw new TypeError("parser must be boolean|regexp|function")}}}},{key:"has",value:function(e,t){if(e=$a(e)){var n=_a.findKey(this,e);return!(!n||void 0===this[n]||t&&!Qa(0,this[n],n,t))}return!1}},{key:"delete",value:function(e,t){var n=this,r=!1;function i(e){if(e=$a(e)){var i=_a.findKey(n,e);!i||t&&!Qa(0,n[i],i,t)||(delete n[i],r=!0)}}return _a.isArray(e)?e.forEach(i):i(e),r}},{key:"clear",value:function(e){for(var t=Object.keys(this),n=t.length,r=!1;n--;){var i=t[n];e&&!Qa(0,this[i],i,e)||(delete this[i],r=!0)}return r}},{key:"normalize",value:function(e){var t=this,n={};return _a.forEach(this,(function(r,i){var a=_a.findKey(n,i);if(a)return t[a]=Ja(r),void delete t[i];var o=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(function(e,t,n){return t.toUpperCase()+n}))}(i):String(i).trim();o!==i&&delete t[i],t[o]=Ja(r),n[o]=!0})),this}},{key:"concat",value:function(){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=this.constructor).concat.apply(e,[this].concat(n))}},{key:"toJSON",value:function(e){var t=Object.create(null);return _a.forEach(this,(function(n,r){null!=n&&!1!==n&&(t[r]=e&&_a.isArray(n)?n.join(", "):n)})),t}},{key:Symbol.iterator,value:function(){return Object.entries(this.toJSON())[Symbol.iterator]()}},{key:"toString",value:function(){return Object.entries(this.toJSON()).map((function(e){var t=k(e,2);return t[0]+": "+t[1]})).join("\n")}},{key:Symbol.toStringTag,get:function(){return"AxiosHeaders"}}],[{key:"from",value:function(e){return e instanceof this?e:new this(e)}},{key:"concat",value:function(e){for(var t=new this(e),n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return r.forEach((function(e){return t.set(e)})),t}},{key:"accessor",value:function(e){var t=(this[Ya]=this[Ya]={accessors:{}}).accessors,n=this.prototype;function r(e){var r=$a(e);t[r]||(!function(e,t){var n=_a.toCamelCase(" "+t);["get","set","has"].forEach((function(r){Object.defineProperty(e,r+n,{value:function(e,n,i){return this[r].call(this,t,e,n,i)},configurable:!0})}))}(n,e),t[r]=!0)}return _a.isArray(e)?e.forEach(r):r(e),this}}]),n}();eo.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),_a.freezeMethods(eo.prototype),_a.freezeMethods(eo);var to=eo;function no(e,t){var n=this||Za,r=t||n,i=to.from(r.headers),a=r.data;return _a.forEach(e,(function(e){a=e.call(n,a,i.normalize(),t?t.status:void 0)})),i.normalize(),a}function ro(e){return!(!e||!e.__CANCEL__)}function io(e,t,n){Ea.call(this,null==e?"canceled":e,Ea.ERR_CANCELED,t,n),this.name="CanceledError"}_a.inherits(io,Ea,{__CANCEL__:!0});var ao=io;var oo=Ga.isStandardBrowserEnv?{write:function(e,t,n,r,i,a){var o=[];o.push(e+"="+encodeURIComponent(t)),_a.isNumber(n)&&o.push("expires="+new Date(n).toGMTString()),_a.isString(r)&&o.push("path="+r),_a.isString(i)&&o.push("domain="+i),!0===a&&o.push("secure"),document.cookie=o.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}};function so(e,t){return e&&!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)?function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}var lo=Ga.isStandardBrowserEnv?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function r(e){var r=e;return t&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return e=r(window.location.href),function(t){var n=_a.isString(t)?r(t):t;return n.protocol===e.protocol&&n.host===e.host}}():function(){return!0};var co=function(e,t){e=e||10;var n,r=new Array(e),i=new Array(e),a=0,o=0;return t=void 0!==t?t:1e3,function(s){var l=Date.now(),c=i[o];n||(n=l),r[a]=s,i[a]=l;for(var u=o,d=0;u!==a;)d+=r[u++],u%=e;if((a=(a+1)%e)===o&&(o=(o+1)%e),!(l-n<t)){var f=c&&l-c;return f?Math.round(1e3*d/f):void 0}}};function uo(e,t){var n=0,r=co(50,250);return function(i){var a=i.loaded,o=i.lengthComputable?i.total:void 0,s=a-n,l=r(s);n=a;var c={loaded:a,total:o,progress:o?a/o:void 0,bytes:s,rate:l||void 0,estimated:l&&o&&a<=o?(o-a)/l:void 0,event:i};c[t?"download":"upload"]=!0,e(c)}}var fo="undefined"!==typeof XMLHttpRequest&&function(e){return new Promise((function(t,n){var r,i=e.data,a=to.from(e.headers).normalize(),o=e.responseType;function s(){e.cancelToken&&e.cancelToken.unsubscribe(r),e.signal&&e.signal.removeEventListener("abort",r)}_a.isFormData(i)&&(Ga.isStandardBrowserEnv||Ga.isStandardBrowserWebWorkerEnv)&&a.setContentType(!1);var l=new XMLHttpRequest;if(e.auth){var c=e.auth.username||"",u=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";a.set("Authorization","Basic "+btoa(c+":"+u))}var d=so(e.baseURL,e.url);function f(){if(l){var r=to.from("getAllResponseHeaders"in l&&l.getAllResponseHeaders());!function(e,t,n){var r=n.config.validateStatus;n.status&&r&&!r(n.status)?t(new Ea("Request failed with status code "+n.status,[Ea.ERR_BAD_REQUEST,Ea.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):e(n)}((function(e){t(e),s()}),(function(e){n(e),s()}),{data:o&&"text"!==o&&"json"!==o?l.response:l.responseText,status:l.status,statusText:l.statusText,headers:r,config:e,request:l}),l=null}}if(l.open(e.method.toUpperCase(),Da(d,e.params,e.paramsSerializer),!0),l.timeout=e.timeout,"onloadend"in l?l.onloadend=f:l.onreadystatechange=function(){l&&4===l.readyState&&(0!==l.status||l.responseURL&&0===l.responseURL.indexOf("file:"))&&setTimeout(f)},l.onabort=function(){l&&(n(new Ea("Request aborted",Ea.ECONNABORTED,e,l)),l=null)},l.onerror=function(){n(new Ea("Network Error",Ea.ERR_NETWORK,e,l)),l=null},l.ontimeout=function(){var t=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded",r=e.transitional||Ba;e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),n(new Ea(t,r.clarifyTimeoutError?Ea.ETIMEDOUT:Ea.ECONNABORTED,e,l)),l=null},Ga.isStandardBrowserEnv){var h=(e.withCredentials||lo(d))&&e.xsrfCookieName&&oo.read(e.xsrfCookieName);h&&a.set(e.xsrfHeaderName,h)}void 0===i&&a.setContentType(null),"setRequestHeader"in l&&_a.forEach(a.toJSON(),(function(e,t){l.setRequestHeader(t,e)})),_a.isUndefined(e.withCredentials)||(l.withCredentials=!!e.withCredentials),o&&"json"!==o&&(l.responseType=e.responseType),"function"===typeof e.onDownloadProgress&&l.addEventListener("progress",uo(e.onDownloadProgress,!0)),"function"===typeof e.onUploadProgress&&l.upload&&l.upload.addEventListener("progress",uo(e.onUploadProgress)),(e.cancelToken||e.signal)&&(r=function(t){l&&(n(!t||t.type?new ao(null,e,l):t),l.abort(),l=null)},e.cancelToken&&e.cancelToken.subscribe(r),e.signal&&(e.signal.aborted?r():e.signal.addEventListener("abort",r)));var p=function(e){var t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(d);p&&-1===Ga.protocols.indexOf(p)?n(new Ea("Unsupported protocol "+p+":",Ea.ERR_BAD_REQUEST,e)):l.send(i||null)}))},ho={http:null,xhr:fo};_a.forEach(ho,(function(e,t){if(e){try{Object.defineProperty(e,"name",{value:t})}catch(Jv){}Object.defineProperty(e,"adapterName",{value:t})}}));var po=function(e){for(var t,n,r=(e=_a.isArray(e)?e:[e]).length,i=0;i<r&&(t=e[i],!(n=_a.isString(t)?ho[t.toLowerCase()]:t));i++);if(!n){if(!1===n)throw new Ea("Adapter ".concat(t," is not supported by the environment"),"ERR_NOT_SUPPORT");throw new Error(_a.hasOwnProp(ho,t)?"Adapter '".concat(t,"' is not available in the build"):"Unknown adapter '".concat(t,"'"))}if(!_a.isFunction(n))throw new TypeError("adapter is not a function");return n};function mo(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new ao(null,e)}function vo(e){return mo(e),e.headers=to.from(e.headers),e.data=no.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1),po(e.adapter||Za.adapter)(e).then((function(t){return mo(e),t.data=no.call(e,e.transformResponse,t),t.headers=to.from(t.headers),t}),(function(t){return ro(t)||(mo(e),t&&t.response&&(t.response.data=no.call(e,e.transformResponse,t.response),t.response.headers=to.from(t.response.headers))),Promise.reject(t)}))}var go=function(e){return e instanceof to?e.toJSON():e};function yo(e,t){t=t||{};var n={};function r(e,t,n){return _a.isPlainObject(e)&&_a.isPlainObject(t)?_a.merge.call({caseless:n},e,t):_a.isPlainObject(t)?_a.merge({},t):_a.isArray(t)?t.slice():t}function i(e,t,n){return _a.isUndefined(t)?_a.isUndefined(e)?void 0:r(void 0,e,n):r(e,t,n)}function a(e,t){if(!_a.isUndefined(t))return r(void 0,t)}function o(e,t){return _a.isUndefined(t)?_a.isUndefined(e)?void 0:r(void 0,e):r(void 0,t)}function s(n,i,a){return a in t?r(n,i):a in e?r(void 0,n):void 0}var l={url:a,method:a,data:a,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:s,headers:function(e,t){return i(go(e),go(t),!0)}};return _a.forEach(Object.keys(e).concat(Object.keys(t)),(function(r){var a=l[r]||i,o=a(e[r],t[r],r);_a.isUndefined(o)&&a!==s||(n[r]=o)})),n}var xo="1.3.1",bo={};["object","boolean","number","function","string","symbol"].forEach((function(e,t){bo[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}}));var _o={};bo.transitional=function(e,t,n){function r(e,t){return"[Axios v1.3.1] Transitional option '"+e+"'"+t+(n?". "+n:"")}return function(n,i,a){if(!1===e)throw new Ea(r(i," has been removed"+(t?" in "+t:"")),Ea.ERR_DEPRECATED);return t&&!_o[i]&&(_o[i]=!0,console.warn(r(i," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,i,a)}};var wo={assertOptions:function(e,t,n){if("object"!==typeof e)throw new Ea("options must be an object",Ea.ERR_BAD_OPTION_VALUE);for(var r=Object.keys(e),i=r.length;i-- >0;){var a=r[i],o=t[a];if(o){var s=e[a],l=void 0===s||o(s,a,e);if(!0!==l)throw new Ea("option "+a+" must be "+l,Ea.ERR_BAD_OPTION_VALUE)}else if(!0!==n)throw new Ea("Unknown option "+a,Ea.ERR_BAD_OPTION)}},validators:bo},ko=wo.validators,So=function(){function e(t){c(this,e),this.defaults=t,this.interceptors={request:new Na,response:new Na}}return h(e,[{key:"request",value:function(e,t){"string"===typeof e?(t=t||{}).url=e:t=e||{};var n,r=t=yo(this.defaults,t),i=r.transitional,a=r.paramsSerializer,o=r.headers;void 0!==i&&wo.assertOptions(i,{silentJSONParsing:ko.transitional(ko.boolean),forcedJSONParsing:ko.transitional(ko.boolean),clarifyTimeoutError:ko.transitional(ko.boolean)},!1),void 0!==a&&wo.assertOptions(a,{encode:ko.function,serialize:ko.function},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase(),(n=o&&_a.merge(o.common,o[t.method]))&&_a.forEach(["delete","get","head","post","put","patch","common"],(function(e){delete o[e]})),t.headers=to.concat(n,o);var s=[],l=!0;this.interceptors.request.forEach((function(e){"function"===typeof e.runWhen&&!1===e.runWhen(t)||(l=l&&e.synchronous,s.unshift(e.fulfilled,e.rejected))}));var c,u=[];this.interceptors.response.forEach((function(e){u.push(e.fulfilled,e.rejected)}));var d,f=0;if(!l){var h=[vo.bind(this),void 0];for(h.unshift.apply(h,s),h.push.apply(h,u),d=h.length,c=Promise.resolve(t);f<d;)c=c.then(h[f++],h[f++]);return c}d=s.length;var p=t;for(f=0;f<d;){var m=s[f++],v=s[f++];try{p=m(p)}catch(g){v.call(this,g);break}}try{c=vo.call(this,p)}catch(g){return Promise.reject(g)}for(f=0,d=u.length;f<d;)c=c.then(u[f++],u[f++]);return c}},{key:"getUri",value:function(e){return Da(so((e=yo(this.defaults,e)).baseURL,e.url),e.params,e.paramsSerializer)}}]),e}();_a.forEach(["delete","get","head","options"],(function(e){So.prototype[e]=function(t,n){return this.request(yo(n||{},{method:e,url:t,data:(n||{}).data}))}})),_a.forEach(["post","put","patch"],(function(e){function t(t){return function(n,r,i){return this.request(yo(i||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:n,data:r}))}}So.prototype[e]=t(),So.prototype[e+"Form"]=t(!0)}));var Eo=So,Co=function(){function e(t){if(c(this,e),"function"!==typeof t)throw new TypeError("executor must be a function.");var n;this.promise=new Promise((function(e){n=e}));var r=this;this.promise.then((function(e){if(r._listeners){for(var t=r._listeners.length;t-- >0;)r._listeners[t](e);r._listeners=null}})),this.promise.then=function(e){var t,n=new Promise((function(e){r.subscribe(e),t=e})).then(e);return n.cancel=function(){r.unsubscribe(t)},n},t((function(e,t,i){r.reason||(r.reason=new ao(e,t,i),n(r.reason))}))}return h(e,[{key:"throwIfRequested",value:function(){if(this.reason)throw this.reason}},{key:"subscribe",value:function(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}},{key:"unsubscribe",value:function(e){if(this._listeners){var t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}}}],[{key:"source",value:function(){var t,n=new e((function(e){t=e}));return{token:n,cancel:t}}}]),e}(),To=Co;var Mo={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Mo).forEach((function(e){var t=k(e,2),n=t[0],r=t[1];Mo[r]=n}));var Io=Mo;var Oo=function e(t){var n=new Eo(t),r=Ui(Eo.prototype.request,n);return _a.extend(r,Eo.prototype,n,{allOwnKeys:!0}),_a.extend(r,n,null,{allOwnKeys:!0}),r.create=function(n){return e(yo(t,n))},r}(Za);Oo.Axios=Eo,Oo.CanceledError=ao,Oo.CancelToken=To,Oo.isCancel=ro,Oo.VERSION=xo,Oo.toFormData=Oa,Oo.AxiosError=Ea,Oo.Cancel=Oo.CanceledError,Oo.all=function(e){return Promise.all(e)},Oo.spread=function(e){return function(t){return e.apply(null,t)}},Oo.isAxiosError=function(e){return _a.isObject(e)&&!0===e.isAxiosError},Oo.mergeConfig=yo,Oo.AxiosHeaders=to,Oo.formToJSON=function(e){return Wa(_a.isHTMLForm(e)?new FormData(e):e)},Oo.HttpStatusCode=Io,Oo.default=Oo;var Po=Oo,Ao="http://localhost:8080/api",zo=n(184),jo=(0,t.createContext)(),Ro=function(e){var n=e.children,r=k((0,t.useState)({user:null,token:""}),2),i=r[0],a=r[1];return Po.defaults.baseURL=Ao,Po.defaults.headers.common.Authorization="Bearer ".concat(null===i||void 0===i?void 0:i.token),(0,t.useEffect)((function(){localStorage.getItem("auth")&&a(JSON.parse(localStorage.getItem("auth")))}),[]),(0,zo.jsx)(jo.Provider,{value:[i,a],children:n})},Do=n(7441);function Lo(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=[];return t.Children.forEach(e,(function(e){(void 0!==e&&null!==e||n.keepEmpty)&&(Array.isArray(e)?r=r.concat(Lo(e)):(0,Do.isFragment)(e)&&e.props?r=r.concat(Lo(e.props.children,n)):r.push(e))})),r}function No(e,t){"function"===typeof e?e(t):"object"===u(e)&&e&&"current"in e&&(e.current=t)}function Bo(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.filter((function(e){return e}));return r.length<=1?r[0]:function(e){t.forEach((function(t){No(t,e)}))}}function Fo(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Ke((function(){return Bo.apply(void 0,t)}),t,(function(e,t){return e.length===t.length&&e.every((function(e,n){return e===t[n]}))}))}function Vo(e){var t,n,r=(0,Do.isMemo)(e)?e.type.type:e.type;return!!("function"!==typeof r||null!==(t=r.prototype)&&void 0!==t&&t.render)&&!!("function"!==typeof e||null!==(n=e.prototype)&&void 0!==n&&n.render)}var Uo=n(4164),Ho=n.t(Uo,2);function Go(e){return e instanceof HTMLElement?e:e instanceof t.Component?Uo.findDOMNode(e):null}var Wo=function(){if("undefined"!==typeof Map)return Map;function e(e,t){var n=-1;return e.some((function(e,r){return e[0]===t&&(n=r,!0)})),n}return function(){function t(){this.__entries__=[]}return Object.defineProperty(t.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),t.prototype.get=function(t){var n=e(this.__entries__,t),r=this.__entries__[n];return r&&r[1]},t.prototype.set=function(t,n){var r=e(this.__entries__,t);~r?this.__entries__[r][1]=n:this.__entries__.push([t,n])},t.prototype.delete=function(t){var n=this.__entries__,r=e(n,t);~r&&n.splice(r,1)},t.prototype.has=function(t){return!!~e(this.__entries__,t)},t.prototype.clear=function(){this.__entries__.splice(0)},t.prototype.forEach=function(e,t){void 0===t&&(t=null);for(var n=0,r=this.__entries__;n<r.length;n++){var i=r[n];e.call(t,i[1],i[0])}},t}()}(),qo="undefined"!==typeof window&&"undefined"!==typeof document&&window.document===document,Xo="undefined"!==typeof n.g&&n.g.Math===Math?n.g:"undefined"!==typeof self&&self.Math===Math?self:"undefined"!==typeof window&&window.Math===Math?window:Function("return this")(),Zo="function"===typeof requestAnimationFrame?requestAnimationFrame.bind(Xo):function(e){return setTimeout((function(){return e(Date.now())}),1e3/60)};var Ko=["top","right","bottom","left","width","height","size","weight"],Yo="undefined"!==typeof MutationObserver,$o=function(){function e(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function(e,t){var n=!1,r=!1,i=0;function a(){n&&(n=!1,e()),r&&s()}function o(){Zo(a)}function s(){var e=Date.now();if(n){if(e-i<2)return;r=!0}else n=!0,r=!1,setTimeout(o,t);i=e}return s}(this.refresh.bind(this),20)}return e.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},e.prototype.removeObserver=function(e){var t=this.observers_,n=t.indexOf(e);~n&&t.splice(n,1),!t.length&&this.connected_&&this.disconnect_()},e.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},e.prototype.updateObservers_=function(){var e=this.observers_.filter((function(e){return e.gatherActive(),e.hasActive()}));return e.forEach((function(e){return e.broadcastActive()})),e.length>0},e.prototype.connect_=function(){qo&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),Yo?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},e.prototype.disconnect_=function(){qo&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},e.prototype.onTransitionEnd_=function(e){var t=e.propertyName,n=void 0===t?"":t;Ko.some((function(e){return!!~n.indexOf(e)}))&&this.refresh()},e.getInstance=function(){return this.instance_||(this.instance_=new e),this.instance_},e.instance_=null,e}(),Jo=function(e,t){for(var n=0,r=Object.keys(t);n<r.length;n++){var i=r[n];Object.defineProperty(e,i,{value:t[i],enumerable:!1,writable:!1,configurable:!0})}return e},Qo=function(e){return e&&e.ownerDocument&&e.ownerDocument.defaultView||Xo},es=os(0,0,0,0);function ts(e){return parseFloat(e)||0}function ns(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return t.reduce((function(t,n){return t+ts(e["border-"+n+"-width"])}),0)}function rs(e){var t=e.clientWidth,n=e.clientHeight;if(!t&&!n)return es;var r=Qo(e).getComputedStyle(e),i=function(e){for(var t={},n=0,r=["top","right","bottom","left"];n<r.length;n++){var i=r[n],a=e["padding-"+i];t[i]=ts(a)}return t}(r),a=i.left+i.right,o=i.top+i.bottom,s=ts(r.width),l=ts(r.height);if("border-box"===r.boxSizing&&(Math.round(s+a)!==t&&(s-=ns(r,"left","right")+a),Math.round(l+o)!==n&&(l-=ns(r,"top","bottom")+o)),!function(e){return e===Qo(e).document.documentElement}(e)){var c=Math.round(s+a)-t,u=Math.round(l+o)-n;1!==Math.abs(c)&&(s-=c),1!==Math.abs(u)&&(l-=u)}return os(i.left,i.top,s,l)}var is="undefined"!==typeof SVGGraphicsElement?function(e){return e instanceof Qo(e).SVGGraphicsElement}:function(e){return e instanceof Qo(e).SVGElement&&"function"===typeof e.getBBox};function as(e){return qo?is(e)?function(e){var t=e.getBBox();return os(0,0,t.width,t.height)}(e):rs(e):es}function os(e,t,n,r){return{x:e,y:t,width:n,height:r}}var ss=function(){function e(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=os(0,0,0,0),this.target=e}return e.prototype.isActive=function(){var e=as(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},e.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},e}(),ls=function(e,t){var n=function(e){var t=e.x,n=e.y,r=e.width,i=e.height,a="undefined"!==typeof DOMRectReadOnly?DOMRectReadOnly:Object,o=Object.create(a.prototype);return Jo(o,{x:t,y:n,width:r,height:i,top:n,right:t+r,bottom:i+n,left:t}),o}(t);Jo(this,{target:e,contentRect:n})},cs=function(){function e(e,t,n){if(this.activeObservations_=[],this.observations_=new Wo,"function"!==typeof e)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=t,this.callbackCtx_=n}return e.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!==typeof Element&&Element instanceof Object){if(!(e instanceof Qo(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)||(t.set(e,new ss(e)),this.controller_.addObserver(this),this.controller_.refresh())}},e.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!==typeof Element&&Element instanceof Object){if(!(e instanceof Qo(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)&&(t.delete(e),t.size||this.controller_.removeObserver(this))}},e.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},e.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach((function(t){t.isActive()&&e.activeObservations_.push(t)}))},e.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,t=this.activeObservations_.map((function(e){return new ls(e.target,e.broadcastRect())}));this.callback_.call(e,t,e),this.clearActive()}},e.prototype.clearActive=function(){this.activeObservations_.splice(0)},e.prototype.hasActive=function(){return this.activeObservations_.length>0},e}(),us="undefined"!==typeof WeakMap?new WeakMap:new Wo,ds=function e(t){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=$o.getInstance(),r=new cs(t,n,this);us.set(this,r)};["observe","unobserve","disconnect"].forEach((function(e){ds.prototype[e]=function(){var t;return(t=us.get(this))[e].apply(t,arguments)}}));var fs="undefined"!==typeof Xo.ResizeObserver?Xo.ResizeObserver:ds,hs=new Map;var ps=new fs((function(e){e.forEach((function(e){var t,n=e.target;null===(t=hs.get(n))||void 0===t||t.forEach((function(e){return e(n)}))}))}));var ms=function(e){m(n,e);var t=b(n);function n(){return c(this,n),t.apply(this,arguments)}return h(n,[{key:"render",value:function(){return this.props.children}}]),n}(t.Component),vs=t.createContext(null);function gs(e){var n=e.children,r=e.disabled,i=t.useRef(null),a=t.useRef(null),o=t.useContext(vs),s="function"===typeof n,l=s?n(i):n,c=t.useRef({width:-1,height:-1,offsetWidth:-1,offsetHeight:-1}),u=!s&&t.isValidElement(l)&&Vo(l),d=u?l.ref:null,f=t.useMemo((function(){return Bo(d,i)}),[d,i]),h=t.useRef(e);h.current=e;var p=t.useCallback((function(e){var t=h.current,n=t.onResize,r=t.data,i=e.getBoundingClientRect(),a=i.width,s=i.height,l=e.offsetWidth,u=e.offsetHeight,d=Math.floor(a),f=Math.floor(s);if(c.current.width!==d||c.current.height!==f||c.current.offsetWidth!==l||c.current.offsetHeight!==u){var p={width:d,height:f,offsetWidth:l,offsetHeight:u};c.current=p;var m=l===Math.round(a)?a:l,v=u===Math.round(s)?s:u,g=Xe(Xe({},p),{},{offsetWidth:m,offsetHeight:v});null===o||void 0===o||o(g,e,r),n&&Promise.resolve().then((function(){n(g,e)}))}}),[]);return t.useEffect((function(){var e,t,n=Go(i.current)||Go(a.current);return n&&!r&&(e=n,t=p,hs.has(e)||(hs.set(e,new Set),ps.observe(e)),hs.get(e).add(t)),function(){return function(e,t){hs.has(e)&&(hs.get(e).delete(t),hs.get(e).size||(ps.unobserve(e),hs.delete(e)))}(n,p)}}),[i.current,r]),t.createElement(ms,{ref:a},u?t.cloneElement(l,{ref:f}):l)}function ys(e){var n=e.children;return("function"===typeof n?[n]:Lo(n)).map((function(n,r){var i=(null===n||void 0===n?void 0:n.key)||"".concat("rc-observer-key","-").concat(r);return t.createElement(gs,Dt({},e,{key:i}),n)}))}ys.Collection=function(e){var n=e.children,r=e.onBatchResize,i=t.useRef(0),a=t.useRef([]),o=t.useContext(vs),s=t.useCallback((function(e,t,n){i.current+=1;var s=i.current;a.current.push({size:e,element:t,data:n}),Promise.resolve().then((function(){s===i.current&&(null===r||void 0===r||r(a.current),a.current=[])})),null===o||void 0===o||o(e,t,n)}),[r,o]);return t.createElement(vs.Provider,{value:s},n)};var xs=ys,bs=ft()?t.useLayoutEffect:t.useEffect,_s=bs,ws=function(e,n){var r=t.useRef(!0);bs((function(){if(!r.current)return e()}),n),bs((function(){return r.current=!1,function(){r.current=!0}}),[])},ks=["prefixCls","invalidate","item","renderItem","responsive","responsiveDisabled","registerSize","itemKey","className","style","children","display","order","component"],Ss=void 0;function Es(e,n){var r=e.prefixCls,i=e.invalidate,a=e.item,o=e.renderItem,s=e.responsive,l=e.responsiveDisabled,c=e.registerSize,u=e.itemKey,d=e.className,f=e.style,h=e.children,p=e.display,m=e.order,v=e.component,g=void 0===v?"div":v,y=li(e,ks),x=s&&!p;function b(e){c(u,e)}t.useEffect((function(){return function(){b(null)}}),[]);var _,w=o&&a!==Ss?o(a):h;i||(_={opacity:x?0:1,height:x?0:Ss,overflowY:x?"hidden":Ss,order:s?m:Ss,pointerEvents:x?"none":Ss,position:x?"absolute":Ss});var k={};x&&(k["aria-hidden"]=!0);var S=t.createElement(g,Dt({className:Ue()(!i&&r,d),style:Xe(Xe({},_),f)},k,y,{ref:n}),w);return s&&(S=t.createElement(xs,{onResize:function(e){b(e.offsetWidth)},disabled:l},S)),S}var Cs=t.forwardRef(Es);Cs.displayName="Item";var Ts=Cs,Ms=function(e){return+setTimeout(e,16)},Is=function(e){return clearTimeout(e)};"undefined"!==typeof window&&"requestAnimationFrame"in window&&(Ms=function(e){return window.requestAnimationFrame(e)},Is=function(e){return window.cancelAnimationFrame(e)});var Os=0,Ps=new Map;function As(e){Ps.delete(e)}var zs=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=Os+=1;function r(t){if(0===t)As(n),e();else{var i=Ms((function(){r(t-1)}));Ps.set(n,i)}}return r(t),n};zs.cancel=function(e){var t=Ps.get(e);return As(t),Is(t)};var js=zs;function Rs(e){var n=t.useRef(!1),r=k(t.useState(e),2),i=r[0],a=r[1];return t.useEffect((function(){return n.current=!1,function(){n.current=!0}}),[]),[i,function(e,t){t&&n.current||a(e)}]}var Ds=["component"],Ls=["className"],Ns=["className"],Bs=function(e,n){var r=t.useContext(Hs);if(!r){var i=e.component,a=void 0===i?"div":i,o=li(e,Ds);return t.createElement(a,Dt({},o,{ref:n}))}var s=r.className,l=li(r,Ls),c=e.className,u=li(e,Ns);return t.createElement(Hs.Provider,{value:null},t.createElement(Ts,Dt({ref:n,className:Ue()(s,c)},l,u)))},Fs=t.forwardRef(Bs);Fs.displayName="RawItem";var Vs=Fs,Us=["prefixCls","data","renderItem","renderRawItem","itemKey","itemWidth","ssr","style","className","maxCount","renderRest","renderRawRest","suffix","component","itemComponent","onVisibleChange"],Hs=t.createContext(null),Gs="responsive",Ws="invalidate";function qs(e){return"+ ".concat(e.length," ...")}function Xs(e,n){var r=e.prefixCls,i=void 0===r?"rc-overflow":r,a=e.data,o=void 0===a?[]:a,s=e.renderItem,l=e.renderRawItem,c=e.itemKey,u=e.itemWidth,d=void 0===u?10:u,f=e.ssr,h=e.style,p=e.className,m=e.maxCount,v=e.renderRest,g=e.renderRawRest,y=e.suffix,x=e.component,b=void 0===x?"div":x,_=e.itemComponent,w=e.onVisibleChange,S=li(e,Us),E=function(){var e=k(Rs({}),2)[1],n=(0,t.useRef)([]),r=0,i=0;return function(t){var a=r;return r+=1,n.current.length<a+1&&(n.current[a]=t),[n.current[a],function(t){n.current[a]="function"===typeof t?t(n.current[a]):t,js.cancel(i),i=js((function(){e({},!0)}))}]}}(),C="full"===f,T=k(E(null),2),M=T[0],I=T[1],O=M||0,P=k(E(new Map),2),A=P[0],z=P[1],j=k(E(0),2),R=j[0],D=j[1],L=k(E(0),2),N=L[0],B=L[1],F=k(E(0),2),V=F[0],U=F[1],H=k((0,t.useState)(null),2),G=H[0],W=H[1],q=k((0,t.useState)(null),2),X=q[0],Z=q[1],K=t.useMemo((function(){return null===X&&C?Number.MAX_SAFE_INTEGER:X||0}),[X,M]),Y=k((0,t.useState)(!1),2),$=Y[0],J=Y[1],Q="".concat(i,"-item"),ee=Math.max(R,N),te=m===Gs,ne=o.length&&te,re=m===Ws,ie=ne||"number"===typeof m&&o.length>m,ae=(0,t.useMemo)((function(){var e=o;return ne?e=null===M&&C?o:o.slice(0,Math.min(o.length,O/d)):"number"===typeof m&&(e=o.slice(0,m)),e}),[o,d,M,m,ne]),oe=(0,t.useMemo)((function(){return ne?o.slice(K+1):o.slice(ae.length)}),[o,ae,ne,K]),se=(0,t.useCallback)((function(e,t){var n;return"function"===typeof c?c(e):null!==(n=c&&(null===e||void 0===e?void 0:e[c]))&&void 0!==n?n:t}),[c]),le=(0,t.useCallback)(s||function(e){return e},[s]);function ce(e,t,n){(X!==e||void 0!==t&&t!==G)&&(Z(e),n||(J(e<o.length-1),null===w||void 0===w||w(e)),void 0!==t&&W(t))}function ue(e,t){z((function(n){var r=new Map(n);return null===t?r.delete(e):r.set(e,t),r}))}function de(e){return A.get(se(ae[e],e))}_s((function(){if(O&&ee&&ae){var e=V,t=ae.length,n=t-1;if(!t)return void ce(0,null);for(var r=0;r<t;r+=1){var i=de(r);if(C&&(i=i||0),void 0===i){ce(r-1,void 0,!0);break}if(e+=i,0===n&&e<=O||r===n-1&&e+de(n)<=O){ce(n,null);break}if(e+ee>O){ce(r-1,e-i-V+N);break}}y&&de(0)+V>O&&W(null)}}),[O,A,N,V,se,ae]);var fe=$&&!!oe.length,he={};null!==G&&ne&&(he={position:"absolute",left:G,top:0});var pe,me={prefixCls:Q,responsive:ne,component:_,invalidate:re},ve=l?function(e,n){var r=se(e,n);return t.createElement(Hs.Provider,{key:r,value:Xe(Xe({},me),{},{order:n,item:e,itemKey:r,registerSize:ue,display:n<=K})},l(e,n))}:function(e,n){var r=se(e,n);return t.createElement(Ts,Dt({},me,{order:n,key:r,item:e,renderItem:le,itemKey:r,registerSize:ue,display:n<=K}))},ge={order:fe?K:Number.MAX_SAFE_INTEGER,className:"".concat(Q,"-rest"),registerSize:function(e,t){B(t),D(N)},display:fe};if(g)g&&(pe=t.createElement(Hs.Provider,{value:Xe(Xe({},me),ge)},g(oe)));else{var ye=v||qs;pe=t.createElement(Ts,Dt({},me,ge),"function"===typeof ye?ye(oe):ye)}var xe=t.createElement(b,Dt({className:Ue()(!re&&i,p),style:h,ref:n},S),ae.map(ve),ie?pe:null,y&&t.createElement(Ts,Dt({},me,{responsive:te,responsiveDisabled:!ne,order:K,className:"".concat(Q,"-suffix"),registerSize:function(e,t){U(t)},display:!0,style:he}),y));return te&&(xe=t.createElement(xs,{onResize:function(e,t){I(t.clientWidth)},disabled:!ne},xe)),xe}var Zs=t.forwardRef(Xs);Zs.displayName="Overflow",Zs.Item=Vs,Zs.RESPONSIVE=Gs,Zs.INVALIDATE=Ws;var Ks=Zs;function Ys(e){var n=t.useRef();n.current=e;var r=t.useCallback((function(){for(var e,t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];return null===(e=n.current)||void 0===e?void 0:e.call.apply(e,[n].concat(r))}),[]);return r}function $s(e){return void 0!==e}function Js(e,t){var n=t||{},r=n.defaultValue,i=n.value,a=n.onChange,o=n.postState,s=k(Rs((function(){return $s(i)?i:$s(r)?"function"===typeof r?r():r:"function"===typeof e?e():e})),2),l=s[0],c=s[1],u=void 0!==i?i:l,d=o?o(u):u,f=Ys(a),h=k(Rs([u]),2),p=h[0],m=h[1];return ws((function(){var e=p[0];l!==e&&f(l,e)}),[p]),ws((function(){$s(i)||c(i)}),[i]),[d,Ys((function(e,t){c(e,t),m([u],t)}))]}var Qs=t.createContext(null);function el(e,t){return void 0===e?null:"".concat(e,"-").concat(t)}function tl(e){return el(t.useContext(Qs),e)}var nl=["children","locked"],rl=t.createContext(null);function il(e){var n=e.children,r=e.locked,i=li(e,nl),a=t.useContext(rl),o=Ke((function(){return function(e,t){var n=Xe({},e);return Object.keys(t).forEach((function(e){var r=t[e];void 0!==r&&(n[e]=r)})),n}(a,i)}),[a,i],(function(e,t){return!r&&(e[0]!==t[0]||!et(e[1],t[1],!0))}));return t.createElement(rl.Provider,{value:o},n)}var al=[],ol=t.createContext(null);function sl(){return t.useContext(ol)}var ll=t.createContext(al);function cl(e){var n=t.useContext(ll);return t.useMemo((function(){return void 0!==e?[].concat(l(n),[e]):n}),[n,e])}var ul=t.createContext(null),dl=t.createContext({}),fl={MAC_ENTER:3,BACKSPACE:8,TAB:9,NUM_CENTER:12,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:44,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,QUESTION_MARK:63,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,META:91,WIN_KEY_RIGHT:92,CONTEXT_MENU:93,NUM_ZERO:96,NUM_ONE:97,NUM_TWO:98,NUM_THREE:99,NUM_FOUR:100,NUM_FIVE:101,NUM_SIX:102,NUM_SEVEN:103,NUM_EIGHT:104,NUM_NINE:105,NUM_MULTIPLY:106,NUM_PLUS:107,NUM_MINUS:109,NUM_PERIOD:110,NUM_DIVISION:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,NUMLOCK:144,SEMICOLON:186,DASH:189,EQUALS:187,COMMA:188,PERIOD:190,SLASH:191,APOSTROPHE:192,SINGLE_QUOTE:222,OPEN_SQUARE_BRACKET:219,BACKSLASH:220,CLOSE_SQUARE_BRACKET:221,WIN_KEY:224,MAC_FF_META:224,WIN_IME:229,isTextModifyingKeyEvent:function(e){var t=e.keyCode;if(e.altKey&&!e.ctrlKey||e.metaKey||t>=fl.F1&&t<=fl.F12)return!1;switch(t){case fl.ALT:case fl.CAPS_LOCK:case fl.CONTEXT_MENU:case fl.CTRL:case fl.DOWN:case fl.END:case fl.ESC:case fl.HOME:case fl.INSERT:case fl.LEFT:case fl.MAC_FF_META:case fl.META:case fl.NUMLOCK:case fl.NUM_CENTER:case fl.PAGE_DOWN:case fl.PAGE_UP:case fl.PAUSE:case fl.PRINT_SCREEN:case fl.RIGHT:case fl.SHIFT:case fl.UP:case fl.WIN_KEY:case fl.WIN_KEY_RIGHT:return!1;default:return!0}},isCharacterKey:function(e){if(e>=fl.ZERO&&e<=fl.NINE)return!0;if(e>=fl.NUM_ZERO&&e<=fl.NUM_MULTIPLY)return!0;if(e>=fl.A&&e<=fl.Z)return!0;if(-1!==window.navigator.userAgent.indexOf("WebKit")&&0===e)return!0;switch(e){case fl.SPACE:case fl.QUESTION_MARK:case fl.NUM_PLUS:case fl.NUM_MINUS:case fl.NUM_PERIOD:case fl.NUM_DIVISION:case fl.SEMICOLON:case fl.DASH:case fl.EQUALS:case fl.COMMA:case fl.PERIOD:case fl.SLASH:case fl.APOSTROPHE:case fl.SINGLE_QUOTE:case fl.OPEN_SQUARE_BRACKET:case fl.BACKSLASH:case fl.CLOSE_SQUARE_BRACKET:return!0;default:return!1}}},hl=fl,pl=function(e){if(!e)return!1;if(e instanceof HTMLElement&&e.offsetParent)return!0;if(e instanceof SVGGraphicsElement&&e.getBBox){var t=e.getBBox(),n=t.width,r=t.height;if(n||r)return!0}if(e instanceof HTMLElement&&e.getBoundingClientRect){var i=e.getBoundingClientRect(),a=i.width,o=i.height;if(a||o)return!0}return!1};function ml(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(pl(e)){var n=e.nodeName.toLowerCase(),r=["input","select","textarea","button"].includes(n)||e.isContentEditable||"a"===n&&!!e.getAttribute("href"),i=e.getAttribute("tabindex"),a=Number(i),o=null;return i&&!Number.isNaN(a)?o=a:r&&null===o&&(o=0),r&&e.disabled&&(o=null),null!==o&&(o>=0||t&&o<0)}return!1}function vl(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=l(e.querySelectorAll("*")).filter((function(e){return ml(e,t)}));return ml(e,t)&&n.unshift(e),n}var gl=hl.LEFT,yl=hl.RIGHT,xl=hl.UP,bl=hl.DOWN,_l=hl.ENTER,wl=hl.ESC,kl=hl.HOME,Sl=hl.END,El=[xl,bl,gl,yl];function Cl(e,t){return vl(e,!0).filter((function(e){return t.has(e)}))}function Tl(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;if(!e)return null;var i=Cl(e,t),a=i.length,o=i.findIndex((function(e){return n===e}));return r<0?-1===o?o=a-1:o-=1:r>0&&(o+=1),i[o=(o+a)%a]}function Ml(e,n,r,i,a,o,s,l,c,u){var d=t.useRef(),f=t.useRef();f.current=n;var h=function(){js.cancel(d.current)};return t.useEffect((function(){return function(){h()}}),[]),function(t){var p=t.which;if([].concat(El,[_l,wl,kl,Sl]).includes(p)){var m,v,g,y=function(){return m=new Set,v=new Map,g=new Map,o().forEach((function(e){var t=document.querySelector("[data-menu-id='".concat(el(i,e),"']"));t&&(m.add(t),g.set(t,e),v.set(e,t))})),m};y();var x=function(e,t){for(var n=e||document.activeElement;n;){if(t.has(n))return n;n=n.parentElement}return null}(v.get(n),m),b=g.get(x),_=function(e,t,n,r){var i,a,o,s,l="prev",c="next",u="children",d="parent";if("inline"===e&&r===_l)return{inlineTrigger:!0};var f=(Fe(i={},xl,l),Fe(i,bl,c),i),h=(Fe(a={},gl,n?c:l),Fe(a,yl,n?l:c),Fe(a,bl,u),Fe(a,_l,u),a),p=(Fe(o={},xl,l),Fe(o,bl,c),Fe(o,_l,u),Fe(o,wl,d),Fe(o,gl,n?u:d),Fe(o,yl,n?d:u),o);switch(null===(s={inline:f,horizontal:h,vertical:p,inlineSub:f,horizontalSub:p,verticalSub:p}["".concat(e).concat(t?"":"Sub")])||void 0===s?void 0:s[r]){case l:return{offset:-1,sibling:!0};case c:return{offset:1,sibling:!0};case d:return{offset:-1,sibling:!1};case u:return{offset:1,sibling:!1};default:return null}}(e,1===s(b,!0).length,r,p);if(!_&&p!==kl&&p!==Sl)return;(El.includes(p)||[kl,Sl].includes(p))&&t.preventDefault();var w=function(e){if(e){var t=e,n=e.querySelector("a");null!==n&&void 0!==n&&n.getAttribute("href")&&(t=n);var r=g.get(e);l(r),h(),d.current=js((function(){f.current===r&&t.focus()}))}};if([kl,Sl].includes(p)||_.sibling||!x){var k,S,E=Cl(k=x&&"inline"!==e?function(e){for(var t=e;t;){if(t.getAttribute("data-menu-list"))return t;t=t.parentElement}return null}(x):a.current,m);S=p===kl?E[0]:p===Sl?E[E.length-1]:Tl(k,m,x,_.offset),w(S)}else if(_.inlineTrigger)c(b);else if(_.offset>0)c(b,!0),h(),d.current=js((function(){y();var e=x.getAttribute("aria-controls"),t=Tl(document.getElementById(e),m);w(t)}),5);else if(_.offset<0){var C=s(b,!0),T=C[C.length-2],M=v.get(T);c(T,!1),w(M)}}null===u||void 0===u||u(t)}}var Il="__RC_UTIL_PATH_SPLIT__",Ol=function(e){return e.join(Il)},Pl="rc-menu-more";function Al(){var e=k(t.useState({}),2)[1],n=(0,t.useRef)(new Map),r=(0,t.useRef)(new Map),i=k(t.useState([]),2),a=i[0],o=i[1],s=(0,t.useRef)(0),c=(0,t.useRef)(!1),u=(0,t.useCallback)((function(t,i){var a=Ol(i);r.current.set(a,t),n.current.set(t,a),s.current+=1;var o,l=s.current;o=function(){l===s.current&&(c.current||e({}))},Promise.resolve().then(o)}),[]),d=(0,t.useCallback)((function(e,t){var i=Ol(t);r.current.delete(i),n.current.delete(e)}),[]),f=(0,t.useCallback)((function(e){o(e)}),[]),h=(0,t.useCallback)((function(e,t){var r=n.current.get(e)||"",i=r.split(Il);return t&&a.includes(i[0])&&i.unshift(Pl),i}),[a]),p=(0,t.useCallback)((function(e,t){return e.some((function(e){return h(e,!0).includes(t)}))}),[h]),m=(0,t.useCallback)((function(e){var t="".concat(n.current.get(e)).concat(Il),i=new Set;return l(r.current.keys()).forEach((function(e){e.startsWith(t)&&i.add(r.current.get(e))})),i}),[]);return t.useEffect((function(){return function(){c.current=!0}}),[]),{registerPath:u,unregisterPath:d,refreshOverflowKeys:f,isSubPathKey:p,getKeyPath:h,getKeys:function(){var e=l(n.current.keys());return a.length&&e.push(Pl),e},getSubPathKeys:m}}function zl(e){var n=t.useRef(e);n.current=e;var r=t.useCallback((function(){for(var e,t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];return null===(e=n.current)||void 0===e?void 0:e.call.apply(e,[n].concat(r))}),[]);return e?r:void 0}var jl=Math.random().toFixed(5).toString().slice(2),Rl=0;function Dl(e,n,r,i){var a=t.useContext(rl),o=a.activeKey,s=a.onActive,l=a.onInactive,c={active:o===e};return n||(c.onMouseEnter=function(t){null===r||void 0===r||r({key:e,domEvent:t}),s(e)},c.onMouseLeave=function(t){null===i||void 0===i||i({key:e,domEvent:t}),l(e)}),c}var Ll=["item"];function Nl(e){var t=e.item,n=li(e,Ll);return Object.defineProperty(n,"item",{get:function(){return Qe(!1,"`info.item` is deprecated since we will move to function component that not provides React Node instance in future."),t}}),n}function Bl(e){var n=e.icon,r=e.props,i=e.children;return("function"===typeof n?t.createElement(n,Xe({},r)):n)||i||null}function Fl(e){var n=t.useContext(rl),r=n.mode,i=n.rtl,a=n.inlineIndent;if("inline"!==r)return null;return i?{paddingRight:e*a}:{paddingLeft:e*a}}var Vl=["title","attribute","elementRef"],Ul=["style","className","eventKey","warnKey","disabled","itemIcon","children","role","onMouseEnter","onMouseLeave","onClick","onKeyDown","onFocus"],Hl=["active"],Gl=function(e){m(r,e);var n=b(r);function r(){return c(this,r),n.apply(this,arguments)}return h(r,[{key:"render",value:function(){var e=this.props,n=e.title,r=e.attribute,i=e.elementRef,a=Ai(li(e,Vl),["eventKey"]);return Qe(!r,"`attribute` of Menu.Item is deprecated. Please pass attribute directly."),t.createElement(Ks.Item,Dt({},r,{title:"string"===typeof n?n:void 0},a,{ref:i}))}}]),r}(t.Component),Wl=function(e){var n,r=e.style,i=e.className,a=e.eventKey,o=(e.warnKey,e.disabled),s=e.itemIcon,c=e.children,u=e.role,d=e.onMouseEnter,f=e.onMouseLeave,h=e.onClick,p=e.onKeyDown,m=e.onFocus,v=li(e,Ul),g=tl(a),y=t.useContext(rl),x=y.prefixCls,b=y.onItemClick,_=y.disabled,w=y.overflowDisabled,k=y.itemIcon,S=y.selectedKeys,E=y.onActive,C=t.useContext(dl)._internalRenderMenuItem,T="".concat(x,"-item"),M=t.useRef(),I=t.useRef(),O=_||o,P=cl(a);var A=function(e){return{key:a,keyPath:l(P).reverse(),item:M.current,domEvent:e}},z=s||k,j=Dl(a,O,d,f),R=j.active,D=li(j,Hl),L=S.includes(a),N=Fl(P.length),B={};"option"===e.role&&(B["aria-selected"]=L);var F=t.createElement(Gl,Dt({ref:M,elementRef:I,role:null===u?"none":u||"menuitem",tabIndex:o?null:-1,"data-menu-id":w&&g?null:g},v,D,B,{component:"li","aria-disabled":o,style:Xe(Xe({},N),r),className:Ue()(T,(n={},Fe(n,"".concat(T,"-active"),R),Fe(n,"".concat(T,"-selected"),L),Fe(n,"".concat(T,"-disabled"),O),n),i),onClick:function(e){if(!O){var t=A(e);null===h||void 0===h||h(Nl(t)),b(t)}},onKeyDown:function(e){if(null===p||void 0===p||p(e),e.which===hl.ENTER){var t=A(e);null===h||void 0===h||h(Nl(t)),b(t)}},onFocus:function(e){E(a),null===m||void 0===m||m(e)}}),c,t.createElement(Bl,{props:Xe(Xe({},e),{},{isSelected:L}),icon:z}));return C&&(F=C(F,e,{selected:L})),F};var ql=function(e){var n=e.eventKey,r=sl(),i=cl(n);return t.useEffect((function(){if(r)return r.registerPath(n,i),function(){r.unregisterPath(n,i)}}),[i]),r?null:t.createElement(Wl,e)},Xl=["className","children"],Zl=function(e,n){var r=e.className,i=e.children,a=li(e,Xl),o=t.useContext(rl),s=o.prefixCls,l=o.mode,c=o.rtl;return t.createElement("ul",Dt({className:Ue()(s,c&&"".concat(s,"-rtl"),"".concat(s,"-sub"),"".concat(s,"-").concat("inline"===l?"inline":"vertical"),r),role:"menu"},a,{"data-menu-list":!0,ref:n}),i)},Kl=t.forwardRef(Zl);Kl.displayName="SubMenuList";var Yl=Kl,$l=["label","children","key","type"];function Jl(e,n){return Lo(e).map((function(e,r){if(t.isValidElement(e)){var i,a,o=e.key,s=null!==(i=null===(a=e.props)||void 0===a?void 0:a.eventKey)&&void 0!==i?i:o;(null===s||void 0===s)&&(s="tmp_key-".concat([].concat(l(n),[r]).join("-")));var c={key:s,eventKey:s};return t.cloneElement(e,c)}return e}))}function Ql(e){return(e||[]).map((function(e,n){if(e&&"object"===u(e)){var r=e,i=r.label,a=r.children,o=r.key,s=r.type,l=li(r,$l),c=null!==o&&void 0!==o?o:"tmp-".concat(n);return a||"group"===s?"group"===s?t.createElement(Rd,Dt({key:c},l,{title:i}),Ql(a)):t.createElement(Md,Dt({key:c},l,{title:i}),Ql(a)):"divider"===s?t.createElement(Dd,Dt({key:c},l)):t.createElement(ql,Dt({key:c},l),i)}return null})).filter((function(e){return e}))}function ec(e,t,n){var r=e;return t&&(r=Ql(t)),Jl(r,n)}function tc(e,t,n,r){var i=Uo.unstable_batchedUpdates?function(e){Uo.unstable_batchedUpdates(n,e)}:n;return e.addEventListener&&e.addEventListener(t,i,r),{remove:function(){e.removeEventListener&&e.removeEventListener(t,i,r)}}}var nc=(0,t.forwardRef)((function(e,n){var r=e.didUpdate,i=e.getContainer,a=e.children,o=(0,t.useRef)(),s=(0,t.useRef)();(0,t.useImperativeHandle)(n,(function(){return{}}));var l=(0,t.useRef)(!1);return!l.current&&ft()&&(s.current=i(),o.current=s.current.parentNode,l.current=!0),(0,t.useEffect)((function(){null===r||void 0===r||r(e)})),(0,t.useEffect)((function(){return null===s.current.parentNode&&null!==o.current&&o.current.appendChild(s.current),function(){var e,t;null===(e=s.current)||void 0===e||null===(t=e.parentNode)||void 0===t||t.removeChild(s.current)}}),[]),s.current?Uo.createPortal(a,s.current):null})),rc=nc;function ic(e,t,n){return n?e[0]===t[0]:e[0]===t[0]&&e[1]===t[1]}var ac=function(){if("undefined"===typeof navigator||"undefined"===typeof window)return!1;var e=navigator.userAgent||navigator.vendor||window.opera;return/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw-(n|u)|c55\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|g560|gene|gf-5|g-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i.test(null===e||void 0===e?void 0:e.substr(0,4))};function oc(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit".concat(e)]="webkit".concat(t),n["Moz".concat(e)]="moz".concat(t),n["ms".concat(e)]="MS".concat(t),n["O".concat(e)]="o".concat(t.toLowerCase()),n}var sc=function(e,t){var n={animationend:oc("Animation","AnimationEnd"),transitionend:oc("Transition","TransitionEnd")};return e&&("AnimationEvent"in t||delete n.animationend.animation,"TransitionEvent"in t||delete n.transitionend.transition),n}(ft(),"undefined"!==typeof window?window:{}),lc={};if(ft()){var cc=document.createElement("div");lc=cc.style}var uc={};function dc(e){if(uc[e])return uc[e];var t=sc[e];if(t)for(var n=Object.keys(t),r=n.length,i=0;i<r;i+=1){var a=n[i];if(Object.prototype.hasOwnProperty.call(t,a)&&a in lc)return uc[e]=t[a],uc[e]}return""}var fc=dc("animationend"),hc=dc("transitionend"),pc=!(!fc||!hc),mc=fc||"animationend",vc=hc||"transitionend";function gc(e,t){if(!e)return null;if("object"===u(e)){var n=t.replace(/-\w/g,(function(e){return e[1].toUpperCase()}));return e[n]}return"".concat(e,"-").concat(t)}var yc="none",xc="appear",bc="enter",_c="leave",wc="none",kc="prepare",Sc="start",Ec="active",Cc="end",Tc=ft()?t.useLayoutEffect:t.useEffect,Mc=[kc,Sc,Ec,Cc];function Ic(e){return e===Ec||e===Cc}var Oc=function(e,n){var r=k(Rs(wc),2),i=r[0],a=r[1],o=function(){var e=t.useRef(null);function n(){js.cancel(e.current)}return t.useEffect((function(){return function(){n()}}),[]),[function t(r){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;n();var a=js((function(){i<=1?r({isCanceled:function(){return a!==e.current}}):t(r,i-1)}));e.current=a},n]}(),s=k(o,2),l=s[0],c=s[1];return Tc((function(){if(i!==wc&&i!==Cc){var e=Mc.indexOf(i),t=Mc[e+1],r=n(i);false===r?a(t,!0):l((function(e){function n(){e.isCanceled()||a(t,!0)}!0===r?n():Promise.resolve(r).then(n)}))}}),[e,i]),t.useEffect((function(){return function(){c()}}),[]),[function(){a(kc,!0)},i]};function Pc(e,n,r,i){var a=i.motionEnter,o=void 0===a||a,s=i.motionAppear,l=void 0===s||s,c=i.motionLeave,u=void 0===c||c,d=i.motionDeadline,f=i.motionLeaveImmediately,h=i.onAppearPrepare,p=i.onEnterPrepare,m=i.onLeavePrepare,v=i.onAppearStart,g=i.onEnterStart,y=i.onLeaveStart,x=i.onAppearActive,b=i.onEnterActive,_=i.onLeaveActive,w=i.onAppearEnd,S=i.onEnterEnd,E=i.onLeaveEnd,C=i.onVisibleChanged,T=k(Rs(),2),M=T[0],I=T[1],O=k(Rs(yc),2),P=O[0],A=O[1],z=k(Rs(null),2),j=z[0],R=z[1],D=(0,t.useRef)(!1),L=(0,t.useRef)(null);function N(){return r()}var B=(0,t.useRef)(!1);function F(e){var t=N();if(!e||e.deadline||e.target===t){var n,r=B.current;P===xc&&r?n=null===w||void 0===w?void 0:w(t,e):P===bc&&r?n=null===S||void 0===S?void 0:S(t,e):P===_c&&r&&(n=null===E||void 0===E?void 0:E(t,e)),P!==yc&&r&&!1!==n&&(A(yc,!0),R(null,!0))}}var V=function(e){var n=(0,t.useRef)(),r=(0,t.useRef)(e);r.current=e;var i=t.useCallback((function(e){r.current(e)}),[]);function a(e){e&&(e.removeEventListener(vc,i),e.removeEventListener(mc,i))}return t.useEffect((function(){return function(){a(n.current)}}),[]),[function(e){n.current&&n.current!==e&&a(n.current),e&&e!==n.current&&(e.addEventListener(vc,i),e.addEventListener(mc,i),n.current=e)},a]}(F),U=k(V,1)[0],H=t.useMemo((function(){var e,t,n;switch(P){case xc:return Fe(e={},kc,h),Fe(e,Sc,v),Fe(e,Ec,x),e;case bc:return Fe(t={},kc,p),Fe(t,Sc,g),Fe(t,Ec,b),t;case _c:return Fe(n={},kc,m),Fe(n,Sc,y),Fe(n,Ec,_),n;default:return{}}}),[P]),G=k(Oc(P,(function(e){if(e===kc){var t=H[kc];return!!t&&t(N())}var n;q in H&&R((null===(n=H[q])||void 0===n?void 0:n.call(H,N(),null))||null);return q===Ec&&(U(N()),d>0&&(clearTimeout(L.current),L.current=setTimeout((function(){F({deadline:!0})}),d))),true})),2),W=G[0],q=G[1],X=Ic(q);B.current=X,Tc((function(){I(n);var t,r=D.current;(D.current=!0,e)&&(!r&&n&&l&&(t=xc),r&&n&&o&&(t=bc),(r&&!n&&u||!r&&f&&!n&&u)&&(t=_c),t&&(A(t),W()))}),[n]),(0,t.useEffect)((function(){(P===xc&&!l||P===bc&&!o||P===_c&&!u)&&A(yc)}),[l,o,u]),(0,t.useEffect)((function(){return function(){D.current=!1,clearTimeout(L.current)}}),[]);var Z=t.useRef(!1);(0,t.useEffect)((function(){M&&(Z.current=!0),void 0!==M&&P===yc&&((Z.current||M)&&(null===C||void 0===C||C(M)),Z.current=!0)}),[M,P]);var K=j;return H[kc]&&q===Sc&&(K=Xe({transition:"none"},K)),[P,q,K,null!==M&&void 0!==M?M:n]}var Ac=function(e){m(n,e);var t=b(n);function n(){return c(this,n),t.apply(this,arguments)}return h(n,[{key:"render",value:function(){return this.props.children}}]),n}(t.Component),zc=Ac;var jc=function(e){var n=e;function r(e){return!(!e.motionName||!n)}"object"===u(e)&&(n=e.transitionSupport);var i=t.forwardRef((function(e,n){var i=e.visible,a=void 0===i||i,o=e.removeOnLeave,s=void 0===o||o,l=e.forceRender,c=e.children,u=e.motionName,d=e.leavedClassName,f=e.eventProps,h=r(e),p=(0,t.useRef)(),m=(0,t.useRef)();var v=k(Pc(h,a,(function(){try{return p.current instanceof HTMLElement?p.current:Go(m.current)}catch(Jv){return null}}),e),4),g=v[0],y=v[1],x=v[2],b=v[3],_=t.useRef(b);b&&(_.current=!0);var w,S=t.useCallback((function(e){p.current=e,No(n,e)}),[n]),E=Xe(Xe({},f),{},{visible:a});if(c)if(g!==yc&&r(e)){var C,T;y===kc?T="prepare":Ic(y)?T="active":y===Sc&&(T="start"),w=c(Xe(Xe({},E),{},{className:Ue()(gc(u,g),(C={},Fe(C,gc(u,"".concat(g,"-").concat(T)),T),Fe(C,u,"string"===typeof u),C)),style:x}),S)}else w=b?c(Xe({},E),S):!s&&_.current&&d?c(Xe(Xe({},E),{},{className:d}),S):l||!s&&!d?c(Xe(Xe({},E),{},{style:{display:"none"}}),S):null;else w=null;t.isValidElement(w)&&Vo(w)&&(w.ref||(w=t.cloneElement(w,{ref:S})));return t.createElement(zc,{ref:m},w)}));return i.displayName="CSSMotion",i}(pc),Rc="add",Dc="keep",Lc="remove",Nc="removed";function Bc(e){var t;return Xe(Xe({},t=e&&"object"===u(e)&&"key"in e?e:{key:e}),{},{key:String(t.key)})}function Fc(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.map(Bc)}function Vc(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=[],r=0,i=t.length,a=Fc(e),o=Fc(t);a.forEach((function(e){for(var t=!1,a=r;a<i;a+=1){var s=o[a];if(s.key===e.key){r<a&&(n=n.concat(o.slice(r,a).map((function(e){return Xe(Xe({},e),{},{status:Rc})}))),r=a),n.push(Xe(Xe({},s),{},{status:Dc})),r+=1,t=!0;break}}t||n.push(Xe(Xe({},e),{},{status:Lc}))})),r<i&&(n=n.concat(o.slice(r).map((function(e){return Xe(Xe({},e),{},{status:Rc})}))));var s={};n.forEach((function(e){var t=e.key;s[t]=(s[t]||0)+1}));var l=Object.keys(s).filter((function(e){return s[e]>1}));return l.forEach((function(e){(n=n.filter((function(t){var n=t.key,r=t.status;return n!==e||r!==Lc}))).forEach((function(t){t.key===e&&(t.status=Dc)}))})),n}var Uc=["component","children","onVisibleChanged","onAllRemoved"],Hc=["status"],Gc=["eventProps","visible","children","motionName","motionAppear","motionEnter","motionLeave","motionLeaveImmediately","motionDeadline","removeOnLeave","leavedClassName","onAppearStart","onAppearActive","onAppearEnd","onEnterStart","onEnterActive","onEnterEnd","onLeaveStart","onLeaveActive","onLeaveEnd"];var Wc,qc=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:jc,r=function(e){m(i,e);var r=b(i);function i(){var e;c(this,i);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return Fe(y(e=r.call.apply(r,[this].concat(n))),"state",{keyEntities:[]}),Fe(y(e),"removeKey",(function(t){var n=e.state.keyEntities.map((function(e){return e.key!==t?e:Xe(Xe({},e),{},{status:Nc})}));return e.setState({keyEntities:n}),n.filter((function(e){return e.status!==Nc})).length})),e}return h(i,[{key:"render",value:function(){var e=this,r=this.state.keyEntities,i=this.props,a=i.component,o=i.children,s=i.onVisibleChanged,l=i.onAllRemoved,c=li(i,Uc),u=a||t.Fragment,d={};return Gc.forEach((function(e){d[e]=c[e],delete c[e]})),delete c.keys,t.createElement(u,c,r.map((function(r){var i=r.status,a=li(r,Hc),c=i===Rc||i===Dc;return t.createElement(n,Dt({},d,{key:a.key,visible:c,eventProps:a,onVisibleChanged:function(t){(null===s||void 0===s||s(t,{key:a.key}),t)||0===e.removeKey(a.key)&&l&&l()}}),o)})))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n=e.keys,r=t.keyEntities,i=Fc(n);return{keyEntities:Vc(r,i).filter((function(e){var t=r.find((function(t){var n=t.key;return e.key===n}));return!t||t.status!==Nc||e.status!==Lc}))}}}]),i}(t.Component);return Fe(r,"defaultProps",{component:"div"}),r}(pc),Xc=jc;function Zc(e){var t=e.prefixCls,n=e.motion,r=e.animation,i=e.transitionName;return n||(r?{motionName:"".concat(t,"-").concat(r)}:i?{motionName:i}:null)}function Kc(e){var n=e.prefixCls,r=e.visible,i=e.zIndex,a=e.mask,o=e.maskMotion,s=e.maskAnimation,l=e.maskTransitionName;if(!a)return null;var c={};return(o||l||s)&&(c=Xe({motionAppear:!0},Zc({motion:o,prefixCls:n,transitionName:l,animation:s}))),t.createElement(Xc,Dt({},c,{visible:r,removeOnLeave:!0}),(function(e){var r=e.className;return t.createElement("div",{style:{zIndex:i},className:Ue()("".concat(n,"-mask"),r)})}))}function Yc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function $c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Yc(Object(n),!0).forEach((function(t){Qc(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Yc(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Jc(e){return Jc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jc(e)}function Qc(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var eu={Webkit:"-webkit-",Moz:"-moz-",ms:"-ms-",O:"-o-"};function tu(){if(void 0!==Wc)return Wc;Wc="";var e=document.createElement("p").style;for(var t in eu)t+"Transform"in e&&(Wc=t);return Wc}function nu(){return tu()?"".concat(tu(),"TransitionProperty"):"transitionProperty"}function ru(){return tu()?"".concat(tu(),"Transform"):"transform"}function iu(e,t){var n=nu();n&&(e.style[n]=t,"transitionProperty"!==n&&(e.style.transitionProperty=t))}function au(e,t){var n=ru();n&&(e.style[n]=t,"transform"!==n&&(e.style.transform=t))}var ou,su=/matrix\((.*)\)/,lu=/matrix3d\((.*)\)/;function cu(e){var t=e.style.display;e.style.display="none",e.offsetHeight,e.style.display=t}function uu(e,t,n){var r=n;if("object"!==Jc(t))return"undefined"!==typeof r?("number"===typeof r&&(r="".concat(r,"px")),void(e.style[t]=r)):ou(e,t);for(var i in t)t.hasOwnProperty(i)&&uu(e,i,t[i])}function du(e,t){var n=e["page".concat(t?"Y":"X","Offset")],r="scroll".concat(t?"Top":"Left");if("number"!==typeof n){var i=e.document;"number"!==typeof(n=i.documentElement[r])&&(n=i.body[r])}return n}function fu(e){return du(e)}function hu(e){return du(e,!0)}function pu(e){var t=function(e){var t,n,r,i=e.ownerDocument,a=i.body,o=i&&i.documentElement;return t=e.getBoundingClientRect(),n=Math.floor(t.left),r=Math.floor(t.top),{left:n-=o.clientLeft||a.clientLeft||0,top:r-=o.clientTop||a.clientTop||0}}(e),n=e.ownerDocument,r=n.defaultView||n.parentWindow;return t.left+=fu(r),t.top+=hu(r),t}function mu(e){return null!==e&&void 0!==e&&e==e.window}function vu(e){return mu(e)?e.document:9===e.nodeType?e:e.ownerDocument}var gu=new RegExp("^(".concat(/[\-+]?(?:\d*\.|)\d+(?:[eE][\-+]?\d+|)/.source,")(?!px)[a-z%]+$"),"i"),yu=/^(top|right|bottom|left)$/,xu="currentStyle",bu="runtimeStyle",_u="left";function wu(e,t){return"left"===e?t.useCssRight?"right":e:t.useCssBottom?"bottom":e}function ku(e){return"left"===e?"right":"right"===e?"left":"top"===e?"bottom":"bottom"===e?"top":void 0}function Su(e,t,n){"static"===uu(e,"position")&&(e.style.position="relative");var r=-999,i=-999,a=wu("left",n),o=wu("top",n),s=ku(a),l=ku(o);"left"!==a&&(r=999),"top"!==o&&(i=999);var c="",u=pu(e);("left"in t||"top"in t)&&(c=function(e){return e.style.transitionProperty||e.style[nu()]}(e)||"",iu(e,"none")),"left"in t&&(e.style[s]="",e.style[a]="".concat(r,"px")),"top"in t&&(e.style[l]="",e.style[o]="".concat(i,"px")),cu(e);var d=pu(e),f={};for(var h in t)if(t.hasOwnProperty(h)){var p=wu(h,n),m="left"===h?r:i,v=u[h]-d[h];f[p]=p===h?m+v:m-v}uu(e,f),cu(e),("left"in t||"top"in t)&&iu(e,c);var g={};for(var y in t)if(t.hasOwnProperty(y)){var x=wu(y,n),b=t[y]-u[y];g[x]=y===x?f[x]+b:f[x]-b}uu(e,g)}function Eu(e,t){var n=pu(e),r=function(e){var t=window.getComputedStyle(e,null),n=t.getPropertyValue("transform")||t.getPropertyValue(ru());if(n&&"none"!==n){var r=n.replace(/[^0-9\-.,]/g,"").split(",");return{x:parseFloat(r[12]||r[4],0),y:parseFloat(r[13]||r[5],0)}}return{x:0,y:0}}(e),i={x:r.x,y:r.y};"left"in t&&(i.x=r.x+t.left-n.left),"top"in t&&(i.y=r.y+t.top-n.top),function(e,t){var n=window.getComputedStyle(e,null),r=n.getPropertyValue("transform")||n.getPropertyValue(ru());if(r&&"none"!==r){var i,a=r.match(su);a?((i=(a=a[1]).split(",").map((function(e){return parseFloat(e,10)})))[4]=t.x,i[5]=t.y,au(e,"matrix(".concat(i.join(","),")"))):((i=r.match(lu)[1].split(",").map((function(e){return parseFloat(e,10)})))[12]=t.x,i[13]=t.y,au(e,"matrix3d(".concat(i.join(","),")")))}else au(e,"translateX(".concat(t.x,"px) translateY(").concat(t.y,"px) translateZ(0)"))}(e,i)}function Cu(e,t){for(var n=0;n<e.length;n++)t(e[n])}function Tu(e){return"border-box"===ou(e,"boxSizing")}"undefined"!==typeof window&&(ou=window.getComputedStyle?function(e,t,n){var r=n,i="",a=vu(e);return(r=r||a.defaultView.getComputedStyle(e,null))&&(i=r.getPropertyValue(t)||r[t]),i}:function(e,t){var n=e[xu]&&e[xu][t];if(gu.test(n)&&!yu.test(t)){var r=e.style,i=r[_u],a=e[bu][_u];e[bu][_u]=e[xu][_u],r[_u]="fontSize"===t?"1em":n||0,n=r.pixelLeft+"px",r[_u]=i,e[bu][_u]=a}return""===n?"auto":n});var Mu=["margin","border","padding"];function Iu(e,t,n){var r,i={},a=e.style;for(r in t)t.hasOwnProperty(r)&&(i[r]=a[r],a[r]=t[r]);for(r in n.call(e),t)t.hasOwnProperty(r)&&(a[r]=i[r])}function Ou(e,t,n){var r,i,a,o=0;for(i=0;i<t.length;i++)if(r=t[i])for(a=0;a<n.length;a++){var s=void 0;s="border"===r?"".concat(r).concat(n[a],"Width"):r+n[a],o+=parseFloat(ou(e,s))||0}return o}var Pu={getParent:function(e){var t=e;do{t=11===t.nodeType&&t.host?t.host:t.parentNode}while(t&&1!==t.nodeType&&9!==t.nodeType);return t}};function Au(e,t,n){var r=n;if(mu(e))return"width"===t?Pu.viewportWidth(e):Pu.viewportHeight(e);if(9===e.nodeType)return"width"===t?Pu.docWidth(e):Pu.docHeight(e);var i="width"===t?["Left","Right"]:["Top","Bottom"],a="width"===t?Math.floor(e.getBoundingClientRect().width):Math.floor(e.getBoundingClientRect().height),o=Tu(e),s=0;(null===a||void 0===a||a<=0)&&(a=void 0,(null===(s=ou(e,t))||void 0===s||Number(s)<0)&&(s=e.style[t]||0),s=Math.floor(parseFloat(s))||0),void 0===r&&(r=o?1:-1);var l=void 0!==a||o,c=a||s;return-1===r?l?c-Ou(e,["border","padding"],i):s:l?1===r?c:c+(2===r?-Ou(e,["border"],i):Ou(e,["margin"],i)):s+Ou(e,Mu.slice(r),i)}Cu(["Width","Height"],(function(e){Pu["doc".concat(e)]=function(t){var n=t.document;return Math.max(n.documentElement["scroll".concat(e)],n.body["scroll".concat(e)],Pu["viewport".concat(e)](n))},Pu["viewport".concat(e)]=function(t){var n="client".concat(e),r=t.document,i=r.body,a=r.documentElement[n];return"CSS1Compat"===r.compatMode&&a||i&&i[n]||a}}));var zu={position:"absolute",visibility:"hidden",display:"block"};function ju(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r,i=t[0];return 0!==i.offsetWidth?r=Au.apply(void 0,t):Iu(i,zu,(function(){r=Au.apply(void 0,t)})),r}function Ru(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}Cu(["width","height"],(function(e){var t=e.charAt(0).toUpperCase()+e.slice(1);Pu["outer".concat(t)]=function(t,n){return t&&ju(t,e,n?0:1)};var n="width"===e?["Left","Right"]:["Top","Bottom"];Pu[e]=function(t,r){var i=r;return void 0!==i?t?(Tu(t)&&(i+=Ou(t,["padding","border"],n)),uu(t,e,i)):void 0:t&&ju(t,e,-1)}}));var Du={getWindow:function(e){if(e&&e.document&&e.setTimeout)return e;var t=e.ownerDocument||e;return t.defaultView||t.parentWindow},getDocument:vu,offset:function(e,t,n){if("undefined"===typeof t)return pu(e);!function(e,t,n){if(n.ignoreShake){var r=pu(e),i=r.left.toFixed(0),a=r.top.toFixed(0),o=t.left.toFixed(0),s=t.top.toFixed(0);if(i===o&&a===s)return}n.useCssRight||n.useCssBottom?Su(e,t,n):n.useCssTransform&&ru()in document.body.style?Eu(e,t):Su(e,t,n)}(e,t,n||{})},isWindow:mu,each:Cu,css:uu,clone:function(e){var t,n={};for(t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);if(e.overflow)for(t in e)e.hasOwnProperty(t)&&(n.overflow[t]=e.overflow[t]);return n},mix:Ru,getWindowScrollLeft:function(e){return fu(e)},getWindowScrollTop:function(e){return hu(e)},merge:function(){for(var e={},t=0;t<arguments.length;t++)Du.mix(e,t<0||arguments.length<=t?void 0:arguments[t]);return e},viewportWidth:0,viewportHeight:0};Ru(Du,Pu);var Lu=Du.getParent;function Nu(e){if(Du.isWindow(e)||9===e.nodeType)return null;var t,n=Du.getDocument(e).body,r=Du.css(e,"position");if(!("fixed"===r||"absolute"===r))return"html"===e.nodeName.toLowerCase()?null:Lu(e);for(t=Lu(e);t&&t!==n&&9!==t.nodeType;t=Lu(t))if("static"!==(r=Du.css(t,"position")))return t;return null}var Bu=Du.getParent;function Fu(e,t){for(var n={left:0,right:1/0,top:0,bottom:1/0},r=Nu(e),i=Du.getDocument(e),a=i.defaultView||i.parentWindow,o=i.body,s=i.documentElement;r;){if(-1!==navigator.userAgent.indexOf("MSIE")&&0===r.clientWidth||r===o||r===s||"visible"===Du.css(r,"overflow")){if(r===o||r===s)break}else{var l=Du.offset(r);l.left+=r.clientLeft,l.top+=r.clientTop,n.top=Math.max(n.top,l.top),n.right=Math.min(n.right,l.left+r.clientWidth),n.bottom=Math.min(n.bottom,l.top+r.clientHeight),n.left=Math.max(n.left,l.left)}r=Nu(r)}var c=null;Du.isWindow(e)||9===e.nodeType||(c=e.style.position,"absolute"===Du.css(e,"position")&&(e.style.position="fixed"));var u=Du.getWindowScrollLeft(a),d=Du.getWindowScrollTop(a),f=Du.viewportWidth(a),h=Du.viewportHeight(a),p=s.scrollWidth,m=s.scrollHeight,v=window.getComputedStyle(o);if("hidden"===v.overflowX&&(p=a.innerWidth),"hidden"===v.overflowY&&(m=a.innerHeight),e.style&&(e.style.position=c),t||function(e){if(Du.isWindow(e)||9===e.nodeType)return!1;var t=Du.getDocument(e),n=t.body,r=null;for(r=Bu(e);r&&r!==n&&r!==t;r=Bu(r))if("fixed"===Du.css(r,"position"))return!0;return!1}(e))n.left=Math.max(n.left,u),n.top=Math.max(n.top,d),n.right=Math.min(n.right,u+f),n.bottom=Math.min(n.bottom,d+h);else{var g=Math.max(p,u+f);n.right=Math.min(n.right,g);var y=Math.max(m,d+h);n.bottom=Math.min(n.bottom,y)}return n.top>=0&&n.left>=0&&n.bottom>n.top&&n.right>n.left?n:null}function Vu(e){var t,n,r;if(Du.isWindow(e)||9===e.nodeType){var i=Du.getWindow(e);t={left:Du.getWindowScrollLeft(i),top:Du.getWindowScrollTop(i)},n=Du.viewportWidth(i),r=Du.viewportHeight(i)}else t=Du.offset(e),n=Du.outerWidth(e),r=Du.outerHeight(e);return t.width=n,t.height=r,t}function Uu(e,t){var n=t.charAt(0),r=t.charAt(1),i=e.width,a=e.height,o=e.left,s=e.top;return"c"===n?s+=a/2:"b"===n&&(s+=a),"c"===r?o+=i/2:"r"===r&&(o+=i),{left:o,top:s}}function Hu(e,t,n,r,i){var a=Uu(t,n[1]),o=Uu(e,n[0]),s=[o.left-a.left,o.top-a.top];return{left:Math.round(e.left-s[0]+r[0]-i[0]),top:Math.round(e.top-s[1]+r[1]-i[1])}}function Gu(e,t,n){return e.left<n.left||e.left+t.width>n.right}function Wu(e,t,n){return e.top<n.top||e.top+t.height>n.bottom}function qu(e,t,n){var r=[];return Du.each(e,(function(e){r.push(e.replace(t,(function(e){return n[e]})))})),r}function Xu(e,t){return e[t]=-e[t],e}function Zu(e,t){return(/%$/.test(e)?parseInt(e.substring(0,e.length-1),10)/100*t:parseInt(e,10))||0}function Ku(e,t){e[0]=Zu(e[0],t.width),e[1]=Zu(e[1],t.height)}function Yu(e,t,n,r){var i=n.points,a=n.offset||[0,0],o=n.targetOffset||[0,0],s=n.overflow,l=n.source||e;a=[].concat(a),o=[].concat(o);var c={},u=0,d=Fu(l,!(!(s=s||{})||!s.alwaysByViewport)),f=Vu(l);Ku(a,f),Ku(o,t);var h=Hu(f,t,i,a,o),p=Du.merge(f,h);if(d&&(s.adjustX||s.adjustY)&&r){if(s.adjustX&&Gu(h,f,d)){var m=qu(i,/[lr]/gi,{l:"r",r:"l"}),v=Xu(a,0),g=Xu(o,0);(function(e,t,n){return e.left>n.right||e.left+t.width<n.left})(Hu(f,t,m,v,g),f,d)||(u=1,i=m,a=v,o=g)}if(s.adjustY&&Wu(h,f,d)){var y=qu(i,/[tb]/gi,{t:"b",b:"t"}),x=Xu(a,1),b=Xu(o,1);(function(e,t,n){return e.top>n.bottom||e.top+t.height<n.top})(Hu(f,t,y,x,b),f,d)||(u=1,i=y,a=x,o=b)}u&&(h=Hu(f,t,i,a,o),Du.mix(p,h));var _=Gu(h,f,d),w=Wu(h,f,d);if(_||w){var k=i;_&&(k=qu(i,/[lr]/gi,{l:"r",r:"l"})),w&&(k=qu(i,/[tb]/gi,{t:"b",b:"t"})),i=k,a=n.offset||[0,0],o=n.targetOffset||[0,0]}c.adjustX=s.adjustX&&_,c.adjustY=s.adjustY&&w,(c.adjustX||c.adjustY)&&(p=function(e,t,n,r){var i=Du.clone(e),a={width:t.width,height:t.height};return r.adjustX&&i.left<n.left&&(i.left=n.left),r.resizeWidth&&i.left>=n.left&&i.left+a.width>n.right&&(a.width-=i.left+a.width-n.right),r.adjustX&&i.left+a.width>n.right&&(i.left=Math.max(n.right-a.width,n.left)),r.adjustY&&i.top<n.top&&(i.top=n.top),r.resizeHeight&&i.top>=n.top&&i.top+a.height>n.bottom&&(a.height-=i.top+a.height-n.bottom),r.adjustY&&i.top+a.height>n.bottom&&(i.top=Math.max(n.bottom-a.height,n.top)),Du.mix(i,a)}(h,f,d,c))}return p.width!==f.width&&Du.css(l,"width",Du.width(l)+p.width-f.width),p.height!==f.height&&Du.css(l,"height",Du.height(l)+p.height-f.height),Du.offset(l,{left:p.left,top:p.top},{useCssRight:n.useCssRight,useCssBottom:n.useCssBottom,useCssTransform:n.useCssTransform,ignoreShake:n.ignoreShake}),{points:i,offset:a,targetOffset:o,overflow:c}}function $u(e,t,n){var r=n.target||t,i=Vu(r),a=!function(e,t){var n=Fu(e,t),r=Vu(e);return!n||r.left+r.width<=n.left||r.top+r.height<=n.top||r.left>=n.right||r.top>=n.bottom}(r,n.overflow&&n.overflow.alwaysByViewport);return Yu(e,i,n,a)}$u.__getOffsetParent=Nu,$u.__getVisibleRectForElement=Fu;function Ju(e,t){var n=null,r=null;var i=new fs((function(e){var i=k(e,1)[0].target;if(document.documentElement.contains(i)){var a=i.getBoundingClientRect(),o=a.width,s=a.height,l=Math.floor(o),c=Math.floor(s);n===l&&r===c||Promise.resolve().then((function(){t({width:l,height:c})})),n=l,r=c}}));return e&&i.observe(e),function(){i.disconnect()}}function Qu(e){return"function"!==typeof e?null:e()}function ed(e){return"object"===u(e)&&e?e:null}var td=function(e,n){var r=e.children,i=e.disabled,a=e.target,o=e.align,s=e.onAlign,l=e.monitorWindowResize,c=e.monitorBufferTime,u=void 0===c?0:c,d=t.useRef({}),f=t.useRef(),h=t.Children.only(r),p=t.useRef({});p.current.disabled=i,p.current.target=a,p.current.align=o,p.current.onAlign=s;var m=function(e,n){var r=t.useRef(!1),i=t.useRef(null);function a(){window.clearTimeout(i.current)}return[function t(o){if(a(),r.current&&!0!==o)i.current=window.setTimeout((function(){r.current=!1,t()}),n);else{if(!1===e(o))return;r.current=!0,i.current=window.setTimeout((function(){r.current=!1}),n)}},function(){r.current=!1,a()}]}((function(){var e=p.current,t=e.disabled,n=e.target,r=e.align,i=e.onAlign,a=f.current;if(!t&&n&&a){var o,s=Qu(n),l=ed(n);d.current.element=s,d.current.point=l,d.current.align=r;var c=document.activeElement;return s&&pl(s)?o=$u(a,s,r):l&&(o=function(e,t,n){var r,i,a=Du.getDocument(e),o=a.defaultView||a.parentWindow,s=Du.getWindowScrollLeft(o),l=Du.getWindowScrollTop(o),c=Du.viewportWidth(o),u=Du.viewportHeight(o),d={left:r="pageX"in t?t.pageX:s+t.clientX,top:i="pageY"in t?t.pageY:l+t.clientY,width:0,height:0},f=r>=0&&r<=s+c&&i>=0&&i<=l+u,h=[n.points[0],"cc"];return Yu(e,d,$c($c({},n),{},{points:h}),f)}(a,l,r)),function(e,t){e!==document.activeElement&&ht(t,e)&&"function"===typeof e.focus&&e.focus()}(c,a),i&&o&&i(a,o),!0}return!1}),u),v=k(m,2),g=v[0],y=v[1],x=k(t.useState(),2),b=x[0],_=x[1],w=k(t.useState(),2),S=w[0],E=w[1];return _s((function(){_(Qu(a)),E(ed(a))})),t.useEffect((function(){d.current.element===b&&function(e,t){return e===t||!(!e||!t)&&("pageX"in t&&"pageY"in t?e.pageX===t.pageX&&e.pageY===t.pageY:"clientX"in t&&"clientY"in t&&e.clientX===t.clientX&&e.clientY===t.clientY)}(d.current.point,S)&&et(d.current.align,o)||g()})),t.useEffect((function(){return Ju(f.current,g)}),[f.current]),t.useEffect((function(){return Ju(b,g)}),[b]),t.useEffect((function(){i?y():g()}),[i]),t.useEffect((function(){if(l)return tc(window,"resize",g).remove}),[l]),t.useEffect((function(){return function(){y()}}),[]),t.useImperativeHandle(n,(function(){return{forceAlign:function(){return g(!0)}}})),t.isValidElement(h)&&(h=t.cloneElement(h,{ref:Bo(h.ref,f)})),h},nd=t.forwardRef(td);nd.displayName="Align";var rd=nd,id=["measure","alignPre","align",null,"motion"],ad=t.forwardRef((function(e,n){var r=e.visible,i=e.prefixCls,a=e.className,o=e.style,s=e.children,l=e.zIndex,c=e.stretch,u=e.destroyPopupOnHide,d=e.forceRender,f=e.align,h=e.point,p=e.getRootDomNode,m=e.getClassNameFromAlign,v=e.onAlign,g=e.onMouseEnter,y=e.onMouseLeave,x=e.onMouseDown,b=e.onTouchStart,_=e.onClick,w=(0,t.useRef)(),S=(0,t.useRef)(),E=k((0,t.useState)(),2),C=E[0],T=E[1],M=function(e){var n=k(t.useState({width:0,height:0}),2),r=n[0],i=n[1];return[t.useMemo((function(){var t={};if(e){var n=r.width,i=r.height;-1!==e.indexOf("height")&&i?t.height=i:-1!==e.indexOf("minHeight")&&i&&(t.minHeight=i),-1!==e.indexOf("width")&&n?t.width=n:-1!==e.indexOf("minWidth")&&n&&(t.minWidth=n)}return t}),[e,r]),function(e){var t=e.offsetWidth,n=e.offsetHeight,r=e.getBoundingClientRect(),a=r.width,o=r.height;Math.abs(t-a)<1&&Math.abs(n-o)<1&&(t=a,n=o),i({width:t,height:n})}]}(c),I=k(M,2),O=I[0],P=I[1];var A=function(e,n){var r=k(Rs(null),2),i=r[0],a=r[1],o=(0,t.useRef)();function s(e){a(e,!0)}function l(){js.cancel(o.current)}return(0,t.useEffect)((function(){s("measure")}),[e]),(0,t.useEffect)((function(){"measure"===i&&n(),i&&(o.current=js(Be(Le().mark((function e(){var t,n;return Le().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=id.indexOf(i),(n=id[t+1])&&-1!==t&&s(n);case 3:case"end":return e.stop()}}),e)})))))}),[i]),(0,t.useEffect)((function(){return function(){l()}}),[]),[i,function(e){l(),o.current=js((function(){s((function(e){switch(i){case"align":return"motion";case"motion":return"stable"}return e})),null===e||void 0===e||e()}))}]}(r,(function(){c&&P(p())})),z=k(A,2),j=z[0],R=z[1],D=k((0,t.useState)(0),2),L=D[0],N=D[1],B=(0,t.useRef)();function F(){var e;null===(e=w.current)||void 0===e||e.forceAlign()}function V(e,t){var n=m(t);C!==n&&T(n),N((function(e){return e+1})),"align"===j&&(null===v||void 0===v||v(e,t))}_s((function(){"alignPre"===j&&N(0)}),[j]),_s((function(){"align"===j&&(L<3?F():R((function(){var e;null===(e=B.current)||void 0===e||e.call(B)})))}),[L]);var U=Xe({},Zc(e));function H(){return new Promise((function(e){B.current=e}))}["onAppearEnd","onEnterEnd","onLeaveEnd"].forEach((function(e){var t=U[e];U[e]=function(e,n){return R(),null===t||void 0===t?void 0:t(e,n)}})),t.useEffect((function(){U.motionName||"motion"!==j||R()}),[U.motionName,j]),t.useImperativeHandle(n,(function(){return{forceAlign:F,getElement:function(){return S.current}}}));var G=Xe(Xe({},O),{},{zIndex:l,opacity:"motion"!==j&&"stable"!==j&&r?0:void 0,pointerEvents:r||"stable"===j?void 0:"none"},o),W=!0;null===f||void 0===f||!f.points||"align"!==j&&"stable"!==j||(W=!1);var q=s;return t.Children.count(s)>1&&(q=t.createElement("div",{className:"".concat(i,"-content")},s)),t.createElement(Xc,Dt({visible:r,ref:S,leavedClassName:"".concat(i,"-hidden")},U,{onAppearPrepare:H,onEnterPrepare:H,removeOnLeave:u,forceRender:d}),(function(e,n){var r=e.className,o=e.style,s=Ue()(i,a,C,r);return t.createElement(rd,{target:h||p,key:"popup",ref:w,monitorWindowResize:!0,disabled:W,align:f,onAlign:V},t.createElement("div",{ref:n,className:s,onMouseEnter:g,onMouseLeave:y,onMouseDownCapture:x,onTouchStartCapture:b,onClick:_,style:Xe(Xe({},o),G)},q))}))}));ad.displayName="PopupInner";var od=ad,sd=t.forwardRef((function(e,n){var r=e.prefixCls,i=e.visible,a=e.zIndex,o=e.children,s=e.mobile,l=(s=void 0===s?{}:s).popupClassName,c=s.popupStyle,u=s.popupMotion,d=void 0===u?{}:u,f=s.popupRender,h=e.onClick,p=t.useRef();t.useImperativeHandle(n,(function(){return{forceAlign:function(){},getElement:function(){return p.current}}}));var m=Xe({zIndex:a},c),v=o;return t.Children.count(o)>1&&(v=t.createElement("div",{className:"".concat(r,"-content")},o)),f&&(v=f(v)),t.createElement(Xc,Dt({visible:i,ref:p,removeOnLeave:!0},d),(function(e,n){var i=e.className,a=e.style,o=Ue()(r,l,i);return t.createElement("div",{ref:n,className:o,onClick:h,style:Xe(Xe({},a),m)},v)}))}));sd.displayName="MobilePopupInner";var ld=sd,cd=["visible","mobile"],ud=t.forwardRef((function(e,n){var r=e.visible,i=e.mobile,a=li(e,cd),o=k((0,t.useState)(r),2),s=o[0],l=o[1],c=k((0,t.useState)(!1),2),u=c[0],d=c[1],f=Xe(Xe({},a),{},{visible:s});(0,t.useEffect)((function(){l(r),r&&i&&d(ac())}),[r,i]);var h=u?t.createElement(ld,Dt({},f,{mobile:i,ref:n})):t.createElement(od,Dt({},f,{ref:n}));return t.createElement("div",null,t.createElement(Kc,f),h)}));ud.displayName="Popup";var dd=ud,fd=t.createContext(null);function hd(){}function pd(){return""}function md(e){return e?e.ownerDocument:window.document}var vd=["onClick","onMouseDown","onTouchStart","onMouseEnter","onMouseLeave","onFocus","onBlur","onContextMenu"];var gd=function(e){var n=function(n){m(i,n);var r=b(i);function i(e){var n,a;return c(this,i),Fe(y(n=r.call(this,e)),"popupRef",t.createRef()),Fe(y(n),"triggerRef",t.createRef()),Fe(y(n),"portalContainer",void 0),Fe(y(n),"attachId",void 0),Fe(y(n),"clickOutsideHandler",void 0),Fe(y(n),"touchOutsideHandler",void 0),Fe(y(n),"contextMenuOutsideHandler1",void 0),Fe(y(n),"contextMenuOutsideHandler2",void 0),Fe(y(n),"mouseDownTimeout",void 0),Fe(y(n),"focusTime",void 0),Fe(y(n),"preClickTime",void 0),Fe(y(n),"preTouchTime",void 0),Fe(y(n),"delayTimer",void 0),Fe(y(n),"hasPopupMouseDown",void 0),Fe(y(n),"onMouseEnter",(function(e){var t=n.props.mouseEnterDelay;n.fireEvents("onMouseEnter",e),n.delaySetPopupVisible(!0,t,t?null:e)})),Fe(y(n),"onMouseMove",(function(e){n.fireEvents("onMouseMove",e),n.setPoint(e)})),Fe(y(n),"onMouseLeave",(function(e){n.fireEvents("onMouseLeave",e),n.delaySetPopupVisible(!1,n.props.mouseLeaveDelay)})),Fe(y(n),"onPopupMouseEnter",(function(){n.clearDelayTimer()})),Fe(y(n),"onPopupMouseLeave",(function(e){var t;e.relatedTarget&&!e.relatedTarget.setTimeout&&ht(null===(t=n.popupRef.current)||void 0===t?void 0:t.getElement(),e.relatedTarget)||n.delaySetPopupVisible(!1,n.props.mouseLeaveDelay)})),Fe(y(n),"onFocus",(function(e){n.fireEvents("onFocus",e),n.clearDelayTimer(),n.isFocusToShow()&&(n.focusTime=Date.now(),n.delaySetPopupVisible(!0,n.props.focusDelay))})),Fe(y(n),"onMouseDown",(function(e){n.fireEvents("onMouseDown",e),n.preClickTime=Date.now()})),Fe(y(n),"onTouchStart",(function(e){n.fireEvents("onTouchStart",e),n.preTouchTime=Date.now()})),Fe(y(n),"onBlur",(function(e){n.fireEvents("onBlur",e),n.clearDelayTimer(),n.isBlurToHide()&&n.delaySetPopupVisible(!1,n.props.blurDelay)})),Fe(y(n),"onContextMenu",(function(e){e.preventDefault(),n.fireEvents("onContextMenu",e),n.setPopupVisible(!0,e)})),Fe(y(n),"onContextMenuClose",(function(){n.isContextMenuToShow()&&n.close()})),Fe(y(n),"onClick",(function(e){if(n.fireEvents("onClick",e),n.focusTime){var t;if(n.preClickTime&&n.preTouchTime?t=Math.min(n.preClickTime,n.preTouchTime):n.preClickTime?t=n.preClickTime:n.preTouchTime&&(t=n.preTouchTime),Math.abs(t-n.focusTime)<20)return;n.focusTime=0}n.preClickTime=0,n.preTouchTime=0,n.isClickToShow()&&(n.isClickToHide()||n.isBlurToHide())&&e&&e.preventDefault&&e.preventDefault();var r=!n.state.popupVisible;(n.isClickToHide()&&!r||r&&n.isClickToShow())&&n.setPopupVisible(!n.state.popupVisible,e)})),Fe(y(n),"onPopupMouseDown",(function(){var e;(n.hasPopupMouseDown=!0,clearTimeout(n.mouseDownTimeout),n.mouseDownTimeout=window.setTimeout((function(){n.hasPopupMouseDown=!1}),0),n.context)&&(e=n.context).onPopupMouseDown.apply(e,arguments)})),Fe(y(n),"onDocumentClick",(function(e){if(!n.props.mask||n.props.maskClosable){var t=e.target,r=n.getRootDomNode(),i=n.getPopupDomNode();ht(r,t)&&!n.isContextMenuOnly()||ht(i,t)||n.hasPopupMouseDown||n.close()}})),Fe(y(n),"getRootDomNode",(function(){var e=n.props.getTriggerDOMNode;if(e)return e(n.triggerRef.current);try{var t=Go(n.triggerRef.current);if(t)return t}catch(r){}return Uo.findDOMNode(y(n))})),Fe(y(n),"getPopupClassNameFromAlign",(function(e){var t=[],r=n.props,i=r.popupPlacement,a=r.builtinPlacements,o=r.prefixCls,s=r.alignPoint,l=r.getPopupClassNameFromAlign;return i&&a&&t.push(function(e,t,n,r){for(var i=n.points,a=Object.keys(e),o=0;o<a.length;o+=1){var s=a[o];if(ic(e[s].points,i,r))return"".concat(t,"-placement-").concat(s)}return""}(a,o,e,s)),l&&t.push(l(e)),t.join(" ")})),Fe(y(n),"getComponent",(function(){var e=n.props,r=e.prefixCls,i=e.destroyPopupOnHide,a=e.popupClassName,o=e.onPopupAlign,s=e.popupMotion,l=e.popupAnimation,c=e.popupTransitionName,u=e.popupStyle,d=e.mask,f=e.maskAnimation,h=e.maskTransitionName,p=e.maskMotion,m=e.zIndex,v=e.popup,g=e.stretch,y=e.alignPoint,x=e.mobile,b=e.forceRender,_=e.onPopupClick,w=n.state,k=w.popupVisible,S=w.point,E=n.getPopupAlign(),C={};return n.isMouseEnterToShow()&&(C.onMouseEnter=n.onPopupMouseEnter),n.isMouseLeaveToHide()&&(C.onMouseLeave=n.onPopupMouseLeave),C.onMouseDown=n.onPopupMouseDown,C.onTouchStart=n.onPopupMouseDown,t.createElement(dd,Dt({prefixCls:r,destroyPopupOnHide:i,visible:k,point:y&&S,className:a,align:E,onAlign:o,animation:l,getClassNameFromAlign:n.getPopupClassNameFromAlign},C,{stretch:g,getRootDomNode:n.getRootDomNode,style:u,mask:d,zIndex:m,transitionName:c,maskAnimation:f,maskTransitionName:h,maskMotion:p,ref:n.popupRef,motion:s,mobile:x,forceRender:b,onClick:_}),"function"===typeof v?v():v)})),Fe(y(n),"attachParent",(function(e){js.cancel(n.attachId);var t,r=n.props,i=r.getPopupContainer,a=r.getDocument,o=n.getRootDomNode();i?(o||0===i.length)&&(t=i(o)):t=a(n.getRootDomNode()).body,t?t.appendChild(e):n.attachId=js((function(){n.attachParent(e)}))})),Fe(y(n),"getContainer",(function(){if(!n.portalContainer){var e=(0,n.props.getDocument)(n.getRootDomNode()).createElement("div");e.style.position="absolute",e.style.top="0",e.style.left="0",e.style.width="100%",n.portalContainer=e}return n.attachParent(n.portalContainer),n.portalContainer})),Fe(y(n),"setPoint",(function(e){n.props.alignPoint&&e&&n.setState({point:{pageX:e.pageX,pageY:e.pageY}})})),Fe(y(n),"handlePortalUpdate",(function(){n.state.prevPopupVisible!==n.state.popupVisible&&n.props.afterPopupVisibleChange(n.state.popupVisible)})),Fe(y(n),"triggerContextValue",{onPopupMouseDown:n.onPopupMouseDown}),a="popupVisible"in e?!!e.popupVisible:!!e.defaultPopupVisible,n.state={prevPopupVisible:a,popupVisible:a},vd.forEach((function(e){n["fire".concat(e)]=function(t){n.fireEvents(e,t)}})),n}return h(i,[{key:"componentDidMount",value:function(){this.componentDidUpdate()}},{key:"componentDidUpdate",value:function(){var e,t=this.props;if(this.state.popupVisible)return this.clickOutsideHandler||!this.isClickToHide()&&!this.isContextMenuToShow()||(e=t.getDocument(this.getRootDomNode()),this.clickOutsideHandler=tc(e,"mousedown",this.onDocumentClick)),this.touchOutsideHandler||(e=e||t.getDocument(this.getRootDomNode()),this.touchOutsideHandler=tc(e,"touchstart",this.onDocumentClick)),!this.contextMenuOutsideHandler1&&this.isContextMenuToShow()&&(e=e||t.getDocument(this.getRootDomNode()),this.contextMenuOutsideHandler1=tc(e,"scroll",this.onContextMenuClose)),void(!this.contextMenuOutsideHandler2&&this.isContextMenuToShow()&&(this.contextMenuOutsideHandler2=tc(window,"blur",this.onContextMenuClose)));this.clearOutsideHandler()}},{key:"componentWillUnmount",value:function(){this.clearDelayTimer(),this.clearOutsideHandler(),clearTimeout(this.mouseDownTimeout),js.cancel(this.attachId)}},{key:"getPopupDomNode",value:function(){var e;return(null===(e=this.popupRef.current)||void 0===e?void 0:e.getElement())||null}},{key:"getPopupAlign",value:function(){var e=this.props,t=e.popupPlacement,n=e.popupAlign,r=e.builtinPlacements;return t&&r?function(e,t,n){return Xe(Xe({},e[t]||{}),n)}(r,t,n):n}},{key:"setPopupVisible",value:function(e,t){var n=this.props.alignPoint,r=this.state.popupVisible;this.clearDelayTimer(),r!==e&&("popupVisible"in this.props||this.setState({popupVisible:e,prevPopupVisible:r}),this.props.onPopupVisibleChange(e)),n&&t&&e&&this.setPoint(t)}},{key:"delaySetPopupVisible",value:function(e,t,n){var r=this,i=1e3*t;if(this.clearDelayTimer(),i){var a=n?{pageX:n.pageX,pageY:n.pageY}:null;this.delayTimer=window.setTimeout((function(){r.setPopupVisible(e,a),r.clearDelayTimer()}),i)}else this.setPopupVisible(e,n)}},{key:"clearDelayTimer",value:function(){this.delayTimer&&(clearTimeout(this.delayTimer),this.delayTimer=null)}},{key:"clearOutsideHandler",value:function(){this.clickOutsideHandler&&(this.clickOutsideHandler.remove(),this.clickOutsideHandler=null),this.contextMenuOutsideHandler1&&(this.contextMenuOutsideHandler1.remove(),this.contextMenuOutsideHandler1=null),this.contextMenuOutsideHandler2&&(this.contextMenuOutsideHandler2.remove(),this.contextMenuOutsideHandler2=null),this.touchOutsideHandler&&(this.touchOutsideHandler.remove(),this.touchOutsideHandler=null)}},{key:"createTwoChains",value:function(e){var t=this.props.children.props,n=this.props;return t[e]&&n[e]?this["fire".concat(e)]:t[e]||n[e]}},{key:"isClickToShow",value:function(){var e=this.props,t=e.action,n=e.showAction;return-1!==t.indexOf("click")||-1!==n.indexOf("click")}},{key:"isContextMenuOnly",value:function(){var e=this.props.action;return"contextMenu"===e||1===e.length&&"contextMenu"===e[0]}},{key:"isContextMenuToShow",value:function(){var e=this.props,t=e.action,n=e.showAction;return-1!==t.indexOf("contextMenu")||-1!==n.indexOf("contextMenu")}},{key:"isClickToHide",value:function(){var e=this.props,t=e.action,n=e.hideAction;return-1!==t.indexOf("click")||-1!==n.indexOf("click")}},{key:"isMouseEnterToShow",value:function(){var e=this.props,t=e.action,n=e.showAction;return-1!==t.indexOf("hover")||-1!==n.indexOf("mouseEnter")}},{key:"isMouseLeaveToHide",value:function(){var e=this.props,t=e.action,n=e.hideAction;return-1!==t.indexOf("hover")||-1!==n.indexOf("mouseLeave")}},{key:"isFocusToShow",value:function(){var e=this.props,t=e.action,n=e.showAction;return-1!==t.indexOf("focus")||-1!==n.indexOf("focus")}},{key:"isBlurToHide",value:function(){var e=this.props,t=e.action,n=e.hideAction;return-1!==t.indexOf("focus")||-1!==n.indexOf("blur")}},{key:"forcePopupAlign",value:function(){var e;this.state.popupVisible&&(null===(e=this.popupRef.current)||void 0===e||e.forceAlign())}},{key:"fireEvents",value:function(e,t){var n=this.props.children.props[e];n&&n(t);var r=this.props[e];r&&r(t)}},{key:"close",value:function(){this.setPopupVisible(!1)}},{key:"render",value:function(){var n=this.state.popupVisible,r=this.props,i=r.children,a=r.forceRender,o=r.alignPoint,s=r.className,l=r.autoDestroy,c=t.Children.only(i),u={key:"trigger"};this.isContextMenuToShow()?u.onContextMenu=this.onContextMenu:u.onContextMenu=this.createTwoChains("onContextMenu"),this.isClickToHide()||this.isClickToShow()?(u.onClick=this.onClick,u.onMouseDown=this.onMouseDown,u.onTouchStart=this.onTouchStart):(u.onClick=this.createTwoChains("onClick"),u.onMouseDown=this.createTwoChains("onMouseDown"),u.onTouchStart=this.createTwoChains("onTouchStart")),this.isMouseEnterToShow()?(u.onMouseEnter=this.onMouseEnter,o&&(u.onMouseMove=this.onMouseMove)):u.onMouseEnter=this.createTwoChains("onMouseEnter"),this.isMouseLeaveToHide()?u.onMouseLeave=this.onMouseLeave:u.onMouseLeave=this.createTwoChains("onMouseLeave"),this.isFocusToShow()||this.isBlurToHide()?(u.onFocus=this.onFocus,u.onBlur=this.onBlur):(u.onFocus=this.createTwoChains("onFocus"),u.onBlur=this.createTwoChains("onBlur"));var d=Ue()(c&&c.props&&c.props.className,s);d&&(u.className=d);var f=Xe({},u);Vo(c)&&(f.ref=Bo(this.triggerRef,c.ref));var h,p=t.cloneElement(c,f);return(n||this.popupRef.current||a)&&(h=t.createElement(e,{key:"portal",getContainer:this.getContainer,didUpdate:this.handlePortalUpdate},this.getComponent())),!n&&l&&(h=null),t.createElement(fd.Provider,{value:this.triggerContextValue},p,h)}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n=e.popupVisible,r={};return void 0!==n&&t.popupVisible!==n&&(r.popupVisible=n,r.prevPopupVisible=t.popupVisible),r}}]),i}(t.Component);return Fe(n,"contextType",fd),Fe(n,"defaultProps",{prefixCls:"rc-trigger-popup",getPopupClassNameFromAlign:pd,getDocument:md,onPopupVisibleChange:hd,afterPopupVisibleChange:hd,onPopupAlign:hd,popupClassName:"",mouseEnterDelay:0,mouseLeaveDelay:.1,focusDelay:0,blurDelay:.15,popupStyle:{},destroyPopupOnHide:!1,popupAlign:{},defaultPopupVisible:!1,mask:!1,maskClosable:!0,action:[],showAction:[],hideAction:[],autoDestroy:!1}),n}(rc),yd={adjustX:1,adjustY:1},xd={topLeft:{points:["bl","tl"],overflow:yd,offset:[0,-7]},bottomLeft:{points:["tl","bl"],overflow:yd,offset:[0,7]},leftTop:{points:["tr","tl"],overflow:yd,offset:[-4,0]},rightTop:{points:["tl","tr"],overflow:yd,offset:[4,0]}},bd={topLeft:{points:["bl","tl"],overflow:yd,offset:[0,-7]},bottomLeft:{points:["tl","bl"],overflow:yd,offset:[0,7]},rightTop:{points:["tr","tl"],overflow:yd,offset:[-4,0]},leftTop:{points:["tl","tr"],overflow:yd,offset:[4,0]}};function _d(e,t,n){return t||(n?n[e]||n.other:void 0)}var wd={horizontal:"bottomLeft",vertical:"rightTop","vertical-left":"rightTop","vertical-right":"leftTop"};function kd(e){var n=e.prefixCls,r=e.visible,i=e.children,a=e.popup,o=e.popupClassName,s=e.popupOffset,l=e.disabled,c=e.mode,u=e.onVisibleChange,d=t.useContext(rl),f=d.getPopupContainer,h=d.rtl,p=d.subMenuOpenDelay,m=d.subMenuCloseDelay,v=d.builtinPlacements,g=d.triggerSubMenuAction,y=d.forceSubMenuRender,x=d.rootClassName,b=d.motion,_=d.defaultMotions,w=k(t.useState(!1),2),S=w[0],E=w[1],C=Xe(Xe({},h?bd:xd),v),T=wd[c],M=_d(c,b,_),I=t.useRef(M);"inline"!==c&&(I.current=M);var O=Xe(Xe({},I.current),{},{leavedClassName:"".concat(n,"-hidden"),removeOnLeave:!1,motionAppear:!0}),P=t.useRef();return t.useEffect((function(){return P.current=js((function(){E(r)})),function(){js.cancel(P.current)}}),[r]),t.createElement(gd,{prefixCls:n,popupClassName:Ue()("".concat(n,"-popup"),Fe({},"".concat(n,"-rtl"),h),o,x),stretch:"horizontal"===c?"minWidth":null,getPopupContainer:f,builtinPlacements:C,popupPlacement:T,popupVisible:S,popup:a,popupAlign:s&&{offset:s},action:l?[]:[g],mouseEnterDelay:p,mouseLeaveDelay:m,onPopupVisibleChange:u,forceRender:y,popupMotion:O},i)}function Sd(e){var n=e.id,r=e.open,i=e.keyPath,a=e.children,o="inline",s=t.useContext(rl),l=s.prefixCls,c=s.forceSubMenuRender,u=s.motion,d=s.defaultMotions,f=s.mode,h=t.useRef(!1);h.current=f===o;var p=k(t.useState(!h.current),2),m=p[0],v=p[1],g=!!h.current&&r;t.useEffect((function(){h.current&&v(!1)}),[f]);var y=Xe({},_d(o,u,d));i.length>1&&(y.motionAppear=!1);var x=y.onVisibleChanged;return y.onVisibleChanged=function(e){return h.current||e||v(!0),null===x||void 0===x?void 0:x(e)},m?null:t.createElement(il,{mode:o,locked:!h.current},t.createElement(Xc,Dt({visible:g},y,{forceRender:c,removeOnLeave:!1,leavedClassName:"".concat(l,"-hidden")}),(function(e){var r=e.className,i=e.style;return t.createElement(Yl,{id:n,className:r,style:i},a)})))}var Ed=["style","className","title","eventKey","warnKey","disabled","internalPopupClose","children","itemIcon","expandIcon","popupClassName","popupOffset","onClick","onMouseEnter","onMouseLeave","onTitleClick","onTitleMouseEnter","onTitleMouseLeave"],Cd=["active"],Td=function(e){var n,r=e.style,i=e.className,a=e.title,o=e.eventKey,s=(e.warnKey,e.disabled),l=e.internalPopupClose,c=e.children,u=e.itemIcon,d=e.expandIcon,f=e.popupClassName,h=e.popupOffset,p=e.onClick,m=e.onMouseEnter,v=e.onMouseLeave,g=e.onTitleClick,y=e.onTitleMouseEnter,x=e.onTitleMouseLeave,b=li(e,Ed),_=tl(o),w=t.useContext(rl),S=w.prefixCls,E=w.mode,C=w.openKeys,T=w.disabled,M=w.overflowDisabled,I=w.activeKey,O=w.selectedKeys,P=w.itemIcon,A=w.expandIcon,z=w.onItemClick,j=w.onOpenChange,R=w.onActive,D=t.useContext(dl)._internalRenderSubMenuItem,L=t.useContext(ul).isSubPathKey,N=cl(),B="".concat(S,"-submenu"),F=T||s,V=t.useRef(),U=t.useRef();var H=u||P,G=d||A,W=C.includes(o),q=!M&&W,X=L(O,o),Z=Dl(o,F,y,x),K=Z.active,Y=li(Z,Cd),$=k(t.useState(!1),2),J=$[0],Q=$[1],ee=function(e){F||Q(e)},te=t.useMemo((function(){return K||"inline"!==E&&(J||L([I],o))}),[E,K,I,J,o,L]),ne=Fl(N.length),re=zl((function(e){null===p||void 0===p||p(Nl(e)),z(e)})),ie=_&&"".concat(_,"-popup"),ae=t.createElement("div",Dt({role:"menuitem",style:ne,className:"".concat(B,"-title"),tabIndex:F?null:-1,ref:V,title:"string"===typeof a?a:null,"data-menu-id":M&&_?null:_,"aria-expanded":q,"aria-haspopup":!0,"aria-controls":ie,"aria-disabled":F,onClick:function(e){F||(null===g||void 0===g||g({key:o,domEvent:e}),"inline"===E&&j(o,!W))},onFocus:function(){R(o)}},Y),a,t.createElement(Bl,{icon:"horizontal"!==E?G:null,props:Xe(Xe({},e),{},{isOpen:q,isSubMenu:!0})},t.createElement("i",{className:"".concat(B,"-arrow")}))),oe=t.useRef(E);if("inline"!==E&&N.length>1?oe.current="vertical":oe.current=E,!M){var se=oe.current;ae=t.createElement(kd,{mode:se,prefixCls:B,visible:!l&&q&&"inline"!==E,popupClassName:f,popupOffset:h,popup:t.createElement(il,{mode:"horizontal"===se?"vertical":se},t.createElement(Yl,{id:ie,ref:U},c)),disabled:F,onVisibleChange:function(e){"inline"!==E&&j(o,e)}},ae)}var le=t.createElement(Ks.Item,Dt({role:"none"},b,{component:"li",style:r,className:Ue()(B,"".concat(B,"-").concat(E),i,(n={},Fe(n,"".concat(B,"-open"),q),Fe(n,"".concat(B,"-active"),te),Fe(n,"".concat(B,"-selected"),X),Fe(n,"".concat(B,"-disabled"),F),n)),onMouseEnter:function(e){ee(!0),null===m||void 0===m||m({key:o,domEvent:e})},onMouseLeave:function(e){ee(!1),null===v||void 0===v||v({key:o,domEvent:e})}}),ae,!M&&t.createElement(Sd,{id:ie,open:q,keyPath:N},c));return D&&(le=D(le,e,{selected:X,active:te,open:q,disabled:F})),t.createElement(il,{onItemClick:re,mode:"horizontal"===E?"vertical":E,itemIcon:H,expandIcon:G},le)};function Md(e){var n,r=e.eventKey,i=e.children,a=cl(r),o=Jl(i,a),s=sl();return t.useEffect((function(){if(s)return s.registerPath(r,a),function(){s.unregisterPath(r,a)}}),[a]),n=s?o:t.createElement(Td,e,o),t.createElement(ll.Provider,{value:a},n)}var Id=["prefixCls","rootClassName","style","className","tabIndex","items","children","direction","id","mode","inlineCollapsed","disabled","disabledOverflow","subMenuOpenDelay","subMenuCloseDelay","forceSubMenuRender","defaultOpenKeys","openKeys","activeKey","defaultActiveFirst","selectable","multiple","defaultSelectedKeys","selectedKeys","onSelect","onDeselect","inlineIndent","motion","defaultMotions","triggerSubMenuAction","builtinPlacements","itemIcon","expandIcon","overflowedIndicator","overflowedIndicatorPopupClassName","getPopupContainer","onClick","onOpenChange","onKeyDown","openAnimation","openTransitionName","_internalRenderMenuItem","_internalRenderSubMenuItem"],Od=[],Pd=t.forwardRef((function(e,n){var r,i,a=e,o=a.prefixCls,s=void 0===o?"rc-menu":o,c=a.rootClassName,u=a.style,d=a.className,f=a.tabIndex,h=void 0===f?0:f,p=a.items,m=a.children,v=a.direction,g=a.id,y=a.mode,x=void 0===y?"vertical":y,b=a.inlineCollapsed,_=a.disabled,w=a.disabledOverflow,S=a.subMenuOpenDelay,E=void 0===S?.1:S,C=a.subMenuCloseDelay,T=void 0===C?.1:C,M=a.forceSubMenuRender,I=a.defaultOpenKeys,O=a.openKeys,P=a.activeKey,A=a.defaultActiveFirst,z=a.selectable,j=void 0===z||z,R=a.multiple,D=void 0!==R&&R,L=a.defaultSelectedKeys,N=a.selectedKeys,B=a.onSelect,F=a.onDeselect,V=a.inlineIndent,U=void 0===V?24:V,H=a.motion,G=a.defaultMotions,W=a.triggerSubMenuAction,q=void 0===W?"hover":W,X=a.builtinPlacements,Z=a.itemIcon,K=a.expandIcon,Y=a.overflowedIndicator,$=void 0===Y?"...":Y,J=a.overflowedIndicatorPopupClassName,Q=a.getPopupContainer,ee=a.onClick,te=a.onOpenChange,ne=a.onKeyDown,re=(a.openAnimation,a.openTransitionName,a._internalRenderMenuItem),ie=a._internalRenderSubMenuItem,ae=li(a,Id),oe=t.useMemo((function(){return ec(m,p,Od)}),[m,p]),se=k(t.useState(!1),2),le=se[0],ce=se[1],ue=t.useRef(),de=function(e){var n=k(Js(e,{value:e}),2),r=n[0],i=n[1];return t.useEffect((function(){Rl+=1;var e="".concat(jl,"-").concat(Rl);i("rc-menu-uuid-".concat(e))}),[]),r}(g),fe="rtl"===v;var he=k(Js(I,{value:O,postState:function(e){return e||Od}}),2),pe=he[0],me=he[1],ve=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function n(){me(e),null===te||void 0===te||te(e)}t?(0,Uo.flushSync)(n):n()},ge=k(t.useState(pe),2),ye=ge[0],xe=ge[1],be=t.useRef(!1),_e=k(t.useMemo((function(){return"inline"!==x&&"vertical"!==x||!b?[x,!1]:["vertical",b]}),[x,b]),2),we=_e[0],ke=_e[1],Se="inline"===we,Ee=k(t.useState(we),2),Ce=Ee[0],Te=Ee[1],Me=k(t.useState(ke),2),Ie=Me[0],Oe=Me[1];t.useEffect((function(){Te(we),Oe(ke),be.current&&(Se?me(ye):ve(Od))}),[we,ke]);var Pe=k(t.useState(0),2),Ae=Pe[0],ze=Pe[1],je=Ae>=oe.length-1||"horizontal"!==Ce||w;t.useEffect((function(){Se&&xe(pe)}),[pe]),t.useEffect((function(){return be.current=!0,function(){be.current=!1}}),[]);var Re=Al(),De=Re.registerPath,Le=Re.unregisterPath,Ne=Re.refreshOverflowKeys,Be=Re.isSubPathKey,Ve=Re.getKeyPath,He=Re.getKeys,Ge=Re.getSubPathKeys,We=t.useMemo((function(){return{registerPath:De,unregisterPath:Le}}),[De,Le]),qe=t.useMemo((function(){return{isSubPathKey:Be}}),[Be]);t.useEffect((function(){Ne(je?Od:oe.slice(Ae+1).map((function(e){return e.key})))}),[Ae,je]);var Ze=k(Js(P||A&&(null===(r=oe[0])||void 0===r?void 0:r.key),{value:P}),2),Ke=Ze[0],Ye=Ze[1],$e=zl((function(e){Ye(e)})),Je=zl((function(){Ye(void 0)}));(0,t.useImperativeHandle)(n,(function(){return{list:ue.current,focus:function(e){var t,n,r,i,a=null!==Ke&&void 0!==Ke?Ke:null===(t=oe.find((function(e){return!e.props.disabled})))||void 0===t?void 0:t.key;a&&(null===(n=ue.current)||void 0===n||null===(r=n.querySelector("li[data-menu-id='".concat(el(de,a),"']")))||void 0===r||null===(i=r.focus)||void 0===i||i.call(r,e))}}}));var Qe=k(Js(L||[],{value:N,postState:function(e){return Array.isArray(e)?e:null===e||void 0===e?Od:[e]}}),2),tt=Qe[0],nt=Qe[1],rt=zl((function(e){null===ee||void 0===ee||ee(Nl(e)),function(e){if(j){var t,n=e.key,r=tt.includes(n);t=D?r?tt.filter((function(e){return e!==n})):[].concat(l(tt),[n]):[n],nt(t);var i=Xe(Xe({},e),{},{selectedKeys:t});r?null===F||void 0===F||F(i):null===B||void 0===B||B(i)}!D&&pe.length&&"inline"!==Ce&&ve(Od)}(e)})),it=zl((function(e,t){var n=pe.filter((function(t){return t!==e}));if(t)n.push(e);else if("inline"!==Ce){var r=Ge(e);n=n.filter((function(e){return!r.has(e)}))}et(pe,n,!0)||ve(n,!0)})),at=zl(Q),ot=Ml(Ce,Ke,fe,de,ue,He,Ve,Ye,(function(e,t){var n=null!==t&&void 0!==t?t:!pe.includes(e);it(e,n)}),ne);t.useEffect((function(){ce(!0)}),[]);var st=t.useMemo((function(){return{_internalRenderMenuItem:re,_internalRenderSubMenuItem:ie}}),[re,ie]),lt="horizontal"!==Ce||w?oe:oe.map((function(e,n){return t.createElement(il,{key:e.key,overflowDisabled:n>Ae},e)})),ct=t.createElement(Ks,Dt({id:g,ref:ue,prefixCls:"".concat(s,"-overflow"),component:"ul",itemComponent:ql,className:Ue()(s,"".concat(s,"-root"),"".concat(s,"-").concat(Ce),d,(i={},Fe(i,"".concat(s,"-inline-collapsed"),Ie),Fe(i,"".concat(s,"-rtl"),fe),i),c),dir:v,style:u,role:"menu",tabIndex:h,data:lt,renderRawItem:function(e){return e},renderRawRest:function(e){var n=e.length,r=n?oe.slice(-n):null;return t.createElement(Md,{eventKey:Pl,title:$,disabled:je,internalPopupClose:0===n,popupClassName:J},r)},maxCount:"horizontal"!==Ce||w?Ks.INVALIDATE:Ks.RESPONSIVE,ssr:"full","data-menu-list":!0,onVisibleChange:function(e){ze(e)},onKeyDown:ot},ae));return t.createElement(dl.Provider,{value:st},t.createElement(Qs.Provider,{value:de},t.createElement(il,{prefixCls:s,rootClassName:c,mode:Ce,openKeys:pe,rtl:fe,disabled:_,motion:le?H:null,defaultMotions:le?G:null,activeKey:Ke,onActive:$e,onInactive:Je,selectedKeys:tt,inlineIndent:U,subMenuOpenDelay:E,subMenuCloseDelay:T,forceSubMenuRender:M,builtinPlacements:X,triggerSubMenuAction:q,getPopupContainer:at,itemIcon:Z,expandIcon:K,onItemClick:rt,onOpenChange:it},t.createElement(ul.Provider,{value:qe},ct),t.createElement("div",{style:{display:"none"},"aria-hidden":!0},t.createElement(ol.Provider,{value:We},oe)))))})),Ad=["className","title","eventKey","children"],zd=["children"],jd=function(e){var n=e.className,r=e.title,i=(e.eventKey,e.children),a=li(e,Ad),o=t.useContext(rl).prefixCls,s="".concat(o,"-item-group");return t.createElement("li",Dt({role:"presentation"},a,{onClick:function(e){return e.stopPropagation()},className:Ue()(s,n)}),t.createElement("div",{role:"presentation",className:"".concat(s,"-title"),title:"string"===typeof r?r:void 0},r),t.createElement("ul",{role:"group",className:"".concat(s,"-list")},i))};function Rd(e){var n=e.children,r=li(e,zd),i=Jl(n,cl(r.eventKey));return sl()?i:t.createElement(jd,Ai(r,["warnKey"]),i)}function Dd(e){var n=e.className,r=e.style,i=t.useContext(rl).prefixCls;return sl()?null:t.createElement("li",{className:Ue()("".concat(i,"-item-divider"),n),style:r})}var Ld=Pd;Ld.Item=ql,Ld.SubMenu=Md,Ld.ItemGroup=Rd,Ld.Divider=Dd;var Nd=Ld,Bd={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M176 511a56 56 0 10112 0 56 56 0 10-112 0zm280 0a56 56 0 10112 0 56 56 0 10-112 0zm280 0a56 56 0 10112 0 56 56 0 10-112 0z"}}]},name:"ellipsis",theme:"outlined"},Fd=function(e,n){return t.createElement(ki,Xe(Xe({},e),{},{ref:n,icon:Bd}))};Fd.displayName="EllipsisOutlined";var Vd=t.forwardRef(Fd),Ud=function(){return{height:0,opacity:0}},Hd=function(e){return{height:e.scrollHeight,opacity:1}},Gd=function(e){return{height:e?e.offsetHeight:0}},Wd=function(e,t){return!0===(null===t||void 0===t?void 0:t.deadline)||"height"===t.propertyName},qd=function(e){return void 0===e||"topLeft"!==e&&"topRight"!==e?"slide-up":"slide-down"},Xd=function(e,t,n){return void 0!==n?n:"".concat(e,"-").concat(t)},Zd=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"ant";return{motionName:"".concat(e,"-motion-collapse"),onAppearStart:Ud,onEnterStart:Ud,onAppearActive:Hd,onEnterActive:Hd,onLeaveStart:Gd,onLeaveActive:Ud,onAppearEnd:Wd,onEnterEnd:Wd,onLeaveEnd:Wd,motionDeadline:500}},Kd=t.isValidElement;function Yd(e){return e&&Kd(e)&&e.type===t.Fragment}function $d(e,n,r){return Kd(e)?t.cloneElement(e,"function"===typeof r?r(e.props||{}):r):n}function Jd(e,t){return $d(e,e,t)}var Qd=function(e){var t;return Fe({},e.componentCls,(Fe(t={},"".concat(e.antCls,"-motion-collapse-legacy"),{overflow:"hidden","&-active":{transition:"height ".concat(e.motionDurationMid," ").concat(e.motionEaseInOut,",\n        opacity ").concat(e.motionDurationMid," ").concat(e.motionEaseInOut," !important")}}),Fe(t,"".concat(e.antCls,"-motion-collapse"),{overflow:"hidden",transition:"height ".concat(e.motionDurationMid," ").concat(e.motionEaseInOut,",\n        opacity ").concat(e.motionDurationMid," ").concat(e.motionEaseInOut," !important")}),t))},ef=function(e){return{animationDuration:e,animationFillMode:"both"}},tf=function(e){return{animationDuration:e,animationFillMode:"both"}},nf=function(e,t,n,r){var i,a=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=a?"&":"";return Fe(i={},"\n      ".concat(o).concat(e,"-enter,\n      ").concat(o).concat(e,"-appear\n    "),Object.assign(Object.assign({},ef(r)),{animationPlayState:"paused"})),Fe(i,"".concat(o).concat(e,"-leave"),Object.assign(Object.assign({},tf(r)),{animationPlayState:"paused"})),Fe(i,"\n      ".concat(o).concat(e,"-enter").concat(e,"-enter-active,\n      ").concat(o).concat(e,"-appear").concat(e,"-appear-active\n    "),{animationName:t,animationPlayState:"running"}),Fe(i,"".concat(o).concat(e,"-leave").concat(e,"-leave-active"),{animationName:n,animationPlayState:"running",pointerEvents:"none"}),i},rf=new Rn("antSlideUpIn",{"0%":{transform:"scaleY(0.8)",transformOrigin:"0% 0%",opacity:0},"100%":{transform:"scaleY(1)",transformOrigin:"0% 0%",opacity:1}}),af=new Rn("antSlideUpOut",{"0%":{transform:"scaleY(1)",transformOrigin:"0% 0%",opacity:1},"100%":{transform:"scaleY(0.8)",transformOrigin:"0% 0%",opacity:0}}),of=new Rn("antSlideDownIn",{"0%":{transform:"scaleY(0.8)",transformOrigin:"100% 100%",opacity:0},"100%":{transform:"scaleY(1)",transformOrigin:"100% 100%",opacity:1}}),sf=new Rn("antSlideDownOut",{"0%":{transform:"scaleY(1)",transformOrigin:"100% 100%",opacity:1},"100%":{transform:"scaleY(0.8)",transformOrigin:"100% 100%",opacity:0}}),lf=new Rn("antSlideLeftIn",{"0%":{transform:"scaleX(0.8)",transformOrigin:"0% 0%",opacity:0},"100%":{transform:"scaleX(1)",transformOrigin:"0% 0%",opacity:1}}),cf=new Rn("antSlideLeftOut",{"0%":{transform:"scaleX(1)",transformOrigin:"0% 0%",opacity:1},"100%":{transform:"scaleX(0.8)",transformOrigin:"0% 0%",opacity:0}}),uf=new Rn("antSlideRightIn",{"0%":{transform:"scaleX(0.8)",transformOrigin:"100% 0%",opacity:0},"100%":{transform:"scaleX(1)",transformOrigin:"100% 0%",opacity:1}}),df=new Rn("antSlideRightOut",{"0%":{transform:"scaleX(1)",transformOrigin:"100% 0%",opacity:1},"100%":{transform:"scaleX(0.8)",transformOrigin:"100% 0%",opacity:0}}),ff={"slide-up":{inKeyframes:rf,outKeyframes:af},"slide-down":{inKeyframes:of,outKeyframes:sf},"slide-left":{inKeyframes:lf,outKeyframes:cf},"slide-right":{inKeyframes:uf,outKeyframes:df}},hf=function(e,t){var n,r=e.antCls,i="".concat(r,"-").concat(t),a=ff[t],o=a.inKeyframes,s=a.outKeyframes;return[nf(i,o,s,e.motionDurationMid),(n={},Fe(n,"\n      ".concat(i,"-enter,\n      ").concat(i,"-appear\n    "),{transform:"scale(0)",transformOrigin:"0% 0%",opacity:0,animationTimingFunction:e.motionEaseOutQuint}),Fe(n,"".concat(i,"-leave"),{animationTimingFunction:e.motionEaseInQuint}),n)]},pf=new Rn("antZoomIn",{"0%":{transform:"scale(0.2)",opacity:0},"100%":{transform:"scale(1)",opacity:1}}),mf=new Rn("antZoomOut",{"0%":{transform:"scale(1)"},"100%":{transform:"scale(0.2)",opacity:0}}),vf=new Rn("antZoomBigIn",{"0%":{transform:"scale(0.8)",opacity:0},"100%":{transform:"scale(1)",opacity:1}}),gf=new Rn("antZoomBigOut",{"0%":{transform:"scale(1)"},"100%":{transform:"scale(0.8)",opacity:0}}),yf=new Rn("antZoomUpIn",{"0%":{transform:"scale(0.8)",transformOrigin:"50% 0%",opacity:0},"100%":{transform:"scale(1)",transformOrigin:"50% 0%"}}),xf=new Rn("antZoomUpOut",{"0%":{transform:"scale(1)",transformOrigin:"50% 0%"},"100%":{transform:"scale(0.8)",transformOrigin:"50% 0%",opacity:0}}),bf=new Rn("antZoomLeftIn",{"0%":{transform:"scale(0.8)",transformOrigin:"0% 50%",opacity:0},"100%":{transform:"scale(1)",transformOrigin:"0% 50%"}}),_f=new Rn("antZoomLeftOut",{"0%":{transform:"scale(1)",transformOrigin:"0% 50%"},"100%":{transform:"scale(0.8)",transformOrigin:"0% 50%",opacity:0}}),wf=new Rn("antZoomRightIn",{"0%":{transform:"scale(0.8)",transformOrigin:"100% 50%",opacity:0},"100%":{transform:"scale(1)",transformOrigin:"100% 50%"}}),kf=new Rn("antZoomRightOut",{"0%":{transform:"scale(1)",transformOrigin:"100% 50%"},"100%":{transform:"scale(0.8)",transformOrigin:"100% 50%",opacity:0}}),Sf=new Rn("antZoomDownIn",{"0%":{transform:"scale(0.8)",transformOrigin:"50% 100%",opacity:0},"100%":{transform:"scale(1)",transformOrigin:"50% 100%"}}),Ef=new Rn("antZoomDownOut",{"0%":{transform:"scale(1)",transformOrigin:"50% 100%"},"100%":{transform:"scale(0.8)",transformOrigin:"50% 100%",opacity:0}}),Cf={zoom:{inKeyframes:pf,outKeyframes:mf},"zoom-big":{inKeyframes:vf,outKeyframes:gf},"zoom-big-fast":{inKeyframes:vf,outKeyframes:gf},"zoom-left":{inKeyframes:bf,outKeyframes:_f},"zoom-right":{inKeyframes:wf,outKeyframes:kf},"zoom-up":{inKeyframes:yf,outKeyframes:xf},"zoom-down":{inKeyframes:Sf,outKeyframes:Ef}},Tf=function(e,t){var n,r=e.antCls,i="".concat(r,"-").concat(t),a=Cf[t],o=a.inKeyframes,s=a.outKeyframes;return[nf(i,o,s,"zoom-big-fast"===t?e.motionDurationFast:e.motionDurationMid),(n={},Fe(n,"\n        ".concat(i,"-enter,\n        ").concat(i,"-appear\n      "),{transform:"scale(0)",opacity:0,animationTimingFunction:e.motionEaseOutCirc,"&-prepare":{transform:"none"}}),Fe(n,"".concat(i,"-leave"),{animationTimingFunction:e.motionEaseInOutCirc}),n)]},Mf=function(e){var t,n=e.componentCls,r=e.motionDurationSlow,i=e.menuHorizontalHeight,a=e.colorSplit,o=e.lineWidth,s=e.lineType,l=e.menuItemPaddingInline;return Fe({},"".concat(n,"-horizontal"),(Fe(t={lineHeight:"".concat(i,"px"),border:0,borderBottom:"".concat(o,"px ").concat(s," ").concat(a),boxShadow:"none","&::after":{display:"block",clear:"both",height:0,content:'"\\20"'}},"".concat(n,"-item, ").concat(n,"-submenu"),{position:"relative",display:"inline-block",verticalAlign:"bottom",paddingInline:l}),Fe(t,"> ".concat(n,"-item:hover,\n        > ").concat(n,"-item-active,\n        > ").concat(n,"-submenu ").concat(n,"-submenu-title:hover"),{backgroundColor:"transparent"}),Fe(t,"".concat(n,"-item, ").concat(n,"-submenu-title"),{transition:["border-color ".concat(r),"background ".concat(r)].join(",")}),Fe(t,"".concat(n,"-submenu-arrow"),{display:"none"}),t))},If=function(e){var t,n=e.componentCls,r=e.menuArrowOffset;return Fe(t={},"".concat(n,"-rtl"),{direction:"rtl"}),Fe(t,"".concat(n,"-submenu-rtl"),{transformOrigin:"100% 0"}),Fe(t,"".concat(n,"-rtl").concat(n,"-vertical,\n    ").concat(n,"-submenu-rtl ").concat(n,"-vertical"),Fe({},"".concat(n,"-submenu-arrow"),{"&::before":{transform:"rotate(-45deg) translateY(-".concat(r,")")},"&::after":{transform:"rotate(45deg) translateY(".concat(r,")")}})),t},Of=function(e){return Object.assign({},qn(e))},Pf=function(e,t){var n,r,i,a,o,s,l=e.componentCls,c=e.colorItemText,u=e.colorItemTextSelected,d=e.colorGroupTitle,f=e.colorItemBg,h=e.colorSubItemBg,p=e.colorItemBgSelected,m=e.colorActiveBarHeight,v=e.colorActiveBarWidth,g=e.colorActiveBarBorderSize,y=e.motionDurationSlow,x=e.motionEaseInOut,b=e.motionEaseOut,_=e.menuItemPaddingInline,w=e.motionDurationMid,k=e.colorItemTextHover,S=e.lineType,E=e.colorSplit,C=e.colorItemTextDisabled,T=e.colorDangerItemText,M=e.colorDangerItemTextHover,I=e.colorDangerItemTextSelected,O=e.colorDangerItemBgActive,P=e.colorDangerItemBgSelected,A=e.colorItemBgHover,z=e.menuSubMenuBg,j=e.colorItemTextSelectedHorizontal,R=e.colorItemBgSelectedHorizontal;return Fe({},"".concat(l,"-").concat(t),(Fe(s={color:c,background:f},"&".concat(l,"-root:focus-visible"),Object.assign({},Of(e))),Fe(s,"".concat(l,"-item-group-title"),{color:d}),Fe(s,"".concat(l,"-submenu-selected"),Fe({},"> ".concat(l,"-submenu-title"),{color:u})),Fe(s,"".concat(l,"-item-disabled, ").concat(l,"-submenu-disabled"),{color:"".concat(C," !important")}),Fe(s,"".concat(l,"-item:hover, ").concat(l,"-submenu-title:hover"),Fe({},"&:not(".concat(l,"-item-selected):not(").concat(l,"-submenu-selected)"),{color:k})),Fe(s,"&:not(".concat(l,"-horizontal)"),(Fe(n={},"".concat(l,"-item:not(").concat(l,"-item-selected)"),{"&:hover":{backgroundColor:A},"&:active":{backgroundColor:p}}),Fe(n,"".concat(l,"-submenu-title"),{"&:hover":{backgroundColor:A},"&:active":{backgroundColor:p}}),n)),Fe(s,"".concat(l,"-item-danger"),(Fe(r={color:T},"&".concat(l,"-item:hover"),Fe({},"&:not(".concat(l,"-item-selected):not(").concat(l,"-submenu-selected)"),{color:M})),Fe(r,"&".concat(l,"-item:active"),{background:O}),r)),Fe(s,"".concat(l,"-item a"),{"&, &:hover":{color:"inherit"}}),Fe(s,"".concat(l,"-item-selected"),(Fe(i={color:u},"&".concat(l,"-item-danger"),{color:I}),Fe(i,"a, a:hover",{color:"inherit"}),i)),Fe(s,"& ".concat(l,"-item-selected"),Fe({backgroundColor:p},"&".concat(l,"-item-danger"),{backgroundColor:P})),Fe(s,"".concat(l,"-item, ").concat(l,"-submenu-title"),Fe({},"&:not(".concat(l,"-item-disabled):focus-visible"),Object.assign({},Of(e)))),Fe(s,"&".concat(l,"-submenu > ").concat(l),{backgroundColor:z}),Fe(s,"&".concat(l,"-popup > ").concat(l),{backgroundColor:f}),Fe(s,"&".concat(l,"-horizontal"),Object.assign(Object.assign({},"dark"===t?{borderBottom:0}:{}),Fe({},"> ".concat(l,"-item, > ").concat(l,"-submenu"),(Fe(a={top:g,marginTop:-g,marginBottom:0,borderRadius:0,"&::after":{position:"absolute",insetInline:_,bottom:0,borderBottom:"".concat(m,"px solid transparent"),transition:"border-color ".concat(y," ").concat(x),content:'""'}},"&:hover, &-active, &-open",{"&::after":{borderBottomWidth:m,borderBottomColor:j}}),Fe(a,"&-selected",{color:j,backgroundColor:R,"&::after":{borderBottomWidth:m,borderBottomColor:j}}),a)))),Fe(s,"&".concat(l,"-root"),Fe({},"&".concat(l,"-inline, &").concat(l,"-vertical"),{borderInlineEnd:"".concat(g,"px ").concat(S," ").concat(E)})),Fe(s,"&".concat(l,"-inline"),(Fe(o={},"".concat(l,"-sub").concat(l,"-inline"),{background:h}),Fe(o,"".concat(l,"-item, ").concat(l,"-submenu-title"),g&&v?{width:"calc(100% + ".concat(g,"px)")}:{}),Fe(o,"".concat(l,"-item"),Fe({position:"relative","&::after":{position:"absolute",insetBlock:0,insetInlineEnd:0,borderInlineEnd:"".concat(v,"px solid ").concat(u),transform:"scaleY(0.0001)",opacity:0,transition:["transform ".concat(w," ").concat(b),"opacity ".concat(w," ").concat(b)].join(","),content:'""'}},"&".concat(l,"-item-danger"),{"&::after":{borderInlineEndColor:I}})),Fe(o,"".concat(l,"-selected, ").concat(l,"-item-selected"),{"&::after":{transform:"scaleY(1)",opacity:1,transition:["transform ".concat(w," ").concat(x),"opacity ".concat(w," ").concat(x)].join(",")}}),o)),s))},Af=function(e){var t,n=e.componentCls,r=e.menuItemHeight,i=e.itemMarginInline,a=e.padding,o=e.menuArrowSize,s=e.marginXS,l=e.marginXXS,c=a+o+s;return Fe(t={},"".concat(n,"-item"),{position:"relative"}),Fe(t,"".concat(n,"-item, ").concat(n,"-submenu-title"),{height:r,lineHeight:"".concat(r,"px"),paddingInline:a,overflow:"hidden",textOverflow:"ellipsis",marginInline:i,marginBlock:l,width:"calc(100% - ".concat(2*i,"px)")}),Fe(t,"".concat(n,"-submenu"),{paddingBottom:.02}),Fe(t,"> ".concat(n,"-item,\n            > ").concat(n,"-submenu > ").concat(n,"-submenu-title"),{height:r,lineHeight:"".concat(r,"px")}),Fe(t,"".concat(n,"-item-group-list ").concat(n,"-submenu-title,\n            ").concat(n,"-submenu-title"),{paddingInlineEnd:c}),t},zf=function(e){var t,n,r,i,a,o,s,l=e.componentCls,c=e.iconCls,u=e.menuItemHeight,d=e.colorTextLightSolid,f=e.dropdownWidth,h=e.controlHeightLG,p=e.motionDurationMid,m=e.motionEaseOut,v=e.paddingXL,g=e.fontSizeSM,y=e.fontSizeLG,x=e.motionDurationSlow,b=e.paddingXS,_=e.boxShadowSecondary,w={height:u,lineHeight:"".concat(u,"px"),listStylePosition:"inside",listStyleType:"disc"};return[(t={},Fe(t,l,Fe({},"&-inline, &-vertical",Object.assign(Fe({},"&".concat(l,"-root"),{boxShadow:"none"}),Af(e)))),Fe(t,"".concat(l,"-submenu-popup"),Fe({},"".concat(l,"-vertical"),Object.assign(Object.assign({},Af(e)),{boxShadow:_}))),t),Fe({},"".concat(l,"-submenu-popup ").concat(l,"-vertical").concat(l,"-sub"),{minWidth:f,maxHeight:"calc(100vh - ".concat(2.5*h,"px)"),padding:"0",overflow:"hidden",borderInlineEnd:0,"&:not([class*='-active'])":{overflowX:"hidden",overflowY:"auto"}}),Fe({},"".concat(l,"-inline"),(i={width:"100%"},Fe(i,"&".concat(l,"-root"),Fe({},"".concat(l,"-item, ").concat(l,"-submenu-title"),(n={display:"flex",alignItems:"center",transition:["border-color ".concat(x),"background ".concat(x),"padding ".concat(p," ").concat(m)].join(",")},Fe(n,"> ".concat(l,"-title-content"),{flex:"auto",minWidth:0,overflow:"hidden",textOverflow:"ellipsis"}),Fe(n,"> *",{flex:"none"}),n))),Fe(i,"".concat(l,"-sub").concat(l,"-inline"),(r={padding:0,border:0,borderRadius:0,boxShadow:"none"},Fe(r,"& > ".concat(l,"-submenu > ").concat(l,"-submenu-title"),w),Fe(r,"& ".concat(l,"-item-group-title"),{paddingInlineStart:v}),r)),Fe(i,"".concat(l,"-item"),w),i)),Fe({},"".concat(l,"-inline-collapsed"),(s={width:2*u},Fe(s,"&".concat(l,"-root"),Fe({},"".concat(l,"-item, ").concat(l,"-submenu ").concat(l,"-submenu-title"),Fe({},"> ".concat(l,"-inline-collapsed-noicon"),{fontSize:y,textAlign:"center"}))),Fe(s,"> ".concat(l,"-item,\n          > ").concat(l,"-item-group > ").concat(l,"-item-group-list > ").concat(l,"-item,\n          > ").concat(l,"-item-group > ").concat(l,"-item-group-list > ").concat(l,"-submenu > ").concat(l,"-submenu-title,\n          > ").concat(l,"-submenu > ").concat(l,"-submenu-title"),(a={insetInlineStart:0,paddingInline:"calc(50% - ".concat(g,"px)"),textOverflow:"clip"},Fe(a,"\n            ".concat(l,"-submenu-arrow,\n            ").concat(l,"-submenu-expand-icon\n          "),{opacity:0}),Fe(a,"".concat(l,"-item-icon, ").concat(c),{margin:0,fontSize:y,lineHeight:"".concat(u,"px"),"+ span":{display:"inline-block",opacity:0}}),a)),Fe(s,"".concat(l,"-item-icon, ").concat(c),{display:"inline-block"}),Fe(s,"&-tooltip",(o={pointerEvents:"none"},Fe(o,"".concat(l,"-item-icon, ").concat(c),{display:"none"}),Fe(o,"a, a:hover",{color:d}),o)),Fe(s,"".concat(l,"-item-group-title"),Object.assign(Object.assign({},Un),{paddingInline:b})),s))]},jf=function(e){var t,n,r=e.componentCls,i=e.fontSize,a=e.motionDurationSlow,o=e.motionDurationMid,s=e.motionEaseInOut,l=e.motionEaseOut,c=e.iconCls,u=e.controlHeightSM;return Fe(n={},"".concat(r,"-item, ").concat(r,"-submenu-title"),(Fe(t={position:"relative",display:"block",margin:0,whiteSpace:"nowrap",cursor:"pointer",transition:["border-color ".concat(a),"background ".concat(a),"padding ".concat(a," ").concat(s)].join(",")},"".concat(r,"-item-icon, ").concat(c),{minWidth:i,fontSize:i,transition:["font-size ".concat(o," ").concat(l),"margin ".concat(a," ").concat(s),"color ".concat(a)].join(","),"+ span":{marginInlineStart:u-i,opacity:1,transition:["opacity ".concat(a," ").concat(s),"margin ".concat(a),"color ".concat(a)].join(",")}}),Fe(t,"".concat(r,"-item-icon"),Object.assign({},{display:"inline-flex",alignItems:"center",color:"inherit",fontStyle:"normal",lineHeight:0,textAlign:"center",textTransform:"none",verticalAlign:"-0.125em",textRendering:"optimizeLegibility","-webkit-font-smoothing":"antialiased","-moz-osx-font-smoothing":"grayscale","> *":{lineHeight:1},svg:{display:"inline-block"}})),Fe(t,"&".concat(r,"-item-only-child"),Fe({},"> ".concat(c,", > ").concat(r,"-item-icon"),{marginInlineEnd:0})),t)),Fe(n,"".concat(r,"-item-disabled, ").concat(r,"-submenu-disabled"),Fe({background:"none !important",cursor:"not-allowed","&::after":{borderColor:"transparent !important"},a:{color:"inherit !important"}},"> ".concat(r,"-submenu-title"),{color:"inherit !important",cursor:"not-allowed"})),n},Rf=function(e){var t,n=e.componentCls,r=e.motionDurationSlow,i=e.motionEaseInOut,a=e.borderRadius,o=e.menuArrowSize,s=e.menuArrowOffset;return Fe({},"".concat(n,"-submenu"),(Fe(t={},"&-expand-icon, &-arrow",{position:"absolute",top:"50%",insetInlineEnd:e.margin,width:o,color:"currentcolor",transform:"translateY(-50%)",transition:"transform ".concat(r," ").concat(i,", opacity ").concat(r)}),Fe(t,"&-arrow",{"&::before, &::after":{position:"absolute",width:.6*o,height:.15*o,backgroundColor:"currentcolor",borderRadius:a,transition:["background ".concat(r," ").concat(i),"transform ".concat(r," ").concat(i),"top ".concat(r," ").concat(i),"color ".concat(r," ").concat(i)].join(","),content:'""'},"&::before":{transform:"rotate(45deg) translateY(-".concat(s,")")},"&::after":{transform:"rotate(-45deg) translateY(".concat(s,")")}}),t))},Df=function(e){var t,n,r,i,a=e.antCls,o=e.componentCls,s=e.fontSize,l=e.motionDurationSlow,c=e.motionDurationMid,u=e.motionEaseInOut,d=e.lineHeight,f=e.paddingXS,h=e.padding,p=e.colorSplit,m=e.lineWidth,v=e.zIndexPopup,g=e.borderRadiusLG,y=e.radiusSubMenuItem,x=e.menuArrowSize,b=e.menuArrowOffset,_=e.lineType,w=e.menuPanelMaskInset;return[Fe({"":Fe({},"".concat(o),Object.assign(Object.assign({},{"&::before":{display:"table",content:'""'},"&::after":{display:"table",clear:"both",content:'""'}}),Fe({},"&-hidden",{display:"none"})))},"".concat(o,"-submenu-hidden"),{display:"none"}),Fe({},o,Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},Hn(e)),{"&::before":{display:"table",content:'""'},"&::after":{display:"table",clear:"both",content:'""'}}),(t={marginBottom:0,paddingInlineStart:0,fontSize:s,lineHeight:0,listStyle:"none",outline:"none",transition:["background ".concat(l),"width ".concat(l," cubic-bezier(0.2, 0, 0, 1) 0s")].join(",")},Fe(t,"ul, ol",{margin:0,padding:0,listStyle:"none"}),Fe(t,"&-overflow",Fe({display:"flex"},"".concat(o,"-item"),{flex:"none"})),Fe(t,"".concat(o,"-item, ").concat(o,"-submenu, ").concat(o,"-submenu-title"),{borderRadius:e.radiusItem}),Fe(t,"".concat(o,"-item-group-title"),{padding:"".concat(f,"px ").concat(h,"px"),fontSize:s,lineHeight:d,transition:"all ".concat(l)}),Fe(t,"&-horizontal ".concat(o,"-submenu"),{transition:["border-color ".concat(l," ").concat(u),"background ".concat(l," ").concat(u)].join(",")}),Fe(t,"".concat(o,"-submenu, ").concat(o,"-submenu-inline"),{transition:["border-color ".concat(l," ").concat(u),"background ".concat(l," ").concat(u),"padding ".concat(c," ").concat(u)].join(",")}),Fe(t,"".concat(o,"-submenu ").concat(o,"-sub"),{cursor:"initial",transition:["background ".concat(l," ").concat(u),"padding ".concat(l," ").concat(u)].join(",")}),Fe(t,"".concat(o,"-title-content"),{transition:"color ".concat(l)}),Fe(t,"".concat(o,"-item a"),{"&::before":{position:"absolute",inset:0,backgroundColor:"transparent",content:'""'}}),Fe(t,"".concat(o,"-item-divider"),{overflow:"hidden",lineHeight:0,borderColor:p,borderStyle:_,borderWidth:0,borderTopWidth:m,marginBlock:m,padding:0,"&-dashed":{borderStyle:"dashed"}}),t)),jf(e)),(r={},Fe(r,"".concat(o,"-item-group"),Fe({},"".concat(o,"-item-group-list"),Fe({margin:0,padding:0},"".concat(o,"-item, ").concat(o,"-submenu-title"),{paddingInline:"".concat(2*s,"px ").concat(h,"px")}))),Fe(r,"&-submenu",Fe({"&-popup":{position:"absolute",zIndex:v,background:"transparent",borderRadius:g,boxShadow:"none",transformOrigin:"0 0","&::before":{position:"absolute",inset:"".concat(w,"px 0 0"),zIndex:-1,width:"100%",height:"100%",opacity:0,content:'""'}},"&-placement-rightTop::before":{top:0,insetInlineStart:w}},"> ".concat(o),Object.assign(Object.assign(Object.assign({borderRadius:g},jf(e)),Rf(e)),(n={},Fe(n,"".concat(o,"-item, ").concat(o,"-submenu > ").concat(o,"-submenu-title"),{borderRadius:y}),Fe(n,"".concat(o,"-submenu-title::after"),{transition:"transform ".concat(l," ").concat(u)}),n)))),r)),Rf(e)),(i={},Fe(i,"&-inline-collapsed ".concat(o,"-submenu-arrow,\n        &-inline ").concat(o,"-submenu-arrow"),{"&::before":{transform:"rotate(-45deg) translateX(".concat(b,")")},"&::after":{transform:"rotate(45deg) translateX(-".concat(b,")")}}),Fe(i,"".concat(o,"-submenu-open").concat(o,"-submenu-inline > ").concat(o,"-submenu-title > ").concat(o,"-submenu-arrow"),{transform:"translateY(-".concat(.2*x,"px)"),"&::after":{transform:"rotate(-45deg) translateX(-".concat(b,")")},"&::before":{transform:"rotate(45deg) translateX(".concat(b,")")}}),i))),Fe({},"".concat(a,"-layout-header"),Fe({},o,{lineHeight:"inherit"}))]},Lf=function(e,t){var n=Xr("Menu",(function(e,n){var r=n.overrideComponentToken;if(!1===t)return[];var i=e.colorBgElevated,a=e.colorPrimary,o=e.colorError,s=e.colorErrorHover,l=e.colorTextLightSolid,c=e.controlHeightLG,u=e.fontSize/7*5,d=Gr(e,{menuItemHeight:c,menuItemPaddingInline:e.margin,menuArrowSize:u,menuHorizontalHeight:1.15*c,menuArrowOffset:"".concat(.25*u,"px"),menuPanelMaskInset:-7,menuSubMenuBg:i}),f=new Tr(l).setAlpha(.65).toRgbString(),h=Gr(d,{colorItemText:f,colorItemTextHover:l,colorGroupTitle:f,colorItemTextSelected:l,colorItemBg:"#001529",colorSubItemBg:"#000c17",colorItemBgActive:"transparent",colorItemBgSelected:a,colorActiveBarWidth:0,colorActiveBarHeight:0,colorActiveBarBorderSize:0,colorItemTextDisabled:new Tr(l).setAlpha(.25).toRgbString(),colorDangerItemText:o,colorDangerItemTextHover:s,colorDangerItemTextSelected:l,colorDangerItemBgActive:o,colorDangerItemBgSelected:o,menuSubMenuBg:"#001529",colorItemTextSelectedHorizontal:l,colorItemBgSelectedHorizontal:a},Object.assign({},r));return[Df(d),Mf(d),zf(d),Pf(d,"light"),Pf(h,"dark"),If(d),Qd(d),hf(d,"slide-up"),hf(d,"slide-down"),Tf(d,"zoom-big")]}),(function(e){var t=e.colorPrimary,n=e.colorError,r=e.colorTextDisabled,i=e.colorErrorBg,a=e.colorText,o=e.colorTextDescription,s=e.colorBgContainer,l=e.colorFillAlter,c=e.colorFillContent,u=e.lineWidth,d=e.lineWidthBold,f=e.controlItemBgActive,h=e.colorBgTextHover;return{dropdownWidth:160,zIndexPopup:e.zIndexPopupBase+50,radiusItem:e.borderRadiusLG,radiusSubMenuItem:e.borderRadiusSM,colorItemText:a,colorItemTextHover:a,colorItemTextHoverHorizontal:t,colorGroupTitle:o,colorItemTextSelected:t,colorItemTextSelectedHorizontal:t,colorItemBg:s,colorItemBgHover:h,colorItemBgActive:c,colorSubItemBg:l,colorItemBgSelected:f,colorItemBgSelectedHorizontal:"transparent",colorActiveBarWidth:0,colorActiveBarHeight:d,colorActiveBarBorderSize:u,colorItemTextDisabled:r,colorDangerItemText:n,colorDangerItemTextHover:n,colorDangerItemTextSelected:n,colorDangerItemBgActive:i,colorDangerItemBgSelected:i,itemMarginInline:e.marginXXS}}));return n(e)},Nf=t.createContext(null),Bf=Nf,Ff=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},Vf=function(e){var n=e.prefixCls,r=e.className,i=e.dashed,a=Ff(e,["prefixCls","className","dashed"]),o=(0,t.useContext(Ge).getPrefixCls)("menu",n),s=Ue()(Fe({},"".concat(o,"-item-divider-dashed"),!!i),r);return t.createElement(Dd,Object.assign({className:s},a))},Uf={adjustX:1,adjustY:1},Hf=[0,0],Gf={left:{points:["cr","cl"],overflow:Uf,offset:[-4,0],targetOffset:Hf},right:{points:["cl","cr"],overflow:Uf,offset:[4,0],targetOffset:Hf},top:{points:["bc","tc"],overflow:Uf,offset:[0,-4],targetOffset:Hf},bottom:{points:["tc","bc"],overflow:Uf,offset:[0,4],targetOffset:Hf},topLeft:{points:["bl","tl"],overflow:Uf,offset:[0,-4],targetOffset:Hf},leftTop:{points:["tr","tl"],overflow:Uf,offset:[-4,0],targetOffset:Hf},topRight:{points:["br","tr"],overflow:Uf,offset:[0,-4],targetOffset:Hf},rightTop:{points:["tl","tr"],overflow:Uf,offset:[4,0],targetOffset:Hf},bottomRight:{points:["tr","br"],overflow:Uf,offset:[0,4],targetOffset:Hf},rightBottom:{points:["bl","br"],overflow:Uf,offset:[4,0],targetOffset:Hf},bottomLeft:{points:["tl","bl"],overflow:Uf,offset:[0,4],targetOffset:Hf},leftBottom:{points:["br","bl"],overflow:Uf,offset:[-4,0],targetOffset:Hf}};function Wf(e){var n=e.showArrow,r=e.arrowContent,i=e.children,a=e.prefixCls,o=e.id,s=e.overlayInnerStyle,l=e.className,c=e.style;return t.createElement("div",{className:Ue()("".concat(a,"-content"),l),style:c},!1!==n&&t.createElement("div",{className:"".concat(a,"-arrow"),key:"arrow"},r),t.createElement("div",{className:"".concat(a,"-inner"),id:o,role:"tooltip",style:s},"function"===typeof i?i():i))}var qf=function(e,n){var r=e.overlayClassName,i=e.trigger,a=void 0===i?["hover"]:i,o=e.mouseEnterDelay,s=void 0===o?0:o,l=e.mouseLeaveDelay,c=void 0===l?.1:l,d=e.overlayStyle,f=e.prefixCls,h=void 0===f?"rc-tooltip":f,p=e.children,m=e.onVisibleChange,v=e.afterVisibleChange,g=e.transitionName,y=e.animation,x=e.motion,b=e.placement,_=void 0===b?"right":b,w=e.align,k=void 0===w?{}:w,S=e.destroyTooltipOnHide,E=void 0!==S&&S,C=e.defaultVisible,T=e.getTooltipContainer,M=e.overlayInnerStyle,I=e.arrowContent,O=e.overlay,P=e.id,A=e.showArrow,z=li(e,["overlayClassName","trigger","mouseEnterDelay","mouseLeaveDelay","overlayStyle","prefixCls","children","onVisibleChange","afterVisibleChange","transitionName","animation","motion","placement","align","destroyTooltipOnHide","defaultVisible","getTooltipContainer","overlayInnerStyle","arrowContent","overlay","id","showArrow"]),j=(0,t.useRef)(null);(0,t.useImperativeHandle)(n,(function(){return j.current}));var R=Xe({},z);"visible"in e&&(R.popupVisible=e.visible);var D=!1,L=!1;if("boolean"===typeof E)D=E;else if(E&&"object"===u(E)){var N=E.keepParent;D=!0===N,L=!1===N}return t.createElement(gd,Dt({popupClassName:r,prefixCls:h,popup:function(){return t.createElement(Wf,{showArrow:A,arrowContent:I,key:"content",prefixCls:h,id:P,overlayInnerStyle:M},O)},action:a,builtinPlacements:Gf,popupPlacement:_,ref:j,popupAlign:k,getPopupContainer:T,onPopupVisibleChange:m,afterPopupVisibleChange:v,popupTransitionName:g,popupAnimation:y,popupMotion:x,defaultPopupVisible:C,destroyPopupOnHide:D,autoDestroy:L,mouseLeaveDelay:c,popupStyle:d,mouseEnterDelay:s},R),p)},Xf=(0,t.forwardRef)(qf),Zf={adjustX:1,adjustY:1},Kf={adjustX:0,adjustY:0},Yf=[0,0];function $f(e){return"boolean"===typeof e?e?Zf:Kf:Object.assign(Object.assign({},Kf),e)}var Jf=["blue","purple","cyan","green","magenta","pink","red","orange","yellow","volcano","geekblue","lime","gold"];function Qf(e,t){return Jf.reduce((function(n,r){var i=e["".concat(r,"-1")],a=e["".concat(r,"-3")],o=e["".concat(r,"-6")],s=e["".concat(r,"-7")];return Object.assign(Object.assign({},n),t(r,{lightColor:i,lightBorderColor:a,darkColor:o,textColor:s}))}),{})}var eh=function(e,t,n,r,i){var a=e/2,o=a-n*(Math.sqrt(2)-1),s=a,l=a+n*(1-1/Math.sqrt(2)),c=a-n*(1-1/Math.sqrt(2)),u=2*a-t*(1/Math.sqrt(2)),d=t*(1/Math.sqrt(2)),f=4*a-u,h=d,p=4*a-l,m=c,v=4*a-o,g=s;return{borderRadius:{_skip_check_:!0,value:"0 0 ".concat(t,"px")},pointerEvents:"none",width:2*e,height:2*e,overflow:"hidden","&::after":{content:'""',position:"absolute",width:e/Math.sqrt(2),height:e/Math.sqrt(2),bottom:0,insetInline:0,margin:"auto",borderRadius:{_skip_check_:!0,value:"0 0 ".concat(t,"px 0")},transform:"translateY(50%) rotate(-135deg)",boxShadow:i,zIndex:0,background:"transparent"},"&::before":{position:"absolute",bottom:0,insetInlineStart:0,width:2*e,height:e/2,background:r,clipPath:"path('M ".concat(o," ").concat(s," A ").concat(n," ").concat(n," 0 0 0 ").concat(l," ").concat(c," L ").concat(u," ").concat(d," A ").concat(t," ").concat(t," 0 0 1 ").concat(f," ").concat(h," L ").concat(p," ").concat(m," A ").concat(n," ").concat(n," 0 0 0 ").concat(v," ").concat(g," Z')"),content:'""'}}};function th(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return e.map((function(e){return"".concat(t).concat(e)})).join(",")}function nh(e,t){var n,r=e.componentCls,i=e.sizePopupArrow,a=e.marginXXS,o=e.borderRadiusXS,s=e.borderRadiusOuter,l=e.boxShadowPopoverArrow,c=t.colorBg,u=t.showArrowCls,d=t.contentRadius,f=function(e){var t=e.sizePopupArrow,n=e.contentRadius,r=e.borderRadiusOuter,i=e.limitVerticalRadius,a=t/2-Math.ceil(r*(Math.sqrt(2)-1)),o=(n>12?n+2:12)-a;return{dropdownArrowOffset:o,dropdownArrowOffsetVertical:i?8-a:o}}({sizePopupArrow:i,contentRadius:void 0===d?e.borderRadiusLG:d,borderRadiusOuter:s,limitVerticalRadius:t.limitVerticalRadius}),h=f.dropdownArrowOffsetVertical,p=f.dropdownArrowOffset,m=i/2+a;return Fe({},r,(Fe(n={},"".concat(r,"-arrow"),[Object.assign(Object.assign({position:"absolute",zIndex:1,display:"block"},eh(i,o,s,c,l)),{"&:before":{background:c}})]),Fe(n,["&-placement-top ".concat(r,"-arrow"),"&-placement-topLeft ".concat(r,"-arrow"),"&-placement-topRight ".concat(r,"-arrow")].join(","),{bottom:0,transform:"translateY(100%) rotate(180deg)"}),Fe(n,"&-placement-top ".concat(r,"-arrow"),{left:{_skip_check_:!0,value:"50%"},transform:"translateX(-50%) translateY(100%) rotate(180deg)"}),Fe(n,"&-placement-topLeft ".concat(r,"-arrow"),{left:{_skip_check_:!0,value:p}}),Fe(n,"&-placement-topRight ".concat(r,"-arrow"),{right:{_skip_check_:!0,value:p}}),Fe(n,["&-placement-bottom ".concat(r,"-arrow"),"&-placement-bottomLeft ".concat(r,"-arrow"),"&-placement-bottomRight ".concat(r,"-arrow")].join(","),{top:0,transform:"translateY(-100%)"}),Fe(n,"&-placement-bottom ".concat(r,"-arrow"),{left:{_skip_check_:!0,value:"50%"},transform:"translateX(-50%) translateY(-100%)"}),Fe(n,"&-placement-bottomLeft ".concat(r,"-arrow"),{left:{_skip_check_:!0,value:p}}),Fe(n,"&-placement-bottomRight ".concat(r,"-arrow"),{right:{_skip_check_:!0,value:p}}),Fe(n,["&-placement-left ".concat(r,"-arrow"),"&-placement-leftTop ".concat(r,"-arrow"),"&-placement-leftBottom ".concat(r,"-arrow")].join(","),{right:{_skip_check_:!0,value:0},transform:"translateX(100%) rotate(90deg)"}),Fe(n,"&-placement-left ".concat(r,"-arrow"),{top:{_skip_check_:!0,value:"50%"},transform:"translateY(-50%) translateX(100%) rotate(90deg)"}),Fe(n,"&-placement-leftTop ".concat(r,"-arrow"),{top:h}),Fe(n,"&-placement-leftBottom ".concat(r,"-arrow"),{bottom:h}),Fe(n,["&-placement-right ".concat(r,"-arrow"),"&-placement-rightTop ".concat(r,"-arrow"),"&-placement-rightBottom ".concat(r,"-arrow")].join(","),{left:{_skip_check_:!0,value:0},transform:"translateX(-100%) rotate(-90deg)"}),Fe(n,"&-placement-right ".concat(r,"-arrow"),{top:{_skip_check_:!0,value:"50%"},transform:"translateY(-50%) translateX(-100%) rotate(-90deg)"}),Fe(n,"&-placement-rightTop ".concat(r,"-arrow"),{top:h}),Fe(n,"&-placement-rightBottom ".concat(r,"-arrow"),{bottom:h}),Fe(n,th(["&-placement-topLeft","&-placement-top","&-placement-topRight"],u),{paddingBottom:m}),Fe(n,th(["&-placement-bottomLeft","&-placement-bottom","&-placement-bottomRight"],u),{paddingTop:m}),Fe(n,th(["&-placement-leftTop","&-placement-left","&-placement-leftBottom"],u),{paddingRight:{_skip_check_:!0,value:m}}),Fe(n,th(["&-placement-rightTop","&-placement-right","&-placement-rightBottom"],u),{paddingLeft:{_skip_check_:!0,value:m}}),n))}var rh=function(e){var t,n=e.componentCls,r=e.tooltipMaxWidth,i=e.tooltipColor,a=e.tooltipBg,o=e.tooltipBorderRadius,s=e.zIndexPopup,l=e.controlHeight,c=e.boxShadowSecondary,u=e.paddingSM,d=e.paddingXS,f=e.tooltipRadiusOuter;return[Fe({},n,Object.assign(Object.assign(Object.assign(Object.assign({},Hn(e)),(t={position:"absolute",zIndex:s,display:"block","&":[{width:"max-content"},{width:"intrinsic"}],maxWidth:r,visibility:"visible","&-hidden":{display:"none"},"--antd-arrow-background-color":a},Fe(t,"".concat(n,"-inner"),{minWidth:l,minHeight:l,padding:"".concat(u/2,"px ").concat(d,"px"),color:i,textAlign:"start",textDecoration:"none",wordWrap:"break-word",backgroundColor:a,borderRadius:o,boxShadow:c}),Fe(t,["&-placement-left","&-placement-leftTop","&-placement-leftBottom","&-placement-right","&-placement-rightTop","&-placement-rightBottom"].join(","),Fe({},"".concat(n,"-inner"),{borderRadius:Math.min(o,8)})),Fe(t,"".concat(n,"-content"),{position:"relative"}),t)),Qf(e,(function(e,t){var r,i=t.darkColor;return Fe({},"&".concat(n,"-").concat(e),(Fe(r={},"".concat(n,"-inner"),{backgroundColor:i}),Fe(r,"".concat(n,"-arrow"),{"--antd-arrow-background-color":i}),r))}))),{"&-rtl":{direction:"rtl"}})),nh(Gr(e,{borderRadiusOuter:f}),{colorBg:"var(--antd-arrow-background-color)",showArrowCls:"",contentRadius:o,limitVerticalRadius:!0}),Fe({},"".concat(n,"-pure"),{position:"relative",maxWidth:"none"})]},ih=function(e,t){var n=Xr("Tooltip",(function(e){if(!1===t)return[];var n=e.borderRadius,r=e.colorTextLightSolid,i=e.colorBgDefault,a=e.borderRadiusOuter,o=Gr(e,{tooltipMaxWidth:250,tooltipColor:r,tooltipBorderRadius:n,tooltipBg:i,tooltipRadiusOuter:a>4?4:a});return[rh(o),Tf(e,"zoom-big-fast")]}),(function(e){return{zIndexPopup:e.zIndexPopupBase+70,colorBgDefault:e.colorBgSpotlight}}));return n(e)},ah=Jf.map((function(e){return"".concat(e,"-inverse")}));function oh(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return t?[].concat(l(ah),l(Jf)).includes(e):Jf.includes(e)}function sh(e,t){var n=oh(t),r=Ue()(Fe({},"".concat(e,"-").concat(t),t&&n)),i={},a={};return t&&!n&&(i.background=t,a["--antd-arrow-background-color"]=t),{className:r,overlayStyle:i,arrowStyle:a}}var lh=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};function ch(e,n){var r=e.type;if((!0===r.__ANT_BUTTON||"button"===e.type)&&e.props.disabled||!0===r.__ANT_SWITCH&&(e.props.disabled||e.props.loading)||!0===r.__ANT_RADIO&&e.props.disabled){var i=function(e,t){var n={},r=Object.assign({},e);return t.forEach((function(t){e&&t in e&&(n[t]=e[t],delete r[t])})),{picked:n,omitted:r}}(e.props.style,["position","left","right","top","bottom","float","display","zIndex"]),a=i.picked,o=i.omitted,s=Object.assign(Object.assign({display:"inline-block"},a),{cursor:"not-allowed",width:e.props.block?"100%":void 0}),l=Jd(e,{style:Object.assign(Object.assign({},o),{pointerEvents:"none"}),className:null});return t.createElement("span",{style:s,className:Ue()(e.props.className,"".concat(n,"-disabled-compatible-wrapper"))},l)}return e}var uh=t.forwardRef((function(e,n){var r,i,a=e.prefixCls,o=e.openClassName,s=e.getTooltipContainer,l=e.overlayClassName,c=e.color,u=e.overlayInnerStyle,d=e.children,f=e.afterOpenChange,h=e.afterVisibleChange,p=t.useContext(Ge),m=p.getPopupContainer,v=p.getPrefixCls,g=p.direction;var y=k(Js(!1,{value:null!==(r=e.open)&&void 0!==r?r:e.visible,defaultValue:null!==(i=e.defaultOpen)&&void 0!==i?i:e.defaultVisible}),2),x=y[0],b=y[1],_=function(){var t=e.title,n=e.overlay;return!t&&!n&&0!==t},w=function(){var t=e.builtinPlacements,n=e.arrowPointAtCenter,r=void 0!==n&&n,i=e.autoAdjustOverflow;return t||function(e){var t=e.arrowWidth,n=void 0===t?4:t,r=e.horizontalArrowShift,i=void 0===r?16:r,a=e.verticalArrowShift,o=void 0===a?8:a,s=e.autoAdjustOverflow,l=e.arrowPointAtCenter,c={left:{points:["cr","cl"],offset:[-4,0]},right:{points:["cl","cr"],offset:[4,0]},top:{points:["bc","tc"],offset:[0,-4]},bottom:{points:["tc","bc"],offset:[0,4]},topLeft:{points:["bl","tc"],offset:[-(i+n),-4]},leftTop:{points:["tr","cl"],offset:[-4,-(o+n)]},topRight:{points:["br","tc"],offset:[i+n,-4]},rightTop:{points:["tl","cr"],offset:[4,-(o+n)]},bottomRight:{points:["tr","bc"],offset:[i+n,4]},rightBottom:{points:["bl","cr"],offset:[4,o+n]},bottomLeft:{points:["tl","bc"],offset:[-(i+n),4]},leftBottom:{points:["br","cl"],offset:[-4,o+n]}};return Object.keys(c).forEach((function(e){c[e]=l?Object.assign(Object.assign({},c[e]),{overflow:$f(s),targetOffset:Yf}):Object.assign(Object.assign({},Gf[e]),{overflow:$f(s)}),c[e].ignoreShake=!0})),c}({arrowPointAtCenter:r,autoAdjustOverflow:void 0===i||i})},S=e.getPopupContainer,E=e.placement,C=void 0===E?"top":E,T=e.mouseEnterDelay,M=void 0===T?.1:T,I=e.mouseLeaveDelay,O=void 0===I?.1:I,P=e.overlayStyle,A=lh(e,["getPopupContainer","placement","mouseEnterDelay","mouseLeaveDelay","overlayStyle"]),z=v("tooltip",a),j=v(),R=e["data-popover-inject"],D=x;"open"in e||"visible"in e||!_()||(D=!1);var L=ch(Kd(d)&&!Yd(d)?d:t.createElement("span",null,d),z),N=L.props,B=N.className&&"string"!==typeof N.className?N.className:Ue()(N.className,Fe({},o||"".concat(z,"-open"),!0)),F=k(ih(z,!R),2),V=F[0],U=F[1],H=sh(z,c),G=Object.assign(Object.assign({},u),H.overlayStyle),W=H.arrowStyle,q=Ue()(l,Fe({},"".concat(z,"-rtl"),"rtl"===g),H.className,U);return V(t.createElement(Xf,Object.assign({},A,{placement:C,mouseEnterDelay:M,mouseLeaveDelay:O,prefixCls:z,overlayClassName:q,overlayStyle:Object.assign(Object.assign({},W),P),getTooltipContainer:S||s||m,ref:n,builtinPlacements:w(),overlay:function(){var t=e.title,n=e.overlay;return 0===t?t:n||t||""}(),visible:D,onVisibleChange:function(t){var n,r;b(!_()&&t),_()||(null===(n=e.onOpenChange)||void 0===n||n.call(e,t),null===(r=e.onVisibleChange)||void 0===r||r.call(e,t))},afterVisibleChange:null!==f&&void 0!==f?f:h,onPopupAlign:function(e,t){var n=w(),r=Object.keys(n).find((function(e){var r,i;return n[e].points[0]===(null===(r=t.points)||void 0===r?void 0:r[0])&&n[e].points[1]===(null===(i=t.points)||void 0===i?void 0:i[1])}));if(r){var i=e.getBoundingClientRect(),a={top:"50%",left:"50%"};/top|Bottom/.test(r)?a.top="".concat(i.height-t.offset[1],"px"):/Top|bottom/.test(r)&&(a.top="".concat(-t.offset[1],"px")),/left|Right/.test(r)?a.left="".concat(i.width-t.offset[0],"px"):/right|Left/.test(r)&&(a.left="".concat(-t.offset[0],"px")),e.style.transformOrigin="".concat(a.left," ").concat(a.top)}},overlayInnerStyle:G,arrowContent:t.createElement("span",{className:"".concat(z,"-arrow-content")}),motion:{motionName:Xd(j,"zoom-big-fast",e.transitionName),motionDeadline:1e3}}),D?Jd(L,{className:B}):L))}));uh._InternalPanelDoNotUseOrYouWillBeFired=function(e){var n=e.prefixCls,r=e.className,i=e.placement,a=void 0===i?"top":i,o=e.title,s=e.color,l=e.overlayInnerStyle,c=(0,t.useContext(Ge).getPrefixCls)("tooltip",n),u=k(ih(c,!0),2),d=u[0],f=u[1],h=sh(c,s),p=Object.assign(Object.assign({},l),h.overlayStyle),m=h.arrowStyle;return d(t.createElement("div",{className:Ue()(f,c,"".concat(c,"-pure"),"".concat(c,"-placement-").concat(a),r,h.className),style:m},t.createElement(Wf,Object.assign({},e,{className:f,prefixCls:c,overlayInnerStyle:p}),o)))};var dh=uh,fh=(0,t.createContext)({prefixCls:"",firstLevel:!0,inlineCollapsed:!1}),hh=function(e){var n,r,i=e.className,a=e.children,o=e.icon,s=e.title,l=e.danger,c=t.useContext(fh),u=c.prefixCls,d=c.firstLevel,f=c.direction,h=c.disableMenuItemTitleTooltip,p=c.inlineCollapsed,m=t.useContext(Di).siderCollapsed,v=s;"undefined"===typeof s?v=d?a:"":!1===s&&(v="");var g={title:v};m||p||(g.title=null,g.open=!1);var y=Lo(a).length,x=t.createElement(ql,Object.assign({},Ai(e,["title","icon","danger"]),{className:Ue()((n={},Fe(n,"".concat(u,"-item-danger"),l),Fe(n,"".concat(u,"-item-only-child"),1===(o?y+1:y)),n),i),title:"string"===typeof s?s:void 0}),Jd(o,{className:Ue()(Kd(o)?null===(r=o.props)||void 0===r?void 0:r.className:"","".concat(u,"-item-icon"))}),function(e){var n=t.createElement("span",{className:"".concat(u,"-title-content")},a);return(!o||Kd(a)&&"span"===a.type)&&a&&e&&d&&"string"===typeof a?t.createElement("div",{className:"".concat(u,"-inline-collapsed-noicon")},a.charAt(0)):n}(p));return h||(x=t.createElement(dh,Object.assign({},g,{placement:"rtl"===f?"left":"right",overlayClassName:"".concat(u,"-inline-collapsed-tooltip")}),x)),x},ph=function(e){var n,r,i=e.popupClassName,a=e.icon,o=e.title,s=e.theme,l=t.useContext(fh),c=l.prefixCls,u=l.inlineCollapsed,d=l.theme,f=l.mode,h=cl();if(a){var p=Kd(o)&&"span"===o.type;r=t.createElement(t.Fragment,null,Jd(a,{className:Ue()(Kd(a)?null===(n=a.props)||void 0===n?void 0:n.className:"","".concat(c,"-item-icon"))}),p?o:t.createElement("span",{className:"".concat(c,"-title-content")},o))}else r=u&&!h.length&&o&&"string"===typeof o?t.createElement("div",{className:"".concat(c,"-inline-collapsed-noicon")},o.charAt(0)):t.createElement("span",{className:"".concat(c,"-title-content")},o);var m=t.useMemo((function(){return Object.assign(Object.assign({},l),{firstLevel:!1})}),[l]),v="horizontal"===f?[0,8]:[10,0];return t.createElement(fh.Provider,{value:m},t.createElement(Md,Object.assign({popupOffset:v},Ai(e,["icon"]),{title:r,popupClassName:Ue()(c,i,"".concat(c,"-").concat(s||d))})))},mh=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};function vh(e){return(e||[]).map((function(e,n){if(e&&"object"===typeof e){var r=e,i=r.label,a=r.children,o=r.key,s=r.type,l=mh(r,["label","children","key","type"]),c=null!==o&&void 0!==o?o:"tmp-".concat(n);return a||"group"===s?"group"===s?t.createElement(Rd,Object.assign({key:c},l,{title:i}),vh(a)):t.createElement(ph,Object.assign({key:c},l,{title:i}),vh(a)):"divider"===s?t.createElement(Vf,Object.assign({key:c},l)):t.createElement(hh,Object.assign({key:c},l),i)}return null})).filter((function(e){return e}))}function gh(e){return t.useMemo((function(){return e?vh(e):e}),[e])}var yh=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},xh=(0,t.forwardRef)((function(e,n){var r,i,a=t.useContext(Bf),o=a||{},s=t.useContext(Ge),l=s.getPrefixCls,c=s.getPopupContainer,u=s.direction,d=l(),f=e.prefixCls,h=e.className,p=e.theme,m=void 0===p?"light":p,v=e.expandIcon,g=e._internalDisableMenuItemTitleTooltip,y=e.inlineCollapsed,x=e.siderCollapsed,b=e.items,_=e.children,w=e.rootClassName,S=e.mode,E=e.selectable,C=e.onClick,T=Ai(yh(e,["prefixCls","className","theme","expandIcon","_internalDisableMenuItemTitleTooltip","inlineCollapsed","siderCollapsed","items","children","rootClassName","mode","selectable","onClick"]),["collapsedWidth"]),M=gh(b)||_;null===(r=o.validator)||void 0===r||r.call(o,{mode:S});var I,O=Ys((function(){var e;null===C||void 0===C||C.apply(void 0,arguments),null===(e=o.onClick)||void 0===e||e.call(o)})),P=o.mode||S,A=null!==E&&void 0!==E?E:o.selectable,z=t.useMemo((function(){return void 0!==x?x:y}),[y,x]),j={horizontal:{motionName:"".concat(d,"-slide-up")},inline:Zd(d),other:{motionName:"".concat(d,"-zoom-big")}},R=l("menu",f||o.prefixCls),D=k(Lf(R,!a),2),L=D[0],N=D[1],B=Ue()("".concat(R,"-").concat(m),h);if("function"===typeof v)I=v;else{var F=v||o.expandIcon;I=Jd(F,{className:Ue()("".concat(R,"-submenu-expand-icon"),null===(i=null===F||void 0===F?void 0:F.props)||void 0===i?void 0:i.className)})}var V=t.useMemo((function(){return{prefixCls:R,inlineCollapsed:z||!1,direction:u,firstLevel:!0,theme:m,mode:P,disableMenuItemTitleTooltip:g}}),[R,z,u,g,m]);return L(t.createElement(Bf.Provider,{value:null},t.createElement(fh.Provider,{value:V},t.createElement(Nd,Object.assign({getPopupContainer:c,overflowedIndicator:t.createElement(Vd,null),overflowedIndicatorPopupClassName:"".concat(R,"-").concat(m),mode:P,selectable:A,onClick:O},T,{inlineCollapsed:z,className:B,prefixCls:R,direction:u,defaultMotions:j,expandIcon:I,ref:n,rootClassName:Ue()(w,N)}),M))))})),bh=xh,_h=(0,t.forwardRef)((function(e,n){var r=(0,t.useRef)(null),i=t.useContext(Di);return(0,t.useImperativeHandle)(n,(function(){return{menu:r.current,focus:function(e){var t;null===(t=r.current)||void 0===t||t.focus(e)}}})),t.createElement(bh,Object.assign({ref:r},e,i))}));_h.Item=hh,_h.SubMenu=ph,_h.Divider=Vf,_h.ItemGroup=Rd;var wh=_h;function kh(){return kh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},kh.apply(this,arguments)}function Sh(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}var Eh=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"];function Ch(e){var n,r=e.basename,i=e.children,a=e.window,o=t.useRef();null==o.current&&(o.current=(void 0===(n={window:a,v5Compat:!0})&&(n={}),R((function(e,t){var n=e.location;return A("",{pathname:n.pathname,search:n.search,hash:n.hash},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"===typeof t?t:z(t)}),null,n)));var s=o.current,l=k(t.useState({action:s.action,location:s.location}),2),c=l[0],u=l[1];return t.useLayoutEffect((function(){return s.listen(u)}),[s]),t.createElement(ze,{basename:r,children:i,location:c.location,navigationType:c.action,navigator:s})}var Th="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,Mh=t.forwardRef((function(e,n){var r=e.onClick,i=e.relative,a=e.reloadDocument,o=e.replace,s=e.state,l=e.target,c=e.to,u=e.preventScrollReset,d=Sh(e,Eh),f="string"===typeof c?c:z(c),h=/^[a-z+]+:\/\//i.test(f)||f.startsWith("//"),p=f,m=!1;if(Th&&h){var v=new URL(window.location.href),g=f.startsWith("//")?new URL(v.protocol+f):new URL(f);g.origin===v.origin?p=g.pathname+g.search+g.hash:m=!0}var y=function(e,n){var r=(void 0===n?{}:n).relative;ye()||O(!1);var i=t.useContext(pe),a=i.basename,o=i.navigator,s=we(e,{relative:r}),l=s.hash,c=s.pathname,u=s.search,d=c;return"/"!==a&&(d="/"===c?a:Y([a,c])),o.createHref({pathname:d,search:u,hash:l})}(p,{relative:i}),x=function(e,n){var r=void 0===n?{}:n,i=r.target,a=r.replace,o=r.state,s=r.preventScrollReset,l=r.relative,c=be(),u=xe(),d=we(e,{relative:l});return t.useCallback((function(t){if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,i)){t.preventDefault();var n=void 0!==a?a:z(u)===z(d);c(e,{replace:n,state:o,preventScrollReset:s,relative:l})}}),[u,c,d,a,o,i,e,s,l])}(p,{replace:o,state:s,target:l,preventScrollReset:u,relative:i});return t.createElement("a",kh({},d,{href:h?f:y,onClick:m||a?r:function(e){r&&r(e),e.defaultPrevented||x(e)},ref:n,target:l}))}));var Ih,Oh;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmitImpl="useSubmitImpl",e.UseFetcher="useFetcher"})(Ih||(Ih={})),function(e){e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(Oh||(Oh={}));var Ph=function(e){var n=t.useRef(e);return t.useEffect((function(){n.current=e})),n},Ah=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=Ph(e),a=t.useRef(),o=[n,r,i];function s(){a.current&&clearTimeout(a.current),a.current=void 0}function l(){a.current=void 0}return t.useEffect((function(){return s}),o),t.useCallback((function(){var e=arguments,t=a.current;if(void 0===t&&r)return a.current=setTimeout(l,n),i.current.apply(null,e);t&&clearTimeout(t),a.current=setTimeout((function(){a.current=void 0,i.current.apply(null,e)}),n)}),o)};var zh=function(e,n,r,i){var a=t.useRef(r),o=t.useRef(i);t.useEffect((function(){a.current=r,o.current=i})),t.useEffect((function(){var t=e&&"current"in e?e.current:e;if(t){var r=0;t.addEventListener(n,s);var i=o.current;return function(){r=1,t.removeEventListener(n,s),i&&i()}}function s(){if(!r){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];a.current.apply(this,t)}}}),[e,n])},jh={},Rh="undefined"===typeof window?null:window,Dh=Rh&&"undefined"!==typeof Rh.visualViewport?Rh.visualViewport:null,Lh=function(){return[document.documentElement.clientWidth,document.documentElement.clientHeight]},Nh=function(e){void 0===e&&(e=jh);var n=e,r=n.wait,i=n.leading,a=n.initialWidth,o=void 0===a?0:a,s=n.initialHeight,l=function(e,n,r){var i=t.useState(e);return[i[0],Ah(i[1],n,r)]}("undefined"===typeof document?[o,void 0===s?0:s]:Lh,r,i),c=k(l,2),u=c[0],d=c[1],f=function(){return d(Lh)};return zh(Rh,"resize",f),zh(Dh,"resize",f),zh(Rh,"orientationchange",f),u},Bh=function(e){return Nh(e)[0]},Fh={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M924.8 625.7l-65.5-56c3.1-19 4.7-38.4 4.7-57.8s-1.6-38.8-4.7-57.8l65.5-56a32.03 32.03 0 009.3-35.2l-.9-2.6a443.74 443.74 0 00-79.7-137.9l-1.8-2.1a32.12 32.12 0 00-35.1-9.5l-81.3 28.9c-30-24.6-63.5-44-99.7-57.6l-15.7-85a32.05 32.05 0 00-25.8-25.7l-2.7-.5c-52.1-9.4-106.9-9.4-159 0l-2.7.5a32.05 32.05 0 00-25.8 25.7l-15.8 85.4a351.86 351.86 0 00-99 57.4l-81.9-29.1a32 32 0 00-35.1 9.5l-1.8 2.1a446.02 446.02 0 00-79.7 137.9l-.9 2.6c-4.5 12.5-.8 26.5 9.3 35.2l66.3 56.6c-3.1 18.8-4.6 38-4.6 57.1 0 19.2 1.5 38.4 4.6 57.1L99 625.5a32.03 32.03 0 00-9.3 35.2l.9 2.6c18.1 50.4 44.9 96.9 79.7 137.9l1.8 2.1a32.12 32.12 0 0035.1 9.5l81.9-29.1c29.8 24.5 63.1 43.9 99 57.4l15.8 85.4a32.05 32.05 0 0025.8 25.7l2.7.5a449.4 449.4 0 00159 0l2.7-.5a32.05 32.05 0 0025.8-25.7l15.7-85a350 350 0 0099.7-57.6l81.3 28.9a32 32 0 0035.1-9.5l1.8-2.1c34.8-41.1 61.6-87.5 79.7-137.9l.9-2.6c4.5-12.3.8-26.3-9.3-35zM788.3 465.9c2.5 15.1 3.8 30.6 3.8 46.1s-1.3 31-3.8 46.1l-6.6 40.1 74.7 63.9a370.03 370.03 0 01-42.6 73.6L721 702.8l-31.4 25.8c-23.9 19.6-50.5 35-79.3 45.8l-38.1 14.3-17.9 97a377.5 377.5 0 01-85 0l-17.9-97.2-37.8-14.5c-28.5-10.8-55-26.2-78.7-45.7l-31.4-25.9-93.4 33.2c-17-22.9-31.2-47.6-42.6-73.6l75.5-64.5-6.5-40c-2.4-14.9-3.7-30.3-3.7-45.5 0-15.3 1.2-30.6 3.7-45.5l6.5-40-75.5-64.5c11.3-26.1 25.6-50.7 42.6-73.6l93.4 33.2 31.4-25.9c23.7-19.5 50.2-34.9 78.7-45.7l37.9-14.3 17.9-97.2c28.1-3.2 56.8-3.2 85 0l17.9 97 38.1 14.3c28.7 10.8 55.4 26.2 79.3 45.8l31.4 25.8 92.8-32.9c17 22.9 31.2 47.6 42.6 73.6L781.8 426l6.5 39.9zM512 326c-97.2 0-176 78.8-176 176s78.8 176 176 176 176-78.8 176-176-78.8-176-176-176zm79.2 255.2A111.6 111.6 0 01512 614c-29.9 0-58-11.7-79.2-32.8A111.6 111.6 0 01400 502c0-29.9 11.7-58 32.8-79.2C454 401.6 482.1 390 512 390c29.9 0 58 11.6 79.2 32.8A111.6 111.6 0 01624 502c0 29.9-11.7 58-32.8 79.2z"}}]},name:"setting",theme:"outlined"},Vh=function(e,n){return t.createElement(ki,Xe(Xe({},e),{},{ref:n,icon:Fh}))};Vh.displayName="SettingOutlined";var Uh=t.forwardRef(Vh),Hh={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M946.5 505L560.1 118.8l-25.9-25.9a31.5 31.5 0 00-44.4 0L77.5 505a63.9 63.9 0 00-18.8 46c.4 35.2 29.7 63.3 64.9 63.3h42.5V940h691.8V614.3h43.4c17.1 0 33.2-6.7 45.3-18.8a63.6 63.6 0 0018.7-45.3c0-17-6.7-33.1-18.8-45.2zM568 868H456V664h112v204zm217.9-325.7V868H632V640c0-22.1-17.9-40-40-40H432c-22.1 0-40 17.9-40 40v228H238.1V542.3h-96l370-369.7 23.1 23.1L882 542.3h-96.1z"}}]},name:"home",theme:"outlined"},Gh=function(e,n){return t.createElement(ki,Xe(Xe({},e),{},{ref:n,icon:Hh}))};Gh.displayName="HomeOutlined";var Wh=t.forwardRef(Gh),qh={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Xh=t.createContext&&t.createContext(qh),Zh=function(){return Zh=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Zh.apply(this,arguments)},Kh=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};function Yh(e){return e&&e.map((function(e,n){return t.createElement(e.tag,Zh({key:n},e.attr),Yh(e.child))}))}function $h(e){return function(n){return t.createElement(Jh,Zh({attr:Zh({},e.attr)},n),Yh(e.child))}}function Jh(e){var n=function(n){var r,i=e.attr,a=e.size,o=e.title,s=Kh(e,["attr","size","title"]),l=a||n.size||"1em";return n.className&&(r=n.className),e.className&&(r=(r?r+" ":"")+e.className),t.createElement("svg",Zh({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,i,s,{className:r,style:Zh(Zh({color:e.color||n.color},n.style),e.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),o&&t.createElement("title",null,o),e.children)};return void 0!==Xh?t.createElement(Xh.Consumer,null,(function(e){return n(e)})):n(qh)}function Qh(e){return $h({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M19 2H9c-1.103 0-2 .897-2 2v5.586l-4.707 4.707A1 1 0 0 0 3 16v5a1 1 0 0 0 1 1h16a1 1 0 0 0 1-1V4c0-1.103-.897-2-2-2zm-8 18H5v-5.586l3-3 3 3V20zm8 0h-6v-4a.999.999 0 0 0 .707-1.707L9 9.586V4h10v16z"}},{tag:"path",attr:{d:"M11 6h2v2h-2zm4 0h2v2h-2zm0 4.031h2V12h-2zM15 14h2v2h-2zm-8 1h2v2H7z"}}]})(e)}function ep(e){return $h({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M10 3H4a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4a1 1 0 0 0-1-1zM9 9H5V5h4v4zm11-6h-6a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4a1 1 0 0 0-1-1zm-1 6h-4V5h4v4zm-9 4H4a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1v-6a1 1 0 0 0-1-1zm-1 6H5v-4h4v4zm8-6c-2.206 0-4 1.794-4 4s1.794 4 4 4 4-1.794 4-4-1.794-4-4-4zm0 6c-1.103 0-2-.897-2-2s.897-2 2-2 2 .897 2 2-.897 2-2 2z"}}]})(e)}function tp(e){return $h({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M20 3H4c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2h16c1.103 0 2-.897 2-2V5c0-1.103-.897-2-2-2zM4 19V5h16l.002 14H4z"}},{tag:"path",attr:{d:"M6 7h12v2H6zm0 4h12v2H6zm0 4h6v2H6z"}}]})(e)}function np(e){return $h({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M20 2H8c-1.103 0-2 .897-2 2v12c0 1.103.897 2 2 2h12c1.103 0 2-.897 2-2V4c0-1.103-.897-2-2-2zM8 16V4h12l.002 12H8z"}},{tag:"path",attr:{d:"M4 8H2v12c0 1.103.897 2 2 2h12v-2H4V8z"}},{tag:"path",attr:{d:"m12 12-1-1-2 3h10l-4-6z"}}]})(e)}function rp(e){return $h({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M20 4H6c-1.103 0-2 .897-2 2v5h2V8l6.4 4.8a1.001 1.001 0 0 0 1.2 0L20 8v9h-8v2h8c1.103 0 2-.897 2-2V6c0-1.103-.897-2-2-2zm-7 6.75L6.666 6h12.668L13 10.75z"}},{tag:"path",attr:{d:"M2 12h7v2H2zm2 3h6v2H4zm3 3h4v2H7z"}}]})(e)}function ip(e){return $h({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M18.404 2.998c-.757-.754-2.077-.751-2.828.005l-1.784 1.791L11.586 7H7a.998.998 0 0 0-.939.658l-4 11c-.133.365-.042.774.232 1.049l2 2a.997.997 0 0 0 1.049.232l11-4A.998.998 0 0 0 17 17v-4.586l2.207-2.207v-.001h.001L21 8.409c.378-.378.586-.881.585-1.415 0-.535-.209-1.038-.588-1.415l-2.593-2.581zm-3.111 8.295A.996.996 0 0 0 15 12v4.3l-9.249 3.363 4.671-4.671c.026.001.052.008.078.008A1.5 1.5 0 1 0 9 13.5c0 .026.007.052.008.078l-4.671 4.671L7.7 9H12c.266 0 .52-.105.707-.293L14.5 6.914 17.086 9.5l-1.793 1.793zm3.206-3.208-2.586-2.586 1.079-1.084 2.593 2.581-1.086 1.089z"}}]})(e)}function ap(e){return $h({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"m21.426 11.095-17-8A.999.999 0 0 0 3.03 4.242L4.969 12 3.03 19.758a.998.998 0 0 0 1.396 1.147l17-8a1 1 0 0 0 0-1.81zM5.481 18.197l.839-3.357L12 12 6.32 9.16l-.839-3.357L18.651 12l-13.17 6.197z"}}]})(e)}function op(e){return $h({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M19 8h-2v3h-3v2h3v3h2v-3h3v-2h-3zM4 8a3.91 3.91 0 0 0 4 4 3.91 3.91 0 0 0 4-4 3.91 3.91 0 0 0-4-4 3.91 3.91 0 0 0-4 4zm6 0a1.91 1.91 0 0 1-2 2 1.91 1.91 0 0 1-2-2 1.91 1.91 0 0 1 2-2 1.91 1.91 0 0 1 2 2zM4 18a3 3 0 0 1 3-3h2a3 3 0 0 1 3 3v1h2v-1a5 5 0 0 0-5-5H7a5 5 0 0 0-5 5v1h2z"}}]})(e)}function sp(e){return $h({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M3 10h11v2H3zM3 6h11v2H3zM3 14h7v2H3zM20.59 11.93l-4.25 4.24-2.12-2.12-1.41 1.41L16.34 19 22 13.34z"}}]})(e)}function lp(e){return $h({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M20.01 15.38c-1.23 0-2.42-.2-3.53-.56a.977.977 0 00-1.01.24l-1.57 1.97c-2.83-1.35-5.48-3.9-6.89-6.83l1.95-1.66c.27-.28.35-.67.24-1.02-.37-1.11-.56-2.3-.56-3.53 0-.54-.45-.99-.99-.99H4.19C3.65 3 3 3.24 3 3.99 3 13.28 10.73 21 20.01 21c.71 0 .99-.63.99-1.18v-3.45c0-.54-.45-.99-.99-.99z"}}]})(e)}function cp(e){return $h({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"}},{tag:"path",attr:{d:"M21.41 11.41l-8.83-8.83c-.37-.37-.88-.58-1.41-.58H4c-1.1 0-2 .9-2 2v7.17c0 .53.21 1.04.59 1.41l8.83 8.83c.78.78 2.05.78 2.83 0l7.17-7.17c.78-.78.78-2.04-.01-2.83zM6.5 8C5.67 8 5 7.33 5 6.5S5.67 5 6.5 5 8 5.67 8 6.5 7.33 8 6.5 8z"}}]})(e)}function up(e){return $h({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M17 19.22H5V7h7V5H5c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2v-7h-2v7.22z"}},{tag:"path",attr:{d:"M19 2h-2v3h-3c.01.01 0 2 0 2h3v2.99c.01.01 2 0 2 0V7h3V5h-3V2zM7 9h8v2H7zM7 12v2h8v-2h-3zM7 15h8v2H7z"}}]})(e)}function dp(e){return $h({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M14 2H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6zm1 10h-4v1h3c.55 0 1 .45 1 1v3c0 .55-.45 1-1 1h-1v1h-2v-1H9v-2h4v-1h-3c-.55 0-1-.45-1-1v-3c0-.55.45-1 1-1h1V9h2v1h2v2zm-2-4V3.5L17.5 8H13z"}}]})(e)}function fp(e){return $h({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"}},{tag:"path",attr:{d:"M21.41 11.41l-8.83-8.83c-.37-.37-.88-.58-1.41-.58H4c-1.1 0-2 .9-2 2v7.17c0 .53.21 1.04.59 1.41l8.83 8.83c.78.78 2.05.78 2.83 0l7.17-7.17c.78-.78.78-2.04-.01-2.83zM12.83 20L4 11.17V4h7.17L20 12.83 12.83 20z"}},{tag:"circle",attr:{cx:"6.5",cy:"6.5",r:"1.5"}}]})(e)}function hp(e){return $h({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M20 7V3c0-.55-.45-1-1-1H7c-.55 0-1 .45-1 1v1H4c-1.1 0-2 .9-2 2v4c0 1.1.9 2 2 2h8v3h-1c-.55 0-1 .45-1 1v6c0 .55.45 1 1 1h4c.55 0 1-.45 1-1v-6c0-.55-.45-1-1-1h-1v-3c0-1.1-.9-2-2-2H4V6h2v1c0 .55.45 1 1 1h12c.55 0 1-.45 1-1zM8 4h10v2H8V4zm6 17h-2v-4h2v4z"}}]})(e)}function pp(e){return $h({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M17.47 250.9C88.82 328.1 158 397.6 224.5 485.5c72.3-143.8 146.3-288.1 268.4-444.37L460 26.06C356.9 135.4 276.8 238.9 207.2 361.9c-48.4-43.6-126.62-105.3-174.38-137z"}}]})(e)}function mp(e){return $h({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M64 368v80h80l235.727-235.729-79.999-79.998L64 368zm377.602-217.602c8.531-8.531 8.531-21.334 0-29.865l-50.135-50.135c-8.531-8.531-21.334-8.531-29.865 0l-39.468 39.469 79.999 79.998 39.469-39.467z"}}]})(e)}function vp(e){return $h({tag:"svg",attr:{version:"1.1",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M13.5 0h-12c-0.825 0-1.5 0.675-1.5 1.5v13c0 0.825 0.675 1.5 1.5 1.5h12c0.825 0 1.5-0.675 1.5-1.5v-13c0-0.825-0.675-1.5-1.5-1.5zM13 14h-11v-12h11v12zM4 9h7v1h-7zM4 11h7v1h-7zM5 4.5c0-0.828 0.672-1.5 1.5-1.5s1.5 0.672 1.5 1.5c0 0.828-0.672 1.5-1.5 1.5s-1.5-0.672-1.5-1.5zM7.5 6h-2c-0.825 0-1.5 0.45-1.5 1v1h5v-1c0-0.55-0.675-1-1.5-1z"}}]})(e)}function gp(e){return $h({tag:"svg",attr:{version:"1.1",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M8 0c-2.761 0-5 2.239-5 5 0 5 5 11 5 11s5-6 5-11c0-2.761-2.239-5-5-5zM8 8c-1.657 0-3-1.343-3-3s1.343-3 3-3 3 1.343 3 3-1.343 3-3 3z"}}]})(e)}function yp(e){return $h({tag:"svg",attr:{version:"1.1",viewBox:"0 0 18 16"},child:[{tag:"path",attr:{d:"M12 12.041v-0.825c1.102-0.621 2-2.168 2-3.716 0-2.485 0-4.5-3-4.5s-3 2.015-3 4.5c0 1.548 0.898 3.095 2 3.716v0.825c-3.392 0.277-6 1.944-6 3.959h14c0-2.015-2.608-3.682-6-3.959z"}},{tag:"path",attr:{d:"M5.112 12.427c0.864-0.565 1.939-0.994 3.122-1.256-0.235-0.278-0.449-0.588-0.633-0.922-0.475-0.863-0.726-1.813-0.726-2.748 0-1.344 0-2.614 0.478-3.653 0.464-1.008 1.299-1.633 2.488-1.867-0.264-1.195-0.968-1.98-2.841-1.98-3 0-3 2.015-3 4.5 0 1.548 0.898 3.095 2 3.716v0.825c-3.392 0.277-6 1.944-6 3.959h4.359c0.227-0.202 0.478-0.393 0.753-0.573z"}}]})(e)}function xp(e){return $h({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4zm323-128.4l-27.8-28.1c-4.6-4.7-12.1-4.7-16.8-.1l-104.8 104-45.5-45.8c-4.6-4.7-12.1-4.7-16.8-.1l-28.1 27.9c-4.7 4.6-4.7 12.1-.1 16.8l81.7 82.3c4.6 4.7 12.1 4.7 16.8.1l141.3-140.2c4.6-4.7 4.7-12.2.1-16.8z"}}]})(e)}function bp(e){return $h({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M610.5 373.3c2.6-14.1 2.6-28.5 0-42.6l25.8-14.9c3-1.7 4.3-5.2 3.3-8.5-6.7-21.6-18.2-41.2-33.2-57.4-2.3-2.5-6-3.1-9-1.4l-25.8 14.9c-10.9-9.3-23.4-16.5-36.9-21.3v-29.8c0-3.4-2.4-6.4-5.7-7.1-22.3-5-45-4.8-66.2 0-3.3.7-5.7 3.7-5.7 7.1v29.8c-13.5 4.8-26 12-36.9 21.3l-25.8-14.9c-2.9-1.7-6.7-1.1-9 1.4-15 16.2-26.5 35.8-33.2 57.4-1 3.3.4 6.8 3.3 8.5l25.8 14.9c-2.6 14.1-2.6 28.5 0 42.6l-25.8 14.9c-3 1.7-4.3 5.2-3.3 8.5 6.7 21.6 18.2 41.1 33.2 57.4 2.3 2.5 6 3.1 9 1.4l25.8-14.9c10.9 9.3 23.4 16.5 36.9 21.3v29.8c0 3.4 2.4 6.4 5.7 7.1 22.3 5 45 4.8 66.2 0 3.3-.7 5.7-3.7 5.7-7.1v-29.8c13.5-4.8 26-12 36.9-21.3l25.8 14.9c2.9 1.7 6.7 1.1 9-1.4 15-16.2 26.5-35.8 33.2-57.4 1-3.3-.4-6.8-3.3-8.5l-25.8-14.9zM496 400.5c-26.8 0-48.5-21.8-48.5-48.5s21.8-48.5 48.5-48.5 48.5 21.8 48.5 48.5-21.7 48.5-48.5 48.5zM224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm201.2 226.5c-2.3-1.2-4.6-2.6-6.8-3.9l-7.9 4.6c-6 3.4-12.8 5.3-19.6 5.3-10.9 0-21.4-4.6-28.9-12.6-18.3-19.8-32.3-43.9-40.2-69.6-5.5-17.7 1.9-36.4 17.9-45.7l7.9-4.6c-.1-2.6-.1-5.2 0-7.8l-7.9-4.6c-16-9.2-23.4-28-17.9-45.7.9-2.9 2.2-5.8 3.2-8.7-3.8-.3-7.5-1.2-11.4-1.2h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c10.1 0 19.5-3.2 27.2-8.5-1.2-3.8-2-7.7-2-11.8v-9.2z"}}]})(e)}function _p(e){return $h({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h274.9c-2.4-6.8-3.4-14-2.6-21.3l6.8-60.9 1.2-11.1 7.9-7.9 77.3-77.3c-24.5-27.7-60-45.5-99.9-45.5zm45.3 145.3l-6.8 61c-1.1 10.2 7.5 18.8 17.6 17.6l60.9-6.8 137.9-137.9-71.7-71.7-137.9 137.8zM633 268.9L595.1 231c-9.3-9.3-24.5-9.3-33.8 0l-37.8 37.8-4.1 4.1 71.8 71.7 41.8-41.8c9.3-9.4 9.3-24.5 0-33.9z"}}]})(e)}function wp(e){return $h({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M624 208h-64v-64c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v64h-64c-8.8 0-16 7.2-16 16v32c0 8.8 7.2 16 16 16h64v64c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16v-64h64c8.8 0 16-7.2 16-16v-32c0-8.8-7.2-16-16-16zm-400 48c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"}}]})(e)}function kp(e){return $h({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M8 1.314C12.438-3.248 23.534 4.735 8 15-7.534 4.736 3.562-3.248 8 1.314z"}}]})(e)}function Sp(e){return $h({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"m8 2.748-.717-.737C5.6.281 2.514.878 1.4 3.053c-.523 1.023-.641 2.5.314 4.385.92 1.815 2.834 3.989 6.286 6.357 3.452-2.368 5.365-4.542 6.286-6.357.955-1.886.838-3.362.314-4.385C13.486.878 10.4.28 8.717 2.01L8 2.748zM8 15C-7.333 4.868 3.279-3.04 7.824 1.143c.06.055.119.112.176.171a3.12 3.12 0 0 1 .176-.17C12.72-3.042 23.333 4.867 8 15z"}}]})(e)}function Ep(e){return $h({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M8 0a1 1 0 0 1 1 1v6h6a1 1 0 1 1 0 2H9v6a1 1 0 1 1-2 0V9H1a1 1 0 0 1 0-2h6V1a1 1 0 0 1 1-1z"}}]})(e)}function Cp(e){return $h({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none"},child:[{tag:"path",attr:{fillRule:"evenodd",clipRule:"evenodd",d:"M7 3C8.86384 3 10.4299 4.27477 10.874 6H19V8H10.874C10.4299 9.72523 8.86384 11 7 11C4.79086 11 3 9.20914 3 7C3 4.79086 4.79086 3 7 3ZM7 9C8.10457 9 9 8.10457 9 7C9 5.89543 8.10457 5 7 5C5.89543 5 5 5.89543 5 7C5 8.10457 5.89543 9 7 9Z",fill:"currentColor"}},{tag:"path",attr:{fillRule:"evenodd",clipRule:"evenodd",d:"M17 20C15.1362 20 13.5701 18.7252 13.126 17H5V15H13.126C13.5701 13.2748 15.1362 12 17 12C19.2091 12 21 13.7909 21 16C21 18.2091 19.2091 20 17 20ZM17 18C18.1046 18 19 17.1046 19 16C19 14.8954 18.1046 14 17 14C15.8954 14 15 14.8954 15 16C15 17.1046 15.8954 18 17 18Z",fill:"currentColor"}}]})(e)}function Tp(e){return $h({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none"},child:[{tag:"path",attr:{fillRule:"evenodd",clipRule:"evenodd",d:"M16 9C16 11.2091 14.2091 13 12 13C9.79086 13 8 11.2091 8 9C8 6.79086 9.79086 5 12 5C14.2091 5 16 6.79086 16 9ZM14 9C14 10.1046 13.1046 11 12 11C10.8954 11 10 10.1046 10 9C10 7.89543 10.8954 7 12 7C13.1046 7 14 7.89543 14 9Z",fill:"currentColor"}},{tag:"path",attr:{fillRule:"evenodd",clipRule:"evenodd",d:"M12 1C5.92487 1 1 5.92487 1 12C1 18.0751 5.92487 23 12 23C18.0751 23 23 18.0751 23 12C23 5.92487 18.0751 1 12 1ZM3 12C3 14.0902 3.71255 16.014 4.90798 17.5417C6.55245 15.3889 9.14627 14 12.0645 14C14.9448 14 17.5092 15.3531 19.1565 17.4583C20.313 15.9443 21 14.0524 21 12C21 7.02944 16.9706 3 12 3C7.02944 3 3 7.02944 3 12ZM12 21C9.84977 21 7.87565 20.2459 6.32767 18.9878C7.59352 17.1812 9.69106 16 12.0645 16C14.4084 16 16.4833 17.1521 17.7538 18.9209C16.1939 20.2191 14.1881 21 12 21Z",fill:"currentColor"}}]})(e)}var Mp=wh.SubMenu,Ip=Vi.Sider,Op=function(){var e=k((0,t.useState)([]),2),n=e[0],r=e[1],i=k((0,t.useContext)(jo),2),a=(i[0],i[1],k((0,t.useState)(!1),2)),o=a[0],s=a[1],l=Bh();(0,t.useEffect)((function(){l<800?s(!0):l>800&&s(!1)}),[l<800]);var c=function(){var e=Be(Le().mark((function e(){var t,n;return Le().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Po.get("/categories");case 3:t=e.sent,n=t.data,r(n),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();return(0,t.useEffect)((function(){c()}),[]),(0,zo.jsx)(Ip,{collapsible:!0,collapsed:o,onCollapse:function(){return s(!o)},style:{backgroundColor:"white"},children:(0,zo.jsxs)(wh,{defaultOpenKeys:["2","6","10"],mode:"inline",inlineCollapsed:o,children:[(0,zo.jsx)(wh.Item,{icon:(0,zo.jsx)(Uh,{}),children:(0,zo.jsx)(Mh,{to:"/dashboard",children:"dashboard"})},"1"),(0,zo.jsx)(Mp,{icon:(0,zo.jsx)(up,{size:20}),title:"Add Categories",children:(0,zo.jsx)(wh.Item,{icon:(0,zo.jsx)(Ep,{size:20}),children:(0,zo.jsx)(Mh,{to:"/create/category",children:"Create"})},"3")},"2"),(0,zo.jsxs)(Mp,{icon:(0,zo.jsx)(Wh,{}),title:"Houses",children:[(0,zo.jsx)(wh.Item,{icon:(0,zo.jsx)(mp,{size:20}),children:(0,zo.jsx)(Mh,{to:"/create/service",children:"Create"})},"5"),(0,zo.jsx)(wh.Item,{icon:(0,zo.jsx)(fp,{size:20}),children:(0,zo.jsx)(Mh,{to:"/rent/house",children:"Rent Services"})},"6"),(0,zo.jsx)(wh.Item,{icon:(0,zo.jsx)(cp,{size:20}),children:(0,zo.jsx)(Mh,{to:"/sell/house",children:"Sell Services"})},"7")]},"4"),(0,zo.jsx)(Mp,{icon:(0,zo.jsx)(sp,{size:20}),title:"Categories",children:null===n||void 0===n?void 0:n.map((function(e,t){return(0,zo.jsx)(wh.Item,{icon:(0,zo.jsx)(pp,{}),children:(0,zo.jsx)(Mh,{to:"/category/".concat(e.slug),children:e.name})},t+19)}))},"8"),(0,zo.jsx)(Mp,{icon:(0,zo.jsx)(np,{}),title:"Library",children:(0,zo.jsx)(wh.Item,{icon:(0,zo.jsx)(hp,{size:20}),children:(0,zo.jsx)(Mh,{to:"/media",children:"Media"})},"10")},"9"),(0,zo.jsxs)(Mp,{icon:(0,zo.jsx)(op,{size:20}),title:"Users",children:[(0,zo.jsx)(wh.Item,{icon:(0,zo.jsx)(xp,{size:20}),children:(0,zo.jsx)(Mh,{to:"/users",children:"Admins"})},"12"),(0,zo.jsx)(wh.Item,{icon:(0,zo.jsx)(_p,{size:20}),children:(0,zo.jsx)(Mh,{to:"/vendors",children:"Vendors"})},"13"),(0,zo.jsx)(wh.Item,{icon:(0,zo.jsx)(yp,{size:20}),children:(0,zo.jsx)(Mh,{to:"/subscriber",children:"Subsriber"})},"14"),(0,zo.jsx)(wh.Item,{icon:(0,zo.jsx)(wp,{size:20}),children:(0,zo.jsx)(Mh,{to:"/create-user",children:"Create User"})},"15"),(0,zo.jsx)(wh.Item,{icon:(0,zo.jsx)(bp,{size:20}),children:(0,zo.jsx)(Mh,{to:"/requests",children:" Requests "})},"16")]},"11"),(0,zo.jsx)(wh.Item,{icon:(0,zo.jsx)(dp,{size:20}),children:(0,zo.jsx)(Mh,{to:"/all/requests",children:" Requests "})},"18"),(0,zo.jsx)(wh.Item,{icon:(0,zo.jsx)(Tp,{size:20}),children:(0,zo.jsx)(Mh,{to:"/my/profile",children:"My profile"})},"17")]})})},Pp=Vi.Content;var Ap,zp=function(e){var n=e.children,r=k((0,t.useContext)(jo),2),i=r[0],a=(r[1],k((0,t.useState)(!0),2)),o=a[0],s=a[1],l=be();(0,t.useEffect)((function(){c()}),[null===i||void 0===i?void 0:i.token]);var c=function(){var e=Be(Le().mark((function e(){var t;return Le().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Po.get("/current-admin");case 3:t=e.sent,t.data,s(!1),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0),l("/");case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();return(0,zo.jsxs)(Vi,{children:[(0,zo.jsx)(Op,{}),(0,zo.jsx)(Vi,{children:(0,zo.jsx)(Pp,{style:{padding:"10px",backgroundColor:"white"},children:o?(0,zo.jsx)("div",{className:"text-center",children:(0,zo.jsx)("p",{children:"Loading..."})}):n})})]})},jp=function(){return(0,zo.jsx)(zp,{children:(0,zo.jsx)("p",{children:"Dashboard"})})},Rp=function(){return ft()&&window.document.documentElement},Dp=function(){var e=k(t.useState(!1),2),n=e[0],r=e[1];return t.useEffect((function(){r(function(){if(!Rp())return!1;if(void 0!==Ap)return Ap;var e=document.createElement("div");return e.style.display="flex",e.style.flexDirection="column",e.style.rowGap="1px",e.appendChild(document.createElement("div")),e.appendChild(document.createElement("div")),document.body.appendChild(e),Ap=1===e.scrollHeight,document.body.removeChild(e),Ap}())}),[]),n},Lp=["xxl","xl","lg","md","sm","xs"];function Np(){var e=k(Vr(),2)[1],n=function(e){return{xs:"(max-width: ".concat(e.screenXSMax,"px)"),sm:"(min-width: ".concat(e.screenSM,"px)"),md:"(min-width: ".concat(e.screenMD,"px)"),lg:"(min-width: ".concat(e.screenLG,"px)"),xl:"(min-width: ".concat(e.screenXL,"px)"),xxl:"(min-width: ".concat(e.screenXXL,"px)")}}(function(e){var t=e,n=[].concat(Lp).reverse();return n.forEach((function(e,r){var i=e.toUpperCase(),a="screen".concat(i,"Min"),o="screen".concat(i);if(!(t[a]<=t[o]))throw new Error("".concat(a,"<=").concat(o," fails : !(").concat(t[a],"<=").concat(t[o],")"));if(r<n.length-1){var s="screen".concat(i,"Max");if(!(t[o]<=t[s]))throw new Error("".concat(o,"<=").concat(s," fails : !(").concat(t[o],"<=").concat(t[s],")"));var l=n[r+1].toUpperCase(),c="screen".concat(l,"Min");if(!(t[s]<=t[c]))throw new Error("".concat(s,"<=").concat(c," fails : !(").concat(t[s],"<=").concat(t[c],")"))}})),e}(e));return t.useMemo((function(){var e=new Map,t=-1,r={};return{matchHandlers:{},dispatch:function(t){return r=t,e.forEach((function(e){return e(r)})),e.size>=1},subscribe:function(n){return e.size||this.register(),t+=1,e.set(t,n),n(r),t},unsubscribe:function(t){e.delete(t),e.size||this.unregister()},unregister:function(){var t=this;Object.keys(n).forEach((function(e){var r=n[e],i=t.matchHandlers[r];null===i||void 0===i||i.mql.removeListener(null===i||void 0===i?void 0:i.listener)})),e.clear()},register:function(){var e=this;Object.keys(n).forEach((function(t){var i=n[t],a=function(n){var i=n.matches;e.dispatch(Object.assign(Object.assign({},r),Fe({},t,i)))},o=window.matchMedia(i);o.addListener(a),e.matchHandlers[i]={mql:o,listener:a},a(o)}))},responsiveMap:n}}),[e])}var Bp=(0,t.createContext)({}),Fp=function(e){return Fe({},e.componentCls,{display:"flex",flexFlow:"row wrap",minWidth:0,"&::before, &::after":{display:"flex"},"&-no-wrap":{flexWrap:"nowrap"},"&-start":{justifyContent:"flex-start"},"&-center":{justifyContent:"center"},"&-end":{justifyContent:"flex-end"},"&-space-between":{justifyContent:"space-between"},"&-space-around ":{justifyContent:"space-around"},"&-top":{alignItems:"flex-start"},"&-middle":{alignItems:"center"},"&-bottom":{alignItems:"flex-end"}})},Vp=function(e){return Fe({},e.componentCls,{position:"relative",maxWidth:"100%",minHeight:1})},Up=function(e,t){return function(e,t){for(var n=e.componentCls,r=e.gridColumns,i={},a=r;a>=0;a--)0===a?(i["".concat(n).concat(t,"-").concat(a)]={display:"none"},i["".concat(n,"-push-").concat(a)]={insetInlineStart:"auto"},i["".concat(n,"-pull-").concat(a)]={insetInlineEnd:"auto"},i["".concat(n).concat(t,"-push-").concat(a)]={insetInlineStart:"auto"},i["".concat(n).concat(t,"-pull-").concat(a)]={insetInlineEnd:"auto"},i["".concat(n).concat(t,"-offset-").concat(a)]={marginInlineEnd:0},i["".concat(n).concat(t,"-order-").concat(a)]={order:0}):(i["".concat(n).concat(t,"-").concat(a)]={display:"block",flex:"0 0 ".concat(a/r*100,"%"),maxWidth:"".concat(a/r*100,"%")},i["".concat(n).concat(t,"-push-").concat(a)]={insetInlineStart:"".concat(a/r*100,"%")},i["".concat(n).concat(t,"-pull-").concat(a)]={insetInlineEnd:"".concat(a/r*100,"%")},i["".concat(n).concat(t,"-offset-").concat(a)]={marginInlineStart:"".concat(a/r*100,"%")},i["".concat(n).concat(t,"-order-").concat(a)]={order:a});return i}(e,t)},Hp=Xr("Grid",(function(e){return[Fp(e)]})),Gp=Xr("Grid",(function(e){var t=Gr(e,{gridColumns:24}),n={"-sm":t.screenSMMin,"-md":t.screenMDMin,"-lg":t.screenLGMin,"-xl":t.screenXLMin,"-xxl":t.screenXXLMin};return[Vp(t),Up(t,""),Up(t,"-xs"),Object.keys(n).map((function(e){return function(e,t,n){return Fe({},"@media (min-width: ".concat(t,"px)"),Object.assign({},Up(e,n)))}(t,n[e],e)})).reduce((function(e,t){return Object.assign(Object.assign({},e),t)}),{})]})),Wp=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};function qp(e,n){var r=k(t.useState("string"===typeof e?e:""),2),i=r[0],a=r[1];return t.useEffect((function(){!function(){if("string"===typeof e&&a(e),"object"===typeof e)for(var t=0;t<Lp.length;t++){var r=Lp[t];if(n[r]){var i=e[r];if(void 0!==i)return void a(i)}}}()}),[JSON.stringify(e),n]),i}var Xp=t.forwardRef((function(e,n){var r,i=e.prefixCls,a=e.justify,o=e.align,s=e.className,l=e.style,c=e.children,u=e.gutter,d=void 0===u?0:u,f=e.wrap,h=Wp(e,["prefixCls","justify","align","className","style","children","gutter","wrap"]),p=t.useContext(Ge),m=p.getPrefixCls,v=p.direction,g=k(t.useState({xs:!0,sm:!0,md:!0,lg:!0,xl:!0,xxl:!0}),2),y=g[0],x=g[1],b=k(t.useState({xs:!1,sm:!1,md:!1,lg:!1,xl:!1,xxl:!1}),2),_=b[0],w=b[1],S=qp(o,_),E=qp(a,_),C=Dp(),T=t.useRef(d),M=Np();t.useEffect((function(){var e=M.subscribe((function(e){w(e);var t=T.current||0;(!Array.isArray(t)&&"object"===typeof t||Array.isArray(t)&&("object"===typeof t[0]||"object"===typeof t[1]))&&x(e)}));return function(){return M.unsubscribe(e)}}),[]);var I=m("row",i),O=k(Hp(I),2),P=O[0],A=O[1],z=function(){var e=[void 0,void 0];return(Array.isArray(d)?d:[d,void 0]).forEach((function(t,n){if("object"===typeof t)for(var r=0;r<Lp.length;r++){var i=Lp[r];if(y[i]&&void 0!==t[i]){e[n]=t[i];break}}else e[n]=t})),e}(),j=Ue()(I,(Fe(r={},"".concat(I,"-no-wrap"),!1===f),Fe(r,"".concat(I,"-").concat(E),E),Fe(r,"".concat(I,"-").concat(S),S),Fe(r,"".concat(I,"-rtl"),"rtl"===v),r),s,A),R={},D=null!=z[0]&&z[0]>0?z[0]/-2:void 0,L=null!=z[1]&&z[1]>0?z[1]/-2:void 0;if(D&&(R.marginLeft=D,R.marginRight=D),C){var N=k(z,2);R.rowGap=N[1]}else L&&(R.marginTop=L,R.marginBottom=L);var B=k(z,2),F=B[0],V=B[1],U=t.useMemo((function(){return{gutter:[F,V],wrap:f,supportFlexGap:C}}),[F,V,f,C]);return P(t.createElement(Bp.Provider,{value:U},t.createElement("div",Object.assign({},h,{className:j,style:Object.assign(Object.assign({},R),l),ref:n}),c)))}));var Zp=Xp,Kp=Zp,Yp=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};var $p=["xs","sm","md","lg","xl","xxl"],Jp=t.forwardRef((function(e,n){var r,i=t.useContext(Ge),a=i.getPrefixCls,o=i.direction,s=t.useContext(Bp),l=s.gutter,c=s.wrap,u=s.supportFlexGap,d=e.prefixCls,f=e.span,h=e.order,p=e.offset,m=e.push,v=e.pull,g=e.className,y=e.children,x=e.flex,b=e.style,_=Yp(e,["prefixCls","span","order","offset","push","pull","className","children","flex","style"]),w=a("col",d),S=k(Gp(w),2),E=S[0],C=S[1],T={};$p.forEach((function(t){var n,r={},i=e[t];"number"===typeof i?r.span=i:"object"===typeof i&&(r=i||{}),delete _[t],T=Object.assign(Object.assign({},T),(Fe(n={},"".concat(w,"-").concat(t,"-").concat(r.span),void 0!==r.span),Fe(n,"".concat(w,"-").concat(t,"-order-").concat(r.order),r.order||0===r.order),Fe(n,"".concat(w,"-").concat(t,"-offset-").concat(r.offset),r.offset||0===r.offset),Fe(n,"".concat(w,"-").concat(t,"-push-").concat(r.push),r.push||0===r.push),Fe(n,"".concat(w,"-").concat(t,"-pull-").concat(r.pull),r.pull||0===r.pull),Fe(n,"".concat(w,"-rtl"),"rtl"===o),n))}));var M=Ue()(w,(Fe(r={},"".concat(w,"-").concat(f),void 0!==f),Fe(r,"".concat(w,"-order-").concat(h),h),Fe(r,"".concat(w,"-offset-").concat(p),p),Fe(r,"".concat(w,"-push-").concat(m),m),Fe(r,"".concat(w,"-pull-").concat(v),v),r),g,T,C),I={};if(l&&l[0]>0){var O=l[0]/2;I.paddingLeft=O,I.paddingRight=O}if(l&&l[1]>0&&!u){var P=l[1]/2;I.paddingTop=P,I.paddingBottom=P}return x&&(I.flex=function(e){return"number"===typeof e?"".concat(e," ").concat(e," auto"):/^\d+(\.\d+)?(px|em|rem|%)$/.test(e)?"0 0 ".concat(e):e}(x),!1!==c||I.minWidth||(I.minWidth=0)),E(t.createElement("div",Object.assign({},_,{style:Object.assign(Object.assign({},I),b),className:M,ref:n}),y))}));var Qp=Jp,em=Qp,tm="RC_FORM_INTERNAL_HOOKS",nm=function(){Qe(!1,"Can not find FormContext. Please make sure you wrap Field under Form.")},rm=t.createContext({getFieldValue:nm,getFieldsValue:nm,getFieldError:nm,getFieldWarning:nm,getFieldsError:nm,isFieldsTouched:nm,isFieldTouched:nm,isFieldValidating:nm,isFieldsValidating:nm,resetFields:nm,setFields:nm,setFieldValue:nm,setFieldsValue:nm,validateFields:nm,submit:nm,getInternalHooks:function(){return nm(),{dispatch:nm,initEntityValue:nm,registerField:nm,useSubscribe:nm,setInitialValues:nm,destroyForm:nm,setCallbacks:nm,registerWatch:nm,getFields:nm,setValidateMessages:nm,setPreserve:nm,getInitialValue:nm}}});function im(e){return void 0===e||null===e?[]:Array.isArray(e)?e:[e]}function am(){return am=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},am.apply(this,arguments)}function om(e){return om=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},om(e)}function sm(e,t){return sm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},sm(e,t)}function lm(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(Jv){return!1}}function cm(e,t,n){return cm=lm()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&sm(i,n.prototype),i},cm.apply(null,arguments)}function um(e){var t="function"===typeof Map?new Map:void 0;return um=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return cm(e,arguments,om(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),sm(r,e)},um(e)}var dm=/%[sdj%]/g;function fm(e){if(!e||!e.length)return null;var t={};return e.forEach((function(e){var n=e.field;t[n]=t[n]||[],t[n].push(e)})),t}function hm(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=0,a=n.length;if("function"===typeof e)return e.apply(null,n);if("string"===typeof e){var o=e.replace(dm,(function(e){if("%%"===e)return"%";if(i>=a)return e;switch(e){case"%s":return String(n[i++]);case"%d":return Number(n[i++]);case"%j":try{return JSON.stringify(n[i++])}catch(b_){return"[Circular]"}break;default:return e}}));return o}return e}function pm(e,t){return void 0===e||null===e||(!("array"!==t||!Array.isArray(e)||e.length)||!(!function(e){return"string"===e||"url"===e||"hex"===e||"email"===e||"date"===e||"pattern"===e}(t)||"string"!==typeof e||e))}function mm(e,t,n){var r=0,i=e.length;!function a(o){if(o&&o.length)n(o);else{var s=r;r+=1,s<i?t(e[s],a):n([])}}([])}var vm=function(e){var t,n;function r(t,n){var r;return(r=e.call(this,"Async Validation Error")||this).errors=t,r.fields=n,r}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,sm(t,n),r}(um(Error));function gm(e,t,n,r,i){if(t.first){var a=new Promise((function(t,a){var o=function(e){var t=[];return Object.keys(e).forEach((function(n){t.push.apply(t,e[n]||[])})),t}(e);mm(o,n,(function(e){return r(e),e.length?a(new vm(e,fm(e))):t(i)}))}));return a.catch((function(e){return e})),a}var o=!0===t.firstFields?Object.keys(e):t.firstFields||[],s=Object.keys(e),l=s.length,c=0,u=[],d=new Promise((function(t,a){var d=function(e){if(u.push.apply(u,e),++c===l)return r(u),u.length?a(new vm(u,fm(u))):t(i)};s.length||(r(u),t(i)),s.forEach((function(t){var r=e[t];-1!==o.indexOf(t)?mm(r,n,d):function(e,t,n){var r=[],i=0,a=e.length;function o(e){r.push.apply(r,e||[]),++i===a&&n(r)}e.forEach((function(e){t(e,o)}))}(r,n,d)}))}));return d.catch((function(e){return e})),d}function ym(e,t){return function(n){var r,i;return r=e.fullFields?function(e,t){for(var n=e,r=0;r<t.length;r++){if(void 0==n)return n;n=n[t[r]]}return n}(t,e.fullFields):t[n.field||e.fullField],(i=n)&&void 0!==i.message?(n.field=n.field||e.fullField,n.fieldValue=r,n):{message:"function"===typeof n?n():n,fieldValue:r,field:n.field||e.fullField}}}function xm(e,t){if(t)for(var n in t)if(t.hasOwnProperty(n)){var r=t[n];"object"===typeof r&&"object"===typeof e[n]?e[n]=am({},e[n],r):e[n]=r}return e}var bm,_m=function(e,t,n,r,i,a){!e.required||n.hasOwnProperty(e.field)&&!pm(t,a||e.type)||r.push(hm(i.messages.required,e.fullField))},wm=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+\.)+[a-zA-Z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]{2,}))$/,km=/^#?([a-f0-9]{6}|[a-f0-9]{3})$/i,Sm={integer:function(e){return Sm.number(e)&&parseInt(e,10)===e},float:function(e){return Sm.number(e)&&!Sm.integer(e)},array:function(e){return Array.isArray(e)},regexp:function(e){if(e instanceof RegExp)return!0;try{return!!new RegExp(e)}catch(Jv){return!1}},date:function(e){return"function"===typeof e.getTime&&"function"===typeof e.getMonth&&"function"===typeof e.getYear&&!isNaN(e.getTime())},number:function(e){return!isNaN(e)&&"number"===typeof e},object:function(e){return"object"===typeof e&&!Sm.array(e)},method:function(e){return"function"===typeof e},email:function(e){return"string"===typeof e&&e.length<=320&&!!e.match(wm)},url:function(e){return"string"===typeof e&&e.length<=2048&&!!e.match(function(){if(bm)return bm;var e="[a-fA-F\\d:]",t=function(t){return t&&t.includeBoundaries?"(?:(?<=\\s|^)(?="+e+")|(?<="+e+")(?=\\s|$))":""},n="(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}",r="[a-fA-F\\d]{1,4}",i=("\n(?:\n(?:"+r+":){7}(?:"+r+"|:)|                                    // 1:2:3:4:5:6:7::  1:2:3:4:5:6:7:8\n(?:"+r+":){6}(?:"+n+"|:"+r+"|:)|                             // 1:2:3:4:5:6::    1:2:3:4:5:6::8   1:2:3:4:5:6::8  1:2:3:4:5:6::1.2.3.4\n(?:"+r+":){5}(?::"+n+"|(?::"+r+"){1,2}|:)|                   // 1:2:3:4:5::      1:2:3:4:5::7:8   1:2:3:4:5::8    1:2:3:4:5::7:1.2.3.4\n(?:"+r+":){4}(?:(?::"+r+"){0,1}:"+n+"|(?::"+r+"){1,3}|:)| // 1:2:3:4::        1:2:3:4::6:7:8   1:2:3:4::8      1:2:3:4::6:7:1.2.3.4\n(?:"+r+":){3}(?:(?::"+r+"){0,2}:"+n+"|(?::"+r+"){1,4}|:)| // 1:2:3::          1:2:3::5:6:7:8   1:2:3::8        1:2:3::5:6:7:1.2.3.4\n(?:"+r+":){2}(?:(?::"+r+"){0,3}:"+n+"|(?::"+r+"){1,5}|:)| // 1:2::            1:2::4:5:6:7:8   1:2::8          1:2::4:5:6:7:1.2.3.4\n(?:"+r+":){1}(?:(?::"+r+"){0,4}:"+n+"|(?::"+r+"){1,6}|:)| // 1::              1::3:4:5:6:7:8   1::8            1::3:4:5:6:7:1.2.3.4\n(?::(?:(?::"+r+"){0,5}:"+n+"|(?::"+r+"){1,7}|:))             // ::2:3:4:5:6:7:8  ::2:3:4:5:6:7:8  ::8             ::1.2.3.4\n)(?:%[0-9a-zA-Z]{1,})?                                             // %eth0            %1\n").replace(/\s*\/\/.*$/gm,"").replace(/\n/g,"").trim(),a=new RegExp("(?:^"+n+"$)|(?:^"+i+"$)"),o=new RegExp("^"+n+"$"),s=new RegExp("^"+i+"$"),l=function(e){return e&&e.exact?a:new RegExp("(?:"+t(e)+n+t(e)+")|(?:"+t(e)+i+t(e)+")","g")};l.v4=function(e){return e&&e.exact?o:new RegExp(""+t(e)+n+t(e),"g")},l.v6=function(e){return e&&e.exact?s:new RegExp(""+t(e)+i+t(e),"g")};var c=l.v4().source,u=l.v6().source;return bm=new RegExp("(?:^(?:(?:(?:[a-z]+:)?//)|www\\.)(?:\\S+(?::\\S*)?@)?(?:localhost|"+c+"|"+u+'|(?:(?:[a-z\\u00a1-\\uffff0-9][-_]*)*[a-z\\u00a1-\\uffff0-9]+)(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*(?:\\.(?:[a-z\\u00a1-\\uffff]{2,})))(?::\\d{2,5})?(?:[/?#][^\\s"]*)?$)',"i")}())},hex:function(e){return"string"===typeof e&&!!e.match(km)}},Em="enum",Cm={required:_m,whitespace:function(e,t,n,r,i){(/^\s+$/.test(t)||""===t)&&r.push(hm(i.messages.whitespace,e.fullField))},type:function(e,t,n,r,i){if(e.required&&void 0===t)_m(e,t,n,r,i);else{var a=e.type;["integer","float","array","regexp","object","method","email","number","date","url","hex"].indexOf(a)>-1?Sm[a](t)||r.push(hm(i.messages.types[a],e.fullField,e.type)):a&&typeof t!==e.type&&r.push(hm(i.messages.types[a],e.fullField,e.type))}},range:function(e,t,n,r,i){var a="number"===typeof e.len,o="number"===typeof e.min,s="number"===typeof e.max,l=t,c=null,u="number"===typeof t,d="string"===typeof t,f=Array.isArray(t);if(u?c="number":d?c="string":f&&(c="array"),!c)return!1;f&&(l=t.length),d&&(l=t.replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"_").length),a?l!==e.len&&r.push(hm(i.messages[c].len,e.fullField,e.len)):o&&!s&&l<e.min?r.push(hm(i.messages[c].min,e.fullField,e.min)):s&&!o&&l>e.max?r.push(hm(i.messages[c].max,e.fullField,e.max)):o&&s&&(l<e.min||l>e.max)&&r.push(hm(i.messages[c].range,e.fullField,e.min,e.max))},enum:function(e,t,n,r,i){e[Em]=Array.isArray(e[Em])?e[Em]:[],-1===e[Em].indexOf(t)&&r.push(hm(i.messages[Em],e.fullField,e[Em].join(", ")))},pattern:function(e,t,n,r,i){if(e.pattern)if(e.pattern instanceof RegExp)e.pattern.lastIndex=0,e.pattern.test(t)||r.push(hm(i.messages.pattern.mismatch,e.fullField,t,e.pattern));else if("string"===typeof e.pattern){new RegExp(e.pattern).test(t)||r.push(hm(i.messages.pattern.mismatch,e.fullField,t,e.pattern))}}},Tm=function(e,t,n,r,i){var a=e.type,o=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(pm(t,a)&&!e.required)return n();Cm.required(e,t,r,o,i,a),pm(t,a)||Cm.type(e,t,r,o,i)}n(o)},Mm={string:function(e,t,n,r,i){var a=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(pm(t,"string")&&!e.required)return n();Cm.required(e,t,r,a,i,"string"),pm(t,"string")||(Cm.type(e,t,r,a,i),Cm.range(e,t,r,a,i),Cm.pattern(e,t,r,a,i),!0===e.whitespace&&Cm.whitespace(e,t,r,a,i))}n(a)},method:function(e,t,n,r,i){var a=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(pm(t)&&!e.required)return n();Cm.required(e,t,r,a,i),void 0!==t&&Cm.type(e,t,r,a,i)}n(a)},number:function(e,t,n,r,i){var a=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(""===t&&(t=void 0),pm(t)&&!e.required)return n();Cm.required(e,t,r,a,i),void 0!==t&&(Cm.type(e,t,r,a,i),Cm.range(e,t,r,a,i))}n(a)},boolean:function(e,t,n,r,i){var a=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(pm(t)&&!e.required)return n();Cm.required(e,t,r,a,i),void 0!==t&&Cm.type(e,t,r,a,i)}n(a)},regexp:function(e,t,n,r,i){var a=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(pm(t)&&!e.required)return n();Cm.required(e,t,r,a,i),pm(t)||Cm.type(e,t,r,a,i)}n(a)},integer:function(e,t,n,r,i){var a=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(pm(t)&&!e.required)return n();Cm.required(e,t,r,a,i),void 0!==t&&(Cm.type(e,t,r,a,i),Cm.range(e,t,r,a,i))}n(a)},float:function(e,t,n,r,i){var a=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(pm(t)&&!e.required)return n();Cm.required(e,t,r,a,i),void 0!==t&&(Cm.type(e,t,r,a,i),Cm.range(e,t,r,a,i))}n(a)},array:function(e,t,n,r,i){var a=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if((void 0===t||null===t)&&!e.required)return n();Cm.required(e,t,r,a,i,"array"),void 0!==t&&null!==t&&(Cm.type(e,t,r,a,i),Cm.range(e,t,r,a,i))}n(a)},object:function(e,t,n,r,i){var a=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(pm(t)&&!e.required)return n();Cm.required(e,t,r,a,i),void 0!==t&&Cm.type(e,t,r,a,i)}n(a)},enum:function(e,t,n,r,i){var a=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(pm(t)&&!e.required)return n();Cm.required(e,t,r,a,i),void 0!==t&&Cm.enum(e,t,r,a,i)}n(a)},pattern:function(e,t,n,r,i){var a=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(pm(t,"string")&&!e.required)return n();Cm.required(e,t,r,a,i),pm(t,"string")||Cm.pattern(e,t,r,a,i)}n(a)},date:function(e,t,n,r,i){var a=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(pm(t,"date")&&!e.required)return n();var o;if(Cm.required(e,t,r,a,i),!pm(t,"date"))o=t instanceof Date?t:new Date(t),Cm.type(e,o,r,a,i),o&&Cm.range(e,o.getTime(),r,a,i)}n(a)},url:Tm,hex:Tm,email:Tm,required:function(e,t,n,r,i){var a=[],o=Array.isArray(t)?"array":typeof t;Cm.required(e,t,r,a,i,o),n(a)},any:function(e,t,n,r,i){var a=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(pm(t)&&!e.required)return n();Cm.required(e,t,r,a,i)}n(a)}};function Im(){return{default:"Validation error on field %s",required:"%s is required",enum:"%s must be one of %s",whitespace:"%s cannot be empty",date:{format:"%s date %s is invalid for format %s",parse:"%s date could not be parsed, %s is invalid ",invalid:"%s date %s is invalid"},types:{string:"%s is not a %s",method:"%s is not a %s (function)",array:"%s is not an %s",object:"%s is not an %s",number:"%s is not a %s",date:"%s is not a %s",boolean:"%s is not a %s",integer:"%s is not an %s",float:"%s is not a %s",regexp:"%s is not a valid %s",email:"%s is not a valid %s",url:"%s is not a valid %s",hex:"%s is not a valid %s"},string:{len:"%s must be exactly %s characters",min:"%s must be at least %s characters",max:"%s cannot be longer than %s characters",range:"%s must be between %s and %s characters"},number:{len:"%s must equal %s",min:"%s cannot be less than %s",max:"%s cannot be greater than %s",range:"%s must be between %s and %s"},array:{len:"%s must be exactly %s in length",min:"%s cannot be less than %s in length",max:"%s cannot be greater than %s in length",range:"%s must be between %s and %s in length"},pattern:{mismatch:"%s value %s does not match pattern %s"},clone:function(){var e=JSON.parse(JSON.stringify(this));return e.clone=this.clone,e}}}var Om=Im(),Pm=function(){function e(e){this.rules=null,this._messages=Om,this.define(e)}var t=e.prototype;return t.define=function(e){var t=this;if(!e)throw new Error("Cannot configure a schema with no rules");if("object"!==typeof e||Array.isArray(e))throw new Error("Rules must be an object");this.rules={},Object.keys(e).forEach((function(n){var r=e[n];t.rules[n]=Array.isArray(r)?r:[r]}))},t.messages=function(e){return e&&(this._messages=xm(Im(),e)),this._messages},t.validate=function(t,n,r){var i=this;void 0===n&&(n={}),void 0===r&&(r=function(){});var a=t,o=n,s=r;if("function"===typeof o&&(s=o,o={}),!this.rules||0===Object.keys(this.rules).length)return s&&s(null,a),Promise.resolve(a);if(o.messages){var l=this.messages();l===Om&&(l=Im()),xm(l,o.messages),o.messages=l}else o.messages=this.messages();var c={};(o.keys||Object.keys(this.rules)).forEach((function(e){var n=i.rules[e],r=a[e];n.forEach((function(n){var o=n;"function"===typeof o.transform&&(a===t&&(a=am({},a)),r=a[e]=o.transform(r)),(o="function"===typeof o?{validator:o}:am({},o)).validator=i.getValidationMethod(o),o.validator&&(o.field=e,o.fullField=o.fullField||e,o.type=i.getType(o),c[e]=c[e]||[],c[e].push({rule:o,value:r,source:a,field:e}))}))}));var u={};return gm(c,o,(function(t,n){var r,i=t.rule,s=("object"===i.type||"array"===i.type)&&("object"===typeof i.fields||"object"===typeof i.defaultField);function l(e,t){return am({},t,{fullField:i.fullField+"."+e,fullFields:i.fullFields?[].concat(i.fullFields,[e]):[e]})}function c(r){void 0===r&&(r=[]);var c=Array.isArray(r)?r:[r];!o.suppressWarning&&c.length&&e.warning("async-validator:",c),c.length&&void 0!==i.message&&(c=[].concat(i.message));var d=c.map(ym(i,a));if(o.first&&d.length)return u[i.field]=1,n(d);if(s){if(i.required&&!t.value)return void 0!==i.message?d=[].concat(i.message).map(ym(i,a)):o.error&&(d=[o.error(i,hm(o.messages.required,i.field))]),n(d);var f={};i.defaultField&&Object.keys(t.value).map((function(e){f[e]=i.defaultField})),f=am({},f,t.rule.fields);var h={};Object.keys(f).forEach((function(e){var t=f[e],n=Array.isArray(t)?t:[t];h[e]=n.map(l.bind(null,e))}));var p=new e(h);p.messages(o.messages),t.rule.options&&(t.rule.options.messages=o.messages,t.rule.options.error=o.error),p.validate(t.value,t.rule.options||o,(function(e){var t=[];d&&d.length&&t.push.apply(t,d),e&&e.length&&t.push.apply(t,e),n(t.length?t:null)}))}else n(d)}if(s=s&&(i.required||!i.required&&t.value),i.field=t.field,i.asyncValidator)r=i.asyncValidator(i,t.value,c,t.source,o);else if(i.validator){try{r=i.validator(i,t.value,c,t.source,o)}catch(d){null==console.error||console.error(d),o.suppressValidatorError||setTimeout((function(){throw d}),0),c(d.message)}!0===r?c():!1===r?c("function"===typeof i.message?i.message(i.fullField||i.field):i.message||(i.fullField||i.field)+" fails"):r instanceof Array?c(r):r instanceof Error&&c(r.message)}r&&r.then&&r.then((function(){return c()}),(function(e){return c(e)}))}),(function(e){!function(e){var t=[],n={};function r(e){var n;Array.isArray(e)?t=(n=t).concat.apply(n,e):t.push(e)}for(var i=0;i<e.length;i++)r(e[i]);t.length?(n=fm(t),s(t,n)):s(null,a)}(e)}),a)},t.getType=function(e){if(void 0===e.type&&e.pattern instanceof RegExp&&(e.type="pattern"),"function"!==typeof e.validator&&e.type&&!Mm.hasOwnProperty(e.type))throw new Error(hm("Unknown rule type %s",e.type));return e.type||"string"},t.getValidationMethod=function(e){if("function"===typeof e.validator)return e.validator;var t=Object.keys(e),n=t.indexOf("message");return-1!==n&&t.splice(n,1),1===t.length&&"required"===t[0]?Mm.required:Mm[this.getType(e)]||void 0},e}();Pm.register=function(e,t){if("function"!==typeof t)throw new Error("Cannot register a validator by type, validator is not a function");Mm[e]=t},Pm.warning=function(){},Pm.messages=Om,Pm.validators=Mm;var Am="'${name}' is not a valid ${type}",zm={default:"Validation error on field '${name}'",required:"'${name}' is required",enum:"'${name}' must be one of [${enum}]",whitespace:"'${name}' cannot be empty",date:{format:"'${name}' is invalid for format date",parse:"'${name}' could not be parsed as date",invalid:"'${name}' is invalid date"},types:{string:Am,method:Am,array:Am,object:Am,number:Am,date:Am,boolean:Am,integer:Am,float:Am,regexp:Am,email:Am,url:Am,hex:Am},string:{len:"'${name}' must be exactly ${len} characters",min:"'${name}' must be at least ${min} characters",max:"'${name}' cannot be longer than ${max} characters",range:"'${name}' must be between ${min} and ${max} characters"},number:{len:"'${name}' must equal ${len}",min:"'${name}' cannot be less than ${min}",max:"'${name}' cannot be greater than ${max}",range:"'${name}' must be between ${min} and ${max}"},array:{len:"'${name}' must be exactly ${len} in length",min:"'${name}' cannot be less than ${min} in length",max:"'${name}' cannot be greater than ${max} in length",range:"'${name}' must be between ${min} and ${max} in length"},pattern:{mismatch:"'${name}' does not match pattern ${pattern}"}};function jm(e,t){for(var n=e,r=0;r<t.length;r+=1){if(null===n||void 0===n)return;n=n[t[r]]}return n}function Rm(e,t,n,r){if(!t.length)return n;var i,a=C(t),o=a[0],s=a.slice(1);return i=e||"number"!==typeof o?Array.isArray(e)?l(e):Xe({},e):[],r&&void 0===n&&1===s.length?delete i[o][s[0]]:i[o]=Rm(i[o],s,n,r),i}function Dm(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return t.length&&r&&void 0===n&&!jm(e,t.slice(0,-1))?e:Rm(e,t,n,r)}function Lm(e){return Array.isArray(e)?function(e){return e.map((function(e){return Lm(e)}))}(e):"object"===u(e)&&null!==e?function(e){if(Object.getPrototypeOf(e)===Object.prototype){var t={};for(var n in e)t[n]=Lm(e[n]);return t}return e}(e):e}var Nm=Lm;function Bm(e){return im(e)}function Fm(e,t){return jm(e,t)}function Vm(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=Dm(e,t,n,r);return i}function Um(e,t){var n={};return t.forEach((function(t){var r=Fm(e,t);n=Vm(n,t,r)})),n}function Hm(e,t){return e&&e.some((function(e){return Xm(e,t)}))}function Gm(e){return"object"===u(e)&&null!==e&&Object.getPrototypeOf(e)===Object.prototype}function Wm(e,t){var n=Array.isArray(e)?l(e):Xe({},e);return t?(Object.keys(t).forEach((function(e){var r=n[e],i=t[e],a=Gm(r)&&Gm(i);n[e]=a?Wm(r,i||{}):Nm(i)})),n):n}function qm(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return n.reduce((function(e,t){return Wm(e,t)}),e)}function Xm(e,t){return!(!e||!t||e.length!==t.length)&&e.every((function(e,n){return t[n]===e}))}function Zm(e){var t=arguments.length<=1?void 0:arguments[1];return t&&t.target&&"object"===u(t.target)&&e in t.target?t.target[e]:t}function Km(e,t,n){var r=e.length;if(t<0||t>=r||n<0||n>=r)return e;var i=e[t],a=t-n;return a>0?[].concat(l(e.slice(0,n)),[i],l(e.slice(n,t)),l(e.slice(t+1,r))):a<0?[].concat(l(e.slice(0,t)),l(e.slice(t+1,n+1)),[i],l(e.slice(n+1,r))):e}var Ym=Pm;function $m(e,t){return e.replace(/\$\{\w+\}/g,(function(e){var n=e.slice(2,-1);return t[n]}))}var Jm="CODE_LOGIC_ERROR";function Qm(e,t,n,r,i){return ev.apply(this,arguments)}function ev(){return ev=Be(Le().mark((function e(n,r,i,a,o){var s,c,u,d,f,h,p,m,v;return Le().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return delete(s=Xe({},i)).ruleIndex,s.validator&&(c=s.validator,s.validator=function(){try{return c.apply(void 0,arguments)}catch(e){return console.error(e),Promise.reject(Jm)}}),u=null,s&&"array"===s.type&&s.defaultField&&(u=s.defaultField,delete s.defaultField),d=new Ym(Fe({},n,[s])),f=qm({},zm,a.validateMessages),d.messages(f),h=[],e.prev=9,e.next=12,Promise.resolve(d.validate(Fe({},n,r),Xe({},a)));case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(9),e.t0.errors&&(h=e.t0.errors.map((function(e,n){var r=e.message,i=r===Jm?f.default:r;return t.isValidElement(i)?t.cloneElement(i,{key:"error_".concat(n)}):i})));case 17:if(h.length||!u){e.next=22;break}return e.next=20,Promise.all(r.map((function(e,t){return Qm("".concat(n,".").concat(t),e,u,a,o)})));case 20:return p=e.sent,e.abrupt("return",p.reduce((function(e,t){return[].concat(l(e),l(t))}),[]));case 22:return m=Xe(Xe({},i),{},{name:n,enum:(i.enum||[]).join(", ")},o),v=h.map((function(e){return"string"===typeof e?$m(e,m):e})),e.abrupt("return",v);case 25:case"end":return e.stop()}}),e,null,[[9,14]])}))),ev.apply(this,arguments)}function tv(e,t,n,r,i,a){var o,s=e.join("."),l=n.map((function(e,t){var n=e.validator,r=Xe(Xe({},e),{},{ruleIndex:t});return n&&(r.validator=function(e,t,r){var i=!1,a=n(e,t,(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];Promise.resolve().then((function(){Qe(!i,"Your validator function has already return a promise. `callback` will be ignored."),i||r.apply(void 0,t)}))}));i=a&&"function"===typeof a.then&&"function"===typeof a.catch,Qe(i,"`callback` is deprecated. Please return a promise instead."),i&&a.then((function(){r()})).catch((function(e){r(e||" ")}))}),r})).sort((function(e,t){var n=e.warningOnly,r=e.ruleIndex,i=t.warningOnly,a=t.ruleIndex;return!!n===!!i?r-a:n?1:-1}));if(!0===i)o=new Promise(function(){var e=Be(Le().mark((function e(n,i){var o,c,u;return Le().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o=0;case 1:if(!(o<l.length)){e.next=12;break}return c=l[o],e.next=5,Qm(s,t,c,r,a);case 5:if(!(u=e.sent).length){e.next=9;break}return i([{errors:u,rule:c}]),e.abrupt("return");case 9:o+=1,e.next=1;break;case 12:n([]);case 13:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());else{var c=l.map((function(e){return Qm(s,t,e,r,a).then((function(t){return{errors:t,rule:e}}))}));o=(i?function(e){return rv.apply(this,arguments)}(c):function(e){return nv.apply(this,arguments)}(c)).then((function(e){return Promise.reject(e)}))}return o.catch((function(e){return e})),o}function nv(){return(nv=Be(Le().mark((function e(t){return Le().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.all(t).then((function(e){var t;return(t=[]).concat.apply(t,l(e))})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function rv(){return(rv=Be(Le().mark((function e(t){var n;return Le().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=0,e.abrupt("return",new Promise((function(e){t.forEach((function(r){r.then((function(r){r.errors.length&&e([r]),(n+=1)===t.length&&e([])}))}))})));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var iv=["name"],av=[];function ov(e,t,n,r,i,a){return"function"===typeof e?e(t,n,"source"in a?{source:a.source}:{}):r!==i}var sv=function(e){m(r,e);var n=b(r);function r(e){var i;(c(this,r),(i=n.call(this,e)).state={resetCount:0},i.cancelRegisterFunc=null,i.mounted=!1,i.touched=!1,i.dirty=!1,i.validatePromise=null,i.prevValidating=void 0,i.errors=av,i.warnings=av,i.cancelRegister=function(){var e=i.props,t=e.preserve,n=e.isListField,r=e.name;i.cancelRegisterFunc&&i.cancelRegisterFunc(n,t,Bm(r)),i.cancelRegisterFunc=null},i.getNamePath=function(){var e=i.props,t=e.name,n=e.fieldContext.prefixName;return void 0!==t?[].concat(l(void 0===n?[]:n),l(t)):[]},i.getRules=function(){var e=i.props,t=e.rules,n=void 0===t?[]:t,r=e.fieldContext;return n.map((function(e){return"function"===typeof e?e(r):e}))},i.refresh=function(){i.mounted&&i.setState((function(e){return{resetCount:e.resetCount+1}}))},i.triggerMetaEvent=function(e){var t=i.props.onMetaChange;null===t||void 0===t||t(Xe(Xe({},i.getMeta()),{},{destroy:e}))},i.onStoreChange=function(e,t,n){var r=i.props,a=r.shouldUpdate,o=r.dependencies,s=void 0===o?[]:o,l=r.onReset,c=n.store,u=i.getNamePath(),d=i.getValue(e),f=i.getValue(c),h=t&&Hm(t,u);switch("valueUpdate"===n.type&&"external"===n.source&&d!==f&&(i.touched=!0,i.dirty=!0,i.validatePromise=null,i.errors=av,i.warnings=av,i.triggerMetaEvent()),n.type){case"reset":if(!t||h)return i.touched=!1,i.dirty=!1,i.validatePromise=null,i.errors=av,i.warnings=av,i.triggerMetaEvent(),null===l||void 0===l||l(),void i.refresh();break;case"remove":if(a)return void i.reRender();break;case"setField":if(h){var p=n.data;return"touched"in p&&(i.touched=p.touched),"validating"in p&&!("originRCField"in p)&&(i.validatePromise=p.validating?Promise.resolve([]):null),"errors"in p&&(i.errors=p.errors||av),"warnings"in p&&(i.warnings=p.warnings||av),i.dirty=!0,i.triggerMetaEvent(),void i.reRender()}if(a&&!u.length&&ov(a,e,c,d,f,n))return void i.reRender();break;case"dependenciesUpdate":if(s.map(Bm).some((function(e){return Hm(n.relatedFields,e)})))return void i.reRender();break;default:if(h||(!s.length||u.length||a)&&ov(a,e,c,d,f,n))return void i.reRender()}!0===a&&i.reRender()},i.validateRules=function(e){var t=i.getNamePath(),n=i.getValue(),r=Promise.resolve().then((function(){if(!i.mounted)return[];var a=i.props,o=a.validateFirst,s=void 0!==o&&o,c=a.messageVariables,u=(e||{}).triggerName,d=i.getRules();u&&(d=d.filter((function(e){return e})).filter((function(e){var t=e.validateTrigger;return!t||im(t).includes(u)})));var f=tv(t,n,d,e,s,c);return f.catch((function(e){return e})).then((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:av;if(i.validatePromise===r){var t;i.validatePromise=null;var n=[],a=[];null===(t=e.forEach)||void 0===t||t.call(e,(function(e){var t=e.rule.warningOnly,r=e.errors,i=void 0===r?av:r;t?a.push.apply(a,l(i)):n.push.apply(n,l(i))})),i.errors=n,i.warnings=a,i.triggerMetaEvent(),i.reRender()}})),f}));return i.validatePromise=r,i.dirty=!0,i.errors=av,i.warnings=av,i.triggerMetaEvent(),i.reRender(),r},i.isFieldValidating=function(){return!!i.validatePromise},i.isFieldTouched=function(){return i.touched},i.isFieldDirty=function(){return!(!i.dirty&&void 0===i.props.initialValue)||void 0!==(0,i.props.fieldContext.getInternalHooks(tm).getInitialValue)(i.getNamePath())},i.getErrors=function(){return i.errors},i.getWarnings=function(){return i.warnings},i.isListField=function(){return i.props.isListField},i.isList=function(){return i.props.isList},i.isPreserve=function(){return i.props.preserve},i.getMeta=function(){return i.prevValidating=i.isFieldValidating(),{touched:i.isFieldTouched(),validating:i.prevValidating,errors:i.errors,warnings:i.warnings,name:i.getNamePath()}},i.getOnlyChild=function(e){if("function"===typeof e){var n=i.getMeta();return Xe(Xe({},i.getOnlyChild(e(i.getControlled(),n,i.props.fieldContext))),{},{isFunction:!0})}var r=Lo(e);return 1===r.length&&t.isValidElement(r[0])?{child:r[0],isFunction:!1}:{child:r,isFunction:!1}},i.getValue=function(e){var t=i.props.fieldContext.getFieldsValue,n=i.getNamePath();return Fm(e||t(!0),n)},i.getControlled=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=i.props,n=t.trigger,r=t.validateTrigger,a=t.getValueFromEvent,o=t.normalize,s=t.valuePropName,l=t.getValueProps,c=t.fieldContext,u=void 0!==r?r:c.validateTrigger,d=i.getNamePath(),f=c.getInternalHooks,h=c.getFieldsValue,p=f(tm),m=p.dispatch,v=i.getValue(),g=l||function(e){return Fe({},s,e)},y=e[n],x=Xe(Xe({},e),g(v));x[n]=function(){var e;i.touched=!0,i.dirty=!0,i.triggerMetaEvent();for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];e=a?a.apply(void 0,n):Zm.apply(void 0,[s].concat(n)),o&&(e=o(e,v,h(!0))),m({type:"updateValue",namePath:d,value:e}),y&&y.apply(void 0,n)};var b=im(u||[]);return b.forEach((function(e){var t=x[e];x[e]=function(){t&&t.apply(void 0,arguments);var n=i.props.rules;n&&n.length&&m({type:"validateField",namePath:d,triggerName:e})}})),x},e.fieldContext)&&(0,(0,e.fieldContext.getInternalHooks)(tm).initEntityValue)(y(i));return i}return h(r,[{key:"componentDidMount",value:function(){var e=this.props,t=e.shouldUpdate,n=e.fieldContext;if(this.mounted=!0,n){var r=(0,n.getInternalHooks)(tm).registerField;this.cancelRegisterFunc=r(this)}!0===t&&this.reRender()}},{key:"componentWillUnmount",value:function(){this.cancelRegister(),this.triggerMetaEvent(!0),this.mounted=!1}},{key:"reRender",value:function(){this.mounted&&this.forceUpdate()}},{key:"render",value:function(){var e,n=this.state.resetCount,r=this.props.children,i=this.getOnlyChild(r),a=i.child;return i.isFunction?e=a:t.isValidElement(a)?e=t.cloneElement(a,this.getControlled(a.props)):(Qe(!a,"`children` of Field is not validate ReactElement."),e=a),t.createElement(t.Fragment,{key:n},e)}}]),r}(t.Component);sv.contextType=rm,sv.defaultProps={trigger:"onChange",valuePropName:"value"};var lv=function(e){var n=e.name,r=li(e,iv),i=t.useContext(rm),a=void 0!==n?Bm(n):void 0,o="keep";return r.isListField||(o="_".concat((a||[]).join("_"))),t.createElement(sv,Dt({key:o,name:a},r,{fieldContext:i}))},cv=t.createContext(null),uv=function(e){var n=e.name,r=e.initialValue,i=e.children,a=e.rules,o=e.validateTrigger,s=t.useContext(rm),c=t.useRef({keys:[],id:0}).current,u=t.useMemo((function(){var e=Bm(s.prefixName)||[];return[].concat(l(e),l(Bm(n)))}),[s.prefixName,n]),d=t.useMemo((function(){return Xe(Xe({},s),{},{prefixName:u})}),[s,u]),f=t.useMemo((function(){return{getKey:function(e){var t=u.length,n=e[t];return[c.keys[n],e.slice(t+1)]}}}),[u]);if("function"!==typeof i)return Qe(!1,"Form.List only accepts function as children."),null;return t.createElement(cv.Provider,{value:f},t.createElement(rm.Provider,{value:d},t.createElement(lv,{name:[],shouldUpdate:function(e,t,n){return"internal"!==n.source&&e!==t},rules:a,validateTrigger:o,initialValue:r,isList:!0},(function(e,t){var n=e.value,r=void 0===n?[]:n,a=e.onChange,o=s.getFieldValue,d=function(){return o(u||[])||[]},f={add:function(e,t){var n=d();t>=0&&t<=n.length?(c.keys=[].concat(l(c.keys.slice(0,t)),[c.id],l(c.keys.slice(t))),a([].concat(l(n.slice(0,t)),[e],l(n.slice(t))))):(c.keys=[].concat(l(c.keys),[c.id]),a([].concat(l(n),[e]))),c.id+=1},remove:function(e){var t=d(),n=new Set(Array.isArray(e)?e:[e]);n.size<=0||(c.keys=c.keys.filter((function(e,t){return!n.has(t)})),a(t.filter((function(e,t){return!n.has(t)}))))},move:function(e,t){if(e!==t){var n=d();e<0||e>=n.length||t<0||t>=n.length||(c.keys=Km(c.keys,e,t),a(Km(n,e,t)))}}},h=r||[];return Array.isArray(h)||(h=[]),i(h.map((function(e,t){var n=c.keys[t];return void 0===n&&(c.keys[t]=c.id,n=c.keys[t],c.id+=1),{name:t,key:n,isListField:!0}})),f,t)}))))};var dv="__@field_split__";function fv(e){return e.map((function(e){return"".concat(u(e),":").concat(e)})).join(dv)}var hv=function(){function e(){c(this,e),this.kvs=new Map}return h(e,[{key:"set",value:function(e,t){this.kvs.set(fv(e),t)}},{key:"get",value:function(e){return this.kvs.get(fv(e))}},{key:"update",value:function(e,t){var n=t(this.get(e));n?this.set(e,n):this.delete(e)}},{key:"delete",value:function(e){this.kvs.delete(fv(e))}},{key:"map",value:function(e){return l(this.kvs.entries()).map((function(t){var n=k(t,2),r=n[0],i=n[1],a=r.split(dv);return e({key:a.map((function(e){var t=k(e.match(/^([^:]*):(.*)$/),3),n=t[1],r=t[2];return"number"===n?Number(r):r})),value:i})}))}},{key:"toJSON",value:function(){var e={};return this.map((function(t){var n=t.key,r=t.value;return e[n.join(".")]=r,null})),e}}]),e}(),pv=hv,mv=["name","errors"],vv=h((function e(t){var n=this;c(this,e),this.formHooked=!1,this.forceRootUpdate=void 0,this.subscribable=!0,this.store={},this.fieldEntities=[],this.initialValues={},this.callbacks={},this.validateMessages=null,this.preserve=null,this.lastValidatePromise=null,this.getForm=function(){return{getFieldValue:n.getFieldValue,getFieldsValue:n.getFieldsValue,getFieldError:n.getFieldError,getFieldWarning:n.getFieldWarning,getFieldsError:n.getFieldsError,isFieldsTouched:n.isFieldsTouched,isFieldTouched:n.isFieldTouched,isFieldValidating:n.isFieldValidating,isFieldsValidating:n.isFieldsValidating,resetFields:n.resetFields,setFields:n.setFields,setFieldValue:n.setFieldValue,setFieldsValue:n.setFieldsValue,validateFields:n.validateFields,submit:n.submit,_init:!0,getInternalHooks:n.getInternalHooks}},this.getInternalHooks=function(e){return e===tm?(n.formHooked=!0,{dispatch:n.dispatch,initEntityValue:n.initEntityValue,registerField:n.registerField,useSubscribe:n.useSubscribe,setInitialValues:n.setInitialValues,destroyForm:n.destroyForm,setCallbacks:n.setCallbacks,setValidateMessages:n.setValidateMessages,getFields:n.getFields,setPreserve:n.setPreserve,getInitialValue:n.getInitialValue,registerWatch:n.registerWatch}):(Qe(!1,"`getInternalHooks` is internal usage. Should not call directly."),null)},this.useSubscribe=function(e){n.subscribable=e},this.prevWithoutPreserves=null,this.setInitialValues=function(e,t){if(n.initialValues=e||{},t){var r,i=qm({},e,n.store);null===(r=n.prevWithoutPreserves)||void 0===r||r.map((function(t){var n=t.key;i=Vm(i,n,Fm(e,n))})),n.prevWithoutPreserves=null,n.updateStore(i)}},this.destroyForm=function(){var e=new pv;n.getFieldEntities(!0).forEach((function(t){n.isMergedPreserve(t.isPreserve())||e.set(t.getNamePath(),!0)})),n.prevWithoutPreserves=e},this.getInitialValue=function(e){var t=Fm(n.initialValues,e);return e.length?Nm(t):t},this.setCallbacks=function(e){n.callbacks=e},this.setValidateMessages=function(e){n.validateMessages=e},this.setPreserve=function(e){n.preserve=e},this.watchList=[],this.registerWatch=function(e){return n.watchList.push(e),function(){n.watchList=n.watchList.filter((function(t){return t!==e}))}},this.notifyWatch=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(n.watchList.length){var t=n.getFieldsValue();n.watchList.forEach((function(n){n(t,e)}))}},this.timeoutId=null,this.warningUnhooked=function(){0},this.updateStore=function(e){n.store=e},this.getFieldEntities=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return e?n.fieldEntities.filter((function(e){return e.getNamePath().length})):n.fieldEntities},this.getFieldsMap=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=new pv;return n.getFieldEntities(e).forEach((function(e){var n=e.getNamePath();t.set(n,e)})),t},this.getFieldEntitiesForNamePathList=function(e){if(!e)return n.getFieldEntities(!0);var t=n.getFieldsMap(!0);return e.map((function(e){var n=Bm(e);return t.get(n)||{INVALIDATE_NAME_PATH:Bm(e)}}))},this.getFieldsValue=function(e,t){if(n.warningUnhooked(),!0===e&&!t)return n.store;var r=n.getFieldEntitiesForNamePathList(Array.isArray(e)?e:null),i=[];return r.forEach((function(n){var r,a="INVALIDATE_NAME_PATH"in n?n.INVALIDATE_NAME_PATH:n.getNamePath();if(e||!(null===(r=n.isListField)||void 0===r?void 0:r.call(n)))if(t){var o="getMeta"in n?n.getMeta():null;t(o)&&i.push(a)}else i.push(a)})),Um(n.store,i.map(Bm))},this.getFieldValue=function(e){n.warningUnhooked();var t=Bm(e);return Fm(n.store,t)},this.getFieldsError=function(e){return n.warningUnhooked(),n.getFieldEntitiesForNamePathList(e).map((function(t,n){return t&&!("INVALIDATE_NAME_PATH"in t)?{name:t.getNamePath(),errors:t.getErrors(),warnings:t.getWarnings()}:{name:Bm(e[n]),errors:[],warnings:[]}}))},this.getFieldError=function(e){n.warningUnhooked();var t=Bm(e);return n.getFieldsError([t])[0].errors},this.getFieldWarning=function(e){n.warningUnhooked();var t=Bm(e);return n.getFieldsError([t])[0].warnings},this.isFieldsTouched=function(){n.warningUnhooked();for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var i,a=t[0],o=t[1],s=!1;0===t.length?i=null:1===t.length?Array.isArray(a)?(i=a.map(Bm),s=!1):(i=null,s=a):(i=a.map(Bm),s=o);var c=n.getFieldEntities(!0),u=function(e){return e.isFieldTouched()};if(!i)return s?c.every(u):c.some(u);var d=new pv;i.forEach((function(e){d.set(e,[])})),c.forEach((function(e){var t=e.getNamePath();i.forEach((function(n){n.every((function(e,n){return t[n]===e}))&&d.update(n,(function(t){return[].concat(l(t),[e])}))}))}));var f=function(e){return e.some(u)},h=d.map((function(e){return e.value}));return s?h.every(f):h.some(f)},this.isFieldTouched=function(e){return n.warningUnhooked(),n.isFieldsTouched([e])},this.isFieldsValidating=function(e){n.warningUnhooked();var t=n.getFieldEntities();if(!e)return t.some((function(e){return e.isFieldValidating()}));var r=e.map(Bm);return t.some((function(e){var t=e.getNamePath();return Hm(r,t)&&e.isFieldValidating()}))},this.isFieldValidating=function(e){return n.warningUnhooked(),n.isFieldsValidating([e])},this.resetWithFieldInitialValue=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=new pv,r=n.getFieldEntities(!0);r.forEach((function(e){var n=e.props.initialValue,r=e.getNamePath();if(void 0!==n){var i=t.get(r)||new Set;i.add({entity:e,value:n}),t.set(r,i)}}));var i,a=function(r){r.forEach((function(r){if(void 0!==r.props.initialValue){var i=r.getNamePath();if(void 0!==n.getInitialValue(i))Qe(!1,"Form already set 'initialValues' with path '".concat(i.join("."),"'. Field can not overwrite it."));else{var a=t.get(i);if(a&&a.size>1)Qe(!1,"Multiple Field with path '".concat(i.join("."),"' set 'initialValue'. Can not decide which one to pick."));else if(a){var o=n.getFieldValue(i);e.skipExist&&void 0!==o||n.updateStore(Vm(n.store,i,l(a)[0].value))}}}}))};e.entities?i=e.entities:e.namePathList?(i=[],e.namePathList.forEach((function(e){var n,r=t.get(e);r&&(n=i).push.apply(n,l(l(r).map((function(e){return e.entity}))))}))):i=r,a(i)},this.resetFields=function(e){n.warningUnhooked();var t=n.store;if(!e)return n.updateStore(qm({},n.initialValues)),n.resetWithFieldInitialValue(),n.notifyObservers(t,null,{type:"reset"}),void n.notifyWatch();var r=e.map(Bm);r.forEach((function(e){var t=n.getInitialValue(e);n.updateStore(Vm(n.store,e,t))})),n.resetWithFieldInitialValue({namePathList:r}),n.notifyObservers(t,r,{type:"reset"}),n.notifyWatch(r)},this.setFields=function(e){n.warningUnhooked();var t=n.store,r=[];e.forEach((function(e){var i=e.name,a=(e.errors,li(e,mv)),o=Bm(i);r.push(o),"value"in a&&n.updateStore(Vm(n.store,o,a.value)),n.notifyObservers(t,[o],{type:"setField",data:e})})),n.notifyWatch(r)},this.getFields=function(){return n.getFieldEntities(!0).map((function(e){var t=e.getNamePath(),r=Xe(Xe({},e.getMeta()),{},{name:t,value:n.getFieldValue(t)});return Object.defineProperty(r,"originRCField",{value:!0}),r}))},this.initEntityValue=function(e){var t=e.props.initialValue;if(void 0!==t){var r=e.getNamePath();void 0===Fm(n.store,r)&&n.updateStore(Vm(n.store,r,t))}},this.isMergedPreserve=function(e){var t=void 0!==e?e:n.preserve;return null===t||void 0===t||t},this.registerField=function(e){n.fieldEntities.push(e);var t=e.getNamePath();if(n.notifyWatch([t]),void 0!==e.props.initialValue){var r=n.store;n.resetWithFieldInitialValue({entities:[e],skipExist:!0}),n.notifyObservers(r,[e.getNamePath()],{type:"valueUpdate",source:"internal"})}return function(r,i){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(n.fieldEntities=n.fieldEntities.filter((function(t){return t!==e})),!n.isMergedPreserve(i)&&(!r||a.length>1)){var o=r?void 0:n.getInitialValue(t);if(t.length&&n.getFieldValue(t)!==o&&n.fieldEntities.every((function(e){return!Xm(e.getNamePath(),t)}))){var s=n.store;n.updateStore(Vm(s,t,o,!0)),n.notifyObservers(s,[t],{type:"remove"}),n.triggerDependenciesUpdate(s,t)}}n.notifyWatch([t])}},this.dispatch=function(e){switch(e.type){case"updateValue":var t=e.namePath,r=e.value;n.updateValue(t,r);break;case"validateField":var i=e.namePath,a=e.triggerName;n.validateFields([i],{triggerName:a})}},this.notifyObservers=function(e,t,r){if(n.subscribable){var i=Xe(Xe({},r),{},{store:n.getFieldsValue(!0)});n.getFieldEntities().forEach((function(n){(0,n.onStoreChange)(e,t,i)}))}else n.forceRootUpdate()},this.triggerDependenciesUpdate=function(e,t){var r=n.getDependencyChildrenFields(t);return r.length&&n.validateFields(r),n.notifyObservers(e,r,{type:"dependenciesUpdate",relatedFields:[t].concat(l(r))}),r},this.updateValue=function(e,t){var r=Bm(e),i=n.store;n.updateStore(Vm(n.store,r,t)),n.notifyObservers(i,[r],{type:"valueUpdate",source:"internal"}),n.notifyWatch([r]);var a=n.triggerDependenciesUpdate(i,r),o=n.callbacks.onValuesChange;o&&o(Um(n.store,[r]),n.getFieldsValue());n.triggerOnFieldsChange([r].concat(l(a)))},this.setFieldsValue=function(e){n.warningUnhooked();var t=n.store;if(e){var r=qm(n.store,e);n.updateStore(r)}n.notifyObservers(t,null,{type:"valueUpdate",source:"external"}),n.notifyWatch()},this.setFieldValue=function(e,t){n.setFields([{name:e,value:t}])},this.getDependencyChildrenFields=function(e){var t=new Set,r=[],i=new pv;n.getFieldEntities().forEach((function(e){(e.props.dependencies||[]).forEach((function(t){var n=Bm(t);i.update(n,(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Set;return t.add(e),t}))}))}));return function e(n){(i.get(n)||new Set).forEach((function(n){if(!t.has(n)){t.add(n);var i=n.getNamePath();n.isFieldDirty()&&i.length&&(r.push(i),e(i))}}))}(e),r},this.triggerOnFieldsChange=function(e,t){var r=n.callbacks.onFieldsChange;if(r){var i=n.getFields();if(t){var a=new pv;t.forEach((function(e){var t=e.name,n=e.errors;a.set(t,n)})),i.forEach((function(e){e.errors=a.get(e.name)||e.errors}))}r(i.filter((function(t){var n=t.name;return Hm(e,n)})),i)}},this.validateFields=function(e,t){n.warningUnhooked();var r=!!e,i=r?e.map(Bm):[],a=[];n.getFieldEntities(!0).forEach((function(o){if(r||i.push(o.getNamePath()),(null===t||void 0===t?void 0:t.recursive)&&r){var s=o.getNamePath();s.every((function(t,n){return e[n]===t||void 0===e[n]}))&&i.push(s)}if(o.props.rules&&o.props.rules.length){var c=o.getNamePath();if(!r||Hm(i,c)){var u=o.validateRules(Xe({validateMessages:Xe(Xe({},zm),n.validateMessages)},t));a.push(u.then((function(){return{name:c,errors:[],warnings:[]}})).catch((function(e){var t,n=[],r=[];return null===(t=e.forEach)||void 0===t||t.call(e,(function(e){var t=e.rule.warningOnly,i=e.errors;t?r.push.apply(r,l(i)):n.push.apply(n,l(i))})),n.length?Promise.reject({name:c,errors:n,warnings:r}):{name:c,errors:n,warnings:r}})))}}}));var o=function(e){var t=!1,n=e.length,r=[];return e.length?new Promise((function(i,a){e.forEach((function(e,o){e.catch((function(e){return t=!0,e})).then((function(e){n-=1,r[o]=e,n>0||(t&&a(r),i(r))}))}))})):Promise.resolve([])}(a);n.lastValidatePromise=o,o.catch((function(e){return e})).then((function(e){var t=e.map((function(e){return e.name}));n.notifyObservers(n.store,t,{type:"validateFinish"}),n.triggerOnFieldsChange(t,e)}));var s=o.then((function(){return n.lastValidatePromise===o?Promise.resolve(n.getFieldsValue(i)):Promise.reject([])})).catch((function(e){var t=e.filter((function(e){return e&&e.errors.length}));return Promise.reject({values:n.getFieldsValue(i),errorFields:t,outOfDate:n.lastValidatePromise!==o})}));return s.catch((function(e){return e})),s},this.submit=function(){n.warningUnhooked(),n.validateFields().then((function(e){var t=n.callbacks.onFinish;if(t)try{t(e)}catch(r){console.error(r)}})).catch((function(e){var t=n.callbacks.onFinishFailed;t&&t(e)}))},this.forceRootUpdate=t}));var gv=function(e){var n=t.useRef(),r=k(t.useState({}),2)[1];if(!n.current)if(e)n.current=e;else{var i=new vv((function(){r({})}));n.current=i.getForm()}return[n.current]},yv=t.createContext({triggerFormChange:function(){},triggerFormFinish:function(){},registerForm:function(){},unregisterForm:function(){}}),xv=function(e){var n=e.validateMessages,r=e.onFormChange,i=e.onFormFinish,a=e.children,o=t.useContext(yv),s=t.useRef({});return t.createElement(yv.Provider,{value:Xe(Xe({},o),{},{validateMessages:Xe(Xe({},o.validateMessages),n),triggerFormChange:function(e,t){r&&r(e,{changedFields:t,forms:s.current}),o.triggerFormChange(e,t)},triggerFormFinish:function(e,t){i&&i(e,{values:t,forms:s.current}),o.triggerFormFinish(e,t)},registerForm:function(e,t){e&&(s.current=Xe(Xe({},s.current),{},Fe({},e,t))),o.registerForm(e,t)},unregisterForm:function(e){var t=Xe({},s.current);delete t[e],s.current=t,o.unregisterForm(e)}})},a)},bv=yv,_v=["name","initialValues","fields","form","preserve","children","component","validateMessages","validateTrigger","onValuesChange","onFieldsChange","onFinish","onFinishFailed"],wv=function(e,n){var r=e.name,i=e.initialValues,a=e.fields,o=e.form,s=e.preserve,c=e.children,d=e.component,f=void 0===d?"form":d,h=e.validateMessages,p=e.validateTrigger,m=void 0===p?"onChange":p,v=e.onValuesChange,g=e.onFieldsChange,y=e.onFinish,x=e.onFinishFailed,b=li(e,_v),_=t.useContext(bv),w=k(gv(o),1)[0],S=w.getInternalHooks(tm),E=S.useSubscribe,C=S.setInitialValues,T=S.setCallbacks,M=S.setValidateMessages,I=S.setPreserve,O=S.destroyForm;t.useImperativeHandle(n,(function(){return w})),t.useEffect((function(){return _.registerForm(r,w),function(){_.unregisterForm(r)}}),[_,w,r]),M(Xe(Xe({},_.validateMessages),h)),T({onValuesChange:v,onFieldsChange:function(e){if(_.triggerFormChange(r,e),g){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];g.apply(void 0,[e].concat(n))}},onFinish:function(e){_.triggerFormFinish(r,e),y&&y(e)},onFinishFailed:x}),I(s);var P,A=t.useRef(null);C(i,!A.current),A.current||(A.current=!0),t.useEffect((function(){return O}),[]);var z="function"===typeof c;z?P=c(w.getFieldsValue(!0),w):P=c;E(!z);var j=t.useRef();t.useEffect((function(){(function(e,t){if(e===t)return!0;if(!e&&t||e&&!t)return!1;if(!e||!t||"object"!==u(e)||"object"!==u(t))return!1;var n=Object.keys(e),r=Object.keys(t);return l(new Set([].concat(n,r))).every((function(n){var r=e[n],i=t[n];return"function"===typeof r&&"function"===typeof i||r===i}))})(j.current||[],a||[])||w.setFields(a||[]),j.current=a}),[a,w]);var R=t.useMemo((function(){return Xe(Xe({},w),{},{validateTrigger:m})}),[w,m]),D=t.createElement(rm.Provider,{value:R},P);return!1===f?D:t.createElement(f,Dt({},b,{onSubmit:function(e){e.preventDefault(),e.stopPropagation(),w.submit()},onReset:function(e){var t;e.preventDefault(),w.resetFields(),null===(t=b.onReset)||void 0===t||t.call(b,e)}}),D)};function kv(e){try{return JSON.stringify(e)}catch(t){return Math.random()}}var Sv=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0],a=void 0===i?[]:i,o=n[1],s=(0,t.useState)(),l=k(s,2),c=l[0],u=l[1],d=(0,t.useMemo)((function(){return kv(c)}),[c]),f=(0,t.useRef)(d);f.current=d;var h=(0,t.useContext)(rm),p=o||h,m=p&&p._init,v=Bm(a),g=(0,t.useRef)(v);return g.current=v,(0,t.useEffect)((function(){if(m){var e=p.getFieldsValue,t=(0,(0,p.getInternalHooks)(tm).registerWatch)((function(e){var t=Fm(e,g.current),n=kv(t);f.current!==n&&(f.current=n,u(t))})),n=Fm(e(),g.current);return u(n),t}}),[m]),c},Ev=t.forwardRef(wv);Ev.FormProvider=xv,Ev.Field=lv,Ev.List=uv,Ev.useForm=gv,Ev.useWatch=Sv;var Cv=Ev,Tv=t.createContext({labelAlign:"right",vertical:!1,itemRef:function(){}}),Mv=t.createContext(null),Iv=t.createContext({prefixCls:""}),Ov=t.createContext({}),Pv=function(e){var n=e.children,r=e.status,i=e.override,a=(0,t.useContext)(Ov),o=(0,t.useMemo)((function(){var e=Object.assign({},a);return i&&delete e.isFormItemInput,r&&(delete e.status,delete e.hasFeedback,delete e.feedbackIcon),e}),[r,i,a]);return t.createElement(Ov.Provider,{value:o},n)};function Av(e){var n=k(t.useState(e),2),r=n[0],i=n[1];return t.useEffect((function(){var t=setTimeout((function(){i(e)}),e.length?0:10);return function(){clearTimeout(t)}}),[e]),r}var zv=function(e){var t,n=e.componentCls,r="".concat(n,"-show-help"),i="".concat(n,"-show-help-item");return Fe({},r,Fe({transition:"opacity ".concat(e.motionDurationSlow," ").concat(e.motionEaseInOut),"&-appear, &-enter":{opacity:0,"&-active":{opacity:1}},"&-leave":{opacity:1,"&-active":{opacity:0}}},i,(Fe(t={overflow:"hidden",transition:"height ".concat(e.motionDurationSlow," ").concat(e.motionEaseInOut,",\n                     opacity ").concat(e.motionDurationSlow," ").concat(e.motionEaseInOut,",\n                     transform ").concat(e.motionDurationSlow," ").concat(e.motionEaseInOut," !important")},"&".concat(i,"-appear, &").concat(i,"-enter"),Fe({transform:"translateY(-5px)",opacity:0},"&-active",{transform:"translateY(0)",opacity:1})),Fe(t,"&".concat(i,"-leave-active"),{transform:"translateY(-5px)"}),t)))},jv=function(e,t){var n,r=e.formItemCls;return Fe({},r,(Fe(n={},"".concat(r,"-label > label"),{height:t}),Fe(n,"".concat(r,"-control-input"),{minHeight:t}),n))},Rv=function(e){var t,n=e.componentCls;return Fe({},e.componentCls,Object.assign(Object.assign(Object.assign({},Hn(e)),function(e){var t;return Fe(t={legend:{display:"block",width:"100%",marginBottom:e.marginLG,padding:0,color:e.colorTextDescription,fontSize:e.fontSizeLG,lineHeight:"inherit",border:0,borderBottom:"".concat(e.lineWidth,"px ").concat(e.lineType," ").concat(e.colorBorder)},label:{fontSize:e.fontSize},'input[type="search"]':{boxSizing:"border-box"},'input[type="radio"], input[type="checkbox"]':{lineHeight:"normal"},'input[type="file"]':{display:"block"},'input[type="range"]':{display:"block",width:"100%"},"select[multiple], select[size]":{height:"auto"}},"input[type='file']:focus,\n  input[type='radio']:focus,\n  input[type='checkbox']:focus",{outline:0,boxShadow:"0 0 0 ".concat(e.controlOutlineWidth,"px ").concat(e.controlOutline)}),Fe(t,"output",{display:"block",paddingTop:15,color:e.colorText,fontSize:e.fontSize,lineHeight:e.lineHeight}),t}(e)),(Fe(t={},"".concat(n,"-text"),{display:"inline-block",paddingInlineEnd:e.paddingSM}),Fe(t,"&-small",Object.assign({},jv(e,e.controlHeightSM))),Fe(t,"&-large",Object.assign({},jv(e,e.controlHeightLG))),t)))},Dv=function(e){var t,n,r,i=e.formItemCls,a=e.iconCls,o=e.componentCls,s=e.rootPrefixCls;return Fe({},i,Object.assign(Object.assign({},Hn(e)),(Fe(r={marginBottom:e.marginLG,verticalAlign:"top","&-with-help":{transition:"none"}},"&-hidden,\n        &-hidden.".concat(s,"-row"),{display:"none"}),Fe(r,"&-has-warning",Fe({},"".concat(i,"-split"),{color:e.colorError})),Fe(r,"&-has-error",Fe({},"".concat(i,"-split"),{color:e.colorWarning})),Fe(r,"".concat(i,"-label"),{display:"inline-block",flexGrow:0,overflow:"hidden",whiteSpace:"nowrap",textAlign:"end",verticalAlign:"middle","&-left":{textAlign:"start"},"&-wrap":{overflow:"unset",lineHeight:"".concat(e.lineHeight," - 0.25em"),whiteSpace:"unset"},"> label":(t={position:"relative",display:"inline-flex",alignItems:"center",maxWidth:"100%",height:e.controlHeight,color:e.colorTextHeading,fontSize:e.fontSize},Fe(t,"> ".concat(a),{fontSize:e.fontSize,verticalAlign:"top"}),Fe(t,"&".concat(i,"-required:not(").concat(i,"-required-mark-optional)::before"),Fe({display:"inline-block",marginInlineEnd:e.marginXXS,color:e.colorError,fontSize:e.fontSize,fontFamily:"SimSun, sans-serif",lineHeight:1,content:'"*"'},"".concat(o,"-hide-required-mark &"),{display:"none"})),Fe(t,"".concat(i,"-optional"),Fe({display:"inline-block",marginInlineStart:e.marginXXS,color:e.colorTextDescription},"".concat(o,"-hide-required-mark &"),{display:"none"})),Fe(t,"".concat(i,"-tooltip"),{color:e.colorTextDescription,cursor:"help",writingMode:"horizontal-tb",marginInlineStart:e.marginXXS}),Fe(t,"&::after",{content:'":"',position:"relative",marginBlock:0,marginInlineStart:e.marginXXS/2,marginInlineEnd:e.marginXS}),Fe(t,"&".concat(i,"-no-colon::after"),{content:'" "'}),t)}),Fe(r,"".concat(i,"-control"),(Fe(n={display:"flex",flexDirection:"column",flexGrow:1},"&:first-child:not([class^=\"'".concat(s,"-col-'\"]):not([class*=\"' ").concat(s,"-col-'\"])"),{width:"100%"}),Fe(n,"&-input",{position:"relative",display:"flex",alignItems:"center",minHeight:e.controlHeight,"&-content":{flex:"auto",maxWidth:"100%"}}),n)),Fe(r,i,{"&-explain, &-extra":{clear:"both",color:e.colorTextDescription,fontSize:e.fontSize,lineHeight:e.lineHeight},"&-explain-connected":{width:"100%"},"&-extra":{minHeight:e.controlHeightSM,transition:"color ".concat(e.motionDurationMid," ").concat(e.motionEaseOut)},"&-explain":{"&-error":{color:e.colorError},"&-warning":{color:e.colorWarning}}}),Fe(r,"&-with-help ".concat(i,"-explain"),{height:"auto",opacity:1}),Fe(r,"".concat(i,"-feedback-icon"),{fontSize:e.fontSize,textAlign:"center",visibility:"visible",animationName:pf,animationDuration:e.motionDurationMid,animationTimingFunction:e.motionEaseOutBack,pointerEvents:"none","&-success":{color:e.colorSuccess},"&-error":{color:e.colorError},"&-warning":{color:e.colorWarning},"&-validating":{color:e.colorPrimary}}),r)))},Lv=function(e){var t,n=e.componentCls,r=e.formItemCls,i=e.rootPrefixCls;return Fe({},"".concat(n,"-horizontal"),(Fe(t={},"".concat(r,"-label"),{flexGrow:0}),Fe(t,"".concat(r,"-control"),{flex:"1 1 0",minWidth:0}),Fe(t,"".concat(r,"-label.").concat(i,"-col-24 + ").concat(r,"-control"),{minWidth:"unset"}),t))},Nv=function(e){var t,n=e.componentCls,r=e.formItemCls;return Fe({},"".concat(n,"-inline"),Fe({display:"flex",flexWrap:"wrap"},r,(Fe(t={flex:"none",flexWrap:"nowrap",marginInlineEnd:e.margin,marginBottom:0,"&-with-help":{marginBottom:e.marginLG}},"> ".concat(r,"-label,\n        > ").concat(r,"-control"),{display:"inline-block",verticalAlign:"top"}),Fe(t,"> ".concat(r,"-label"),{flex:"none"}),Fe(t,"".concat(n,"-text"),{display:"inline-block"}),Fe(t,"".concat(r,"-has-feedback"),{display:"inline-block"}),t)))},Bv=function(e){return{margin:0,padding:"0 0 ".concat(e.paddingXS,"px"),whiteSpace:"initial",textAlign:"start","> label":{margin:0,"&::after":{display:"none"}}}},Fv=function(e){var t,n=e.componentCls,r=e.formItemCls;return Fe(t={},"".concat(r," ").concat(r,"-label"),Bv(e)),Fe(t,n,Fe({},r,Fe({flexWrap:"wrap"},"".concat(r,"-label,\n          ").concat(r,"-control"),{flex:"0 0 100%",maxWidth:"100%"}))),t},Vv=function(e){var t,n=e.componentCls,r=e.formItemCls,i=e.rootPrefixCls;return Fe(t={},"".concat(n,"-vertical"),Fe({},r,Fe({"&-row":{flexDirection:"column"},"&-label > label":{height:"auto"}},"".concat(n,"-item-control"),{width:"100%"}))),Fe(t,"".concat(n,"-vertical ").concat(r,"-label,\n      .").concat(i,"-col-24").concat(r,"-label,\n      .").concat(i,"-col-xl-24").concat(r,"-label"),Bv(e)),Fe(t,"@media (max-width: ".concat(e.screenXSMax,"px)"),[Fv(e),Fe({},n,Fe({},".".concat(i,"-col-xs-24").concat(r,"-label"),Bv(e)))]),Fe(t,"@media (max-width: ".concat(e.screenSMMax,"px)"),Fe({},n,Fe({},".".concat(i,"-col-sm-24").concat(r,"-label"),Bv(e)))),Fe(t,"@media (max-width: ".concat(e.screenMDMax,"px)"),Fe({},n,Fe({},".".concat(i,"-col-md-24").concat(r,"-label"),Bv(e)))),Fe(t,"@media (max-width: ".concat(e.screenLGMax,"px)"),Fe({},n,Fe({},".".concat(i,"-col-lg-24").concat(r,"-label"),Bv(e)))),t},Uv=Xr("Form",(function(e,t){var n=t.rootPrefixCls,r=Gr(e,{formItemCls:"".concat(e.componentCls,"-item"),rootPrefixCls:n});return[Rv(r),Dv(r),zv(r),Lv(r),Nv(r),Vv(r),Qd(r),pf]})),Hv=[];function Gv(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;return{key:"string"===typeof e?e:"".concat(t,"-").concat(r),error:e,errorStatus:n}}function Wv(e){var n=e.help,r=e.helpStatus,i=e.errors,a=void 0===i?Hv:i,o=e.warnings,s=void 0===o?Hv:o,c=e.className,u=e.fieldId,d=e.onVisibleChanged,f=t.useContext(Iv).prefixCls,h="".concat(f,"-item-explain"),p=k(Uv(f),2)[1],m=(0,t.useMemo)((function(){return Zd(f)}),[f]),v=Av(a),g=Av(s),y=t.useMemo((function(){return void 0!==n&&null!==n?[Gv(n,"help",r)]:[].concat(l(v.map((function(e,t){return Gv(e,"error","error",t)}))),l(g.map((function(e,t){return Gv(e,"warning","warning",t)}))))}),[n,r,v,g]),x={};return u&&(x.id="".concat(u,"_help")),t.createElement(Xc,{motionDeadline:m.motionDeadline,motionName:"".concat(f,"-show-help"),visible:!!y.length,onVisibleChanged:d},(function(e){var n=e.className,r=e.style;return t.createElement("div",Object.assign({},x,{className:Ue()(h,n,c,p),style:r,role:"alert"}),t.createElement(qc,Object.assign({keys:y},Zd(f),{motionName:"".concat(f,"-show-help-item"),component:!1}),(function(e){var n=e.key,r=e.error,i=e.errorStatus,a=e.className,o=e.style;return t.createElement("div",{key:n,className:Ue()(a,Fe({},"".concat(h,"-").concat(i),i)),style:o},r)})))}))}var qv=t.createContext(!1),Xv=function(e){var n=e.children,r=e.disabled,i=t.useContext(qv);return t.createElement(qv.Provider,{value:null!==r&&void 0!==r?r:i},n)},Zv=qv,Kv=t.createContext(void 0),Yv=function(e){var n=e.children,r=e.size,i=t.useContext(Kv);return t.createElement(Kv.Provider,{value:r||i},n)},$v=Kv,Jv=function(e){return"object"==typeof e&&null!=e&&1===e.nodeType},Qv=function(e,t){return(!t||"hidden"!==e)&&"visible"!==e&&"clip"!==e},eg=function(e,t){if(e.clientHeight<e.scrollHeight||e.clientWidth<e.scrollWidth){var n=getComputedStyle(e,null);return Qv(n.overflowY,t)||Qv(n.overflowX,t)||function(e){var t=function(e){if(!e.ownerDocument||!e.ownerDocument.defaultView)return null;try{return e.ownerDocument.defaultView.frameElement}catch(e){return null}}(e);return!!t&&(t.clientHeight<e.scrollHeight||t.clientWidth<e.scrollWidth)}(e)}return!1},tg=function(e,t,n,r,i,a,o,s){return a<e&&o>t||a>e&&o<t?0:a<=e&&s<=n||o>=t&&s>=n?a-e-r:o>t&&s<n||a<e&&s>n?o-t+i:0},ng=function(e){var t=e.parentElement;return null==t?e.getRootNode().host||null:t},rg=function(e,t){var n,r,i,a,o,s;if("undefined"==typeof document)return[];var l=t.scrollMode,c=t.block,u=t.inline,d=t.boundary,f=t.skipOverflowHiddenElements,h="function"==typeof d?d:function(e){return e!==d};if(!Jv(e))throw new TypeError("Invalid target");for(var p=document.scrollingElement||document.documentElement,m=[],v=e;Jv(v)&&h(v);){if((v=ng(v))===p){m.push(v);break}null!=v&&v===document.body&&eg(v)&&!eg(document.documentElement)||null!=v&&eg(v,f)&&m.push(v)}for(var g=null!=(r=null==(n=window.visualViewport)?void 0:n.width)?r:innerWidth,y=null!=(a=null==(i=window.visualViewport)?void 0:i.height)?a:innerHeight,x=null!=(o=window.scrollX)?o:pageXOffset,b=null!=(s=window.scrollY)?s:pageYOffset,_=e.getBoundingClientRect(),w=_.height,k=_.width,S=_.top,E=_.right,C=_.bottom,T=_.left,M="start"===c||"nearest"===c?S:"end"===c?C:S+w/2,I="center"===u?T+k/2:"end"===u?E:T,O=[],P=0;P<m.length;P++){var A=m[P],z=A.getBoundingClientRect(),j=z.height,R=z.width,D=z.top,L=z.right,N=z.bottom,B=z.left;if("if-needed"===l&&S>=0&&T>=0&&C<=y&&E<=g&&S>=D&&C<=N&&T>=B&&E<=L)return O;var F=getComputedStyle(A),V=parseInt(F.borderLeftWidth,10),U=parseInt(F.borderTopWidth,10),H=parseInt(F.borderRightWidth,10),G=parseInt(F.borderBottomWidth,10),W=0,q=0,X="offsetWidth"in A?A.offsetWidth-A.clientWidth-V-H:0,Z="offsetHeight"in A?A.offsetHeight-A.clientHeight-U-G:0,K="offsetWidth"in A?0===A.offsetWidth?0:R/A.offsetWidth:0,Y="offsetHeight"in A?0===A.offsetHeight?0:j/A.offsetHeight:0;if(p===A)W="start"===c?M:"end"===c?M-y:"nearest"===c?tg(b,b+y,y,U,G,b+M,b+M+w,w):M-y/2,q="start"===u?I:"center"===u?I-g/2:"end"===u?I-g:tg(x,x+g,g,V,H,x+I,x+I+k,k),W=Math.max(0,W+b),q=Math.max(0,q+x);else{W="start"===c?M-D-U:"end"===c?M-N+G+Z:"nearest"===c?tg(D,N,j,U,G+Z,M,M+w,w):M-(D+j/2)+Z/2,q="start"===u?I-B-V:"center"===u?I-(B+R/2)+X/2:"end"===u?I-L+H+X:tg(B,L,R,V,H+X,I,I+k,k);var $=A.scrollLeft,J=A.scrollTop;M+=J-(W=Math.max(0,Math.min(J+W/Y,A.scrollHeight-j/Y+Z))),I+=$-(q=Math.max(0,Math.min($+q/K,A.scrollWidth-R/K+X)))}O.push({el:A,top:W,left:q})}return O};function ig(e,t){var n=e.isConnected||e.ownerDocument.documentElement.contains(e);if(function(e){return"object"==typeof e&&"function"==typeof e.behavior}(t))return t.behavior(n?rg(e,t):[]);if(n){var r=function(e){return!1===e?{block:"end",inline:"nearest"}:function(e){return e===Object(e)&&0!==Object.keys(e).length}(e)?e:{block:"start",inline:"nearest"}}(t),i=rg(e,r),a="scrollBehavior"in document.body.style;i.forEach((function(e){var t=e.el,n=e.top,i=e.left;t.scroll&&a?t.scroll({top:n,left:i,behavior:r.behavior}):(t.scrollTop=n,t.scrollLeft=i)}))}}var ag=["parentNode"];function og(e){return void 0===e||!1===e?[]:Array.isArray(e)?e:[e]}function sg(e,t){if(e.length){var n=e.join("_");return t?"".concat(t,"_").concat(n):ag.includes(n)?"".concat("form_item","_").concat(n):n}}function lg(e){return og(e).join("_")}function cg(e){var n=k(gv(),1)[0],r=t.useRef({}),i=t.useMemo((function(){return null!==e&&void 0!==e?e:Object.assign(Object.assign({},n),{__INTERNAL__:{itemRef:function(e){return function(t){var n=lg(e);t?r.current[n]=t:delete r.current[n]}}},scrollToField:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=og(e),r=sg(n,i.__INTERNAL__.name),a=r?document.getElementById(r):null;a&&ig(a,Object.assign({scrollMode:"if-needed",block:"nearest"},t))},getFieldInstance:function(e){var t=lg(e);return r.current[t]}})}),[e,n]);return[i]}var ug=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},dg=function(e,n){var r,i=t.useContext($v),a=t.useContext(Zv),o=t.useContext(Ge),s=o.getPrefixCls,l=o.direction,c=o.form,u=e.prefixCls,d=e.className,f=void 0===d?"":d,h=e.size,p=void 0===h?i:h,m=e.disabled,v=void 0===m?a:m,g=e.form,y=e.colon,x=e.labelAlign,b=e.labelWrap,_=e.labelCol,w=e.wrapperCol,S=e.hideRequiredMark,E=e.layout,C=void 0===E?"horizontal":E,T=e.scrollToFirstError,M=e.requiredMark,I=e.onFinishFailed,O=e.name,P=ug(e,["prefixCls","className","size","disabled","form","colon","labelAlign","labelWrap","labelCol","wrapperCol","hideRequiredMark","layout","scrollToFirstError","requiredMark","onFinishFailed","name"]),A=(0,t.useMemo)((function(){return void 0!==M?M:c&&void 0!==c.requiredMark?c.requiredMark:!S}),[S,M,c]),z=null!==y&&void 0!==y?y:null===c||void 0===c?void 0:c.colon,j=s("form",u),R=k(Uv(j),2),D=R[0],L=R[1],N=Ue()(j,(Fe(r={},"".concat(j,"-").concat(C),!0),Fe(r,"".concat(j,"-hide-required-mark"),!1===A),Fe(r,"".concat(j,"-rtl"),"rtl"===l),Fe(r,"".concat(j,"-").concat(p),p),r),L,f),B=k(cg(g),1)[0],F=B.__INTERNAL__;F.name=O;var V=(0,t.useMemo)((function(){return{name:O,labelAlign:x,labelCol:_,labelWrap:b,wrapperCol:w,vertical:"vertical"===C,colon:z,requiredMark:A,itemRef:F.itemRef,form:B}}),[O,x,_,w,C,z,A,B]);t.useImperativeHandle(n,(function(){return B}));return D(t.createElement(Xv,{disabled:v},t.createElement(Yv,{size:p},t.createElement(Tv.Provider,{value:V},t.createElement(Cv,Object.assign({id:O},P,{name:O,onFinishFailed:function(e){null===I||void 0===I||I(e);var t={block:"nearest"};T&&e.errorFields.length&&("object"===typeof T&&(t=T),B.scrollToField(e.errorFields[0].name,t))},form:B,className:N}))))))},fg=t.forwardRef(dg),hg=function(){return{status:(0,t.useContext)(Ov).status}};hg.Context=Ov;var pg=hg;var mg={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm193.5 301.7l-210.6 292a31.8 31.8 0 01-51.7 0L318.5 484.9c-3.8-5.3 0-12.7 6.5-12.7h46.9c10.2 0 19.9 4.9 25.9 13.3l71.2 98.8 157.2-218c6-8.3 15.6-13.3 25.9-13.3H699c6.5 0 10.3 7.4 6.5 12.7z"}}]},name:"check-circle",theme:"filled"},vg=function(e,n){return t.createElement(ki,Xe(Xe({},e),{},{ref:n,icon:mg}))};vg.displayName="CheckCircleFilled";var gg=t.forwardRef(vg),yg={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm165.4 618.2l-66-.3L512 563.4l-99.3 118.4-66.1.3c-4.4 0-8-3.5-8-8 0-1.9.7-3.7 1.9-5.2l130.1-155L340.5 359a8.32 8.32 0 01-1.9-5.2c0-4.4 3.6-8 8-8l66.1.3L512 464.6l99.3-118.4 66-.3c4.4 0 8 3.5 8 8 0 1.9-.7 3.7-1.9 5.2L553.5 514l130 155c1.2 1.5 1.9 3.3 1.9 5.2 0 4.4-3.6 8-8 8z"}}]},name:"close-circle",theme:"filled"},xg=function(e,n){return t.createElement(ki,Xe(Xe({},e),{},{ref:n,icon:yg}))};xg.displayName="CloseCircleFilled";var bg=t.forwardRef(xg),_g={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm-32 232c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v272c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V296zm32 440a48.01 48.01 0 010-96 48.01 48.01 0 010 96z"}}]},name:"exclamation-circle",theme:"filled"},wg=function(e,n){return t.createElement(ki,Xe(Xe({},e),{},{ref:n,icon:_g}))};wg.displayName="ExclamationCircleFilled";var kg=t.forwardRef(wg),Sg={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M988 548c-19.9 0-36-16.1-36-36 0-59.4-11.6-117-34.6-171.3a440.45 440.45 0 00-94.3-139.9 437.71 437.71 0 00-139.9-94.3C629 83.6 571.4 72 512 72c-19.9 0-36-16.1-36-36s16.1-36 36-36c69.1 0 136.2 13.5 199.3 40.3C772.3 66 827 103 874 150c47 47 83.9 101.8 109.7 162.7 26.7 63.1 40.2 130.2 40.2 199.3.1 19.9-16 36-35.9 36z"}}]},name:"loading",theme:"outlined"},Eg=function(e,n){return t.createElement(ki,Xe(Xe({},e),{},{ref:n,icon:Sg}))};Eg.displayName="LoadingOutlined";var Cg=t.forwardRef(Eg),Tg={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}},{tag:"path",attrs:{d:"M623.6 316.7C593.6 290.4 554 276 512 276s-81.6 14.5-111.6 40.7C369.2 344 352 380.7 352 420v7.6c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V420c0-44.1 43.1-80 96-80s96 35.9 96 80c0 31.1-22 59.6-56.1 72.7-21.2 8.1-39.2 22.3-52.1 40.9-13.1 19-19.9 41.8-19.9 64.9V620c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8v-22.7a48.3 48.3 0 0130.9-44.8c59-22.7 97.1-74.7 97.1-132.5.1-39.3-17.1-76-48.3-103.3zM472 732a40 40 0 1080 0 40 40 0 10-80 0z"}}]},name:"question-circle",theme:"outlined"},Mg=function(e,n){return t.createElement(ki,Xe(Xe({},e),{},{ref:n,icon:Tg}))};Mg.displayName="QuestionCircleOutlined";var Ig=t.forwardRef(Mg),Og=(0,t.createContext)(void 0),Pg={items_per_page:"/ page",jump_to:"Go to",jump_to_confirm:"confirm",page:"Page",prev_page:"Previous Page",next_page:"Next Page",prev_5:"Previous 5 Pages",next_5:"Next 5 Pages",prev_3:"Previous 3 Pages",next_3:"Next 3 Pages",page_size:"Page Size"},Ag={locale:"en_US",today:"Today",now:"Now",backToToday:"Back to today",ok:"OK",clear:"Clear",month:"Month",year:"Year",timeSelect:"select time",dateSelect:"select date",weekSelect:"Choose a week",monthSelect:"Choose a month",yearSelect:"Choose a year",decadeSelect:"Choose a decade",yearFormat:"YYYY",dateFormat:"M/D/YYYY",dayFormat:"D",dateTimeFormat:"M/D/YYYY HH:mm:ss",monthBeforeYear:!0,previousMonth:"Previous month (PageUp)",nextMonth:"Next month (PageDown)",previousYear:"Last year (Control + left)",nextYear:"Next year (Control + right)",previousDecade:"Last decade",nextDecade:"Next decade",previousCentury:"Last century",nextCentury:"Next century"},zg={placeholder:"Select time",rangePlaceholder:["Start time","End time"]},jg={lang:Object.assign({placeholder:"Select date",yearPlaceholder:"Select year",quarterPlaceholder:"Select quarter",monthPlaceholder:"Select month",weekPlaceholder:"Select week",rangePlaceholder:["Start date","End date"],rangeYearPlaceholder:["Start year","End year"],rangeQuarterPlaceholder:["Start quarter","End quarter"],rangeMonthPlaceholder:["Start month","End month"],rangeWeekPlaceholder:["Start week","End week"]},Ag),timePickerLocale:Object.assign({},zg)},Rg="${label} is not a valid ${type}",Dg={locale:"en",Pagination:Pg,DatePicker:jg,TimePicker:zg,Calendar:jg,global:{placeholder:"Please select"},Table:{filterTitle:"Filter menu",filterConfirm:"OK",filterReset:"Reset",filterEmptyText:"No filters",filterCheckall:"Select all items",filterSearchPlaceholder:"Search in filters",emptyText:"No data",selectAll:"Select current page",selectInvert:"Invert current page",selectNone:"Clear all data",selectionAll:"Select all data",sortTitle:"Sort",expand:"Expand row",collapse:"Collapse row",triggerDesc:"Click to sort descending",triggerAsc:"Click to sort ascending",cancelSort:"Click to cancel sorting"},Tour:{Next:"Next",Previous:"Previous",Finish:"Finish"},Modal:{okText:"OK",cancelText:"Cancel",justOkText:"OK"},Popconfirm:{okText:"OK",cancelText:"Cancel"},Transfer:{titles:["",""],searchPlaceholder:"Search here",itemUnit:"item",itemsUnit:"items",remove:"Remove",selectCurrent:"Select current page",removeCurrent:"Remove current page",selectAll:"Select all data",removeAll:"Remove all data",selectInvert:"Invert current page"},Upload:{uploading:"Uploading...",removeFile:"Remove file",uploadError:"Upload error",previewFile:"Preview file",downloadFile:"Download file"},Empty:{description:"No data"},Icon:{icon:"icon"},Text:{edit:"Edit",copy:"Copy",copied:"Copied",expand:"Expand"},PageHeader:{back:"Back"},Form:{optional:"(optional)",defaultValidateMessages:{default:"Field validation error for ${label}",required:"Please enter ${label}",enum:"${label} must be one of [${enum}]",whitespace:"${label} cannot be a blank character",date:{format:"${label} date format is invalid",parse:"${label} cannot be converted to a date",invalid:"${label} is an invalid date"},types:{string:Rg,method:Rg,array:Rg,object:Rg,number:Rg,date:Rg,boolean:Rg,integer:Rg,float:Rg,regexp:Rg,email:Rg,url:Rg,hex:Rg},string:{len:"${label} must be ${len} characters",min:"${label} must be at least ${min} characters",max:"${label} must be up to ${max} characters",range:"${label} must be between ${min}-${max} characters"},number:{len:"${label} must be equal to ${len}",min:"${label} must be minimum ${min}",max:"${label} must be maximum ${max}",range:"${label} must be between ${min}-${max}"},array:{len:"Must be ${len} ${label}",min:"At least ${min} ${label}",max:"At most ${max} ${label}",range:"The amount of ${label} must be between ${min}-${max}"},pattern:{mismatch:"${label} does not match the pattern ${pattern}"}}},Image:{preview:"Preview"},QRCode:{expired:"QR code expired",refresh:"Refresh"}},Lg=function(e){var n=e.componentName,r=void 0===n?"global":n,i=e.defaultLocale,a=e.children,o=t.useContext(Og),s=t.useMemo((function(){var e,t=i||Dg[r],n=null!==(e=null===o||void 0===o?void 0:o[r])&&void 0!==e?e:{};return Object.assign(Object.assign({},t instanceof Function?t():t),n||{})}),[r,i,o]);return a(s,t.useMemo((function(){var e=o&&o.locale;return o&&o.exist&&!e?Dg.locale:e}),[o]),o)},Ng=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};var Bg=function(e){var n,r,i=e.prefixCls,a=e.label,o=e.htmlFor,s=e.labelCol,l=e.labelAlign,c=e.colon,u=e.required,d=e.requiredMark,f=e.tooltip,h=function(e,n){var r=t.useContext(Og),i=t.useMemo((function(){var t,i=n||Dg[e],a=null!==(t=null===r||void 0===r?void 0:r[e])&&void 0!==t?t:{};return Object.assign(Object.assign({},"function"===typeof i?i():i),a||{})}),[e,n,r]);return[i]}("Form"),p=k(h,1)[0],m=t.useContext(Tv),v=m.vertical,g=m.labelAlign,y=m.labelCol,x=m.labelWrap,b=m.colon;if(!a)return null;var _=s||y||{},w=l||g,S="".concat(i,"-item-label"),E=Ue()(S,"left"===w&&"".concat(S,"-left"),_.className,Fe({},"".concat(S,"-wrap"),!!x)),C=a,T=!0===c||!1!==b&&!1!==c;T&&!v&&"string"===typeof a&&""!==a.trim()&&(C=a.replace(/[:|\uff1a]\s*$/,""));var M=function(e){return e?"object"!==typeof e||t.isValidElement(e)?{title:e}:e:null}(f);if(M){var I=M.icon,O=void 0===I?t.createElement(Ig,null):I,P=Ng(M,["icon"]),A=t.createElement(dh,Object.assign({},P),t.cloneElement(O,{className:"".concat(i,"-item-tooltip"),title:""}));C=t.createElement(t.Fragment,null,C,A)}"optional"!==d||u||(C=t.createElement(t.Fragment,null,C,t.createElement("span",{className:"".concat(i,"-item-optional"),title:""},(null===p||void 0===p?void 0:p.optional)||(null===(r=Dg.Form)||void 0===r?void 0:r.optional))));var z=Ue()((Fe(n={},"".concat(i,"-item-required"),u),Fe(n,"".concat(i,"-item-required-mark-optional"),"optional"===d),Fe(n,"".concat(i,"-item-no-colon"),!T),n));return t.createElement(Qp,Object.assign({},_,{className:E}),t.createElement("label",{htmlFor:o,className:z,title:"string"===typeof a?a:""},C))},Fg=function(e){var n=e.prefixCls,r=e.status,i=e.wrapperCol,a=e.children,o=e.errors,s=e.warnings,l=e._internalItemRender,c=e.extra,u=e.help,d=e.fieldId,f=e.marginBottom,h=e.onErrorVisibleChanged,p="".concat(n,"-item"),m=t.useContext(Tv),v=i||m.wrapperCol||{},g=Ue()("".concat(p,"-control"),v.className),y=t.useMemo((function(){return Object.assign({},m)}),[m]);delete y.labelCol,delete y.wrapperCol;var x=t.createElement("div",{className:"".concat(p,"-control-input")},t.createElement("div",{className:"".concat(p,"-control-input-content")},a)),b=t.useMemo((function(){return{prefixCls:n,status:r}}),[n,r]),_=null!==f||o.length||s.length?t.createElement("div",{style:{display:"flex",flexWrap:"nowrap"}},t.createElement(Iv.Provider,{value:b},t.createElement(Wv,{fieldId:d,errors:o,warnings:s,help:u,helpStatus:r,className:"".concat(p,"-explain-connected"),onVisibleChanged:h})),!!f&&t.createElement("div",{style:{width:0,height:f}})):null,w={};d&&(w.id="".concat(d,"_extra"));var k=c?t.createElement("div",Object.assign({},w,{className:"".concat(p,"-extra")}),c):null,S=l&&"pro_table_render"===l.mark&&l.render?l.render(e,{input:x,errorList:_,extra:k}):t.createElement(t.Fragment,null,x,_,k);return t.createElement(Tv.Provider,{value:y},t.createElement(Qp,Object.assign({},v,{className:g}),S))},Vg=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},Ug={success:gg,warning:kg,error:bg,validating:Cg};function Hg(e){var n,r=e.prefixCls,i=e.className,a=e.style,o=e.help,s=e.errors,l=e.warnings,c=e.validateStatus,u=e.meta,d=e.hasFeedback,f=e.hidden,h=e.children,p=e.fieldId,m=e.isRequired,v=e.onSubItemMetaChange,g=Vg(e,["prefixCls","className","style","help","errors","warnings","validateStatus","meta","hasFeedback","hidden","children","fieldId","isRequired","onSubItemMetaChange"]),y="".concat(r,"-item"),x=t.useContext(Tv).requiredMark,b=t.useRef(null),_=Av(s),w=Av(l),S=void 0!==o&&null!==o,E=!!(S||s.length||l.length),C=k(t.useState(null),2),T=C[0],M=C[1];_s((function(){if(E&&b.current){var e=getComputedStyle(b.current);M(parseInt(e.marginBottom,10))}}),[E]);var I="";void 0!==c?I=c:u.validating?I="validating":_.length?I="error":w.length?I="warning":u.touched&&(I="success");var O=t.useMemo((function(){var e;if(d){var n=I&&Ug[I];e=n?t.createElement("span",{className:Ue()("".concat(y,"-feedback-icon"),"".concat(y,"-feedback-icon-").concat(I))},t.createElement(n,null)):null}return{status:I,hasFeedback:d,feedbackIcon:e,isFormItemInput:!0}}),[I,d]),P=(Fe(n={},y,!0),Fe(n,"".concat(y,"-with-help"),S||_.length||w.length),Fe(n,"".concat(i),!!i),Fe(n,"".concat(y,"-has-feedback"),I&&d),Fe(n,"".concat(y,"-has-success"),"success"===I),Fe(n,"".concat(y,"-has-warning"),"warning"===I),Fe(n,"".concat(y,"-has-error"),"error"===I),Fe(n,"".concat(y,"-is-validating"),"validating"===I),Fe(n,"".concat(y,"-hidden"),f),n);return t.createElement("div",{className:Ue()(P),style:a,ref:b},t.createElement(Zp,Object.assign({className:"".concat(y,"-row")},Ai(g,["_internalItemRender","colon","dependencies","extra","fieldKey","getValueFromEvent","getValueProps","htmlFor","id","initialValue","isListField","label","labelAlign","labelCol","labelWrap","messageVariables","name","normalize","noStyle","preserve","required","requiredMark","rules","shouldUpdate","trigger","tooltip","validateFirst","validateTrigger","valuePropName","wrapperCol"])),t.createElement(Bg,Object.assign({htmlFor:p,required:m,requiredMark:x},e,{prefixCls:r})),t.createElement(Fg,Object.assign({},e,u,{errors:_,warnings:w,prefixCls:r,status:I,help:o,marginBottom:T,onErrorVisibleChanged:function(e){e||M(null)}}),t.createElement(Mv.Provider,{value:v},t.createElement(Ov.Provider,{value:O},h)))),!!T&&t.createElement("div",{className:"".concat(y,"-margin-offset"),style:{marginBottom:-T}}))}var Gg=t.memo((function(e){return e.children}),(function(e,t){return e.value===t.value&&e.update===t.update&&e.childProps.length===t.childProps.length&&e.childProps.every((function(e,n){return e===t.childProps[n]}))}));var Wg=function(e){var n=e.name,r=e.noStyle,i=e.className,a=e.dependencies,o=e.prefixCls,s=e.shouldUpdate,c=e.rules,u=e.children,d=e.required,f=e.label,h=e.messageVariables,p=e.trigger,m=void 0===p?"onChange":p,v=e.validateTrigger,g=e.hidden,y=t.useContext(Ge).getPrefixCls,x=t.useContext(Tv).name,b="function"===typeof u,_=t.useContext(Mv),w=t.useContext(rm).validateTrigger,S=void 0!==v?v:w,E=function(e){return!(void 0===e||null===e)}(n),C=y("form",o),T=k(Uv(C),2),M=T[0],I=T[1],O=t.useContext(cv),P=t.useRef(),A=function(e){var n=k(t.useState(e),2),r=n[0],i=n[1],a=(0,t.useRef)(null),o=(0,t.useRef)([]),s=(0,t.useRef)(!1);return t.useEffect((function(){return s.current=!1,function(){s.current=!0,js.cancel(a.current),a.current=null}}),[]),[r,function(e){s.current||(null===a.current&&(o.current=[],a.current=js((function(){a.current=null,i((function(e){var t=e;return o.current.forEach((function(e){t=e(t)})),t}))}))),o.current.push(e))}]}({}),z=k(A,2),j=z[0],R=z[1],D=k(Rs((function(){return{errors:[],warnings:[],touched:!1,validating:!1,name:[]}})),2),L=D[0],N=D[1],B=function(e,t){R((function(n){var r=Object.assign({},n),i=[].concat(l(e.name.slice(0,-1)),l(t)).join("__SPLIT__");return e.destroy?delete r[i]:r[i]=e,r}))},F=k(t.useMemo((function(){var e=l(L.errors),t=l(L.warnings);return Object.values(j).forEach((function(n){e.push.apply(e,l(n.errors||[])),t.push.apply(t,l(n.warnings||[]))})),[e,t]}),[j,L.errors,L.warnings]),2),V=F[0],U=F[1],H=function(){var e=t.useContext(Tv).itemRef,n=t.useRef({});return function(t,r){var i=r&&"object"===typeof r&&r.ref,a=t.join("_");return n.current.name===a&&n.current.originRef===i||(n.current.name=a,n.current.originRef=i,n.current.ref=Bo(e(t),i)),n.current.ref}}();function G(n,a,o){return r&&!g?n:t.createElement(Hg,Object.assign({key:"row"},e,{className:Ue()(i,I),prefixCls:C,fieldId:a,isRequired:o,errors:V,warnings:U,meta:L,onSubItemMetaChange:B}),n)}if(!E&&!b&&!a)return M(G(u));var W={};return"string"===typeof f?W.label=f:n&&(W.label=String(n)),h&&(W=Object.assign(Object.assign({},W),h)),M(t.createElement(lv,Object.assign({},e,{messageVariables:W,trigger:m,validateTrigger:S,onMetaChange:function(e){var t=null===O||void 0===O?void 0:O.getKey(e.name);if(N(e.destroy?{errors:[],warnings:[],touched:!1,validating:!1,name:[]}:e,!0),r&&_){var n=e.name;if(e.destroy)n=P.current||n;else if(void 0!==t){var i=k(t,2),a=i[0],o=i[1];n=[a].concat(l(o)),P.current=n}_(e,n)}}}),(function(r,i,o){var f=og(n).length&&i?i.name:[],h=sg(f,x),p=void 0!==d?d:!(!c||!c.some((function(e){if(e&&"object"===typeof e&&e.required&&!e.warningOnly)return!0;if("function"===typeof e){var t=e(o);return t&&t.required&&!t.warningOnly}return!1}))),v=Object.assign({},r),g=null;if(Array.isArray(u)&&E)g=u;else if(b&&(!s&&!a||E));else if(!a||b||E)if(Kd(u)){var y=Object.assign(Object.assign({},u.props),v);if(y.id||(y.id=h),e.help||V.length>0||U.length>0||e.extra){var _=[];(e.help||V.length>0)&&_.push("".concat(h,"_help")),e.extra&&_.push("".concat(h,"_extra")),y["aria-describedby"]=_.join(" ")}V.length>0&&(y["aria-invalid"]="true"),p&&(y["aria-required"]="true"),Vo(u)&&(y.ref=H(f,u)),new Set([].concat(l(og(m)),l(og(S)))).forEach((function(e){y[e]=function(){for(var t,n,r,i,a,o=arguments.length,s=new Array(o),l=0;l<o;l++)s[l]=arguments[l];null===(r=v[e])||void 0===r||(t=r).call.apply(t,[v].concat(s)),null===(a=(i=u.props)[e])||void 0===a||(n=a).call.apply(n,[i].concat(s))}}));var w=[y["aria-required"],y["aria-invalid"],y["aria-describedby"]];g=t.createElement(Gg,{value:v[e.valuePropName||"value"],update:u,childProps:w},Jd(u,y))}else g=b&&(s||a)&&!E?u(o):u;else;return G(g,h,p)})))};Wg.useStatus=pg;var qg=Wg,Xg=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},Zg=function(e){var n=e.prefixCls,r=e.children,i=Xg(e,["prefixCls","children"]),a=(0,t.useContext(Ge).getPrefixCls)("form",n),o=t.useMemo((function(){return{prefixCls:a,status:"error"}}),[a]);return t.createElement(uv,Object.assign({},i),(function(e,n,i){return t.createElement(Iv.Provider,{value:o},r(e.map((function(e){return Object.assign(Object.assign({},e),{fieldKey:e.key})})),n,{errors:i.errors,warnings:i.warnings}))}))};var Kg=fg;Kg.Item=qg,Kg.List=Zg,Kg.ErrorList=Wv,Kg.useForm=cg,Kg.useFormInstance=function(){return(0,t.useContext)(Tv).form},Kg.useWatch=Sv,Kg.Provider=function(e){var n=Ai(e,["prefixCls"]);return t.createElement(xv,Object.assign({},n))},Kg.create=function(){};var Yg=Kg;function $g(e,t,n){var r,i=n.focusElCls,a=n.focus,o=n.borderElCls?"> *":"",s=["hover",a?"focus":null,"active"].filter(Boolean).map((function(e){return"&:".concat(e," ").concat(o)})).join(",");return Fe(r={},"&-item:not(".concat(t,"-last-item)"),{marginInlineEnd:-e.lineWidth}),Fe(r,"&-item",Object.assign(Object.assign(Fe({},s,{zIndex:2}),i?Fe({},"&".concat(i),{zIndex:2}):{}),Fe({},"&[disabled] ".concat(o),{zIndex:0}))),r}function Jg(e,t,n){var r,i=n.borderElCls,a=i?"> ".concat(i):"";return Fe(r={},"&-item:not(".concat(t,"-first-item):not(").concat(t,"-last-item) ").concat(a),{borderRadius:0}),Fe(r,"&-item:not(".concat(t,"-last-item)").concat(t,"-first-item"),Fe({},"& ".concat(a,", &").concat(e,"-sm ").concat(a,", &").concat(e,"-lg ").concat(a),{borderStartEndRadius:0,borderEndEndRadius:0})),Fe(r,"&-item:not(".concat(t,"-first-item)").concat(t,"-last-item"),Fe({},"& ".concat(a,", &").concat(e,"-sm ").concat(a,", &").concat(e,"-lg ").concat(a),{borderStartStartRadius:0,borderEndStartRadius:0})),r}function Qg(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{focus:!0},n=e.componentCls,r="".concat(n,"-compact");return Fe({},r,Object.assign(Object.assign({},$g(e,r,t)),Jg(n,r,t)))}var ey=function(e){return{borderColor:e.inputBorderHoverColor,borderInlineEndWidth:e.lineWidth}},ty=function(e){return{borderColor:e.inputBorderHoverColor,boxShadow:"0 0 0 ".concat(e.controlOutlineWidth,"px ").concat(e.controlOutline),borderInlineEndWidth:e.lineWidth,outline:0}},ny=function(e){return{color:e.colorTextDisabled,backgroundColor:e.colorBgContainerDisabled,borderColor:e.colorBorder,boxShadow:"none",cursor:"not-allowed",opacity:1,"&:hover":Object.assign({},ey(Gr(e,{inputBorderHoverColor:e.colorBorder})))}},ry=function(e){var t=e.inputPaddingVerticalLG,n=e.fontSizeLG,r=e.lineHeightLG,i=e.borderRadiusLG,a=e.inputPaddingHorizontalLG;return{padding:"".concat(t,"px ").concat(a,"px"),fontSize:n,lineHeight:r,borderRadius:i}},iy=function(e){return{padding:"".concat(e.inputPaddingVerticalSM,"px ").concat(e.controlPaddingHorizontalSM-1,"px"),borderRadius:e.borderRadiusSM}},ay=function(e,t){var n,r=e.componentCls,i=e.colorError,a=e.colorWarning,o=e.colorErrorOutline,s=e.colorWarningOutline,l=e.colorErrorBorderHover,c=e.colorWarningBorderHover;return Fe(n={},"&-status-error:not(".concat(t,"-disabled):not(").concat(t,"-borderless)").concat(t),Fe({borderColor:i,"&:hover":{borderColor:l},"&:focus, &-focused":Object.assign({},ty(Gr(e,{inputBorderActiveColor:i,inputBorderHoverColor:i,controlOutline:o})))},"".concat(r,"-prefix, ").concat(r,"-suffix"),{color:i})),Fe(n,"&-status-warning:not(".concat(t,"-disabled):not(").concat(t,"-borderless)").concat(t),Fe({borderColor:a,"&:hover":{borderColor:c},"&:focus, &-focused":Object.assign({},ty(Gr(e,{inputBorderActiveColor:a,inputBorderHoverColor:a,controlOutline:s})))},"".concat(r,"-prefix, ").concat(r,"-suffix"),{color:a})),n},oy=function(e){return Object.assign(Object.assign({position:"relative",display:"inline-block",width:"100%",minWidth:0,padding:"".concat(e.inputPaddingVertical,"px ").concat(e.inputPaddingHorizontal,"px"),color:e.colorText,fontSize:e.fontSize,lineHeight:e.lineHeight,backgroundColor:e.colorBgContainer,backgroundImage:"none",borderWidth:e.lineWidth,borderStyle:e.lineType,borderColor:e.colorBorder,borderRadius:e.borderRadius,transition:"all ".concat(e.motionDurationMid)},{"&::-moz-placeholder":{opacity:1},"&::placeholder":{color:e.colorTextPlaceholder,userSelect:"none"},"&:placeholder-shown":{textOverflow:"ellipsis"}}),{"&:hover":Object.assign({},ey(e)),"&:focus, &-focused":Object.assign({},ty(e)),"&-disabled, &[disabled]":Object.assign({},ny(e)),"&-borderless":{"&, &:hover, &:focus, &-focused, &-disabled, &[disabled]":{backgroundColor:"transparent",border:"none",boxShadow:"none"}},"textarea&":{maxWidth:"100%",height:"auto",minHeight:e.controlHeight,lineHeight:e.lineHeight,verticalAlign:"bottom",transition:"all ".concat(e.motionDurationSlow,", height 0s"),resize:"vertical"},"&-lg":Object.assign({},ry(e)),"&-sm":Object.assign({},iy(e)),"&-rtl":{direction:"rtl"},"&-textarea-rtl":{direction:"rtl"}})},sy=function(e){var t,n=e.componentCls,r=e.controlHeightSM,i=(r-2*e.lineWidth-16)/2;return Fe({},n,Object.assign(Object.assign(Object.assign(Object.assign({},Hn(e)),oy(e)),ay(e,n)),{'&[type="color"]':(t={height:e.controlHeight},Fe(t,"&".concat(n,"-lg"),{height:e.controlHeightLG}),Fe(t,"&".concat(n,"-sm"),{height:r,paddingTop:i,paddingBottom:i}),t),'&[type="search"]::-webkit-search-cancel-button, &[type="search"]::-webkit-search-decoration':{"-webkit-appearance":"none"}}))},ly=function(e){var t,n=e.componentCls,r=e.inputAffixPadding,i=e.colorTextDescription,a=e.motionDurationSlow,o=e.colorIcon,s=e.colorIconHover,l=e.iconCls;return Fe({},"".concat(n,"-affix-wrapper"),Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},oy(e)),(Fe(t={display:"inline-flex"},"&:not(".concat(n,"-affix-wrapper-disabled):hover"),Object.assign(Object.assign({},ey(e)),Fe({zIndex:1},"".concat(n,"-search-with-button &"),{zIndex:0}))),Fe(t,"&-focused, &:focus",{zIndex:1}),Fe(t,"&-disabled",Fe({},"".concat(n,"[disabled]"),{background:"transparent"})),Fe(t,"> input".concat(n),{padding:0,fontSize:"inherit",border:"none",borderRadius:0,outline:"none","&:focus":{boxShadow:"none !important"}}),Fe(t,"&::before",{width:0,visibility:"hidden",content:'"\\a0"'}),Fe(t,"".concat(n),{"&-prefix, &-suffix":{display:"flex",flex:"none",alignItems:"center","> *:not(:last-child)":{marginInlineEnd:e.paddingXS}},"&-show-count-suffix":{color:i},"&-show-count-has-suffix":{marginInlineEnd:e.paddingXXS},"&-prefix":{marginInlineEnd:r},"&-suffix":{marginInlineStart:r}}),t)),function(e){var t,n=e.componentCls;return Fe(t={},"".concat(n,"-clear-icon"),{margin:0,color:e.colorTextQuaternary,fontSize:e.fontSizeIcon,verticalAlign:-1,cursor:"pointer",transition:"color ".concat(e.motionDurationSlow),"&:hover":{color:e.colorTextTertiary},"&:active":{color:e.colorText},"&-hidden":{visibility:"hidden"},"&-has-suffix":{margin:"0 ".concat(e.inputAffixPadding,"px")}}),Fe(t,"&-textarea-with-clear-btn",Fe({padding:"0 !important",border:"0 !important"},"".concat(n,"-clear-icon"),{position:"absolute",insetBlockStart:e.paddingXS,insetInlineEnd:e.paddingXS,zIndex:1})),t}(e)),Fe({},"".concat(l).concat(n,"-password-icon"),{color:o,cursor:"pointer",transition:"all ".concat(a),"&:hover":{color:s}})),ay(e,"".concat(n,"-affix-wrapper"))))},cy=function(e){var t=e.componentCls,n=e.colorError,r=e.colorSuccess,i=e.borderRadiusLG,a=e.borderRadiusSM;return Fe({},"".concat(t,"-group"),Object.assign(Object.assign(Object.assign({},Hn(e)),function(e){var t,n,r,i,a,o,s,l=e.componentCls,c=e.antCls;return Fe(s={position:"relative",display:"table",width:"100%",borderCollapse:"separate",borderSpacing:0},"&[class*='col-']",{paddingInlineEnd:e.paddingXS,"&:last-child":{paddingInlineEnd:0}}),Fe(s,"&-lg ".concat(l,", &-lg > ").concat(l,"-group-addon"),Object.assign({},ry(e))),Fe(s,"&-sm ".concat(l,", &-sm > ").concat(l,"-group-addon"),Object.assign({},iy(e))),Fe(s,"&-lg ".concat(c,"-select-single ").concat(c,"-select-selector"),{height:e.controlHeightLG}),Fe(s,"&-sm ".concat(c,"-select-single ").concat(c,"-select-selector"),{height:e.controlHeightSM}),Fe(s,"> ".concat(l),{display:"table-cell","&:not(:first-child):not(:last-child)":{borderRadius:0}}),Fe(s,"".concat(l,"-group"),(Fe(r={},"&-addon, &-wrap",{display:"table-cell",width:1,whiteSpace:"nowrap",verticalAlign:"middle","&:not(:first-child):not(:last-child)":{borderRadius:0}}),Fe(r,"&-wrap > *",{display:"block !important"}),Fe(r,"&-addon",(Fe(n={position:"relative",padding:"0 ".concat(e.inputPaddingHorizontal,"px"),color:e.colorText,fontWeight:"normal",fontSize:e.fontSize,textAlign:"center",backgroundColor:e.colorFillAlter,border:"".concat(e.lineWidth,"px ").concat(e.lineType," ").concat(e.colorBorder),borderRadius:e.borderRadius,transition:"all ".concat(e.motionDurationSlow),lineHeight:1},"".concat(c,"-select"),(Fe(t={margin:"-".concat(e.inputPaddingVertical+1,"px -").concat(e.inputPaddingHorizontal,"px")},"&".concat(c,"-select-single:not(").concat(c,"-select-customize-input)"),Fe({},"".concat(c,"-select-selector"),{backgroundColor:"inherit",border:"".concat(e.lineWidth,"px ").concat(e.lineType," transparent"),boxShadow:"none"})),Fe(t,"&-open, &-focused",Fe({},"".concat(c,"-select-selector"),{color:e.colorPrimary})),t)),Fe(n,"".concat(c,"-cascader-picker"),Fe({margin:"-9px -".concat(e.inputPaddingHorizontal,"px"),backgroundColor:"transparent"},"".concat(c,"-cascader-input"),{textAlign:"start",border:0,boxShadow:"none"})),n)),Fe(r,"&-addon:first-child",{borderInlineEnd:0}),Fe(r,"&-addon:last-child",{borderInlineStart:0}),r)),Fe(s,"".concat(l),{width:"100%",marginBottom:0,textAlign:"inherit","&:focus":{zIndex:1,borderInlineEndWidth:1},"&:hover":Fe({zIndex:1,borderInlineEndWidth:1},"".concat(l,"-search-with-button &"),{zIndex:0})}),Fe(s,"> ".concat(l,":first-child, ").concat(l,"-group-addon:first-child"),Fe({borderStartEndRadius:0,borderEndEndRadius:0},"".concat(c,"-select ").concat(c,"-select-selector"),{borderStartEndRadius:0,borderEndEndRadius:0})),Fe(s,"> ".concat(l,"-affix-wrapper"),(Fe(i={},"&:not(:first-child) ".concat(l),{borderStartStartRadius:0,borderEndStartRadius:0}),Fe(i,"&:not(:last-child) ".concat(l),{borderStartEndRadius:0,borderEndEndRadius:0}),i)),Fe(s,"> ".concat(l,":last-child, ").concat(l,"-group-addon:last-child"),Fe({borderStartStartRadius:0,borderEndStartRadius:0},"".concat(c,"-select ").concat(c,"-select-selector"),{borderStartStartRadius:0,borderEndStartRadius:0})),Fe(s,"".concat(l,"-affix-wrapper"),Fe({"&:not(:last-child)":Fe({borderStartEndRadius:0,borderEndEndRadius:0},"".concat(l,"-search &"),{borderStartStartRadius:e.borderRadius,borderEndStartRadius:e.borderRadius})},"&:not(:first-child), ".concat(l,"-search &:not(:first-child)"),{borderStartStartRadius:0,borderEndStartRadius:0})),Fe(s,"&".concat(l,"-group-compact"),Object.assign(Object.assign({display:"block"},{"&::before":{display:"table",content:'""'},"&::after":{display:"table",clear:"both",content:'""'}}),(Fe(o={},"".concat(l,"-group-addon, ").concat(l,"-group-wrap, > ").concat(l),{"&:not(:first-child):not(:last-child)":{borderInlineEndWidth:e.lineWidth,"&:hover":{zIndex:1},"&:focus":{zIndex:1}}}),Fe(o,"& > *",{display:"inline-block",float:"none",verticalAlign:"top",borderRadius:0}),Fe(o,"& > ".concat(l,"-affix-wrapper"),{display:"inline-flex"}),Fe(o,"& > ".concat(c,"-picker-range"),{display:"inline-flex"}),Fe(o,"& > *:not(:last-child)",{marginInlineEnd:-e.lineWidth,borderInlineEndWidth:e.lineWidth}),Fe(o,"".concat(l),{float:"none"}),Fe(o,"& > ".concat(c,"-select > ").concat(c,"-select-selector,\n      & > ").concat(c,"-select-auto-complete ").concat(l,",\n      & > ").concat(c,"-cascader-picker ").concat(l,",\n      & > ").concat(l,"-group-wrapper ").concat(l),{borderInlineEndWidth:e.lineWidth,borderRadius:0,"&:hover":{zIndex:1},"&:focus":{zIndex:1}}),Fe(o,"& > ".concat(c,"-select-focused"),{zIndex:1}),Fe(o,"& > ".concat(c,"-select > ").concat(c,"-select-arrow"),{zIndex:1}),Fe(o,"& > *:first-child,\n      & > ".concat(c,"-select:first-child > ").concat(c,"-select-selector,\n      & > ").concat(c,"-select-auto-complete:first-child ").concat(l,",\n      & > ").concat(c,"-cascader-picker:first-child ").concat(l),{borderStartStartRadius:e.borderRadius,borderEndStartRadius:e.borderRadius}),Fe(o,"& > *:last-child,\n      & > ".concat(c,"-select:last-child > ").concat(c,"-select-selector,\n      & > ").concat(c,"-cascader-picker:last-child ").concat(l,",\n      & > ").concat(c,"-cascader-picker-focused:last-child ").concat(l),{borderInlineEndWidth:e.lineWidth,borderStartEndRadius:e.borderRadius,borderEndEndRadius:e.borderRadius}),Fe(o,"& > ".concat(c,"-select-auto-complete ").concat(l),{verticalAlign:"top"}),Fe(o,"".concat(l,"-group-wrapper + ").concat(l,"-group-wrapper"),Fe({marginInlineStart:-e.lineWidth},"".concat(l,"-affix-wrapper"),{borderRadius:0})),Fe(o,"".concat(l,"-group-wrapper:not(:last-child)"),Fe({},"&".concat(l,"-search > ").concat(l,"-group"),(Fe(a={},"& > ".concat(l,"-group-addon > ").concat(l,"-search-button"),{borderRadius:0}),Fe(a,"& > ".concat(l),{borderStartStartRadius:e.borderRadius,borderStartEndRadius:0,borderEndEndRadius:0,borderEndStartRadius:e.borderRadius}),a))),o))),s}(e)),{"&-rtl":{direction:"rtl"},"&-wrapper":{display:"inline-block",width:"100%",textAlign:"start",verticalAlign:"top","&-rtl":{direction:"rtl"},"&-lg":Fe({},"".concat(t,"-group-addon"),{borderRadius:i}),"&-sm":Fe({},"".concat(t,"-group-addon"),{borderRadius:a}),"&-status-error":Fe({},"".concat(t,"-group-addon"),{color:n,borderColor:n}),"&-status-warning":Fe({},"".concat(t,"-group-addon:last-child"),{color:r,borderColor:r})}}))},uy=function(e){var t,n,r,i=e.componentCls,a=e.antCls,o="".concat(i,"-search");return Fe({},o,(Fe(r={},"".concat(i),{"&:hover, &:focus":Fe({borderColor:e.colorPrimaryHover},"+ ".concat(i,"-group-addon ").concat(o,"-button:not(").concat(a,"-btn-primary)"),{borderInlineStartColor:e.colorPrimaryHover})}),Fe(r,"".concat(i,"-affix-wrapper"),{borderRadius:0}),Fe(r,"".concat(i,"-lg"),{lineHeight:e.lineHeightLG-2e-4}),Fe(r,"> ".concat(i,"-group"),Fe({},"> ".concat(i,"-group-addon:last-child"),(Fe(t={insetInlineStart:-1,padding:0,border:0},"".concat(o,"-button"),{paddingTop:0,paddingBottom:0,borderStartStartRadius:0,borderStartEndRadius:e.borderRadius,borderEndEndRadius:e.borderRadius,borderEndStartRadius:0}),Fe(t,"".concat(o,"-button:not(").concat(a,"-btn-primary)"),Fe({color:e.colorTextDescription,"&:hover":{color:e.colorPrimaryHover},"&:active":{color:e.colorPrimaryActive}},"&".concat(a,"-btn-loading::before"),{insetInlineStart:0,insetInlineEnd:0,insetBlockStart:0,insetBlockEnd:0})),t))),Fe(r,"".concat(o,"-button"),{height:e.controlHeight,"&:hover, &:focus":{zIndex:1}}),Fe(r,"&-large ".concat(o,"-button"),{height:e.controlHeightLG}),Fe(r,"&-small ".concat(o,"-button"),{height:e.controlHeightSM}),Fe(r,"&-rtl",{direction:"rtl"}),Fe(r,"&".concat(i,"-compact-item"),(Fe(n={},"&:not(".concat(i,"-compact-last-item)"),Fe({},"".concat(i,"-group-addon"),Fe({},"".concat(i,"-search-button"),{marginInlineEnd:-e.lineWidth,borderRadius:0}))),Fe(n,"&:not(".concat(i,"-compact-first-item)"),Fe({},"".concat(i,",").concat(i,"-affix-wrapper"),{borderRadius:0})),Fe(n,"> ".concat(i,"-group-addon ").concat(i,"-search-button,\n        > ").concat(i,",\n        ").concat(i,"-affix-wrapper"),{"&:hover,&:focus,&:active":{zIndex:2}}),Fe(n,"> ".concat(i,"-affix-wrapper-focused"),{zIndex:2}),n)),r))};function dy(e){return Gr(e,{inputAffixPadding:e.paddingXXS,inputPaddingVertical:Math.max(Math.round((e.controlHeight-e.fontSize*e.lineHeight)/2*10)/10-e.lineWidth,3),inputPaddingVerticalLG:Math.ceil((e.controlHeightLG-e.fontSizeLG*e.lineHeightLG)/2*10)/10-e.lineWidth,inputPaddingVerticalSM:Math.max(Math.round((e.controlHeightSM-e.fontSize*e.lineHeight)/2*10)/10-e.lineWidth,0),inputPaddingHorizontal:e.paddingSM-e.lineWidth,inputPaddingHorizontalSM:e.paddingXS-e.lineWidth,inputPaddingHorizontalLG:e.controlPaddingHorizontal-e.lineWidth,inputBorderHoverColor:e.colorPrimaryHover,inputBorderActiveColor:e.colorPrimaryHover})}var fy=function(e){var t,n,r=e.componentCls,i=e.inputPaddingHorizontal,a=e.paddingLG,o="".concat(r,"-textarea");return Fe({},o,(Fe(n={position:"relative"},"".concat(o,"-suffix"),{position:"absolute",top:0,insetInlineEnd:i,bottom:0,zIndex:1,display:"inline-flex",alignItems:"center",margin:"auto"}),Fe(n,"&-status-error,\n        &-status-warning,\n        &-status-success,\n        &-status-validating",Fe({},"&".concat(o,"-has-feedback"),Fe({},"".concat(r),{paddingInlineEnd:a}))),Fe(n,"&-show-count",(Fe(t={},"> ".concat(r),{height:"100%"}),Fe(t,"&::after",{color:e.colorTextDescription,whiteSpace:"nowrap",content:"attr(data-count)",pointerEvents:"none",float:"right"}),t)),Fe(n,"&-rtl",{"&::after":{float:"left"}}),n))},hy=Xr("Input",(function(e){var t=dy(e);return[sy(t),fy(t),ly(t),cy(t),uy(t),Qg(t)]})),py=function(e){var n,r=(0,t.useContext)(Ge),i=r.getPrefixCls,a=r.direction,o=e.prefixCls,s=e.className,l=void 0===s?"":s,c=i("input-group",o),u=i("input"),d=k(hy(u),2),f=d[0],h=d[1],p=Ue()(c,(Fe(n={},"".concat(c,"-lg"),"large"===e.size),Fe(n,"".concat(c,"-sm"),"small"===e.size),Fe(n,"".concat(c,"-compact"),e.compact),Fe(n,"".concat(c,"-rtl"),"rtl"===a),n),h,l),m=(0,t.useContext)(Ov),v=(0,t.useMemo)((function(){return Object.assign(Object.assign({},m),{isFormItemInput:!1})}),[m]);return f(t.createElement("span",{className:p,style:e.style,onMouseEnter:e.onMouseEnter,onMouseLeave:e.onMouseLeave,onFocus:e.onFocus,onBlur:e.onBlur},t.createElement(Ov.Provider,{value:v},e.children)))};function my(e){return!(!e.addonBefore&&!e.addonAfter)}function vy(e){return!!(e.prefix||e.suffix||e.allowClear)}function gy(e,t,n,r){if(n){var i=t;if("click"===t.type){var a=e.cloneNode(!0);return i=Object.create(t,{target:{value:a},currentTarget:{value:a}}),a.value="",void n(i)}if(void 0!==r)return i=Object.create(t,{target:{value:e},currentTarget:{value:e}}),e.value=r,void n(i);n(i)}}function yy(e){return"undefined"===typeof e||null===e?"":String(e)}var xy=function(e){var n=e.inputElement,r=e.prefixCls,i=e.prefix,a=e.suffix,o=e.addonBefore,s=e.addonAfter,l=e.className,c=e.style,d=e.affixWrapperClassName,f=e.groupClassName,h=e.wrapperClassName,p=e.disabled,m=e.readOnly,v=e.focused,g=e.triggerFocus,y=e.allowClear,x=e.value,b=e.handleReset,_=e.hidden,w=(0,t.useRef)(null),k=(0,t.cloneElement)(n,{value:x,hidden:_});if(vy(e)){var S,E="".concat(r,"-affix-wrapper"),C=Ue()(E,(Fe(S={},"".concat(E,"-disabled"),p),Fe(S,"".concat(E,"-focused"),v),Fe(S,"".concat(E,"-readonly"),m),Fe(S,"".concat(E,"-input-with-clear-btn"),a&&y&&x),S),!my(e)&&l,d),T=(a||y)&&t.createElement("span",{className:"".concat(r,"-suffix")},function(){var e;if(!y)return null;var n=!p&&!m&&x,i="".concat(r,"-clear-icon"),o="object"===u(y)&&null!==y&&void 0!==y&&y.clearIcon?y.clearIcon:"\u2716";return t.createElement("span",{onClick:b,onMouseDown:function(e){return e.preventDefault()},className:Ue()(i,(e={},Fe(e,"".concat(i,"-hidden"),!n),Fe(e,"".concat(i,"-has-suffix"),!!a),e)),role:"button",tabIndex:-1},o)}(),a);k=t.createElement("span",{className:C,style:c,hidden:!my(e)&&_,onClick:function(e){var t;null!==(t=w.current)&&void 0!==t&&t.contains(e.target)&&(null===g||void 0===g||g())},ref:w},i&&t.createElement("span",{className:"".concat(r,"-prefix")},i),(0,t.cloneElement)(n,{style:null,value:x,hidden:null}),T)}if(my(e)){var M="".concat(r,"-group"),I="".concat(M,"-addon"),O=Ue()("".concat(r,"-wrapper"),M,h),P=Ue()("".concat(r,"-group-wrapper"),l,f);return t.createElement("span",{className:P,style:c,hidden:_},t.createElement("span",{className:O},o&&t.createElement("span",{className:I},o),(0,t.cloneElement)(k,{style:null,hidden:null}),s&&t.createElement("span",{className:I},s)))}return k},by=["autoComplete","onChange","onFocus","onBlur","onPressEnter","onKeyDown","prefixCls","disabled","htmlSize","className","maxLength","suffix","showCount","type","inputClassName"],_y=(0,t.forwardRef)((function(e,n){var r=e.autoComplete,i=e.onChange,a=e.onFocus,o=e.onBlur,s=e.onPressEnter,c=e.onKeyDown,d=e.prefixCls,f=void 0===d?"rc-input":d,h=e.disabled,p=e.htmlSize,m=e.className,v=e.maxLength,g=e.suffix,y=e.showCount,x=e.type,b=void 0===x?"text":x,_=e.inputClassName,w=li(e,by),S=k(Js(e.defaultValue,{value:e.value}),2),E=S[0],C=S[1],T=k((0,t.useState)(!1),2),M=T[0],I=T[1],O=(0,t.useRef)(null),P=function(e){O.current&&function(e,t){if(e){e.focus(t);var n=(t||{}).cursor;if(n){var r=e.value.length;switch(n){case"start":e.setSelectionRange(0,0);break;case"end":e.setSelectionRange(r,r);break;default:e.setSelectionRange(0,r)}}}}(O.current,e)};(0,t.useImperativeHandle)(n,(function(){return{focus:P,blur:function(){var e;null===(e=O.current)||void 0===e||e.blur()},setSelectionRange:function(e,t,n){var r;null===(r=O.current)||void 0===r||r.setSelectionRange(e,t,n)},select:function(){var e;null===(e=O.current)||void 0===e||e.select()},input:O.current}})),(0,t.useEffect)((function(){I((function(e){return(!e||!h)&&e}))}),[h]);var A=function(t){void 0===e.value&&C(t.target.value),O.current&&gy(O.current,t,i)},z=function(e){s&&"Enter"===e.key&&s(e),null===c||void 0===c||c(e)},j=function(e){I(!0),null===a||void 0===a||a(e)},R=function(e){I(!1),null===o||void 0===o||o(e)};return t.createElement(xy,Dt({},w,{prefixCls:f,className:m,inputElement:function(){var n=Ai(e,["prefixCls","onPressEnter","addonBefore","addonAfter","prefix","suffix","allowClear","defaultValue","showCount","affixWrapperClassName","groupClassName","inputClassName","wrapperClassName","htmlSize"]);return t.createElement("input",Dt({autoComplete:r},n,{onChange:A,onFocus:j,onBlur:R,onKeyDown:z,className:Ue()(f,Fe({},"".concat(f,"-disabled"),h),_,!my(e)&&!vy(e)&&m),ref:O,size:p,type:b}))}(),handleReset:function(e){C(""),P(),O.current&&gy(O.current,e,i)},value:yy(E),focused:M,triggerFocus:P,suffix:function(){var e=Number(v)>0;if(g||y){var n=yy(E),r=l(n).length,i="object"===u(y)?y.formatter({value:n,count:r,maxLength:v}):"".concat(r).concat(e?" / ".concat(v):"");return t.createElement(t.Fragment,null,!!y&&t.createElement("span",{className:Ue()("".concat(f,"-show-count-suffix"),Fe({},"".concat(f,"-show-count-has-suffix"),!!g))},i),g)}return null}(),disabled:h}))})),wy=_y,ky=t.createContext(null),Sy=function(e,n){var r=t.useContext(ky),i=t.useMemo((function(){var t;if(!r)return"";var i=r.compactDirection,a=r.isFirstItem,o=r.isLastItem,s="vertical"===i?"-vertical-":"-";return Ue()((Fe(t={},"".concat(e,"-compact").concat(s,"item"),!0),Fe(t,"".concat(e,"-compact").concat(s,"first-item"),a),Fe(t,"".concat(e,"-compact").concat(s,"last-item"),o),Fe(t,"".concat(e,"-compact").concat(s,"item-rtl"),"rtl"===n),t))}),[e,n,r]);return{compactSize:null===r||void 0===r?void 0:r.compactSize,compactDirection:null===r||void 0===r?void 0:r.compactDirection,compactItemClassnames:i}},Ey=function(e){var n=e.children;return t.createElement(ky.Provider,{value:null},n)};function Cy(e,t,n){var r;return Ue()((Fe(r={},"".concat(e,"-status-success"),"success"===t),Fe(r,"".concat(e,"-status-warning"),"warning"===t),Fe(r,"".concat(e,"-status-error"),"error"===t),Fe(r,"".concat(e,"-status-validating"),"validating"===t),Fe(r,"".concat(e,"-has-feedback"),n),r))}var Ty=function(e,t){return t||e};function My(e,n){var r=(0,t.useRef)([]),i=function(){r.current.push(setTimeout((function(){var t,n,r,i;(null===(t=e.current)||void 0===t?void 0:t.input)&&"password"===(null===(n=e.current)||void 0===n?void 0:n.input.getAttribute("type"))&&(null===(r=e.current)||void 0===r?void 0:r.input.hasAttribute("value"))&&(null===(i=e.current)||void 0===i||i.input.removeAttribute("value"))})))};return(0,t.useEffect)((function(){return n&&i(),function(){return r.current.forEach((function(e){e&&clearTimeout(e)}))}}),[]),i}var Iy=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};function Oy(e,t,n,r){if(n){var i=t;if("click"===t.type){var a=e.cloneNode(!0);return i=Object.create(t,{target:{value:a},currentTarget:{value:a}}),a.value="",void n(i)}if(void 0!==r)return i=Object.create(t,{target:{value:e},currentTarget:{value:e}}),e.value=r,void n(i);n(i)}}var Py=(0,t.forwardRef)((function(e,n){var r,i,a,o=e.prefixCls,s=e.bordered,l=void 0===s||s,c=e.status,u=e.size,d=e.disabled,f=e.onBlur,h=e.onFocus,p=e.suffix,m=e.allowClear,v=e.addonAfter,g=e.addonBefore,y=e.className,x=e.onChange,b=Iy(e,["prefixCls","bordered","status","size","disabled","onBlur","onFocus","suffix","allowClear","addonAfter","addonBefore","className","onChange"]),_=t.useContext(Ge),w=_.getPrefixCls,S=_.direction,E=_.input,C=w("input",o),T=(0,t.useRef)(null),M=k(hy(C),2),I=M[0],O=M[1],P=Sy(C,S),A=P.compactSize,z=P.compactItemClassnames,j=t.useContext($v),R=A||u||j,D=t.useContext(Zv),L=null!==d&&void 0!==d?d:D,N=(0,t.useContext)(Ov),B=N.status,F=N.hasFeedback,V=N.feedbackIcon,U=Ty(B,c),H=function(e){return!!(e.prefix||e.suffix||e.allowClear)}(e)||!!F,G=(0,t.useRef)(H);(0,t.useEffect)((function(){H&&G.current,G.current=H}),[H]);var W,q=My(T,!0),X=(F||p)&&t.createElement(t.Fragment,null,p,F&&V);return"object"===typeof m&&(null===m||void 0===m?void 0:m.clearIcon)?W=m:m&&(W={clearIcon:t.createElement(bg,null)}),I(t.createElement(wy,Object.assign({ref:Bo(n,T),prefixCls:C,autoComplete:null===E||void 0===E?void 0:E.autoComplete},b,{disabled:L,onBlur:function(e){q(),null===f||void 0===f||f(e)},onFocus:function(e){q(),null===h||void 0===h||h(e)},suffix:X,allowClear:W,className:Ue()(y,z),onChange:function(e){q(),null===x||void 0===x||x(e)},addonAfter:v&&t.createElement(Ey,null,t.createElement(Pv,{override:!0,status:!0},v)),addonBefore:g&&t.createElement(Ey,null,t.createElement(Pv,{override:!0,status:!0},g)),inputClassName:Ue()((r={},Fe(r,"".concat(C,"-sm"),"small"===R),Fe(r,"".concat(C,"-lg"),"large"===R),Fe(r,"".concat(C,"-rtl"),"rtl"===S),Fe(r,"".concat(C,"-borderless"),!l),r),!H&&Cy(C,U),O),affixWrapperClassName:Ue()((i={},Fe(i,"".concat(C,"-affix-wrapper-sm"),"small"===R),Fe(i,"".concat(C,"-affix-wrapper-lg"),"large"===R),Fe(i,"".concat(C,"-affix-wrapper-rtl"),"rtl"===S),Fe(i,"".concat(C,"-affix-wrapper-borderless"),!l),i),Cy("".concat(C,"-affix-wrapper"),U,F),O),wrapperClassName:Ue()(Fe({},"".concat(C,"-group-rtl"),"rtl"===S),O),groupClassName:Ue()((a={},Fe(a,"".concat(C,"-group-wrapper-sm"),"small"===R),Fe(a,"".concat(C,"-group-wrapper-lg"),"large"===R),Fe(a,"".concat(C,"-group-wrapper-rtl"),"rtl"===S),a),Cy("".concat(C,"-group-wrapper"),U,F),O)})))})),Ay=Py,zy={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M942.2 486.2Q889.47 375.11 816.7 305l-50.88 50.88C807.31 395.53 843.45 447.4 874.7 512 791.5 684.2 673.4 766 512 766q-72.67 0-133.87-22.38L323 798.75Q408 838 512 838q288.3 0 430.2-300.3a60.29 60.29 0 000-51.5zm-63.57-320.64L836 122.88a8 8 0 00-11.32 0L715.31 232.2Q624.86 186 512 186q-288.3 0-430.2 300.3a60.3 60.3 0 000 51.5q56.69 119.4 136.5 191.41L112.48 835a8 8 0 000 11.31L155.17 889a8 8 0 0011.31 0l712.15-712.12a8 8 0 000-11.32zM149.3 512C232.6 339.8 350.7 258 512 258c54.54 0 104.13 9.36 149.12 28.39l-70.3 70.3a176 176 0 00-238.13 238.13l-83.42 83.42C223.1 637.49 183.3 582.28 149.3 512zm246.7 0a112.11 112.11 0 01146.2-106.69L401.31 546.2A112 112 0 01396 512z"}},{tag:"path",attrs:{d:"M508 624c-3.46 0-6.87-.16-10.25-.47l-52.82 52.82a176.09 176.09 0 00227.42-227.42l-52.82 52.82c.31 3.38.47 6.79.47 10.25a111.94 111.94 0 01-112 112z"}}]},name:"eye-invisible",theme:"outlined"},jy=function(e,n){return t.createElement(ki,Xe(Xe({},e),{},{ref:n,icon:zy}))};jy.displayName="EyeInvisibleOutlined";var Ry=t.forwardRef(jy),Dy={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M942.2 486.2C847.4 286.5 704.1 186 512 186c-192.2 0-335.4 100.5-430.2 300.3a60.3 60.3 0 000 51.5C176.6 737.5 319.9 838 512 838c192.2 0 335.4-100.5 430.2-300.3 7.7-16.2 7.7-35 0-51.5zM512 766c-161.3 0-279.4-81.8-362.7-254C232.6 339.8 350.7 258 512 258c161.3 0 279.4 81.8 362.7 254C791.5 684.2 673.4 766 512 766zm-4-430c-97.2 0-176 78.8-176 176s78.8 176 176 176 176-78.8 176-176-78.8-176-176-176zm0 288c-61.9 0-112-50.1-112-112s50.1-112 112-112 112 50.1 112 112-50.1 112-112 112z"}}]},name:"eye",theme:"outlined"},Ly=function(e,n){return t.createElement(ki,Xe(Xe({},e),{},{ref:n,icon:Dy}))};Ly.displayName="EyeOutlined";var Ny=t.forwardRef(Ly),By=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},Fy=function(e){return e?t.createElement(Ny,null):t.createElement(Ry,null)},Vy={click:"onClick",hover:"onMouseOver"},Uy=t.forwardRef((function(e,n){var r=e.visibilityToggle,i=void 0===r||r,a="object"===typeof i&&void 0!==i.visible,o=k((0,t.useState)((function(){return!!a&&i.visible})),2),s=o[0],l=o[1],c=(0,t.useRef)(null);t.useEffect((function(){a&&l(i.visible)}),[a,i]);var u=My(c),d=function(){e.disabled||(s&&u(),l((function(e){var t,n=!e;return"object"===typeof i&&(null===(t=i.onVisibleChange)||void 0===t||t.call(i,n)),n})))},f=e.className,h=e.prefixCls,p=e.inputPrefixCls,m=e.size,v=By(e,["className","prefixCls","inputPrefixCls","size"]),g=t.useContext(Ge).getPrefixCls,y=g("input",p),x=g("input-password",h),b=i&&function(n){var r,i=e.action,a=void 0===i?"click":i,o=e.iconRender,l=Vy[a]||"",c=(void 0===o?Fy:o)(s),u=(Fe(r={},l,d),Fe(r,"className","".concat(n,"-icon")),Fe(r,"key","passwordIcon"),Fe(r,"onMouseDown",(function(e){e.preventDefault()})),Fe(r,"onMouseUp",(function(e){e.preventDefault()})),r);return t.cloneElement(t.isValidElement(c)?c:t.createElement("span",null,c),u)}(x),_=Ue()(x,f,Fe({},"".concat(x,"-").concat(m),!!m)),w=Object.assign(Object.assign({},Ai(v,["suffix","iconRender","visibilityToggle"])),{type:s?"text":"password",className:_,prefixCls:y,suffix:b});return m&&(w.size=m),t.createElement(Ay,Object.assign({ref:Bo(n,c)},w))}));var Hy=Uy,Gy={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M909.6 854.5L649.9 594.8C690.2 542.7 712 479 712 412c0-80.2-31.3-155.4-87.9-212.1-56.6-56.7-132-87.9-212.1-87.9s-155.5 31.3-212.1 87.9C143.2 256.5 112 331.8 112 412c0 80.1 31.3 155.5 87.9 212.1C256.5 680.8 331.8 712 412 712c67 0 130.6-21.8 182.7-62l259.7 259.6a8.2 8.2 0 0011.6 0l43.6-43.5a8.2 8.2 0 000-11.6zM570.4 570.4C528 612.7 471.8 636 412 636s-116-23.3-158.4-65.6C211.3 528 188 471.8 188 412s23.3-116.1 65.6-158.4C296 211.3 352.2 188 412 188s116.1 23.2 158.4 65.6S636 352.2 636 412s-23.3 116.1-65.6 158.4z"}}]},name:"search",theme:"outlined"},Wy=function(e,n){return t.createElement(ki,Xe(Xe({},e),{},{ref:n,icon:Gy}))};Wy.displayName="SearchOutlined";var qy,Xy=t.forwardRef(Wy),Zy=function(e){var t=e.componentCls,n=e.colorPrimary;return Fe({},t,{position:"absolute",background:"transparent",pointerEvents:"none",boxSizing:"border-box",color:"var(--wave-color, ".concat(n,")"),boxShadow:"0 0 0 0 currentcolor",opacity:.2,"&.wave-motion-appear":{transition:["box-shadow 0.4s ".concat(e.motionEaseOutCirc),"opacity 2s ".concat(e.motionEaseOutCirc)].join(","),"&-active":{boxShadow:"0 0 0 6px currentcolor",opacity:0}}})},Ky=Xr("Wave",(function(e){return[Zy(e)]})),Yy=Xe({},Ho),$y=Yy.version,Jy=Yy.render,Qy=Yy.unmountComponentAtNode;try{Number(($y||"").split(".")[0])>=18&&(qy=Yy.createRoot)}catch(Jv){}function ex(e){var t=Yy.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;t&&"object"===u(t)&&(t.usingClientEntryPoint=e)}var tx="__rc_react_root__";function nx(e,t){qy?function(e,t){ex(!0);var n=t[tx]||qy(t);ex(!1),n.render(e),t[tx]=n}(e,t):function(e,t){Jy(e,t)}(e,t)}function rx(e){return ix.apply(this,arguments)}function ix(){return(ix=Be(Le().mark((function e(t){return Le().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.resolve().then((function(){var e;null===(e=t[tx])||void 0===e||e.unmount(),delete t[tx]})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ax(e){Qy(e)}function ox(e){return sx.apply(this,arguments)}function sx(){return(sx=Be(Le().mark((function e(t){return Le().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===qy){e.next=2;break}return e.abrupt("return",rx(t));case 2:ax(t);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function lx(e){return e&&"#fff"!==e&&"#ffffff"!==e&&"rgb(255, 255, 255)"!==e&&"rgba(255, 255, 255, 1)"!==e&&function(e){var t=(e||"").match(/rgba?\((\d*), (\d*), (\d*)(, [\d.]*)?\)/);return!(t&&t[1]&&t[2]&&t[3])||!(t[1]===t[2]&&t[2]===t[3])}(e)&&!/rgba\((?:\d*, ){3}0\)/.test(e)&&"transparent"!==e}function cx(e){return Number.isNaN(e)?0:e}var ux=function(e){var n=e.className,r=e.target,i=t.useRef(null),a=k(t.useState(null),2),o=a[0],s=a[1],l=k(t.useState([]),2),c=l[0],u=l[1],d=k(t.useState(0),2),f=d[0],h=d[1],p=k(t.useState(0),2),m=p[0],v=p[1],g=k(t.useState(0),2),y=g[0],x=g[1],b=k(t.useState(0),2),_=b[0],w=b[1],S=k(t.useState(!1),2),E=S[0],C=S[1],T={left:f,top:m,width:y,height:_,borderRadius:c.map((function(e){return"".concat(e,"px")})).join(" ")};function M(){var e=getComputedStyle(r);s(function(e){var t=getComputedStyle(e),n=t.borderTopColor,r=t.borderColor,i=t.backgroundColor;return lx(n)?n:lx(r)?r:lx(i)?i:null}(r));var t="static"===e.position,n=e.borderLeftWidth,i=e.borderTopWidth;h(t?r.offsetLeft:cx(-parseFloat(n))),v(t?r.offsetTop:cx(-parseFloat(i))),x(r.offsetWidth),w(r.offsetHeight);var a=e.borderTopLeftRadius,o=e.borderTopRightRadius,l=e.borderBottomLeftRadius,c=e.borderBottomRightRadius;u([a,o,c,l].map((function(e){return cx(parseFloat(e))})))}return o&&(T["--wave-color"]=o),t.useEffect((function(){if(r){var e,t=js((function(){M(),C(!0)}));return"undefined"!==typeof ResizeObserver&&(e=new ResizeObserver(M)).observe(r),function(){js.cancel(t),null===e||void 0===e||e.disconnect()}}}),[]),E?t.createElement(Xc,{visible:!0,motionAppear:!0,motionName:"wave-motion",motionDeadline:5e3,onAppearEnd:function(e,t){var n;if(t.deadline||"opacity"===t.propertyName){var r=null===(n=i.current)||void 0===n?void 0:n.parentElement;ox(r).then((function(){var e;null===(e=r.parentElement)||void 0===e||e.removeChild(r)}))}return!1}},(function(e){var r=e.className;return t.createElement("div",{ref:i,className:Ue()(n,r),style:T})})):null};function dx(e,n){return function(){!function(e,n){var r=document.createElement("div");r.style.position="absolute",r.style.left="0px",r.style.top="0px",null===e||void 0===e||e.insertBefore(r,null===e||void 0===e?void 0:e.firstChild),nx(t.createElement(ux,{target:e,className:n}),r)}(e.current,n)}}var fx=function(e){var n=e.children,r=e.disabled,i=(0,t.useContext)(Ge).getPrefixCls,a=(0,t.useRef)(null),o=i("wave"),s=k(Ky(o),2)[1],l=dx(a,Ue()(o,s));return t.useEffect((function(){var e=a.current;if(e&&1===e.nodeType&&!r){var t=function(t){"INPUT"===t.target.tagName||!pl(t.target)||!e.getAttribute||e.getAttribute("disabled")||e.disabled||e.className.includes("disabled")||e.className.includes("-leave")||l()};return e.addEventListener("click",t,!0),function(){e.removeEventListener("click",t,!0)}}}),[r]),t.isValidElement(n)?Jd(n,{ref:Vo(n)?Bo(n.ref,a):a}):null!==n&&void 0!==n?n:null},hx=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},px=t.createContext(void 0),mx=function(e){var n,r=t.useContext(Ge),i=r.getPrefixCls,a=r.direction,o=e.prefixCls,s=e.size,l=e.className,c=hx(e,["prefixCls","size","className"]),u=i("btn-group",o),d=k(Vr(),3)[2],f="";switch(s){case"large":f="lg";break;case"small":f="sm"}var h=Ue()(u,(Fe(n={},"".concat(u,"-").concat(f),f),Fe(n,"".concat(u,"-rtl"),"rtl"===a),n),l,d);return t.createElement(px.Provider,{value:s},t.createElement("div",Object.assign({},c,{className:h})))},vx=/^[\u4e00-\u9fa5]{2}$/,gx=vx.test.bind(vx);function yx(e){return"text"===e||"link"===e}function xx(e,n){var r=!1,i=[];return t.Children.forEach(e,(function(e){var t=typeof e,n="string"===t||"number"===t;if(r&&n){var a=i.length-1,o=i[a];i[a]="".concat(o).concat(e)}else i.push(e);r=n})),t.Children.map(i,(function(e){return function(e,n){if(null!==e&&void 0!==e){var r=n?" ":"";return"string"!==typeof e&&"number"!==typeof e&&"string"===typeof e.type&&gx(e.props.children)?Jd(e,{children:e.props.children.split("").join(r)}):"string"===typeof e?gx(e)?t.createElement("span",null,e.split("").join(r)):t.createElement("span",null,e):Yd(e)?t.createElement("span",null,e):e}}(e,n)}))}var bx=function(){return{width:0,opacity:0,transform:"scale(0)"}},_x=function(e){return{width:e.scrollWidth,opacity:1,transform:"scale(1)"}},wx=function(e){var n=e.prefixCls,r=!!e.loading;return e.existIcon?t.createElement("span",{className:"".concat(n,"-loading-icon")},t.createElement(Cg,null)):t.createElement(Xc,{visible:r,motionName:"".concat(n,"-loading-icon-motion"),removeOnLeave:!0,onAppearStart:bx,onAppearActive:_x,onEnterStart:bx,onEnterActive:_x,onLeaveStart:_x,onLeaveActive:bx},(function(e,r){var i=e.className,a=e.style;return t.createElement("span",{className:"".concat(n,"-loading-icon"),style:a,ref:r},t.createElement(Cg,{className:i}))}))},kx=function(e,t){return Fe({},"> span, > ".concat(e),{"&:not(:last-child)":Fe({},"&, & > ".concat(e),{"&:not(:disabled)":{borderInlineEndColor:t}}),"&:not(:first-child)":Fe({},"&, & > ".concat(e),{"&:not(:disabled)":{borderInlineStartColor:t}})})},Sx=function(e){var t,n,r=e.componentCls,i=e.fontSize,a=e.lineWidth,o=e.colorPrimaryHover,s=e.colorErrorHover;return Fe({},"".concat(r,"-group"),[(n={position:"relative",display:"inline-flex"},Fe(n,"> span, > ".concat(r),{"&:not(:last-child)":Fe({},"&, & > ".concat(r),{borderStartEndRadius:0,borderEndEndRadius:0}),"&:not(:first-child)":Fe({marginInlineStart:-a},"&, & > ".concat(r),{borderStartStartRadius:0,borderEndStartRadius:0})}),Fe(n,r,(t={position:"relative",zIndex:1},Fe(t,"&:hover,\n          &:focus,\n          &:active",{zIndex:2}),Fe(t,"&[disabled]",{zIndex:0}),t)),Fe(n,"".concat(r,"-icon-only"),{fontSize:i}),n),kx("".concat(r,"-primary"),o),kx("".concat(r,"-danger"),s)])};function Ex(e){var t="".concat(e.componentCls,"-compact-vertical");return Fe({},t,Object.assign(Object.assign({},function(e,t){var n;return Fe(n={},"&-item:not(".concat(t,"-last-item)"),{marginBottom:-e.lineWidth}),Fe(n,"&-item",{"&:hover,&:focus,&:active":{zIndex:2},"&[disabled]":{zIndex:0}}),n}(e,t)),function(e,t){var n;return Fe(n={},"&-item:not(".concat(t,"-first-item):not(").concat(t,"-last-item)"),{borderRadius:0}),Fe(n,"&-item".concat(t,"-first-item:not(").concat(t,"-last-item)"),Fe({},"&, &".concat(e,"-sm, &").concat(e,"-lg"),{borderEndEndRadius:0,borderEndStartRadius:0})),Fe(n,"&-item".concat(t,"-last-item:not(").concat(t,"-first-item)"),Fe({},"&, &".concat(e,"-sm, &").concat(e,"-lg"),{borderStartStartRadius:0,borderStartEndRadius:0})),n}(e.componentCls,t)))}var Cx=function(e){var t,n=e.componentCls,r=e.iconCls;return Fe({},n,(Fe(t={outline:"none",position:"relative",display:"inline-block",fontWeight:400,whiteSpace:"nowrap",textAlign:"center",backgroundImage:"none",backgroundColor:"transparent",border:"".concat(e.lineWidth,"px ").concat(e.lineType," transparent"),cursor:"pointer",transition:"all ".concat(e.motionDurationMid," ").concat(e.motionEaseInOut),userSelect:"none",touchAction:"manipulation",lineHeight:e.lineHeight,color:e.colorText,"> span":{display:"inline-block"}},"> ".concat(r," + span, > span + ").concat(r),{marginInlineStart:e.marginXS}),Fe(t,"> a",{color:"currentColor"}),Fe(t,"&:not(:disabled)",Object.assign({},Xn(e))),Fe(t,"&-icon-only".concat(n,"-compact-item"),{flex:"none"}),Fe(t,"&-compact-item".concat(n,"-primary"),Fe({},"&:not([disabled]) + ".concat(n,"-compact-item").concat(n,"-primary:not([disabled])"),{position:"relative","&:before":{position:"absolute",top:-e.lineWidth,insetInlineStart:-e.lineWidth,display:"inline-block",width:e.lineWidth,height:"calc(100% + ".concat(2*e.lineWidth,"px)"),backgroundColor:e.colorPrimaryHover,content:'""'}})),Fe(t,"&-compact-vertical-item",Fe({},"&".concat(n,"-primary"),Fe({},"&:not([disabled]) + ".concat(n,"-compact-vertical-item").concat(n,"-primary:not([disabled])"),{position:"relative","&:before":{position:"absolute",top:-e.lineWidth,insetInlineStart:-e.lineWidth,display:"inline-block",width:"calc(100% + ".concat(2*e.lineWidth,"px)"),height:e.lineWidth,backgroundColor:e.colorPrimaryHover,content:'""'}}))),t))},Tx=function(e,t){return{"&:not(:disabled)":{"&:hover":e,"&:active":t}}},Mx=function(e){return{minWidth:e.controlHeight,paddingInlineStart:0,paddingInlineEnd:0,borderRadius:"50%"}},Ix=function(e){return{borderRadius:e.controlHeight,paddingInlineStart:e.controlHeight/2,paddingInlineEnd:e.controlHeight/2}},Ox=function(e){return{cursor:"not-allowed",borderColor:e.colorBorder,color:e.colorTextDisabled,backgroundColor:e.colorBgContainerDisabled,boxShadow:"none"}},Px=function(e,t,n,r,i,a,o){return Fe({},"&".concat(e,"-background-ghost"),Object.assign(Object.assign({color:t||void 0,backgroundColor:"transparent",borderColor:n||void 0,boxShadow:"none"},Tx(Object.assign({backgroundColor:"transparent"},a),Object.assign({backgroundColor:"transparent"},o))),{"&:disabled":{cursor:"not-allowed",color:r||void 0,borderColor:i||void 0}}))},Ax=function(e){return{"&:disabled":Object.assign({},Ox(e))}},zx=function(e){return Object.assign({},Ax(e))},jx=function(e){return{"&:disabled":{cursor:"not-allowed",color:e.colorTextDisabled}}},Rx=function(e){return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},zx(e)),{backgroundColor:e.colorBgContainer,borderColor:e.colorBorder,boxShadow:"0 ".concat(e.controlOutlineWidth,"px 0 ").concat(e.controlTmpOutline)}),Tx({color:e.colorPrimaryHover,borderColor:e.colorPrimaryHover},{color:e.colorPrimaryActive,borderColor:e.colorPrimaryActive})),Px(e.componentCls,e.colorBgContainer,e.colorBgContainer,e.colorTextDisabled,e.colorBorder)),Fe({},"&".concat(e.componentCls,"-dangerous"),Object.assign(Object.assign(Object.assign({color:e.colorError,borderColor:e.colorError},Tx({color:e.colorErrorHover,borderColor:e.colorErrorBorderHover},{color:e.colorErrorActive,borderColor:e.colorErrorActive})),Px(e.componentCls,e.colorError,e.colorError,e.colorTextDisabled,e.colorBorder)),Ax(e))))},Dx=function(e){var t,n=e.componentCls;return Fe(t={},"".concat(n,"-default"),Rx(e)),Fe(t,"".concat(n,"-primary"),function(e){return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},zx(e)),{color:e.colorTextLightSolid,backgroundColor:e.colorPrimary,boxShadow:"0 ".concat(e.controlOutlineWidth,"px 0 ").concat(e.controlOutline)}),Tx({color:e.colorTextLightSolid,backgroundColor:e.colorPrimaryHover},{color:e.colorTextLightSolid,backgroundColor:e.colorPrimaryActive})),Px(e.componentCls,e.colorPrimary,e.colorPrimary,e.colorTextDisabled,e.colorBorder,{color:e.colorPrimaryHover,borderColor:e.colorPrimaryHover},{color:e.colorPrimaryActive,borderColor:e.colorPrimaryActive})),Fe({},"&".concat(e.componentCls,"-dangerous"),Object.assign(Object.assign(Object.assign({backgroundColor:e.colorError,boxShadow:"0 ".concat(e.controlOutlineWidth,"px 0 ").concat(e.colorErrorOutline)},Tx({backgroundColor:e.colorErrorHover},{backgroundColor:e.colorErrorActive})),Px(e.componentCls,e.colorError,e.colorError,e.colorTextDisabled,e.colorBorder,{color:e.colorErrorHover,borderColor:e.colorErrorHover},{color:e.colorErrorActive,borderColor:e.colorErrorActive})),Ax(e))))}(e)),Fe(t,"".concat(n,"-dashed"),function(e){return Object.assign(Object.assign({},Rx(e)),{borderStyle:"dashed"})}(e)),Fe(t,"".concat(n,"-link"),function(e){return Object.assign(Object.assign(Object.assign({color:e.colorLink},Tx({color:e.colorLinkHover},{color:e.colorLinkActive})),jx(e)),Fe({},"&".concat(e.componentCls,"-dangerous"),Object.assign(Object.assign({color:e.colorError},Tx({color:e.colorErrorHover},{color:e.colorErrorActive})),jx(e))))}(e)),Fe(t,"".concat(n,"-text"),function(e){return Object.assign(Object.assign(Object.assign({},Tx({color:e.colorText,backgroundColor:e.colorBgTextHover},{color:e.colorText,backgroundColor:e.colorBgTextActive})),jx(e)),Fe({},"&".concat(e.componentCls,"-dangerous"),Object.assign(Object.assign({color:e.colorError},jx(e)),Tx({color:e.colorErrorHover,backgroundColor:e.colorErrorBg},{color:e.colorErrorHover,backgroundColor:e.colorErrorBg}))))}(e)),Fe(t,"".concat(n,"-disabled"),function(e){return Object.assign(Object.assign({},Ox(e)),Fe({},"&".concat(e.componentCls,":hover"),Object.assign({},Ox(e))))}(e)),t},Lx=function(e){var t,n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",i=e.componentCls,a=e.iconCls,o=e.controlHeight,s=e.fontSize,l=e.lineHeight,c=e.lineWidth,u=e.borderRadius,d=e.buttonPaddingHorizontal,f=Math.max(0,(o-s*l)/2-c),h=d-c,p="".concat(i,"-icon-only");return[Fe({},"".concat(i).concat(r),(n={fontSize:s,height:o,padding:"".concat(f,"px ").concat(h,"px"),borderRadius:u},Fe(n,"&".concat(p),(t={width:o,paddingInlineStart:0,paddingInlineEnd:0},Fe(t,"&".concat(i,"-round"),{width:"auto"}),Fe(t,"> span",{transform:"scale(1.143)"}),t)),Fe(n,"&".concat(i,"-loading"),{opacity:e.opacityLoading,cursor:"default"}),Fe(n,"".concat(i,"-loading-icon"),{transition:"width ".concat(e.motionDurationSlow," ").concat(e.motionEaseInOut,", opacity ").concat(e.motionDurationSlow," ").concat(e.motionEaseInOut)}),Fe(n,"&:not(".concat(p,") ").concat(i,"-loading-icon > ").concat(a),{marginInlineEnd:e.marginXS}),n)),Fe({},"".concat(i).concat(i,"-circle").concat(r),Mx(e)),Fe({},"".concat(i).concat(i,"-round").concat(r),Ix(e))]},Nx=function(e){return Lx(e)},Bx=function(e){var t=Gr(e,{controlHeight:e.controlHeightSM,padding:e.paddingXS,buttonPaddingHorizontal:8,borderRadius:e.borderRadiusSM});return Lx(t,"".concat(e.componentCls,"-sm"))},Fx=function(e){var t=Gr(e,{controlHeight:e.controlHeightLG,fontSize:e.fontSizeLG,borderRadius:e.borderRadiusLG});return Lx(t,"".concat(e.componentCls,"-lg"))},Vx=function(e){var t=e.componentCls;return Fe({},t,Fe({},"&".concat(t,"-block"),{width:"100%"}))},Ux=Xr("Button",(function(e){var t=Gr(e,{colorOutlineDefault:e.controlTmpOutline,buttonPaddingHorizontal:e.paddingContentHorizontal});return[Cx(t),Bx(t),Nx(t),Fx(t),Vx(t),Dx(t),Sx(t),Qg(e,{focus:!1}),Ex(e)]})),Hx=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};function Gx(e){return"danger"===e?{danger:!0}:{type:e}}var Wx=function(e,n){var r,i=e.loading,a=void 0!==i&&i,o=e.prefixCls,s=e.type,l=void 0===s?"default":s,c=e.danger,u=e.shape,d=void 0===u?"default":u,f=e.size,h=e.disabled,p=e.className,m=e.children,v=e.icon,g=e.ghost,y=void 0!==g&&g,x=e.block,b=void 0!==x&&x,_=e.htmlType,w=void 0===_?"button":_,S=Hx(e,["loading","prefixCls","type","danger","shape","size","disabled","className","children","icon","ghost","block","htmlType"]),E=t.useContext(Ge),C=E.getPrefixCls,T=E.autoInsertSpaceInButton,M=E.direction,I=C("btn",o),O=k(Ux(I),2),P=O[0],A=O[1],z=t.useContext($v),j=t.useContext(Zv),R=null!==h&&void 0!==h?h:j,D=t.useContext(px),L=k(t.useState(!!a),2),N=L[0],B=L[1],F=k(t.useState(!1),2),V=F[0],U=F[1],H=n||t.createRef(),G=function(){return 1===t.Children.count(m)&&!v&&!yx(l)},W="boolean"===typeof a?a:(null===a||void 0===a?void 0:a.delay)||!0;t.useEffect((function(){var e=null;return"number"===typeof W?e=window.setTimeout((function(){e=null,B(W)}),W):B(W),function(){e&&(window.clearTimeout(e),e=null)}}),[W]),t.useEffect((function(){if(H&&H.current&&!1!==T){var e=H.current.textContent;G()&&gx(e)?V||U(!0):V&&U(!1)}}),[H]);var q=function(t){var n=e.onClick;N||R?t.preventDefault():null===n||void 0===n||n(t)},X=!1!==T,Z=Sy(I,M),K=Z.compactSize,Y=Z.compactItemClassnames,$=K||D||f||z,J=$&&{large:"lg",small:"sm",middle:void 0}[$]||"",Q=N?"loading":v,ee=Ai(S,["navigate"]),te=void 0!==ee.href&&R,ne=Ue()(I,A,(Fe(r={},"".concat(I,"-").concat(d),"default"!==d&&d),Fe(r,"".concat(I,"-").concat(l),l),Fe(r,"".concat(I,"-").concat(J),J),Fe(r,"".concat(I,"-icon-only"),!m&&0!==m&&!!Q),Fe(r,"".concat(I,"-background-ghost"),y&&!yx(l)),Fe(r,"".concat(I,"-loading"),N),Fe(r,"".concat(I,"-two-chinese-chars"),V&&X&&!N),Fe(r,"".concat(I,"-block"),b),Fe(r,"".concat(I,"-dangerous"),!!c),Fe(r,"".concat(I,"-rtl"),"rtl"===M),Fe(r,"".concat(I,"-disabled"),te),r),Y,p),re=v&&!N?v:t.createElement(wx,{existIcon:!!v,prefixCls:I,loading:!!N}),ie=m||0===m?xx(m,G()&&X):null;if(void 0!==ee.href)return P(t.createElement("a",Object.assign({},ee,{className:ne,onClick:q,ref:H}),re,ie));var ae=t.createElement("button",Object.assign({},S,{type:w,className:ne,onClick:q,disabled:R,ref:H}),re,ie);return yx(l)||(ae=t.createElement(fx,{disabled:!!N},ae)),P(ae)},qx=t.forwardRef(Wx);qx.Group=mx,qx.__ANT_BUTTON=!0;var Xx=qx,Zx=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},Kx=t.forwardRef((function(e,n){var r,i,a=e.prefixCls,o=e.inputPrefixCls,s=e.className,l=e.size,c=e.suffix,u=e.enterButton,d=void 0!==u&&u,f=e.addonAfter,h=e.loading,p=e.disabled,m=e.onSearch,v=e.onChange,g=e.onCompositionStart,y=e.onCompositionEnd,x=Zx(e,["prefixCls","inputPrefixCls","className","size","suffix","enterButton","addonAfter","loading","disabled","onSearch","onChange","onCompositionStart","onCompositionEnd"]),b=t.useContext(Ge),_=b.getPrefixCls,w=b.direction,k=t.useContext($v),S=t.useRef(!1),E=_("input-search",a),C=_("input",o),T=Sy(E,w).compactSize||l||k,M=t.useRef(null),I=function(e){var t;document.activeElement===(null===(t=M.current)||void 0===t?void 0:t.input)&&e.preventDefault()},O=function(e){var t,n;m&&m(null===(n=null===(t=M.current)||void 0===t?void 0:t.input)||void 0===n?void 0:n.value,e)},P="boolean"===typeof d?t.createElement(Xy,null):null,A="".concat(E,"-button"),z=d||{},j=z.type&&!0===z.type.__ANT_BUTTON;i=j||"button"===z.type?Jd(z,Object.assign({onMouseDown:I,onClick:function(e){var t,n;null===(n=null===(t=null===z||void 0===z?void 0:z.props)||void 0===t?void 0:t.onClick)||void 0===n||n.call(t,e),O(e)},key:"enterButton"},j?{className:A,size:T}:{})):t.createElement(Xx,{className:A,type:d?"primary":void 0,size:T,disabled:p,key:"enterButton",onMouseDown:I,onClick:O,loading:h,icon:P},d),f&&(i=[i,Jd(f,{key:"addonAfter"})]);var R=Ue()(E,(Fe(r={},"".concat(E,"-rtl"),"rtl"===w),Fe(r,"".concat(E,"-").concat(T),!!T),Fe(r,"".concat(E,"-with-button"),!!d),r),s);return t.createElement(Ay,Object.assign({ref:Bo(M,n),onPressEnter:function(e){S.current||h||O(e)}},x,{size:T,onCompositionStart:function(e){S.current=!0,null===g||void 0===g||g(e)},onCompositionEnd:function(e){S.current=!1,null===y||void 0===y||y(e)},prefixCls:C,addonAfter:i,suffix:c,onChange:function(e){e&&e.target&&"click"===e.type&&m&&m(e.target.value,e),v&&v(e)},className:R,disabled:p}))}));var Yx,$x=Kx,Jx="\n  min-height:0 !important;\n  max-height:none !important;\n  height:0 !important;\n  visibility:hidden !important;\n  overflow:hidden !important;\n  position:absolute !important;\n  z-index:-1000 !important;\n  top:0 !important;\n  right:0 !important;\n  pointer-events: none !important;\n",Qx=["letter-spacing","line-height","padding-top","padding-bottom","font-family","font-weight","font-size","font-variant","text-rendering","text-transform","width","text-indent","padding-left","padding-right","border-width","box-sizing","word-break"],eb={};function tb(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.getAttribute("id")||e.getAttribute("data-reactid")||e.getAttribute("name");if(t&&eb[n])return eb[n];var r=window.getComputedStyle(e),i=r.getPropertyValue("box-sizing")||r.getPropertyValue("-moz-box-sizing")||r.getPropertyValue("-webkit-box-sizing"),a=parseFloat(r.getPropertyValue("padding-bottom"))+parseFloat(r.getPropertyValue("padding-top")),o=parseFloat(r.getPropertyValue("border-bottom-width"))+parseFloat(r.getPropertyValue("border-top-width")),s=Qx.map((function(e){return"".concat(e,":").concat(r.getPropertyValue(e))})).join(";"),l={sizingStyle:s,paddingSize:a,borderSize:o,boxSizing:i};return t&&n&&(eb[n]=l),l}var nb=["prefixCls","onPressEnter","defaultValue","value","autoSize","onResize","className","style","disabled","onChange","onInternalAutoSize"],rb=t.forwardRef((function(e,n){var r=e.prefixCls,i=void 0===r?"rc-textarea":r,a=(e.onPressEnter,e.defaultValue),o=e.value,s=e.autoSize,l=e.onResize,c=e.className,d=e.style,f=e.disabled,h=e.onChange,p=(e.onInternalAutoSize,li(e,nb)),m=k(Js(a,{value:o,postState:function(e){return null!==e&&void 0!==e?e:""}}),2),v=m[0],g=m[1],y=t.useRef();t.useImperativeHandle(n,(function(){return{textArea:y.current}}));var x=k(t.useMemo((function(){return s&&"object"===u(s)?[s.minRows,s.maxRows]:[]}),[s]),2),b=x[0],_=x[1],w=!!s,S=k(t.useState(2),2),E=S[0],C=S[1],T=k(t.useState(),2),M=T[0],I=T[1],O=function(){C(0)};_s((function(){w&&O()}),[o,b,_,w]),_s((function(){if(0===E)C(1);else if(1===E){var e=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;Yx||((Yx=document.createElement("textarea")).setAttribute("tab-index","-1"),Yx.setAttribute("aria-hidden","true"),document.body.appendChild(Yx)),e.getAttribute("wrap")?Yx.setAttribute("wrap",e.getAttribute("wrap")):Yx.removeAttribute("wrap");var i=tb(e,t),a=i.paddingSize,o=i.borderSize,s=i.boxSizing,l=i.sizingStyle;Yx.setAttribute("style","".concat(l,";").concat(Jx)),Yx.value=e.value||e.placeholder||"";var c,u=void 0,d=void 0,f=Yx.scrollHeight;if("border-box"===s?f+=o:"content-box"===s&&(f-=a),null!==n||null!==r){Yx.value=" ";var h=Yx.scrollHeight-a;null!==n&&(u=h*n,"border-box"===s&&(u=u+a+o),f=Math.max(u,f)),null!==r&&(d=h*r,"border-box"===s&&(d=d+a+o),c=f>d?"":"hidden",f=Math.min(d,f))}var p={height:f,overflowY:c,resize:"none"};return u&&(p.minHeight=u),d&&(p.maxHeight=d),p}(y.current,!1,b,_);C(2),I(e)}else!function(){try{if(document.activeElement===y.current){var e=y.current,t=e.selectionStart,n=e.selectionEnd,r=e.scrollTop;y.current.setSelectionRange(t,n),y.current.scrollTop=r}}catch(Jv){}}()}),[E]);var P=t.useRef(),A=function(){js.cancel(P.current)};t.useEffect((function(){return A}),[]);var z=w?M:null,j=Xe(Xe({},d),z);return 0!==E&&1!==E||(j.overflowY="hidden",j.overflowX="hidden"),t.createElement(xs,{onResize:function(e){2===E&&(null===l||void 0===l||l(e),s&&(A(),P.current=js((function(){O()}))))},disabled:!(s||l)},t.createElement("textarea",Dt({},p,{ref:y,style:j,className:Ue()(i,c,Fe({},"".concat(i,"-disabled"),f)),disabled:f,value:v,onChange:function(e){g(e.target.value),null===h||void 0===h||h(e)}})))})),ib=rb,ab=function(e){m(r,e);var n=b(r);function r(e){var t;c(this,r),(t=n.call(this,e)).resizableTextArea=void 0,t.focus=function(){t.resizableTextArea.textArea.focus()},t.saveTextArea=function(e){t.resizableTextArea=e},t.handleChange=function(e){var n=t.props.onChange;t.setValue(e.target.value),n&&n(e)},t.handleKeyDown=function(e){var n=t.props,r=n.onPressEnter,i=n.onKeyDown;13===e.keyCode&&r&&r(e),i&&i(e)};var i="undefined"===typeof e.value||null===e.value?e.defaultValue:e.value;return t.state={value:i},t}return h(r,[{key:"setValue",value:function(e,t){"value"in this.props||this.setState({value:e},t)}},{key:"blur",value:function(){this.resizableTextArea.textArea.blur()}},{key:"render",value:function(){return t.createElement(ib,Dt({},this.props,{value:this.state.value,onKeyDown:this.handleKeyDown,onChange:this.handleChange,ref:this.saveTextArea}))}}],[{key:"getDerivedStateFromProps",value:function(e){return"value"in e?{value:e.value}:null}}]),r}(t.Component),ob=ab,sb=["text","input"];var lb=function(e){m(r,e);var n=b(r);function r(){return c(this,r),n.apply(this,arguments)}return h(r,[{key:"renderClearIcon",value:function(e){var n,r=this.props,i=r.value,a=r.disabled,o=r.readOnly,s=r.handleReset,l=r.suffix,c=!a&&!o&&i,u="".concat(e,"-clear-icon");return t.createElement(bg,{onClick:s,onMouseDown:function(e){return e.preventDefault()},className:Ue()((n={},Fe(n,"".concat(u,"-hidden"),!c),Fe(n,"".concat(u,"-has-suffix"),!!l),n),u),role:"button"})}},{key:"renderTextAreaWithClearIcon",value:function(e,n,r){var i,a=this.props,o=a.value,s=a.allowClear,l=a.className,c=a.style,u=a.direction,d=a.bordered,f=a.hidden,h=a.status,p=a.hashId,m=r.status,v=r.hasFeedback;if(!s)return Jd(n,{value:o});var g,y=Ue()("".concat(e,"-affix-wrapper"),"".concat(e,"-affix-wrapper-textarea-with-clear-btn"),Cy("".concat(e,"-affix-wrapper"),Ty(m,h),v),(Fe(i={},"".concat(e,"-affix-wrapper-rtl"),"rtl"===u),Fe(i,"".concat(e,"-affix-wrapper-borderless"),!d),Fe(i,"".concat(l),!((g=this.props).addonBefore||g.addonAfter)&&l),i),p);return t.createElement("span",{className:y,style:c,hidden:f},Jd(n,{style:null,value:o}),this.renderClearIcon(e))}},{key:"render",value:function(){var e=this;return t.createElement(Ov.Consumer,null,(function(t){var n=e.props,r=n.prefixCls,i=n.inputType,a=n.element;if(i===sb[0])return e.renderTextAreaWithClearIcon(r,a,t)}))}}]),r}(t.Component),cb=lb,ub=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};function db(e,t){return l(e||"").slice(0,t).join("")}function fb(e,t,n,r){var i=n;return e?i=db(n,r):l(t||"").length<n.length&&l(n||"").length>r&&(i=t),i}var hb=t.forwardRef((function(e,n){var r,i=e.prefixCls,a=e.bordered,o=void 0===a||a,s=e.showCount,c=void 0!==s&&s,u=e.maxLength,d=e.className,f=e.style,h=e.size,p=e.disabled,m=e.onCompositionStart,v=e.onCompositionEnd,g=e.onChange,y=e.status,x=ub(e,["prefixCls","bordered","showCount","maxLength","className","style","size","disabled","onCompositionStart","onCompositionEnd","onChange","status"]),b=t.useContext(Ge),_=b.getPrefixCls,w=b.direction,S=t.useContext($v),E=t.useContext(Zv),C=null!==p&&void 0!==p?p:E,T=t.useContext(Ov),M=T.status,I=T.hasFeedback,O=T.feedbackIcon,P=Ty(M,y),A=t.useRef(null),z=t.useRef(null),j=k(t.useState(!1),2),R=j[0],D=j[1],L=t.useRef(),N=t.useRef(0),B=k(Js(x.defaultValue,{value:x.value}),2),F=B[0],V=B[1],U=x.hidden,H=function(e,t){void 0===x.value&&(V(e),null===t||void 0===t||t())},G=Number(u)>0,W=_("input",i),q=k(hy(W),2),X=q[0],Z=q[1];t.useImperativeHandle(n,(function(){var e;return{resizableTextArea:null===(e=A.current)||void 0===e?void 0:e.resizableTextArea,focus:function(e){var t,n;!function(e,t){if(e){e.focus(t);var n=(t||{}).cursor;if(n){var r=e.value.length;switch(n){case"start":e.setSelectionRange(0,0);break;case"end":e.setSelectionRange(r,r);break;default:e.setSelectionRange(0,r)}}}}(null===(n=null===(t=A.current)||void 0===t?void 0:t.resizableTextArea)||void 0===n?void 0:n.textArea,e)},blur:function(){var e;return null===(e=A.current)||void 0===e?void 0:e.blur()}}}));var K=t.createElement(ob,Object.assign({},Ai(x,["allowClear"]),{disabled:C,className:Ue()((r={},Fe(r,"".concat(W,"-borderless"),!o),Fe(r,d,d&&!c),Fe(r,"".concat(W,"-sm"),"small"===S||"small"===h),Fe(r,"".concat(W,"-lg"),"large"===S||"large"===h),r),Cy(W,P),Z),style:c?{resize:null===f||void 0===f?void 0:f.resize}:f,prefixCls:W,onCompositionStart:function(e){D(!0),L.current=F,N.current=e.currentTarget.selectionStart,null===m||void 0===m||m(e)},onChange:function(e){var t=e.target.value;!R&&G&&(t=fb(e.target.selectionStart>=u+1||e.target.selectionStart===t.length||!e.target.selectionStart,F,t,u));H(t),Oy(e.currentTarget,e,g,t)},onCompositionEnd:function(e){var t;D(!1);var n=e.currentTarget.value;G&&(n=fb(N.current>=u+1||N.current===(null===(t=L.current)||void 0===t?void 0:t.length),L.current,n,u));n!==F&&(H(n),Oy(e.currentTarget,e,g,n)),null===v||void 0===v||v(e)},ref:A})),Y=function(e){return"undefined"===typeof e||null===e?"":String(e)}(F);R||!G||null!==x.value&&void 0!==x.value||(Y=db(Y,u));var $=t.createElement(cb,Object.assign({disabled:C},x,{prefixCls:W,direction:w,inputType:"text",value:Y,element:K,handleReset:function(e){var t,n,r;H(""),null===(t=A.current)||void 0===t||t.focus(),Oy(null===(r=null===(n=A.current)||void 0===n?void 0:n.resizableTextArea)||void 0===r?void 0:r.textArea,e,g)},ref:z,bordered:o,status:y,style:c?void 0:f,hashId:Z}));if(c||I){var J,Q=l(Y).length,ee="";return ee="object"===typeof c?c.formatter({value:Y,count:Q,maxLength:u}):"".concat(Q).concat(G?" / ".concat(u):""),t.createElement("div",{hidden:U,className:Ue()("".concat(W,"-textarea"),(J={},Fe(J,"".concat(W,"-textarea-rtl"),"rtl"===w),Fe(J,"".concat(W,"-textarea-show-count"),c),J),Cy("".concat(W,"-textarea"),P,I),d,Z),style:f,"data-count":ee},$,I&&t.createElement("span",{className:"".concat(W,"-textarea-suffix")},O))}return X($)})),pb=hb,mb=Ay;mb.Group=py,mb.Search=$x,mb.TextArea=pb,mb.Password=Hy;var vb=mb,gb={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M928 160H96c-17.7 0-32 14.3-32 32v640c0 17.7 14.3 32 32 32h832c17.7 0 32-14.3 32-32V192c0-17.7-14.3-32-32-32zm-40 110.8V792H136V270.8l-27.6-21.5 39.3-50.5 42.8 33.3h643.1l42.8-33.3 39.3 50.5-27.7 21.5zM833.6 232L512 482 190.4 232l-42.8-33.3-39.3 50.5 27.6 21.5 341.6 265.6a55.99 55.99 0 0068.7 0L888 270.8l27.6-21.5-39.3-50.5-42.7 33.2z"}}]},name:"mail",theme:"outlined"},yb=function(e,n){return t.createElement(ki,Xe(Xe({},e),{},{ref:n,icon:gb}))};yb.displayName="MailOutlined";var xb=t.forwardRef(yb),bb={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M832 464h-68V240c0-70.7-57.3-128-128-128H388c-70.7 0-128 57.3-128 128v224h-68c-17.7 0-32 14.3-32 32v384c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V496c0-17.7-14.3-32-32-32zM332 240c0-30.9 25.1-56 56-56h248c30.9 0 56 25.1 56 56v224H332V240zm460 600H232V536h560v304zM484 701v53c0 4.4 3.6 8 8 8h40c4.4 0 8-3.6 8-8v-53a48.01 48.01 0 10-56 0z"}}]},name:"lock",theme:"outlined"},_b=function(e,n){return t.createElement(ki,Xe(Xe({},e),{},{ref:n,icon:bb}))};_b.displayName="LockOutlined";var wb=t.forwardRef(_b);function kb(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var Sb={data:""},Eb=function(e){return"object"==typeof window?((e?e.querySelector("#_goober"):window._goober)||Object.assign((e||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:e||Sb},Cb=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,Tb=/\/\*[^]*?\*\/|  +/g,Mb=/\n+/g,Ib=function e(t,n){var r="",i="",a="",o=function(o){var s=t[o];"@"==o[0]?"i"==o[1]?r=o+" "+s+";":i+="f"==o[1]?e(s,o):o+"{"+e(s,"k"==o[1]?"":n)+"}":"object"==typeof s?i+=e(s,n?n.replace(/([^,])+/g,(function(e){return o.replace(/(^:.*)|([^,])+/g,(function(t){return/&/.test(t)?t.replace(/&/g,e):e?e+" "+t:t}))})):o):null!=s&&(o=/^--/.test(o)?o:o.replace(/[A-Z]/g,"-$&").toLowerCase(),a+=e.p?e.p(o,s):o+":"+s+";")};for(var s in t)o(s);return r+(n&&a?n+"{"+a+"}":a)+i},Ob={},Pb=function e(t){if("object"==typeof t){var n="";for(var r in t)n+=r+e(t[r]);return n}return t},Ab=function(e,t,n,r,i){var a=Pb(e),o=Ob[a]||(Ob[a]=function(e){for(var t=0,n=11;t<e.length;)n=101*n+e.charCodeAt(t++)>>>0;return"go"+n}(a));if(!Ob[o]){var s=a!==e?e:function(e){for(var t,n,r=[{}];t=Cb.exec(e.replace(Tb,""));)t[4]?r.shift():t[3]?(n=t[3].replace(Mb," ").trim(),r.unshift(r[0][n]=r[0][n]||{})):r[0][t[1]]=t[2].replace(Mb," ").trim();return r[0]}(e);Ob[o]=Ib(i?Fe({},"@keyframes "+o,s):s,n?"":"."+o)}var l=n&&Ob.g?Ob.g:null;return n&&(Ob.g=Ob[o]),function(e,t,n,r){r?t.data=t.data.replace(r,e):-1===t.data.indexOf(e)&&(t.data=n?e+t.data:t.data+e)}(Ob[o],t,r,l),o},zb=function(e,t,n){return e.reduce((function(e,r,i){var a=t[i];if(a&&a.call){var o=a(n),s=o&&o.props&&o.props.className||/^go/.test(o)&&o;a=s?"."+s:o&&"object"==typeof o?o.props?"":Ib(o,""):!1===o?"":o}return e+r+(null==a?"":a)}),"")};function jb(e){var t=this||{},n=e.call?e(t.p):e;return Ab(n.unshift?n.raw?zb(n,[].slice.call(arguments,1),t.p):n.reduce((function(e,n){return Object.assign(e,n&&n.call?n(t.p):n)}),{}):n,Eb(t.target),t.g,t.o,t.k)}jb.bind({g:1});var Rb,Db,Lb,Nb,Bb,Fb,Vb,Ub,Hb,Gb,Wb,qb,Xb,Zb,Kb,Yb,$b,Jb,Qb,e_=jb.bind({k:1});function t_(e,t){var n=this||{};return function(){var r=arguments;function i(a,o){var s=Object.assign({},a),l=s.className||i.className;n.p=Object.assign({theme:Db&&Db()},s),n.o=/ *go\d+/.test(l),s.className=jb.apply(n,r)+(l?" "+l:""),t&&(s.ref=o);var c=e;return e[0]&&(c=s.as||e,delete s.as),Lb&&c[0]&&Lb(s),Rb(c,s)}return t?t(i):i}}var n_=function(e,t){return function(e){return"function"==typeof e}(e)?e(t):e},r_=function(){var e=0;return function(){return(++e).toString()}}(),i_=function(){var e;return function(){if(void 0===e&&typeof window<"u"){var t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}}(),a_=new Map,o_=function(e){if(!a_.has(e)){var t=setTimeout((function(){a_.delete(e),u_({type:4,toastId:e})}),1e3);a_.set(e,t)}},s_=function e(t,n){switch(n.type){case 0:return Xe(Xe({},t),{},{toasts:[n.toast].concat(l(t.toasts)).slice(0,20)});case 1:return n.toast.id&&function(e){var t=a_.get(e);t&&clearTimeout(t)}(n.toast.id),Xe(Xe({},t),{},{toasts:t.toasts.map((function(e){return e.id===n.toast.id?Xe(Xe({},e),n.toast):e}))});case 2:var r=n.toast;return t.toasts.find((function(e){return e.id===r.id}))?e(t,{type:1,toast:r}):e(t,{type:0,toast:r});case 3:var i=n.toastId;return i?o_(i):t.toasts.forEach((function(e){o_(e.id)})),Xe(Xe({},t),{},{toasts:t.toasts.map((function(e){return e.id===i||void 0===i?Xe(Xe({},e),{},{visible:!1}):e}))});case 4:return void 0===n.toastId?Xe(Xe({},t),{},{toasts:[]}):Xe(Xe({},t),{},{toasts:t.toasts.filter((function(e){return e.id!==n.toastId}))});case 5:return Xe(Xe({},t),{},{pausedAt:n.time});case 6:var a=n.time-(t.pausedAt||0);return Xe(Xe({},t),{},{pausedAt:void 0,toasts:t.toasts.map((function(e){return Xe(Xe({},e),{},{pauseDuration:e.pauseDuration+a})}))})}},l_=[],c_={toasts:[],pausedAt:void 0},u_=function(e){c_=s_(c_,e),l_.forEach((function(e){e(c_)}))},d_={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},f_=function(e){return function(t,n){var r=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"blank",n=arguments.length>2?arguments[2]:void 0;return Xe(Xe({createdAt:Date.now(),visible:!0,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0},n),{},{id:(null==n?void 0:n.id)||r_()})}(t,e,n);return u_({type:2,toast:r}),r.id}},h_=function(e,t){return f_("blank")(e,t)};h_.error=f_("error"),h_.success=f_("success"),h_.loading=f_("loading"),h_.custom=f_("custom"),h_.dismiss=function(e){u_({type:3,toastId:e})},h_.remove=function(e){return u_({type:4,toastId:e})},h_.promise=function(e,t,n){var r=h_.loading(t.loading,Xe(Xe({},n),null==n?void 0:n.loading));return e.then((function(e){return h_.success(n_(t.success,e),Xe(Xe({id:r},n),null==n?void 0:n.success)),e})).catch((function(e){h_.error(n_(t.error,e),Xe(Xe({id:r},n),null==n?void 0:n.error))})),e};var p_=function(e,t){u_({type:1,toast:{id:e,height:t}})},m_=function(){u_({type:5,time:Date.now()})},v_=function(e){var n=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=k((0,t.useState)(c_),2),r=n[0],i=n[1];(0,t.useEffect)((function(){return l_.push(i),function(){var e=l_.indexOf(i);e>-1&&l_.splice(e,1)}}),[r]);var a=r.toasts.map((function(t){var n,r;return Xe(Xe(Xe(Xe({},e),e[t.type]),t),{},{duration:t.duration||(null==(n=e[t.type])?void 0:n.duration)||(null==e?void 0:e.duration)||d_[t.type],style:Xe(Xe(Xe({},e.style),null==(r=e[t.type])?void 0:r.style),t.style)})}));return Xe(Xe({},r),{},{toasts:a})}(e),r=n.toasts,i=n.pausedAt;(0,t.useEffect)((function(){if(!i){var e=Date.now(),t=r.map((function(t){if(t.duration!==1/0){var n=(t.duration||0)+t.pauseDuration-(e-t.createdAt);if(!(n<0))return setTimeout((function(){return h_.dismiss(t.id)}),n);t.visible&&h_.dismiss(t.id)}}));return function(){t.forEach((function(e){return e&&clearTimeout(e)}))}}}),[r,i]);var a=(0,t.useCallback)((function(){i&&u_({type:6,time:Date.now()})}),[i]),o=(0,t.useCallback)((function(e,t){var n,i=t||{},a=i.reverseOrder,o=void 0!==a&&a,s=i.gutter,c=void 0===s?8:s,u=i.defaultPosition,d=r.filter((function(t){return(t.position||u)===(e.position||u)&&t.height})),f=d.findIndex((function(t){return t.id===e.id})),h=d.filter((function(e,t){return t<f&&e.visible})).length;return(n=d.filter((function(e){return e.visible}))).slice.apply(n,l(o?[h+1]:[0,h])).reduce((function(e,t){return e+(t.height||0)+c}),0)}),[r]);return{toasts:r,handlers:{updateHeight:p_,startPause:m_,endPause:a,calculateOffset:o}}},g_=e_(Nb||(Nb=kb(["\nfrom {\n  transform: scale(0) rotate(45deg);\n\topacity: 0;\n}\nto {\n transform: scale(1) rotate(45deg);\n  opacity: 1;\n}"]))),y_=e_(Bb||(Bb=kb(["\nfrom {\n  transform: scale(0);\n  opacity: 0;\n}\nto {\n  transform: scale(1);\n  opacity: 1;\n}"]))),x_=e_(Fb||(Fb=kb(["\nfrom {\n  transform: scale(0) rotate(90deg);\n\topacity: 0;\n}\nto {\n  transform: scale(1) rotate(90deg);\n\topacity: 1;\n}"]))),b_=t_("div")(Vb||(Vb=kb(["\n  width: 20px;\n  opacity: 0;\n  height: 20px;\n  border-radius: 10px;\n  background: ",";\n  position: relative;\n  transform: rotate(45deg);\n\n  animation: "," 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)\n    forwards;\n  animation-delay: 100ms;\n\n  &:after,\n  &:before {\n    content: '';\n    animation: "," 0.15s ease-out forwards;\n    animation-delay: 150ms;\n    position: absolute;\n    border-radius: 3px;\n    opacity: 0;\n    background: ",";\n    bottom: 9px;\n    left: 4px;\n    height: 2px;\n    width: 12px;\n  }\n\n  &:before {\n    animation: "," 0.15s ease-out forwards;\n    animation-delay: 180ms;\n    transform: rotate(90deg);\n  }\n"])),(function(e){return e.primary||"#ff4b4b"}),g_,y_,(function(e){return e.secondary||"#fff"}),x_),__=e_(Ub||(Ub=kb(["\n  from {\n    transform: rotate(0deg);\n  }\n  to {\n    transform: rotate(360deg);\n  }\n"]))),w_=t_("div")(Hb||(Hb=kb(["\n  width: 12px;\n  height: 12px;\n  box-sizing: border-box;\n  border: 2px solid;\n  border-radius: 100%;\n  border-color: ",";\n  border-right-color: ",";\n  animation: "," 1s linear infinite;\n"])),(function(e){return e.secondary||"#e0e0e0"}),(function(e){return e.primary||"#616161"}),__),k_=e_(Gb||(Gb=kb(["\nfrom {\n  transform: scale(0) rotate(45deg);\n\topacity: 0;\n}\nto {\n  transform: scale(1) rotate(45deg);\n\topacity: 1;\n}"]))),S_=e_(Wb||(Wb=kb(["\n0% {\n\theight: 0;\n\twidth: 0;\n\topacity: 0;\n}\n40% {\n  height: 0;\n\twidth: 6px;\n\topacity: 1;\n}\n100% {\n  opacity: 1;\n  height: 10px;\n}"]))),E_=t_("div")(qb||(qb=kb(["\n  width: 20px;\n  opacity: 0;\n  height: 20px;\n  border-radius: 10px;\n  background: ",";\n  position: relative;\n  transform: rotate(45deg);\n\n  animation: "," 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)\n    forwards;\n  animation-delay: 100ms;\n  &:after {\n    content: '';\n    box-sizing: border-box;\n    animation: "," 0.2s ease-out forwards;\n    opacity: 0;\n    animation-delay: 200ms;\n    position: absolute;\n    border-right: 2px solid;\n    border-bottom: 2px solid;\n    border-color: ",";\n    bottom: 6px;\n    left: 6px;\n    height: 10px;\n    width: 6px;\n  }\n"])),(function(e){return e.primary||"#61d345"}),k_,S_,(function(e){return e.secondary||"#fff"})),C_=t_("div")(Xb||(Xb=kb(["\n  position: absolute;\n"]))),T_=t_("div")(Zb||(Zb=kb(["\n  position: relative;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  min-width: 20px;\n  min-height: 20px;\n"]))),M_=e_(Kb||(Kb=kb(["\nfrom {\n  transform: scale(0.6);\n  opacity: 0.4;\n}\nto {\n  transform: scale(1);\n  opacity: 1;\n}"]))),I_=t_("div")(Yb||(Yb=kb(["\n  position: relative;\n  transform: scale(0.6);\n  opacity: 0.4;\n  min-width: 20px;\n  animation: "," 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)\n    forwards;\n"])),M_),O_=function(e){var n=e.toast,r=n.icon,i=n.type,a=n.iconTheme;return void 0!==r?"string"==typeof r?t.createElement(I_,null,r):r:"blank"===i?null:t.createElement(T_,null,t.createElement(w_,Xe({},a)),"loading"!==i&&t.createElement(C_,null,"error"===i?t.createElement(b_,Xe({},a)):t.createElement(E_,Xe({},a))))},P_=function(e){return"\n0% {transform: translate3d(0,".concat(-200*e,"%,0) scale(.6); opacity:.5;}\n100% {transform: translate3d(0,0,0) scale(1); opacity:1;}\n")},A_=function(e){return"\n0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}\n100% {transform: translate3d(0,".concat(-150*e,"%,-1px) scale(.6); opacity:0;}\n")},z_=t_("div")($b||($b=kb(["\n  display: flex;\n  align-items: center;\n  background: #fff;\n  color: #363636;\n  line-height: 1.3;\n  will-change: transform;\n  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);\n  max-width: 350px;\n  pointer-events: auto;\n  padding: 8px 10px;\n  border-radius: 8px;\n"]))),j_=t_("div")(Jb||(Jb=kb(["\n  display: flex;\n  justify-content: center;\n  margin: 4px 10px;\n  color: inherit;\n  flex: 1 1 auto;\n  white-space: pre-line;\n"]))),R_=t.memo((function(e){var n=e.toast,r=e.position,i=e.style,a=e.children,o=n.height?function(e,t){var n=e.includes("top")?1:-1,r=k(i_()?["0%{opacity:0;} 100%{opacity:1;}","0%{opacity:1;} 100%{opacity:0;}"]:[P_(n),A_(n)],2),i=r[0],a=r[1];return{animation:t?"".concat(e_(i)," 0.35s cubic-bezier(.21,1.02,.73,1) forwards"):"".concat(e_(a)," 0.4s forwards cubic-bezier(.06,.71,.55,1)")}}(n.position||r||"top-center",n.visible):{opacity:0},s=t.createElement(O_,{toast:n}),l=t.createElement(j_,Xe({},n.ariaProps),n_(n.message,n));return t.createElement(z_,{className:n.className,style:Xe(Xe(Xe({},o),i),n.style)},"function"==typeof a?a({icon:s,message:l}):t.createElement(t.Fragment,null,s,l))}));!function(e,t,n,r){Ib.p=t,Rb=e,Db=n,Lb=r}(t.createElement);var D_=function(e){var n=e.id,r=e.className,i=e.style,a=e.onHeightUpdate,o=e.children,s=t.useCallback((function(e){if(e){var t=function(){var t=e.getBoundingClientRect().height;a(n,t)};t(),new MutationObserver(t).observe(e,{subtree:!0,childList:!0,characterData:!0})}}),[n,a]);return t.createElement("div",{ref:s,className:r,style:i},o)},L_=jb(Qb||(Qb=kb(["\n  z-index: 9999;\n  > * {\n    pointer-events: auto;\n  }\n"]))),N_=function(e){var n=e.reverseOrder,r=e.position,i=void 0===r?"top-center":r,a=e.toastOptions,o=e.gutter,s=e.children,l=e.containerStyle,c=e.containerClassName,u=v_(a),d=u.toasts,f=u.handlers;return t.createElement("div",{style:Xe({position:"fixed",zIndex:9999,top:16,left:16,right:16,bottom:16,pointerEvents:"none"},l),className:c,onMouseEnter:f.startPause,onMouseLeave:f.endPause},d.map((function(e){var r=e.position||i,a=function(e,t){var n=e.includes("top"),r=n?{top:0}:{bottom:0},i=e.includes("center")?{justifyContent:"center"}:e.includes("right")?{justifyContent:"flex-end"}:{};return Xe(Xe({left:0,right:0,display:"flex",position:"absolute",transition:i_()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:"translateY(".concat(t*(n?1:-1),"px)")},r),i)}(r,f.calculateOffset(e,{reverseOrder:n,gutter:o,defaultPosition:i}));return t.createElement(D_,{id:e.id,key:e.id,onHeightUpdate:f.updateHeight,className:e.visible?L_:"",style:a},"custom"===e.type?n_(e.message,e):s?s(e):t.createElement(R_,{toast:e,position:r}))})))},B_=h_;var F_=function(){var e=k((0,t.useContext)(jo),2),n=e[0],r=e[1],i=k((0,t.useState)(!1),2),a=(i[0],i[1]),o=be();(0,t.useEffect)((function(){null!==n&&void 0!==n&&n.token&&o("/")}),[n]);var s=function(){var e=Be(Le().mark((function e(t){var n,i;return Le().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a(!0),e.next=4,Po.post("/signin",t);case 4:if(n=e.sent,!(i=n.data).error){e.next=8;break}return e.abrupt("return",h_.error(i.error));case 8:r(i),localStorage.setItem("auth",JSON.stringify(i)),h_.success("Successfully signed in"),o("/"),e.next=19;break;case 14:e.prev=14,e.t0=e.catch(0),console.log("err => ",e.t0),a(!1),h_.error("Signin failed. Try again.");case 19:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(t){return e.apply(this,arguments)}}();return(0,zo.jsxs)(Kp,{children:[(0,zo.jsx)(em,{md:8,sm:2,xs:2}),(0,zo.jsxs)(em,{md:8,sm:20,xs:20,children:[(0,zo.jsx)("h1",{style:{paddingTop:"100px",fontWeight:"bold"},className:"text-2xl mb-5 ",children:"Login"}),(0,zo.jsxs)(Yg,{name:"normal_login",className:"login-form",initialValues:{remember:!0},onFinish:s,children:[(0,zo.jsx)(Yg.Item,{name:"email",rules:[{type:"email"}],children:(0,zo.jsx)(vb,{prefix:(0,zo.jsx)(xb,{className:"site-form-item-icon"}),placeholder:"Email"})}),(0,zo.jsx)(Yg.Item,{name:"password",rules:[{required:!0,message:"Please input your Password!"}],children:(0,zo.jsx)(vb.Password,{prefix:(0,zo.jsx)(wb,{className:"site-form-item-icon"}),type:"password",defaultValue:"hadi..",placeholder:"Password"})}),(0,zo.jsx)(Mh,{to:"/forgot-password",children:(0,zo.jsx)("a",{children:"Forgot Password"})}),(0,zo.jsx)("br",{}),(0,zo.jsx)("br",{}),(0,zo.jsxs)(Yg.Item,{children:[(0,zo.jsx)(Xx,{htmlType:"submit",className:"login-form-button",children:"Login"}),(0,zo.jsx)("br",{}),(0,zo.jsx)("br",{}),"Or"," ",(0,zo.jsx)(Mh,{to:"/signup",children:(0,zo.jsx)("a",{children:"Register now!"})})]})]})]}),(0,zo.jsx)(em,{md:8,sm:2,xs:2})]})},V_={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M858.5 763.6a374 374 0 00-80.6-119.5 375.63 375.63 0 00-119.5-80.6c-.4-.2-.8-.3-1.2-.5C719.5 518 760 444.7 760 362c0-137-111-248-248-248S264 225 264 362c0 82.7 40.5 156 102.8 201.1-.4.2-.8.3-1.2.5-44.8 18.9-85 46-119.5 80.6a375.63 375.63 0 00-80.6 119.5A371.7 371.7 0 00136 901.8a8 8 0 008 8.2h60c4.4 0 7.9-3.5 8-7.8 2-77.2 33-149.5 87.8-204.3 56.7-56.7 132-87.9 212.2-87.9s155.5 31.2 212.2 87.9C779 752.7 810 825 812 902.2c.1 4.4 3.6 7.8 8 7.8h60a8 8 0 008-8.2c-1-47.8-10.9-94.3-29.5-138.2zM512 534c-45.9 0-89.1-17.9-121.6-50.4S340 407.9 340 362c0-45.9 17.9-89.1 50.4-121.6S466.1 190 512 190s89.1 17.9 121.6 50.4S684 316.1 684 362c0 45.9-17.9 89.1-50.4 121.6S557.9 534 512 534z"}}]},name:"user",theme:"outlined"},U_=function(e,n){return t.createElement(ki,Xe(Xe({},e),{},{ref:n,icon:V_}))};U_.displayName="UserOutlined";var H_=t.forwardRef(U_);var G_=function(){var e=k((0,t.useContext)(jo),2),n=e[0],r=e[1],i=be();console.log(i);var a=k((0,t.useState)(!1),2),o=a[0],s=a[1];(0,t.useEffect)((function(){null!==n&&void 0!==n&&n.token&&i("/")}),[n]);var l=function(){var e=Be(Le().mark((function e(t){var n,a;return Le().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s(!0),e.prev=1,e.next=4,Po.post("/signup",t);case 4:n=e.sent,null!==(a=n.data)&&void 0!==a&&a.error?(B_.error(a.error),s(!1)):(r(a),localStorage.setItem("auth",JSON.stringify(a)),B_.success("Successfully signed up"),s(!1),i("/admin")),e.next=14;break;case 9:e.prev=9,e.t0=e.catch(1),B_.error("Signup failed. Try again."),console.log(e.t0),s(!1);case 14:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}();return(0,zo.jsxs)(Kp,{children:[(0,zo.jsx)(em,{md:8,sm:2,xs:2}),(0,zo.jsxs)(em,{md:8,sm:20,xs:20,children:[(0,zo.jsx)("h1",{style:{paddingTop:"100px",fontWeight:"bold"},className:"text-2xl mb-5 ",children:"Signup"}),(0,zo.jsxs)(Yg,{name:"normal_login",className:"login-form",initialValues:{remember:!0},onFinish:l,children:[(0,zo.jsx)(Yg.Item,{name:"name",rules:[{required:!0,message:"Please input your name!"}],children:(0,zo.jsx)(vb,{prefix:(0,zo.jsx)(H_,{className:"site-form-item-icon"}),placeholder:"Name"})}),(0,zo.jsx)(Yg.Item,{name:"email",rules:[{type:"email"}],children:(0,zo.jsx)(vb,{prefix:(0,zo.jsx)(xb,{className:"site-form-item-icon"}),placeholder:"Email"})}),(0,zo.jsx)(Yg.Item,{name:"password",rules:[{required:!0,message:"Please input your Password!"}],children:(0,zo.jsx)(vb.Password,{prefix:(0,zo.jsx)(wb,{className:"site-form-item-icon"}),type:"password",placeholder:"Password"})}),(0,zo.jsxs)(Yg.Item,{children:[(0,zo.jsx)(Xx,{htmlType:"submit",className:"login-form-button",loading:o,children:"Register"}),(0,zo.jsx)("br",{}),(0,zo.jsx)("br",{}),"Or"," ",(0,zo.jsx)(Mh,{to:"/signin",children:(0,zo.jsx)("a",{children:"Login now!"})})]})]})]}),(0,zo.jsx)(em,{md:8,sm:2,xs:2})]})};var W_=function(){var e=k(Vr(),2)[1],n={};return new Tr(e.colorBgBase).toHsl().l<.5&&(n={opacity:.65}),t.createElement("svg",{style:n,width:"184",height:"152",viewBox:"0 0 184 152",xmlns:"http://www.w3.org/2000/svg"},t.createElement("g",{fill:"none",fillRule:"evenodd"},t.createElement("g",{transform:"translate(24 31.67)"},t.createElement("ellipse",{fillOpacity:".8",fill:"#F5F5F7",cx:"67.797",cy:"106.89",rx:"67.797",ry:"12.668"}),t.createElement("path",{d:"M122.034 69.674L98.109 40.229c-1.148-1.386-2.826-2.225-4.593-2.225h-51.44c-1.766 0-3.444.839-4.592 2.225L13.56 69.674v15.383h108.475V69.674z",fill:"#AEB8C2"}),t.createElement("path",{d:"M101.537 86.214L80.63 61.102c-1.001-1.207-2.507-1.867-4.048-1.867H31.724c-1.54 0-3.047.66-4.048 1.867L6.769 86.214v13.792h94.768V86.214z",fill:"url(#linearGradient-1)",transform:"translate(13.56)"}),t.createElement("path",{d:"M33.83 0h67.933a4 4 0 0 1 4 4v93.344a4 4 0 0 1-4 4H33.83a4 4 0 0 1-4-4V4a4 4 0 0 1 4-4z",fill:"#F5F5F7"}),t.createElement("path",{d:"M42.678 9.953h50.237a2 2 0 0 1 2 2V36.91a2 2 0 0 1-2 2H42.678a2 2 0 0 1-2-2V11.953a2 2 0 0 1 2-2zM42.94 49.767h49.713a2.262 2.262 0 1 1 0 4.524H42.94a2.262 2.262 0 0 1 0-4.524zM42.94 61.53h49.713a2.262 2.262 0 1 1 0 4.525H42.94a2.262 2.262 0 0 1 0-4.525zM121.813 105.032c-.775 3.071-3.497 5.36-6.735 5.36H20.515c-3.238 0-5.96-2.29-6.734-5.36a7.309 7.309 0 0 1-.222-1.79V69.675h26.318c2.907 0 5.25 2.448 5.25 5.42v.04c0 2.971 2.37 5.37 5.277 5.37h34.785c2.907 0 5.277-2.421 5.277-5.393V75.1c0-2.972 2.343-5.426 5.25-5.426h26.318v33.569c0 .617-.077 1.216-.221 1.789z",fill:"#DCE0E6"})),t.createElement("path",{d:"M149.121 33.292l-6.83 2.65a1 1 0 0 1-1.317-1.23l1.937-6.207c-2.589-2.944-4.109-6.534-4.109-10.408C138.802 8.102 148.92 0 161.402 0 173.881 0 184 8.102 184 18.097c0 9.995-10.118 18.097-22.599 18.097-4.528 0-8.744-1.066-12.28-2.902z",fill:"#DCE0E6"}),t.createElement("g",{transform:"translate(149.65 15.383)",fill:"#FFF"},t.createElement("ellipse",{cx:"20.654",cy:"3.167",rx:"2.849",ry:"2.815"}),t.createElement("path",{d:"M5.698 5.63H0L2.898.704zM9.259.704h4.985V5.63H9.259z"}))))},q_=function(){var e=k(Vr(),2)[1],n=e.colorFill,r=e.colorFillTertiary,i=e.colorFillQuaternary,a=e.colorBgContainer,o=(0,t.useMemo)((function(){return{borderColor:new Tr(n).onBackground(a).toHexString(),shadowColor:new Tr(r).onBackground(a).toHexString(),contentColor:new Tr(i).onBackground(a).toHexString()}}),[n,r,i,a]),s=o.borderColor,l=o.shadowColor,c=o.contentColor;return t.createElement("svg",{width:"64",height:"41",viewBox:"0 0 64 41",xmlns:"http://www.w3.org/2000/svg"},t.createElement("g",{transform:"translate(0 1)",fill:"none",fillRule:"evenodd"},t.createElement("ellipse",{fill:l,cx:"32",cy:"33",rx:"32",ry:"7"}),t.createElement("g",{fillRule:"nonzero",stroke:s},t.createElement("path",{d:"M55 12.76L44.854 1.258C44.367.474 43.656 0 42.907 0H21.093c-.749 0-1.46.474-1.947 1.257L9 12.761V22h46v-9.24z"}),t.createElement("path",{d:"M41.613 15.931c0-1.605.994-2.93 2.227-2.931H55v18.137C55 33.26 53.68 35 52.05 35h-40.1C10.32 35 9 33.259 9 31.137V13h11.16c1.233 0 2.227 1.323 2.227 2.928v.022c0 1.605 1.005 2.901 2.237 2.901h14.752c1.232 0 2.237-1.308 2.237-2.913v-.007z",fill:c}))))},X_=function(e){var t,n=e.componentCls,r=e.margin,i=e.marginXS,a=e.marginXL;return Fe({},n,(Fe(t={marginInline:i,fontSize:e.fontSize,lineHeight:e.lineHeight,textAlign:"center"},"".concat(n,"-image"),{height:e.emptyImgHeight,marginBottom:i,opacity:e.opacityImage,img:{height:"100%"},svg:{height:"100%",margin:"auto"}}),Fe(t,"".concat(n,"-footer"),{marginTop:r}),Fe(t,"&-normal",Fe({marginBlock:a,color:e.colorTextDisabled},"".concat(n,"-image"),{height:e.emptyImgHeightMD})),Fe(t,"&-small",Fe({marginBlock:i,color:e.colorTextDisabled},"".concat(n,"-image"),{height:e.emptyImgHeightSM})),t))},Z_=Xr("Empty",(function(e){var t=e.componentCls,n=e.controlHeightLG,r=Gr(e,{emptyImgCls:"".concat(t,"-img"),emptyImgHeight:2.5*n,emptyImgHeightMD:n,emptyImgHeightSM:.875*n});return[X_(r)]})),K_=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},Y_=t.createElement(W_,null),$_=t.createElement(q_,null),J_=function(e){var n=e.className,r=e.prefixCls,i=e.image,a=void 0===i?Y_:i,o=e.description,s=e.children,l=e.imageStyle,c=K_(e,["className","prefixCls","image","description","children","imageStyle"]),u=t.useContext(Ge),d=u.getPrefixCls,f=u.direction,h=d("empty",r),p=k(Z_(h),2),m=p[0],v=p[1];return m(t.createElement(Lg,{componentName:"Empty"},(function(e){var r,i="undefined"!==typeof o?o:e.description,u="string"===typeof i?i:"empty",d=null;return d="string"===typeof a?t.createElement("img",{alt:u,src:a}):a,t.createElement("div",Object.assign({className:Ue()(v,h,(r={},Fe(r,"".concat(h,"-normal"),a===$_),Fe(r,"".concat(h,"-rtl"),"rtl"===f),r),n)},c),t.createElement("div",{className:"".concat(h,"-image"),style:l},d),i&&t.createElement("div",{className:"".concat(h,"-description")},i),s&&t.createElement("div",{className:"".concat(h,"-footer")},s))})))};J_.PRESENTED_IMAGE_DEFAULT=Y_,J_.PRESENTED_IMAGE_SIMPLE=$_;var Q_=J_,ew=function(e){var n=e.componentName,r=(0,(0,t.useContext)(Ge).getPrefixCls)("empty");switch(n){case"Table":case"List":return t.createElement(Q_,{image:Q_.PRESENTED_IMAGE_SIMPLE});case"Select":case"TreeSelect":case"Cascader":case"Transfer":case"Mentions":return t.createElement(Q_,{image:Q_.PRESENTED_IMAGE_SIMPLE,className:"".concat(r,"-small")});default:return t.createElement(Q_,null)}};function tw(){return k(t.useReducer((function(e){return e+1}),0),2)[1]}var nw=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n=(0,t.useRef)({}),r=tw(),i=Np();return(0,t.useEffect)((function(){var t=i.subscribe((function(t){n.current=t,e&&r()}));return function(){return i.unsubscribe(t)}}),[]),n.current},rw={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M272.9 512l265.4-339.1c4.1-5.2.4-12.9-6.3-12.9h-77.3c-4.9 0-9.6 2.3-12.6 6.1L186.8 492.3a31.99 31.99 0 000 39.5l255.3 326.1c3 3.9 7.7 6.1 12.6 6.1H532c6.7 0 10.4-7.7 6.3-12.9L272.9 512zm304 0l265.4-339.1c4.1-5.2.4-12.9-6.3-12.9h-77.3c-4.9 0-9.6 2.3-12.6 6.1L490.8 492.3a31.99 31.99 0 000 39.5l255.3 326.1c3 3.9 7.7 6.1 12.6 6.1H836c6.7 0 10.4-7.7 6.3-12.9L576.9 512z"}}]},name:"double-left",theme:"outlined"},iw=function(e,n){return t.createElement(ki,Xe(Xe({},e),{},{ref:n,icon:rw}))};iw.displayName="DoubleLeftOutlined";var aw=t.forwardRef(iw),ow={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M533.2 492.3L277.9 166.1c-3-3.9-7.7-6.1-12.6-6.1H188c-6.7 0-10.4 7.7-6.3 12.9L447.1 512 181.7 851.1A7.98 7.98 0 00188 864h77.3c4.9 0 9.6-2.3 12.6-6.1l255.3-326.1c9.1-11.7 9.1-27.9 0-39.5zm304 0L581.9 166.1c-3-3.9-7.7-6.1-12.6-6.1H492c-6.7 0-10.4 7.7-6.3 12.9L751.1 512 485.7 851.1A7.98 7.98 0 00492 864h77.3c4.9 0 9.6-2.3 12.6-6.1l255.3-326.1c9.1-11.7 9.1-27.9 0-39.5z"}}]},name:"double-right",theme:"outlined"},sw=function(e,n){return t.createElement(ki,Xe(Xe({},e),{},{ref:n,icon:ow}))};sw.displayName="DoubleRightOutlined";var lw=t.forwardRef(sw),cw=function(e){var n,r="".concat(e.rootPrefixCls,"-item"),i=Ue()(r,"".concat(r,"-").concat(e.page),(Fe(n={},"".concat(r,"-active"),e.active),Fe(n,"".concat(r,"-disabled"),!e.page),Fe(n,e.className,!!e.className),n));return t.createElement("li",{title:e.showTitle?e.page:null,className:i,onClick:function(){e.onClick(e.page)},onKeyPress:function(t){e.onKeyPress(t,e.onClick,e.page)},tabIndex:"0"},e.itemRender(e.page,"page",t.createElement("a",{rel:"nofollow"},e.page)))},uw=13,dw=38,fw=40,hw=function(e){m(r,e);var n=b(r);function r(){var e;c(this,r);for(var t=arguments.length,i=new Array(t),a=0;a<t;a++)i[a]=arguments[a];return(e=n.call.apply(n,[this].concat(i))).state={goInputText:""},e.buildOptionText=function(t){return"".concat(t," ").concat(e.props.locale.items_per_page)},e.changeSize=function(t){e.props.changeSize(Number(t))},e.handleChange=function(t){e.setState({goInputText:t.target.value})},e.handleBlur=function(t){var n=e.props,r=n.goButton,i=n.quickGo,a=n.rootPrefixCls,o=e.state.goInputText;r||""===o||(e.setState({goInputText:""}),t.relatedTarget&&(t.relatedTarget.className.indexOf("".concat(a,"-item-link"))>=0||t.relatedTarget.className.indexOf("".concat(a,"-item"))>=0)||i(e.getValidValue()))},e.go=function(t){""!==e.state.goInputText&&(t.keyCode!==uw&&"click"!==t.type||(e.setState({goInputText:""}),e.props.quickGo(e.getValidValue())))},e}return h(r,[{key:"getValidValue",value:function(){var e=this.state.goInputText;return!e||isNaN(e)?void 0:Number(e)}},{key:"getPageSizeOptions",value:function(){var e=this.props,t=e.pageSize,n=e.pageSizeOptions;return n.some((function(e){return e.toString()===t.toString()}))?n:n.concat([t.toString()]).sort((function(e,t){return(isNaN(Number(e))?0:Number(e))-(isNaN(Number(t))?0:Number(t))}))}},{key:"render",value:function(){var e=this,n=this.props,r=n.pageSize,i=n.locale,a=n.rootPrefixCls,o=n.changeSize,s=n.quickGo,l=n.goButton,c=n.selectComponentClass,u=n.buildOptionText,d=n.selectPrefixCls,f=n.disabled,h=this.state.goInputText,p="".concat(a,"-options"),m=c,v=null,g=null,y=null;if(!o&&!s)return null;var x=this.getPageSizeOptions();if(o&&m){var b=x.map((function(n,r){return t.createElement(m.Option,{key:r,value:n.toString()},(u||e.buildOptionText)(n))}));v=t.createElement(m,{disabled:f,prefixCls:d,showSearch:!1,className:"".concat(p,"-size-changer"),optionLabelProp:"children",dropdownMatchSelectWidth:!1,value:(r||x[0]).toString(),onChange:this.changeSize,getPopupContainer:function(e){return e.parentNode},"aria-label":i.page_size,defaultOpen:!1},b)}return s&&(l&&(y="boolean"===typeof l?t.createElement("button",{type:"button",onClick:this.go,onKeyUp:this.go,disabled:f,className:"".concat(p,"-quick-jumper-button")},i.jump_to_confirm):t.createElement("span",{onClick:this.go,onKeyUp:this.go},l)),g=t.createElement("div",{className:"".concat(p,"-quick-jumper")},i.jump_to,t.createElement("input",{disabled:f,type:"text",value:h,onChange:this.handleChange,onKeyUp:this.go,onBlur:this.handleBlur,"aria-label":i.page}),i.page,y)),t.createElement("li",{className:"".concat(p)},v,g)}}]),r}(t.Component);hw.defaultProps={pageSizeOptions:["10","20","50","100"]};var pw=hw;function mw(){}function vw(e){var t=Number(e);return"number"===typeof t&&!isNaN(t)&&isFinite(t)&&Math.floor(t)===t}function gw(e,t,n){var r="undefined"===typeof e?t.pageSize:e;return Math.floor((n.total-1)/r)+1}var yw=function(e){m(r,e);var n=b(r);function r(e){var i;c(this,r),(i=n.call(this,e)).getJumpPrevPage=function(){return Math.max(1,i.state.current-(i.props.showLessItems?3:5))},i.getJumpNextPage=function(){return Math.min(gw(void 0,i.state,i.props),i.state.current+(i.props.showLessItems?3:5))},i.getItemIcon=function(e,n){var r=i.props.prefixCls,a=e||t.createElement("button",{type:"button","aria-label":n,className:"".concat(r,"-item-link")});return"function"===typeof e&&(a=t.createElement(e,Xe({},i.props))),a},i.savePaginationNode=function(e){i.paginationNode=e},i.isValid=function(e){var t=i.props.total;return vw(e)&&e!==i.state.current&&vw(t)&&t>0},i.shouldDisplayQuickJumper=function(){var e=i.props,t=e.showQuickJumper;return!(e.total<=i.state.pageSize)&&t},i.handleKeyDown=function(e){e.keyCode!==dw&&e.keyCode!==fw||e.preventDefault()},i.handleKeyUp=function(e){var t=i.getValidValue(e);t!==i.state.currentInputValue&&i.setState({currentInputValue:t}),e.keyCode===uw?i.handleChange(t):e.keyCode===dw?i.handleChange(t-1):e.keyCode===fw&&i.handleChange(t+1)},i.handleBlur=function(e){var t=i.getValidValue(e);i.handleChange(t)},i.changePageSize=function(e){var t=i.state.current,n=gw(e,i.state,i.props);t=t>n?n:t,0===n&&(t=i.state.current),"number"===typeof e&&("pageSize"in i.props||i.setState({pageSize:e}),"current"in i.props||i.setState({current:t,currentInputValue:t})),i.props.onShowSizeChange(t,e),"onChange"in i.props&&i.props.onChange&&i.props.onChange(t,e)},i.handleChange=function(e){var t=i.props,n=t.disabled,r=t.onChange,a=i.state,o=a.pageSize,s=a.current,l=a.currentInputValue;if(i.isValid(e)&&!n){var c=gw(void 0,i.state,i.props),u=e;return e>c?u=c:e<1&&(u=1),"current"in i.props||i.setState({current:u}),u!==l&&i.setState({currentInputValue:u}),r(u,o),u}return s},i.prev=function(){i.hasPrev()&&i.handleChange(i.state.current-1)},i.next=function(){i.hasNext()&&i.handleChange(i.state.current+1)},i.jumpPrev=function(){i.handleChange(i.getJumpPrevPage())},i.jumpNext=function(){i.handleChange(i.getJumpNextPage())},i.hasPrev=function(){return i.state.current>1},i.hasNext=function(){return i.state.current<gw(void 0,i.state,i.props)},i.runIfEnter=function(e,t){if("Enter"===e.key||13===e.charCode){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];t.apply(void 0,r)}},i.runIfEnterPrev=function(e){i.runIfEnter(e,i.prev)},i.runIfEnterNext=function(e){i.runIfEnter(e,i.next)},i.runIfEnterJumpPrev=function(e){i.runIfEnter(e,i.jumpPrev)},i.runIfEnterJumpNext=function(e){i.runIfEnter(e,i.jumpNext)},i.handleGoTO=function(e){e.keyCode!==uw&&"click"!==e.type||i.handleChange(i.state.currentInputValue)};var a=e.onChange!==mw;"current"in e&&!a&&console.warn("Warning: You provided a `current` prop to a Pagination component without an `onChange` handler. This will render a read-only component.");var o=e.defaultCurrent;"current"in e&&(o=e.current);var s=e.defaultPageSize;return"pageSize"in e&&(s=e.pageSize),o=Math.min(o,gw(s,void 0,e)),i.state={current:o,currentInputValue:o,pageSize:s},i}return h(r,[{key:"componentDidUpdate",value:function(e,t){var n=this.props.prefixCls;if(t.current!==this.state.current&&this.paginationNode){var r=this.paginationNode.querySelector(".".concat(n,"-item-").concat(t.current));r&&document.activeElement===r&&r.blur()}}},{key:"getValidValue",value:function(e){var t=e.target.value,n=gw(void 0,this.state,this.props),r=this.state.currentInputValue;return""===t?t:isNaN(Number(t))?r:t>=n?n:Number(t)}},{key:"getShowSizeChanger",value:function(){var e=this.props,t=e.showSizeChanger,n=e.total,r=e.totalBoundaryShowSizeChanger;return"undefined"!==typeof t?t:n>r}},{key:"renderPrev",value:function(e){var n=this.props,r=n.prevIcon,i=(0,n.itemRender)(e,"prev",this.getItemIcon(r,"prev page")),a=!this.hasPrev();return(0,t.isValidElement)(i)?(0,t.cloneElement)(i,{disabled:a}):i}},{key:"renderNext",value:function(e){var n=this.props,r=n.nextIcon,i=(0,n.itemRender)(e,"next",this.getItemIcon(r,"next page")),a=!this.hasNext();return(0,t.isValidElement)(i)?(0,t.cloneElement)(i,{disabled:a}):i}},{key:"render",value:function(){var e=this,n=this.props,r=n.prefixCls,i=n.className,a=n.style,o=n.disabled,s=n.hideOnSinglePage,l=n.total,c=n.locale,u=n.showQuickJumper,d=n.showLessItems,f=n.showTitle,h=n.showTotal,p=n.simple,m=n.itemRender,v=n.showPrevNextJumpers,g=n.jumpPrevIcon,y=n.jumpNextIcon,x=n.selectComponentClass,b=n.selectPrefixCls,_=n.pageSizeOptions,w=this.state,k=w.current,S=w.pageSize,E=w.currentInputValue;if(!0===s&&l<=S)return null;var C=gw(void 0,this.state,this.props),T=[],M=null,I=null,O=null,P=null,A=null,z=u&&u.goButton,j=d?1:2,R=k-1>0?k-1:0,D=k+1<C?k+1:C,L=Object.keys(this.props).reduce((function(t,n){return"data-"!==n.substr(0,5)&&"aria-"!==n.substr(0,5)&&"role"!==n||(t[n]=e.props[n]),t}),{}),N=h&&t.createElement("li",{className:"".concat(r,"-total-text")},h(l,[0===l?0:(k-1)*S+1,k*S>l?l:k*S]));if(p)return z&&(A="boolean"===typeof z?t.createElement("button",{type:"button",onClick:this.handleGoTO,onKeyUp:this.handleGoTO},c.jump_to_confirm):t.createElement("span",{onClick:this.handleGoTO,onKeyUp:this.handleGoTO},z),A=t.createElement("li",{title:f?"".concat(c.jump_to).concat(k,"/").concat(C):null,className:"".concat(r,"-simple-pager")},A)),t.createElement("ul",Dt({className:Ue()(r,"".concat(r,"-simple"),Fe({},"".concat(r,"-disabled"),o),i),style:a,ref:this.savePaginationNode},L),N,t.createElement("li",{title:f?c.prev_page:null,onClick:this.prev,tabIndex:this.hasPrev()?0:null,onKeyPress:this.runIfEnterPrev,className:Ue()("".concat(r,"-prev"),Fe({},"".concat(r,"-disabled"),!this.hasPrev())),"aria-disabled":!this.hasPrev()},this.renderPrev(R)),t.createElement("li",{title:f?"".concat(k,"/").concat(C):null,className:"".concat(r,"-simple-pager")},t.createElement("input",{type:"text",value:E,disabled:o,onKeyDown:this.handleKeyDown,onKeyUp:this.handleKeyUp,onChange:this.handleKeyUp,onBlur:this.handleBlur,size:"3"}),t.createElement("span",{className:"".concat(r,"-slash")},"/"),C),t.createElement("li",{title:f?c.next_page:null,onClick:this.next,tabIndex:this.hasPrev()?0:null,onKeyPress:this.runIfEnterNext,className:Ue()("".concat(r,"-next"),Fe({},"".concat(r,"-disabled"),!this.hasNext())),"aria-disabled":!this.hasNext()},this.renderNext(D)),A);if(C<=3+2*j){var B={locale:c,rootPrefixCls:r,onClick:this.handleChange,onKeyPress:this.runIfEnter,showTitle:f,itemRender:m};C||T.push(t.createElement(cw,Dt({},B,{key:"noPager",page:1,className:"".concat(r,"-item-disabled")})));for(var F=1;F<=C;F+=1){var V=k===F;T.push(t.createElement(cw,Dt({},B,{key:F,page:F,active:V})))}}else{var U=d?c.prev_3:c.prev_5,H=d?c.next_3:c.next_5;v&&(M=t.createElement("li",{title:f?U:null,key:"prev",onClick:this.jumpPrev,tabIndex:"0",onKeyPress:this.runIfEnterJumpPrev,className:Ue()("".concat(r,"-jump-prev"),Fe({},"".concat(r,"-jump-prev-custom-icon"),!!g))},m(this.getJumpPrevPage(),"jump-prev",this.getItemIcon(g,"prev page"))),I=t.createElement("li",{title:f?H:null,key:"next",tabIndex:"0",onClick:this.jumpNext,onKeyPress:this.runIfEnterJumpNext,className:Ue()("".concat(r,"-jump-next"),Fe({},"".concat(r,"-jump-next-custom-icon"),!!y))},m(this.getJumpNextPage(),"jump-next",this.getItemIcon(y,"next page")))),P=t.createElement(cw,{locale:c,last:!0,rootPrefixCls:r,onClick:this.handleChange,onKeyPress:this.runIfEnter,key:C,page:C,active:!1,showTitle:f,itemRender:m}),O=t.createElement(cw,{locale:c,rootPrefixCls:r,onClick:this.handleChange,onKeyPress:this.runIfEnter,key:1,page:1,active:!1,showTitle:f,itemRender:m});var G=Math.max(1,k-j),W=Math.min(k+j,C);k-1<=j&&(W=1+2*j),C-k<=j&&(G=C-2*j);for(var q=G;q<=W;q+=1){var X=k===q;T.push(t.createElement(cw,{locale:c,rootPrefixCls:r,onClick:this.handleChange,onKeyPress:this.runIfEnter,key:q,page:q,active:X,showTitle:f,itemRender:m}))}k-1>=2*j&&3!==k&&(T[0]=(0,t.cloneElement)(T[0],{className:"".concat(r,"-item-after-jump-prev")}),T.unshift(M)),C-k>=2*j&&k!==C-2&&(T[T.length-1]=(0,t.cloneElement)(T[T.length-1],{className:"".concat(r,"-item-before-jump-next")}),T.push(I)),1!==G&&T.unshift(O),W!==C&&T.push(P)}var Z=!this.hasPrev()||!C,K=!this.hasNext()||!C;return t.createElement("ul",Dt({className:Ue()(r,i,Fe({},"".concat(r,"-disabled"),o)),style:a,ref:this.savePaginationNode},L),N,t.createElement("li",{title:f?c.prev_page:null,onClick:this.prev,tabIndex:Z?null:0,onKeyPress:this.runIfEnterPrev,className:Ue()("".concat(r,"-prev"),Fe({},"".concat(r,"-disabled"),Z)),"aria-disabled":Z},this.renderPrev(R)),T,t.createElement("li",{title:f?c.next_page:null,onClick:this.next,tabIndex:K?null:0,onKeyPress:this.runIfEnterNext,className:Ue()("".concat(r,"-next"),Fe({},"".concat(r,"-disabled"),K)),"aria-disabled":K},this.renderNext(D)),t.createElement(pw,{disabled:o,locale:c,rootPrefixCls:r,selectComponentClass:x,selectPrefixCls:b,changeSize:this.getShowSizeChanger()?this.changePageSize:null,current:k,pageSize:S,pageSizeOptions:_,quickGo:this.shouldDisplayQuickJumper()?this.handleChange:null,goButton:z}))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n={};if("current"in e&&(n.current=e.current,e.current!==t.current&&(n.currentInputValue=n.current)),"pageSize"in e&&e.pageSize!==t.pageSize){var r=t.current,i=gw(e.pageSize,t,e);r=r>i?i:r,"current"in e||(n.current=r,n.currentInputValue=r),n.pageSize=e.pageSize}return n}}]),r}(t.Component);yw.defaultProps={defaultCurrent:1,total:0,defaultPageSize:10,onChange:mw,className:"",selectPrefixCls:"rc-select",prefixCls:"rc-pagination",selectComponentClass:null,hideOnSinglePage:!1,showPrevNextJumpers:!0,showQuickJumper:!1,showLessItems:!1,showTitle:!0,onShowSizeChange:mw,locale:{items_per_page:"\u6761/\u9875",jump_to:"\u8df3\u81f3",jump_to_confirm:"\u786e\u5b9a",page:"\u9875",prev_page:"\u4e0a\u4e00\u9875",next_page:"\u4e0b\u4e00\u9875",prev_5:"\u5411\u524d 5 \u9875",next_5:"\u5411\u540e 5 \u9875",prev_3:"\u5411\u524d 3 \u9875",next_3:"\u5411\u540e 3 \u9875",page_size:"\u9875\u7801"},style:{},itemRender:function(e,t,n){return n},totalBoundaryShowSizeChanger:50};var xw=yw,bw=t.createContext(null);function _w(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:250,n=t.useRef(null),r=t.useRef(null);function i(t){(t||null===n.current)&&(n.current=t),window.clearTimeout(r.current),r.current=window.setTimeout((function(){n.current=null}),e)}return t.useEffect((function(){return function(){window.clearTimeout(r.current)}}),[]),[function(){return n.current},i]}var ww="".concat("accept acceptCharset accessKey action allowFullScreen allowTransparency\n    alt async autoComplete autoFocus autoPlay capture cellPadding cellSpacing challenge\n    charSet checked classID className colSpan cols content contentEditable contextMenu\n    controls coords crossOrigin data dateTime default defer dir disabled download draggable\n    encType form formAction formEncType formMethod formNoValidate formTarget frameBorder\n    headers height hidden high href hrefLang htmlFor httpEquiv icon id inputMode integrity\n    is keyParams keyType kind label lang list loop low manifest marginHeight marginWidth max maxLength media\n    mediaGroup method min minLength multiple muted name noValidate nonce open\n    optimum pattern placeholder poster preload radioGroup readOnly rel required\n    reversed role rowSpan rows sandbox scope scoped scrolling seamless selected\n    shape size sizes span spellCheck src srcDoc srcLang srcSet start step style\n    summary tabIndex target title type useMap value width wmode wrap"," ").concat("onCopy onCut onPaste onCompositionEnd onCompositionStart onCompositionUpdate onKeyDown\n    onKeyPress onKeyUp onFocus onBlur onChange onInput onSubmit onClick onContextMenu onDoubleClick\n    onDrag onDragEnd onDragEnter onDragExit onDragLeave onDragOver onDragStart onDrop onMouseDown\n    onMouseEnter onMouseLeave onMouseMove onMouseOut onMouseOver onMouseUp onSelect onTouchCancel\n    onTouchEnd onTouchMove onTouchStart onScroll onWheel onAbort onCanPlay onCanPlayThrough\n    onDurationChange onEmptied onEncrypted onEnded onError onLoadedData onLoadedMetadata\n    onLoadStart onPause onPlay onPlaying onProgress onRateChange onSeeked onSeeking onStalled onSuspend onTimeUpdate onVolumeChange onWaiting onLoad onError").split(/[\s\n]+/),kw="aria-",Sw="data-";function Ew(e,t){return 0===e.indexOf(t)}function Cw(e){var t,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];t=!1===n?{aria:!0,data:!0,attr:!0}:!0===n?{aria:!0}:Xe({},n);var r={};return Object.keys(e).forEach((function(n){(t.aria&&("role"===n||Ew(n,kw))||t.data&&Ew(n,Sw)||t.attr&&ww.includes(n))&&(r[n]=e[n])})),r}var Tw=function(e){var n,r=e.className,i=e.customizeIcon,a=e.customizeIconProps,o=e.onMouseDown,s=e.onClick,l=e.children;return n="function"===typeof i?i(a):i,t.createElement("span",{className:r,onMouseDown:function(e){e.preventDefault(),o&&o(e)},style:{userSelect:"none",WebkitUserSelect:"none"},unselectable:"on",onClick:s,"aria-hidden":!0},void 0!==n?n:t.createElement("span",{className:Ue()(r.split(/\s+/).map((function(e){return"".concat(e,"-icon")})))},l))},Mw=function(e,n){var r,i,a=e.prefixCls,o=e.id,s=e.inputElement,l=e.disabled,c=e.tabIndex,u=e.autoFocus,d=e.autoComplete,f=e.editable,h=e.activeDescendantId,p=e.value,m=e.maxLength,v=e.onKeyDown,g=e.onMouseDown,y=e.onChange,x=e.onPaste,b=e.onCompositionStart,_=e.onCompositionEnd,w=e.open,k=e.attrs,S=s||t.createElement("input",null),E=S,C=E.ref,T=E.props,M=T.onKeyDown,I=T.onChange,O=T.onMouseDown,P=T.onCompositionStart,A=T.onCompositionEnd,z=T.style;return $e(S.props),S=t.cloneElement(S,Xe(Xe(Xe({type:"search"},T),{},{id:o,ref:Bo(n,C),disabled:l,tabIndex:c,autoComplete:d||"off",autoFocus:u,className:Ue()("".concat(a,"-selection-search-input"),null===(r=S)||void 0===r||null===(i=r.props)||void 0===i?void 0:i.className),role:"combobox","aria-expanded":w,"aria-haspopup":"listbox","aria-owns":"".concat(o,"_list"),"aria-autocomplete":"list","aria-controls":"".concat(o,"_list"),"aria-activedescendant":h},k),{},{value:f?p:"",maxLength:m,readOnly:!f,unselectable:f?null:"on",style:Xe(Xe({},z),{},{opacity:f?null:0}),onKeyDown:function(e){v(e),M&&M(e)},onMouseDown:function(e){g(e),O&&O(e)},onChange:function(e){y(e),I&&I(e)},onCompositionStart:function(e){b(e),P&&P(e)},onCompositionEnd:function(e){_(e),A&&A(e)},onPaste:x}))},Iw=t.forwardRef(Mw);Iw.displayName="Input";var Ow=Iw;function Pw(e){return Array.isArray(e)?e:void 0!==e?[e]:[]}var Aw="undefined"!==typeof window&&window.document&&window.document.documentElement;function zw(e){return["string","number"].includes(u(e))}function jw(e){var t=void 0;return e&&(zw(e.title)?t=e.title.toString():zw(e.label)&&(t=e.label.toString())),t}function Rw(e){var t;return null!==(t=e.key)&&void 0!==t?t:e.value}var Dw=function(e){e.preventDefault(),e.stopPropagation()},Lw=function(e){var n,r,i=e.id,a=e.prefixCls,o=e.values,s=e.open,l=e.searchValue,c=e.autoClearSearchValue,u=e.inputRef,d=e.placeholder,f=e.disabled,h=e.mode,p=e.showSearch,m=e.autoFocus,v=e.autoComplete,g=e.activeDescendantId,y=e.tabIndex,x=e.removeIcon,b=e.maxTagCount,_=e.maxTagTextLength,w=e.maxTagPlaceholder,S=void 0===w?function(e){return"+ ".concat(e.length," ...")}:w,E=e.tagRender,C=e.onToggleOpen,T=e.onRemove,M=e.onInputChange,I=e.onInputPaste,O=e.onInputKeyDown,P=e.onInputMouseDown,A=e.onInputCompositionStart,z=e.onInputCompositionEnd,j=t.useRef(null),R=k((0,t.useState)(0),2),D=R[0],L=R[1],N=k((0,t.useState)(!1),2),B=N[0],F=N[1],V="".concat(a,"-selection"),U=s||"multiple"===h&&!1===c||"tags"===h?l:"",H="tags"===h||"multiple"===h&&!1===c||p&&(s||B);function G(e,n,r,i,a){return t.createElement("span",{className:Ue()("".concat(V,"-item"),Fe({},"".concat(V,"-item-disabled"),r)),title:jw(e)},t.createElement("span",{className:"".concat(V,"-item-content")},n),i&&t.createElement(Tw,{className:"".concat(V,"-item-remove"),onMouseDown:Dw,onClick:a,customizeIcon:x},"\xd7"))}n=function(){L(j.current.scrollWidth)},r=[U],Aw?t.useLayoutEffect(n,r):t.useEffect(n,r);var W=t.createElement("div",{className:"".concat(V,"-search"),style:{width:D},onFocus:function(){F(!0)},onBlur:function(){F(!1)}},t.createElement(Ow,{ref:u,open:s,prefixCls:a,id:i,inputElement:null,disabled:f,autoFocus:m,autoComplete:v,editable:H,activeDescendantId:g,value:U,onKeyDown:O,onMouseDown:P,onChange:M,onPaste:I,onCompositionStart:A,onCompositionEnd:z,tabIndex:y,attrs:Cw(e,!0)}),t.createElement("span",{ref:j,className:"".concat(V,"-search-mirror"),"aria-hidden":!0},U,"\xa0")),q=t.createElement(Ks,{prefixCls:"".concat(V,"-overflow"),data:o,renderItem:function(e){var n=e.disabled,r=e.label,i=e.value,a=!f&&!n,o=r;if("number"===typeof _&&("string"===typeof r||"number"===typeof r)){var l=String(o);l.length>_&&(o="".concat(l.slice(0,_),"..."))}var c=function(t){t&&t.stopPropagation(),T(e)};return"function"===typeof E?function(e,n,r,i,a){return t.createElement("span",{onMouseDown:function(e){Dw(e),C(!s)}},E({label:n,value:e,disabled:r,closable:i,onClose:a}))}(i,o,n,a,c):G(e,o,n,a,c)},renderRest:function(e){var t="function"===typeof S?S(e):S;return G({title:t},t,!1)},suffix:W,itemKey:Rw,maxCount:b});return t.createElement(t.Fragment,null,q,!o.length&&!U&&t.createElement("span",{className:"".concat(V,"-placeholder")},d))},Nw=function(e){var n=e.inputElement,r=e.prefixCls,i=e.id,a=e.inputRef,o=e.disabled,s=e.autoFocus,l=e.autoComplete,c=e.activeDescendantId,u=e.mode,d=e.open,f=e.values,h=e.placeholder,p=e.tabIndex,m=e.showSearch,v=e.searchValue,g=e.activeValue,y=e.maxLength,x=e.onInputKeyDown,b=e.onInputMouseDown,_=e.onInputChange,w=e.onInputPaste,S=e.onInputCompositionStart,E=e.onInputCompositionEnd,C=k(t.useState(!1),2),T=C[0],M=C[1],I="combobox"===u,O=I||m,P=f[0],A=v||"";I&&g&&!T&&(A=g),t.useEffect((function(){I&&M(!1)}),[I,g]);var z=!("combobox"!==u&&!d&&!m)&&!!A,j=jw(P);return t.createElement(t.Fragment,null,t.createElement("span",{className:"".concat(r,"-selection-search")},t.createElement(Ow,{ref:a,prefixCls:r,id:i,open:d,inputElement:n,disabled:o,autoFocus:s,autoComplete:l,editable:O,activeDescendantId:c,value:A,onKeyDown:x,onMouseDown:b,onChange:function(e){M(!0),_(e)},onPaste:w,onCompositionStart:S,onCompositionEnd:E,tabIndex:p,attrs:Cw(e,!0),maxLength:I?y:void 0})),!I&&P&&!z&&t.createElement("span",{className:"".concat(r,"-selection-item"),title:j},P.label),function(){if(P)return null;var e=z?{visibility:"hidden"}:void 0;return t.createElement("span",{className:"".concat(r,"-selection-placeholder"),style:e},h)}())};var Bw=function(e,n){var r=(0,t.useRef)(null),i=(0,t.useRef)(!1),a=e.prefixCls,o=e.open,s=e.mode,l=e.showSearch,c=e.tokenWithEnter,u=e.autoClearSearchValue,d=e.onSearch,f=e.onSearchSubmit,h=e.onToggleOpen,p=e.onInputKeyDown,m=e.domRef;t.useImperativeHandle(n,(function(){return{focus:function(){r.current.focus()},blur:function(){r.current.blur()}}}));var v=k(_w(0),2),g=v[0],y=v[1],x=(0,t.useRef)(null),b=function(e){!1!==d(e,!0,i.current)&&h(!0)},_={inputRef:r,onInputKeyDown:function(e){var t,n=e.which;n!==hl.UP&&n!==hl.DOWN||e.preventDefault(),p&&p(e),n!==hl.ENTER||"tags"!==s||i.current||o||null===f||void 0===f||f(e.target.value),t=n,[hl.ESC,hl.SHIFT,hl.BACKSPACE,hl.TAB,hl.WIN_KEY,hl.ALT,hl.META,hl.WIN_KEY_RIGHT,hl.CTRL,hl.SEMICOLON,hl.EQUALS,hl.CAPS_LOCK,hl.CONTEXT_MENU,hl.F1,hl.F2,hl.F3,hl.F4,hl.F5,hl.F6,hl.F7,hl.F8,hl.F9,hl.F10,hl.F11,hl.F12].includes(t)||h(!0)},onInputMouseDown:function(){y(!0)},onInputChange:function(e){var t=e.target.value;if(c&&x.current&&/[\r\n]/.test(x.current)){var n=x.current.replace(/[\r\n]+$/,"").replace(/\r\n/g," ").replace(/[\r\n]/g," ");t=t.replace(n,x.current)}x.current=null,b(t)},onInputPaste:function(e){var t=e.clipboardData.getData("text");x.current=t},onInputCompositionStart:function(){i.current=!0},onInputCompositionEnd:function(e){i.current=!1,"combobox"!==s&&b(e.target.value)}},w="multiple"===s||"tags"===s?t.createElement(Lw,Dt({},e,_)):t.createElement(Nw,Dt({},e,_));return t.createElement("div",{ref:m,className:"".concat(a,"-selector"),onClick:function(e){e.target!==r.current&&(void 0!==document.body.style.msTouchAction?setTimeout((function(){r.current.focus()})):r.current.focus())},onMouseDown:function(e){var t=g();e.target===r.current||t||"combobox"===s||e.preventDefault(),("combobox"===s||l&&t)&&o||(o&&!1!==u&&d("",!0,!1),h())}},w)},Fw=t.forwardRef(Bw);Fw.displayName="Selector";var Vw=Fw,Uw=["prefixCls","disabled","visible","children","popupElement","containerWidth","animation","transitionName","dropdownStyle","dropdownClassName","direction","placement","dropdownMatchSelectWidth","dropdownRender","dropdownAlign","getPopupContainer","empty","getTriggerDOMNode","onPopupVisibleChange","onPopupMouseEnter"],Hw=function(e,n){var r=e.prefixCls,i=(e.disabled,e.visible),a=e.children,o=e.popupElement,s=e.containerWidth,l=e.animation,c=e.transitionName,u=e.dropdownStyle,d=e.dropdownClassName,f=e.direction,h=void 0===f?"ltr":f,p=e.placement,m=e.dropdownMatchSelectWidth,v=e.dropdownRender,g=e.dropdownAlign,y=e.getPopupContainer,x=e.empty,b=e.getTriggerDOMNode,_=e.onPopupVisibleChange,w=e.onPopupMouseEnter,k=li(e,Uw),S="".concat(r,"-dropdown"),E=o;v&&(E=v(o));var C=t.useMemo((function(){return function(e){var t=!0===e?0:1;return{bottomLeft:{points:["tl","bl"],offset:[0,4],overflow:{adjustX:t,adjustY:1}},bottomRight:{points:["tr","br"],offset:[0,4],overflow:{adjustX:t,adjustY:1}},topLeft:{points:["bl","tl"],offset:[0,-4],overflow:{adjustX:t,adjustY:1}},topRight:{points:["br","tr"],offset:[0,-4],overflow:{adjustX:t,adjustY:1}}}}(m)}),[m]),T=l?"".concat(S,"-").concat(l):c,M=t.useRef(null);t.useImperativeHandle(n,(function(){return{getPopupElement:function(){return M.current}}}));var I=Xe({minWidth:s},u);return"number"===typeof m?I.width=m:m&&(I.width=s),t.createElement(gd,Dt({},k,{showAction:_?["click"]:[],hideAction:_?["click"]:[],popupPlacement:p||("rtl"===h?"bottomRight":"bottomLeft"),builtinPlacements:C,prefixCls:S,popupTransitionName:T,popup:t.createElement("div",{ref:M,onMouseEnter:w},E),popupAlign:g,popupVisible:i,getPopupContainer:y,popupClassName:Ue()(d,Fe({},"".concat(S,"-empty"),x)),popupStyle:I,getTriggerDOMNode:b,onPopupVisibleChange:_}),a)},Gw=t.forwardRef(Hw);Gw.displayName="SelectTrigger";var Ww=Gw;function qw(e,t){var n,r=e.key;return"value"in e&&(n=e.value),null!==r&&void 0!==r?r:void 0!==n?n:"rc-index-key-".concat(t)}function Xw(e,t){var n=e||{};return{label:n.label||(t?"children":"label"),value:n.value||"value",options:n.options||"options"}}function Zw(e){var t=Xe({},e);return"props"in t||Object.defineProperty(t,"props",{get:function(){return Qe(!1,"Return type is option instead of Option instance. Please read value directly instead of reading from `props`."),t}}),t}var Kw=["id","prefixCls","className","showSearch","tagRender","direction","omitDomProps","displayValues","onDisplayValuesChange","emptyOptions","notFoundContent","onClear","mode","disabled","loading","getInputElement","getRawInputElement","open","defaultOpen","onDropdownVisibleChange","activeValue","onActiveValueChange","activeDescendantId","searchValue","autoClearSearchValue","onSearch","onSearchSplit","tokenSeparators","allowClear","showArrow","inputIcon","clearIcon","OptionList","animation","transitionName","dropdownStyle","dropdownClassName","dropdownMatchSelectWidth","dropdownRender","dropdownAlign","placement","getPopupContainer","showAction","onFocus","onBlur","onKeyUp","onKeyDown","onMouseDown"],Yw=["value","onChange","removeIcon","placeholder","autoFocus","maxTagCount","maxTagTextLength","maxTagPlaceholder","choiceTransitionName","onInputKeyDown","onPopupScroll","tabIndex"];function $w(e){return"tags"===e||"multiple"===e}var Jw=t.forwardRef((function(e,n){var r,i,a=e.id,o=e.prefixCls,s=e.className,c=e.showSearch,d=e.tagRender,f=e.direction,h=e.omitDomProps,p=e.displayValues,m=e.onDisplayValuesChange,v=e.emptyOptions,g=e.notFoundContent,y=void 0===g?"Not Found":g,x=e.onClear,b=e.mode,_=e.disabled,w=e.loading,S=e.getInputElement,E=e.getRawInputElement,T=e.open,M=e.defaultOpen,I=e.onDropdownVisibleChange,O=e.activeValue,P=e.onActiveValueChange,A=e.activeDescendantId,z=e.searchValue,j=e.autoClearSearchValue,R=e.onSearch,D=e.onSearchSplit,L=e.tokenSeparators,N=e.allowClear,B=e.showArrow,F=e.inputIcon,V=e.clearIcon,U=e.OptionList,H=e.animation,G=e.transitionName,W=e.dropdownStyle,q=e.dropdownClassName,X=e.dropdownMatchSelectWidth,Z=e.dropdownRender,K=e.dropdownAlign,Y=e.placement,$=e.getPopupContainer,J=e.showAction,Q=void 0===J?[]:J,ee=e.onFocus,te=e.onBlur,ne=e.onKeyUp,re=e.onKeyDown,ie=e.onMouseDown,ae=li(e,Kw),oe=$w(b),se=(void 0!==c?c:oe)||"combobox"===b,le=Xe({},ae);Yw.forEach((function(e){delete le[e]})),null===h||void 0===h||h.forEach((function(e){delete le[e]}));var ce=k(t.useState(!1),2),ue=ce[0],de=ce[1];t.useEffect((function(){de(ac())}),[]);var fe=t.useRef(null),he=t.useRef(null),pe=t.useRef(null),me=t.useRef(null),ve=t.useRef(null),ge=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,n=t.useState(!1),r=k(n,2),i=r[0],a=r[1],o=t.useRef(null),s=function(){window.clearTimeout(o.current)};t.useEffect((function(){return s}),[]);var l=function(t,n){s(),o.current=window.setTimeout((function(){a(t),n&&n()}),e)};return[i,l,s]}(),ye=k(ge,3),xe=ye[0],be=ye[1],_e=ye[2];t.useImperativeHandle(n,(function(){var e,t;return{focus:null===(e=me.current)||void 0===e?void 0:e.focus,blur:null===(t=me.current)||void 0===t?void 0:t.blur,scrollTo:function(e){var t;return null===(t=ve.current)||void 0===t?void 0:t.scrollTo(e)}}}));var we=t.useMemo((function(){var e;if("combobox"!==b)return z;var t=null===(e=p[0])||void 0===e?void 0:e.value;return"string"===typeof t||"number"===typeof t?String(t):""}),[z,b,p]),ke="combobox"===b&&"function"===typeof S&&S()||null,Se="function"===typeof E&&E(),Ee=Fo(he,null===Se||void 0===Se||null===(r=Se.props)||void 0===r?void 0:r.ref),Ce=k(Js(void 0,{defaultValue:M,value:T}),2),Te=Ce[0],Me=Ce[1],Ie=Te,Oe=!y&&v;(_||Oe&&Ie&&"combobox"===b)&&(Ie=!1);var Pe=!Oe&&Ie,Ae=t.useCallback((function(e){var t=void 0!==e?e:!Ie;_||(Me(t),Ie!==t&&(null===I||void 0===I||I(t)))}),[_,Ie,Me,I]),ze=t.useMemo((function(){return(L||[]).some((function(e){return["\n","\r\n"].includes(e)}))}),[L]),je=function(e,t,n){var r=!0,i=e;null===P||void 0===P||P(null);var a=n?null:function(e,t){if(!t||!t.length)return null;var n=!1,r=function e(t,r){var i=C(r),a=i[0],o=i.slice(1);if(!a)return[t];var s=t.split(a);return n=n||s.length>1,s.reduce((function(t,n){return[].concat(l(t),l(e(n,o)))}),[]).filter((function(e){return e}))}(e,t);return n?r:null}(e,L);return"combobox"!==b&&a&&(i="",null===D||void 0===D||D(a),Ae(!1),r=!1),R&&we!==i&&R(i,{source:t?"typing":"effect"}),r};t.useEffect((function(){Ie||oe||"combobox"===b||je("",!1,!1)}),[Ie]),t.useEffect((function(){Te&&_&&Me(!1),_&&be(!1)}),[_]);var Re=k(_w(),2),De=Re[0],Le=Re[1],Ne=t.useRef(!1),Be=[];t.useEffect((function(){return function(){Be.forEach((function(e){return clearTimeout(e)})),Be.splice(0,Be.length)}}),[]);var Ve,He=k(t.useState(null),2),Ge=He[0],We=He[1],qe=k(t.useState({}),2)[1];_s((function(){if(Pe){var e,t=Math.ceil(null===(e=fe.current)||void 0===e?void 0:e.offsetWidth);Ge===t||Number.isNaN(t)||We(t)}}),[Pe]),Se&&(Ve=function(e){Ae(e)}),function(e,n,r,i){var a=t.useRef(null);a.current={open:n,triggerOpen:r,customizedTrigger:i},t.useEffect((function(){function t(t){var n;if(null===(n=a.current)||void 0===n||!n.customizedTrigger){var r=t.target;r.shadowRoot&&t.composed&&(r=t.composedPath()[0]||r),a.current.open&&e().filter((function(e){return e})).every((function(e){return!e.contains(r)&&e!==r}))&&a.current.triggerOpen(!1)}}return window.addEventListener("mousedown",t),function(){return window.removeEventListener("mousedown",t)}}),[])}((function(){var e;return[fe.current,null===(e=pe.current)||void 0===e?void 0:e.getPopupElement()]}),Pe,Ae,!!Se);var Ze,Ke,Ye=t.useMemo((function(){return Xe(Xe({},e),{},{notFoundContent:y,open:Ie,triggerOpen:Pe,id:a,showSearch:se,multiple:oe,toggleOpen:Ae})}),[e,y,Pe,Ie,a,se,oe,Ae]),$e=void 0!==B?B:w||!oe&&"combobox"!==b;$e&&(Ze=t.createElement(Tw,{className:Ue()("".concat(o,"-arrow"),Fe({},"".concat(o,"-arrow-loading"),w)),customizeIcon:F,customizeIconProps:{loading:w,searchValue:we,open:Ie,focused:xe,showSearch:se}}));_||!N||!p.length&&!we||"combobox"===b&&""===we||(Ke=t.createElement(Tw,{className:"".concat(o,"-clear"),onMouseDown:function(){var e;null===x||void 0===x||x(),null===(e=me.current)||void 0===e||e.focus(),m([],{type:"clear",values:p}),je("",!1,!1)},customizeIcon:V},"\xd7"));var Je,Qe=t.createElement(U,{ref:ve}),et=Ue()(o,s,(Fe(i={},"".concat(o,"-focused"),xe),Fe(i,"".concat(o,"-multiple"),oe),Fe(i,"".concat(o,"-single"),!oe),Fe(i,"".concat(o,"-allow-clear"),N),Fe(i,"".concat(o,"-show-arrow"),$e),Fe(i,"".concat(o,"-disabled"),_),Fe(i,"".concat(o,"-loading"),w),Fe(i,"".concat(o,"-open"),Ie),Fe(i,"".concat(o,"-customize-input"),ke),Fe(i,"".concat(o,"-show-search"),se),i)),tt=t.createElement(Ww,{ref:pe,disabled:_,prefixCls:o,visible:Pe,popupElement:Qe,containerWidth:Ge,animation:H,transitionName:G,dropdownStyle:W,dropdownClassName:q,direction:f,dropdownMatchSelectWidth:X,dropdownRender:Z,dropdownAlign:K,placement:Y,getPopupContainer:$,empty:v,getTriggerDOMNode:function(){return he.current},onPopupVisibleChange:Ve,onPopupMouseEnter:function(){qe({})}},Se?t.cloneElement(Se,{ref:Ee}):t.createElement(Vw,Dt({},e,{domRef:he,prefixCls:o,inputElement:ke,ref:me,id:a,showSearch:se,autoClearSearchValue:j,mode:b,activeDescendantId:A,tagRender:d,values:p,open:Ie,onToggleOpen:Ae,activeValue:O,searchValue:we,onSearch:je,onSearchSubmit:function(e){e&&e.trim()&&R(e,{source:"submit"})},onRemove:function(e){var t=p.filter((function(t){return t!==e}));m(t,{type:"remove",values:[e]})},tokenWithEnter:ze})));return Je=Se?tt:t.createElement("div",Dt({className:et},le,{ref:fe,onMouseDown:function(e){var t,n=e.target,r=null===(t=pe.current)||void 0===t?void 0:t.getPopupElement();if(r&&r.contains(n)){var i=setTimeout((function(){var e,t=Be.indexOf(i);-1!==t&&Be.splice(t,1),_e(),ue||r.contains(document.activeElement)||null===(e=me.current)||void 0===e||e.focus()}));Be.push(i)}for(var a=arguments.length,o=new Array(a>1?a-1:0),s=1;s<a;s++)o[s-1]=arguments[s];null===ie||void 0===ie||ie.apply(void 0,[e].concat(o))},onKeyDown:function(e){var t,n=De(),r=e.which;if(r===hl.ENTER&&("combobox"!==b&&e.preventDefault(),Ie||Ae(!0)),Le(!!we),r===hl.BACKSPACE&&!n&&oe&&!we&&p.length){for(var i=l(p),a=null,o=i.length-1;o>=0;o-=1){var s=i[o];if(!s.disabled){i.splice(o,1),a=s;break}}a&&m(i,{type:"remove",values:[a]})}for(var c=arguments.length,u=new Array(c>1?c-1:0),d=1;d<c;d++)u[d-1]=arguments[d];Ie&&ve.current&&(t=ve.current).onKeyDown.apply(t,[e].concat(u)),null===re||void 0===re||re.apply(void 0,[e].concat(u))},onKeyUp:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i;Ie&&ve.current&&(i=ve.current).onKeyUp.apply(i,[e].concat(n)),null===ne||void 0===ne||ne.apply(void 0,[e].concat(n))},onFocus:function(){be(!0),_||(ee&&!Ne.current&&ee.apply(void 0,arguments),Q.includes("focus")&&Ae(!0)),Ne.current=!0},onBlur:function(){be(!1,(function(){Ne.current=!1,Ae(!1)})),_||(we&&("tags"===b?R(we,{source:"submit"}):"multiple"===b&&R("",{source:"blur"})),te&&te.apply(void 0,arguments))}}),xe&&!Ie&&t.createElement("span",{style:{width:0,height:0,position:"absolute",overflow:"hidden",opacity:0},"aria-live":"polite"},"".concat(p.map((function(e){var t=e.label,n=e.value;return["number","string"].includes(u(t))?t:n})).join(", "))),tt,Ze,Ke),t.createElement(bw.Provider,{value:Ye},Je)}));var Qw=Jw;function ek(e,t){return Pw(e).join("").toUpperCase().includes(t)}var tk=0,nk=ft();function rk(e){var n=k(t.useState(),2),r=n[0],i=n[1];return t.useEffect((function(){i("rc_select_".concat(function(){var e;return nk?(e=tk,tk+=1):e="TEST_OR_SSR",e}()))}),[]),e||r}var ik=["children","value"],ak=["children"];function ok(e){var t=e,n=t.key,r=t.props,i=r.children,a=r.value;return Xe({key:n,value:void 0!==a?a:n,children:i},li(r,ik))}function sk(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return Lo(e).map((function(e,r){if(!t.isValidElement(e)||!e.type)return null;var i=e,a=i.type.isSelectOptGroup,o=i.key,s=i.props,l=s.children,c=li(s,ak);return n||!a?ok(e):Xe(Xe({key:"__RC_SELECT_GRP__".concat(null===o?r:o,"__"),label:o},c),{},{options:sk(l)})})).filter((function(e){return e}))}function lk(e,n,r,i,a){return t.useMemo((function(){var t=e;!e&&(t=sk(n));var o=new Map,s=new Map,l=function(e,t,n){n&&"string"===typeof n&&e.set(t[n],t)};return function e(t){for(var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],c=0;c<t.length;c+=1){var u=t[c];!u[r.options]||n?(o.set(u[r.value],u),l(s,u,r.label),l(s,u,i),l(s,u,a)):e(u[r.options],!0)}}(t),{options:t,valueOptions:o,labelOptions:s}}),[e,n,r,i,a])}function ck(e){var n=t.useRef();n.current=e;var r=t.useCallback((function(){return n.current.apply(n,arguments)}),[]);return r}var uk=function(){return null};uk.isSelectOptGroup=!0;var dk=uk,fk=function(){return null};fk.isSelectOption=!0;var hk=fk,pk=t.forwardRef((function(e,n){var r=e.height,i=e.offset,a=e.children,o=e.prefixCls,s=e.onInnerResize,l=e.innerProps,c={},u={display:"flex",flexDirection:"column"};return void 0!==i&&(c={height:r,position:"relative",overflow:"hidden"},u=Xe(Xe({},u),{},{transform:"translateY(".concat(i,"px)"),position:"absolute",left:0,right:0,top:0})),t.createElement("div",{style:c},t.createElement(xs,{onResize:function(e){e.offsetHeight&&s&&s()}},t.createElement("div",Dt({style:u,className:Ue()(Fe({},"".concat(o,"-holder-inner"),o)),ref:n},l),a)))}));pk.displayName="Filler";var mk=pk;function vk(e){return"touches"in e?e.touches[0].pageY:e.pageY}var gk=function(e){m(r,e);var n=b(r);function r(){var e;c(this,r);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return(e=n.call.apply(n,[this].concat(a))).moveRaf=null,e.scrollbarRef=t.createRef(),e.thumbRef=t.createRef(),e.visibleTimeout=null,e.state={dragging:!1,pageY:null,startTop:null,visible:!1},e.delayHidden=function(){clearTimeout(e.visibleTimeout),e.setState({visible:!0}),e.visibleTimeout=setTimeout((function(){e.setState({visible:!1})}),2e3)},e.onScrollbarTouchStart=function(e){e.preventDefault()},e.onContainerMouseDown=function(e){e.stopPropagation(),e.preventDefault()},e.patchEvents=function(){window.addEventListener("mousemove",e.onMouseMove),window.addEventListener("mouseup",e.onMouseUp),e.thumbRef.current.addEventListener("touchmove",e.onMouseMove),e.thumbRef.current.addEventListener("touchend",e.onMouseUp)},e.removeEvents=function(){var t;window.removeEventListener("mousemove",e.onMouseMove),window.removeEventListener("mouseup",e.onMouseUp),null===(t=e.scrollbarRef.current)||void 0===t||t.removeEventListener("touchstart",e.onScrollbarTouchStart),e.thumbRef.current&&(e.thumbRef.current.removeEventListener("touchstart",e.onMouseDown),e.thumbRef.current.removeEventListener("touchmove",e.onMouseMove),e.thumbRef.current.removeEventListener("touchend",e.onMouseUp)),js.cancel(e.moveRaf)},e.onMouseDown=function(t){var n=e.props.onStartMove;e.setState({dragging:!0,pageY:vk(t),startTop:e.getTop()}),n(),e.patchEvents(),t.stopPropagation(),t.preventDefault()},e.onMouseMove=function(t){var n=e.state,r=n.dragging,i=n.pageY,a=n.startTop,o=e.props.onScroll;if(js.cancel(e.moveRaf),r){var s=a+(vk(t)-i),l=e.getEnableScrollRange(),c=e.getEnableHeightRange(),u=c?s/c:0,d=Math.ceil(u*l);e.moveRaf=js((function(){o(d)}))}},e.onMouseUp=function(){var t=e.props.onStopMove;e.setState({dragging:!1}),t(),e.removeEvents()},e.getSpinHeight=function(){var t=e.props,n=t.height,r=n/t.count*10;return r=Math.max(r,20),r=Math.min(r,n/2),Math.floor(r)},e.getEnableScrollRange=function(){var t=e.props;return t.scrollHeight-t.height||0},e.getEnableHeightRange=function(){return e.props.height-e.getSpinHeight()||0},e.getTop=function(){var t=e.props.scrollTop,n=e.getEnableScrollRange(),r=e.getEnableHeightRange();return 0===t||0===n?0:t/n*r},e.showScroll=function(){var t=e.props,n=t.height;return t.scrollHeight>n},e}return h(r,[{key:"componentDidMount",value:function(){this.scrollbarRef.current.addEventListener("touchstart",this.onScrollbarTouchStart),this.thumbRef.current.addEventListener("touchstart",this.onMouseDown)}},{key:"componentDidUpdate",value:function(e){e.scrollTop!==this.props.scrollTop&&this.delayHidden()}},{key:"componentWillUnmount",value:function(){this.removeEvents(),clearTimeout(this.visibleTimeout)}},{key:"render",value:function(){var e=this.state,n=e.dragging,r=e.visible,i=this.props.prefixCls,a=this.getSpinHeight(),o=this.getTop(),s=this.showScroll(),l=s&&r;return t.createElement("div",{ref:this.scrollbarRef,className:Ue()("".concat(i,"-scrollbar"),Fe({},"".concat(i,"-scrollbar-show"),s)),style:{width:8,top:0,bottom:0,right:0,position:"absolute",display:l?null:"none"},onMouseDown:this.onContainerMouseDown,onMouseMove:this.delayHidden},t.createElement("div",{ref:this.thumbRef,className:Ue()("".concat(i,"-scrollbar-thumb"),Fe({},"".concat(i,"-scrollbar-thumb-moving"),n)),style:{width:"100%",height:a,top:o,left:0,position:"absolute",background:"rgba(0, 0, 0, 0.5)",borderRadius:99,cursor:"pointer",userSelect:"none"},onMouseDown:this.onMouseDown}))}}]),r}(t.Component);function yk(e){var n=e.children,r=e.setRef,i=t.useCallback((function(e){r(e)}),[]);return t.cloneElement(n,{ref:i})}var xk=function(){function e(){c(this,e),this.maps=void 0,this.maps=Object.create(null)}return h(e,[{key:"set",value:function(e,t){this.maps[e]=t}},{key:"get",value:function(e){return this.maps[e]}}]),e}();function bk(e,n,r){var i=k(t.useState(e),2),a=i[0],o=i[1],s=k(t.useState(null),2),l=s[0],c=s[1];return t.useEffect((function(){var t=function(e,t,n){var r,i,a=e.length,o=t.length;if(0===a&&0===o)return null;a<o?(r=e,i=t):(r=t,i=e);var s={__EMPTY_ITEM__:!0};function l(e){return void 0!==e?n(e):s}for(var c=null,u=1!==Math.abs(a-o),d=0;d<i.length;d+=1){var f=l(r[d]);if(f!==l(i[d])){c=d,u=u||f!==l(i[d+1]);break}}return null===c?null:{index:c,multiple:u}}(a||[],e||[],n);void 0!==(null===t||void 0===t?void 0:t.index)&&(null===r||void 0===r||r(t.index),c(e[t.index])),o(e)}),[e]),[l]}var _k="object"===("undefined"===typeof navigator?"undefined":u(navigator))&&/Firefox/i.test(navigator.userAgent),wk=function(e,n){var r=(0,t.useRef)(!1),i=(0,t.useRef)(null);function a(){clearTimeout(i.current),r.current=!0,i.current=setTimeout((function(){r.current=!1}),50)}var o=(0,t.useRef)({top:e,bottom:n});return o.current.top=e,o.current.bottom=n,function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e<0&&o.current.top||e>0&&o.current.bottom;return t&&n?(clearTimeout(i.current),r.current=!1):n&&!r.current||a(),!r.current&&n}};var kk=["prefixCls","className","height","itemHeight","fullHeight","style","data","children","itemKey","virtual","component","onScroll","onVisibleChange","innerProps"],Sk=[],Ek={overflowY:"auto",overflowAnchor:"none"};function Ck(e,n){var r=e.prefixCls,i=void 0===r?"rc-virtual-list":r,a=e.className,o=e.height,s=e.itemHeight,l=e.fullHeight,c=void 0===l||l,d=e.style,f=e.data,h=e.children,p=e.itemKey,m=e.virtual,v=e.component,g=void 0===v?"div":v,y=e.onScroll,x=e.onVisibleChange,b=e.innerProps,_=li(e,kk),w=!(!1===m||!o||!s),S=w&&f&&s*f.length>o,E=k((0,t.useState)(0),2),C=E[0],T=E[1],M=k((0,t.useState)(!1),2),I=M[0],O=M[1],P=Ue()(i,a),A=f||Sk,z=(0,t.useRef)(),j=(0,t.useRef)(),R=(0,t.useRef)(),D=t.useCallback((function(e){return"function"===typeof p?p(e):null===e||void 0===e?void 0:e[p]}),[p]),L={getKey:D};function N(e){T((function(t){var n=function(e){var t=e;Number.isNaN(ee.current)||(t=Math.min(t,ee.current));return t=Math.max(t,0),t}("function"===typeof e?e(t):e);return z.current.scrollTop=n,n}))}var B=(0,t.useRef)({start:0,end:A.length}),F=(0,t.useRef)(),V=k(bk(A,D),1)[0];F.current=V;var U=function(e,n,r){var i=k(t.useState(0),2),a=i[0],o=i[1],s=(0,t.useRef)(new Map),l=(0,t.useRef)(new xk),c=(0,t.useRef)();function u(){js.cancel(c.current)}function d(){u(),c.current=js((function(){s.current.forEach((function(e,t){if(e&&e.offsetParent){var n=Go(e),r=n.offsetHeight;l.current.get(t)!==r&&l.current.set(t,n.offsetHeight)}})),o((function(e){return e+1}))}))}return(0,t.useEffect)((function(){return u}),[]),[function(t,i){var a=e(t),o=s.current.get(a);i?(s.current.set(a,i),d()):s.current.delete(a),!o!==!i&&(i?null===n||void 0===n||n(t):null===r||void 0===r||r(t))},d,l.current,a]}(D,null,null),H=k(U,4),G=H[0],W=H[1],q=H[2],X=H[3],Z=t.useMemo((function(){if(!w)return{scrollHeight:void 0,start:0,end:A.length-1,offset:void 0};var e;if(!S)return{scrollHeight:(null===(e=j.current)||void 0===e?void 0:e.offsetHeight)||0,start:0,end:A.length-1,offset:void 0};for(var t,n,r,i=0,a=A.length,l=0;l<a;l+=1){var c=A[l],u=D(c),d=q.get(u),f=i+(void 0===d?s:d);f>=C&&void 0===t&&(t=l,n=i),f>C+o&&void 0===r&&(r=l),i=f}return void 0===t&&(t=0,n=0,r=Math.ceil(o/s)),void 0===r&&(r=A.length-1),{scrollHeight:i,start:t,end:r=Math.min(r+1,A.length),offset:n}}),[S,w,C,A,X,o]),K=Z.scrollHeight,Y=Z.start,$=Z.end,J=Z.offset;B.current.start=Y,B.current.end=$;var Q=K-o,ee=(0,t.useRef)(Q);ee.current=Q;var te=C<=0,ne=C>=Q,re=wk(te,ne);var ie=function(e,n,r,i){var a=(0,t.useRef)(0),o=(0,t.useRef)(null),s=(0,t.useRef)(null),l=(0,t.useRef)(!1),c=wk(n,r);return[function(t){if(e){js.cancel(o.current);var n=t.deltaY;a.current+=n,s.current=n,c(n)||(_k||t.preventDefault(),o.current=js((function(){var e=l.current?10:1;i(a.current*e),a.current=0})))}},function(t){e&&(l.current=t.detail===s.current)}]}(w,te,ne,(function(e){N((function(t){return t+e}))})),ae=k(ie,2),oe=ae[0],se=ae[1];!function(e,n,r){var i,a=(0,t.useRef)(!1),o=(0,t.useRef)(0),s=(0,t.useRef)(null),l=(0,t.useRef)(null),c=function(e){if(a.current){var t=Math.ceil(e.touches[0].pageY),n=o.current-t;o.current=t,r(n)&&e.preventDefault(),clearInterval(l.current),l.current=setInterval((function(){(!r(n*=.9333333333333333,!0)||Math.abs(n)<=.1)&&clearInterval(l.current)}),16)}},u=function(){a.current=!1,i()},d=function(e){i(),1!==e.touches.length||a.current||(a.current=!0,o.current=Math.ceil(e.touches[0].pageY),s.current=e.target,s.current.addEventListener("touchmove",c),s.current.addEventListener("touchend",u))};i=function(){s.current&&(s.current.removeEventListener("touchmove",c),s.current.removeEventListener("touchend",u))},_s((function(){return e&&n.current.addEventListener("touchstart",d),function(){var e;null===(e=n.current)||void 0===e||e.removeEventListener("touchstart",d),i(),clearInterval(l.current)}}),[e])}(w,z,(function(e,t){return!re(e,t)&&(oe({preventDefault:function(){},deltaY:e}),!0)})),_s((function(){function e(e){w&&e.preventDefault()}return z.current.addEventListener("wheel",oe),z.current.addEventListener("DOMMouseScroll",se),z.current.addEventListener("MozMousePixelScroll",e),function(){z.current&&(z.current.removeEventListener("wheel",oe),z.current.removeEventListener("DOMMouseScroll",se),z.current.removeEventListener("MozMousePixelScroll",e))}}),[w]);var le=function(e,n,r,i,a,o,s,l){var c=t.useRef();return function(t){if(null!==t&&void 0!==t){if(js.cancel(c.current),"number"===typeof t)s(t);else if(t&&"object"===u(t)){var d,f=t.align;d="index"in t?t.index:n.findIndex((function(e){return a(e)===t.key}));var h=t.offset,p=void 0===h?0:h;!function t(l,u){if(!(l<0)&&e.current){var h=e.current.clientHeight,m=!1,v=u;if(h){for(var g=u||f,y=0,x=0,b=0,_=Math.min(n.length,d),w=0;w<=_;w+=1){var k=a(n[w]);x=y;var S=r.get(k);y=b=x+(void 0===S?i:S),w===d&&void 0===S&&(m=!0)}var E=null;switch(g){case"top":E=x-p;break;case"bottom":E=b-h+p;break;default:var C=e.current.scrollTop;x<C?v="top":b>C+h&&(v="bottom")}null!==E&&E!==e.current.scrollTop&&s(E)}c.current=js((function(){m&&o(),t(l-1,v)}),2)}}(3)}}else l()}}(z,A,q,s,D,W,N,(function(){var e;null===(e=R.current)||void 0===e||e.delayHidden()}));t.useImperativeHandle(n,(function(){return{scrollTo:le}})),_s((function(){if(x){var e=A.slice(Y,$+1);x(e,A)}}),[Y,$,A]);var ce=function(e,n,r,i,a,o){var s=o.getKey;return e.slice(n,r+1).map((function(e,r){var o=a(e,n+r,{}),l=s(e);return t.createElement(yk,{key:l,setRef:function(t){return i(e,t)}},o)}))}(A,Y,$,G,h,L),ue=null;return o&&(ue=Xe(Fe({},c?"height":"maxHeight",o),Ek),w&&(ue.overflowY="hidden",I&&(ue.pointerEvents="none"))),t.createElement("div",Dt({style:Xe(Xe({},d),{},{position:"relative"}),className:P},_),t.createElement(g,{className:"".concat(i,"-holder"),style:ue,ref:z,onScroll:function(e){var t=e.currentTarget.scrollTop;t!==C&&N(t),null===y||void 0===y||y(e)}},t.createElement(mk,{prefixCls:i,height:K,offset:J,onInnerResize:W,ref:j,innerProps:b},ce)),w&&t.createElement(gk,{ref:R,prefixCls:i,scrollTop:C,height:o,scrollHeight:K,count:A.length,onScroll:function(e){N(e)},onStartMove:function(){O(!0)},onStopMove:function(){O(!1)}}))}var Tk=t.forwardRef(Ck);Tk.displayName="List";var Mk=Tk,Ik=t.createContext(null);var Ok=["disabled","title","children","style","className"];function Pk(e){return"string"===typeof e||"number"===typeof e}var Ak=function(e,n){var r=t.useContext(bw),i=r.prefixCls,a=r.id,o=r.open,s=r.multiple,c=r.mode,u=r.searchValue,d=r.toggleOpen,f=r.notFoundContent,h=r.onPopupScroll,p=t.useContext(Ik),m=p.flattenOptions,v=p.onActiveValue,g=p.defaultActiveFirstOption,y=p.onSelect,x=p.menuItemSelectedIcon,b=p.rawValues,_=p.fieldNames,w=p.virtual,S=p.listHeight,E=p.listItemHeight,C="".concat(i,"-item"),T=Ke((function(){return m}),[o,m],(function(e,t){return t[0]&&e[1]!==t[1]})),M=t.useRef(null),I=function(e){e.preventDefault()},O=function(e){M.current&&M.current.scrollTo("number"===typeof e?{index:e}:e)},P=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=T.length,r=0;r<n;r+=1){var i=(e+r*t+n)%n,a=T[i],o=a.group,s=a.data;if(!o&&!s.disabled)return i}return-1},A=k(t.useState((function(){return P(0)})),2),z=A[0],j=A[1],R=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];j(e);var n={source:t?"keyboard":"mouse"},r=T[e];r?v(r.value,e,n):v(null,-1,n)};(0,t.useEffect)((function(){R(!1!==g?P(0):-1)}),[T.length,u]);var D=t.useCallback((function(e){return b.has(e)&&"combobox"!==c}),[c,l(b).toString(),b.size]);(0,t.useEffect)((function(){var e,t=setTimeout((function(){if(!s&&o&&1===b.size){var e=Array.from(b)[0],t=T.findIndex((function(t){return t.data.value===e}));-1!==t&&(R(t),O(t))}}));o&&(null===(e=M.current)||void 0===e||e.scrollTo(void 0));return function(){return clearTimeout(t)}}),[o,u]);var L=function(e){void 0!==e&&y(e,{selected:!b.has(e)}),s||d(!1)};if(t.useImperativeHandle(n,(function(){return{onKeyDown:function(e){var t=e.which,n=e.ctrlKey;switch(t){case hl.N:case hl.P:case hl.UP:case hl.DOWN:var r=0;if(t===hl.UP?r=-1:t===hl.DOWN?r=1:/(mac\sos|macintosh)/i.test(navigator.appVersion)&&n&&(t===hl.N?r=1:t===hl.P&&(r=-1)),0!==r){var i=P(z+r,r);O(i),R(i,!0)}break;case hl.ENTER:var a=T[z];a&&!a.data.disabled?L(a.value):L(void 0),o&&e.preventDefault();break;case hl.ESC:d(!1),o&&e.stopPropagation()}},onKeyUp:function(){},scrollTo:function(e){O(e)}}})),0===T.length)return t.createElement("div",{role:"listbox",id:"".concat(a,"_list"),className:"".concat(C,"-empty"),onMouseDown:I},f);var N=Object.keys(_).map((function(e){return _[e]})),B=function(e){return e.label};function F(e,t){return{role:e.group?"presentation":"option",id:"".concat(a,"_list_").concat(t)}}var V=function(e){var n=T[e];if(!n)return null;var r=n.data||{},i=r.value,a=n.group,o=Cw(r,!0),s=B(n);return n?t.createElement("div",Dt({"aria-label":"string"!==typeof s||a?null:s},o,{key:e},F(n,e),{"aria-selected":D(i)}),i):null},U={role:"listbox",id:"".concat(a,"_list")};return t.createElement(t.Fragment,null,w&&t.createElement("div",Dt({},U,{style:{height:0,width:0,overflow:"hidden"}}),V(z-1),V(z),V(z+1)),t.createElement(Mk,{itemKey:"key",ref:M,data:T,height:S,itemHeight:E,fullHeight:!1,onMouseDown:I,onScroll:h,virtual:w,innerProps:w?null:U},(function(e,n){var r,i=e.group,a=e.groupOption,o=e.data,s=e.label,l=e.value,c=o.key;if(i){var u,d=null!==(u=o.title)&&void 0!==u?u:Pk(s)?s.toString():void 0;return t.createElement("div",{className:Ue()(C,"".concat(C,"-group")),title:d},void 0!==s?s:c)}var f=o.disabled,h=o.title,p=(o.children,o.style),m=o.className,v=Ai(li(o,Ok),N),g=D(l),y="".concat(C,"-option"),b=Ue()(C,y,m,(Fe(r={},"".concat(y,"-grouped"),a),Fe(r,"".concat(y,"-active"),z===n&&!f),Fe(r,"".concat(y,"-disabled"),f),Fe(r,"".concat(y,"-selected"),g),r)),_=B(e),k=!x||"function"===typeof x||g,S="number"===typeof _?_:_||l,E=Pk(S)?S.toString():void 0;return void 0!==h&&(E=h),t.createElement("div",Dt({},Cw(v),w?{}:F(e,n),{"aria-selected":g,className:b,title:E,onMouseMove:function(){z===n||f||R(n)},onClick:function(){f||L(l)},style:p}),t.createElement("div",{className:"".concat(y,"-content")},S),t.isValidElement(x)||g,k&&t.createElement(Tw,{className:"".concat(C,"-option-state"),customizeIcon:x,customizeIconProps:{isSelected:g}},g?"\u2713":null))})))},zk=t.forwardRef(Ak);zk.displayName="OptionList";var jk=zk;var Rk=["id","mode","prefixCls","backfill","fieldNames","inputValue","searchValue","onSearch","autoClearSearchValue","onSelect","onDeselect","dropdownMatchSelectWidth","filterOption","filterSort","optionFilterProp","optionLabelProp","options","children","defaultActiveFirstOption","menuItemSelectedIcon","virtual","listHeight","listItemHeight","value","defaultValue","labelInValue","onChange"],Dk=["inputValue"];var Lk=t.forwardRef((function(e,n){var r=e.id,i=e.mode,a=e.prefixCls,o=void 0===a?"rc-select":a,s=e.backfill,c=e.fieldNames,d=e.inputValue,f=e.searchValue,h=e.onSearch,p=e.autoClearSearchValue,m=void 0===p||p,v=e.onSelect,g=e.onDeselect,y=e.dropdownMatchSelectWidth,x=void 0===y||y,b=e.filterOption,_=e.filterSort,w=e.optionFilterProp,S=e.optionLabelProp,E=e.options,C=e.children,T=e.defaultActiveFirstOption,M=e.menuItemSelectedIcon,I=e.virtual,O=e.listHeight,P=void 0===O?200:O,A=e.listItemHeight,z=void 0===A?20:A,j=e.value,R=e.defaultValue,D=e.labelInValue,L=e.onChange,N=li(e,Rk),B=rk(r),F=$w(i),V=!(E||!C),U=t.useMemo((function(){return(void 0!==b||"combobox"!==i)&&b}),[b,i]),H=t.useMemo((function(){return Xw(c,V)}),[JSON.stringify(c),V]),G=k(Js("",{value:void 0!==f?f:d,postState:function(e){return e||""}}),2),W=G[0],q=G[1],X=lk(E,C,H,w,S),Z=X.valueOptions,K=X.labelOptions,Y=X.options,$=t.useCallback((function(e){return Pw(e).map((function(e){var t,n,r,i,a,o;(function(e){return!e||"object"!==u(e)})(e)?t=e:(r=e.key,n=e.label,t=null!==(o=e.value)&&void 0!==o?o:r);var s,l=Z.get(t);l&&(void 0===n&&(n=null===l||void 0===l?void 0:l[S||H.label]),void 0===r&&(r=null!==(s=null===l||void 0===l?void 0:l.key)&&void 0!==s?s:t),i=null===l||void 0===l?void 0:l.disabled,a=null===l||void 0===l?void 0:l.title);return{label:n,value:t,key:r,disabled:i,title:a}}))}),[H,S,Z]),J=k(Js(R,{value:j}),2),Q=J[0],ee=J[1],te=function(e,n){var r=t.useRef({values:new Map,options:new Map});return[t.useMemo((function(){var t=r.current,i=t.values,a=t.options,o=e.map((function(e){var t;return void 0===e.label?Xe(Xe({},e),{},{label:null===(t=i.get(e.value))||void 0===t?void 0:t.label}):e})),s=new Map,l=new Map;return o.forEach((function(e){s.set(e.value,e),l.set(e.value,n.get(e.value)||a.get(e.value))})),r.current.values=s,r.current.options=l,o}),[e,n]),t.useCallback((function(e){return n.get(e)||r.current.options.get(e)}),[n])]}(t.useMemo((function(){var e,t=$(Q);return"combobox"!==i||null!==(e=t[0])&&void 0!==e&&e.value?t:[]}),[Q,$,i]),Z),ne=k(te,2),re=ne[0],ie=ne[1],ae=t.useMemo((function(){if(!i&&1===re.length){var e=re[0];if(null===e.value&&(null===e.label||void 0===e.label))return[]}return re.map((function(e){var t;return Xe(Xe({},e),{},{label:null!==(t=e.label)&&void 0!==t?t:e.value})}))}),[i,re]),oe=t.useMemo((function(){return new Set(re.map((function(e){return e.value})))}),[re]);t.useEffect((function(){if("combobox"===i){var e,t=null===(e=re[0])||void 0===e?void 0:e.value;q(function(e){return void 0!==e&&null!==e}(t)?String(t):"")}}),[re]);var se=ck((function(e,t){var n,r=null!==t&&void 0!==t?t:e;return Fe(n={},H.value,e),Fe(n,H.label,r),n})),le=t.useMemo((function(){if("tags"!==i)return Y;var e=l(Y);return l(re).sort((function(e,t){return e.value<t.value?-1:1})).forEach((function(t){var n=t.value;(function(e){return Z.has(e)})(n)||e.push(se(n,t.label))})),e}),[se,Y,Z,re,i]),ce=function(e,n,r,i,a){return t.useMemo((function(){if(!r||!1===i)return e;var t=n.options,o=n.label,s=n.value,l=[],c="function"===typeof i,u=r.toUpperCase(),d=c?i:function(e,n){return a?ek(n[a],u):n[t]?ek(n["children"!==o?o:"label"],u):ek(n[s],u)},f=c?function(e){return Zw(e)}:function(e){return e};return e.forEach((function(e){if(e[t])if(d(r,f(e)))l.push(e);else{var n=e[t].filter((function(e){return d(r,f(e))}));n.length&&l.push(Xe(Xe({},e),{},Fe({},t,n)))}else d(r,f(e))&&l.push(e)})),l}),[e,i,a,r,n])}(le,H,W,U,w),ue=t.useMemo((function(){return"tags"!==i||!W||ce.some((function(e){return e[w||"value"]===W}))?ce:[se(W)].concat(l(ce))}),[se,w,i,ce,W]),de=t.useMemo((function(){return _?l(ue).sort((function(e,t){return _(e,t)})):ue}),[ue,_]),fe=t.useMemo((function(){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.fieldNames,r=t.childrenAsData,i=[],a=Xw(n,!1),o=a.label,s=a.value,l=a.options;function c(e,t){e.forEach((function(e){var n=e[o];if(t||!(l in e)){var a=e[s];i.push({key:qw(e,i.length),groupOption:t,data:e,label:n,value:a})}else{var u=n;void 0===u&&r&&(u=e.label),i.push({key:qw(e,i.length),group:!0,data:e,label:u}),c(e[l],!0)}}))}return c(e,!1),i}(de,{fieldNames:H,childrenAsData:V})}),[de,H,V]),he=function(e){var t=$(e);if(ee(t),L&&(t.length!==re.length||t.some((function(e,t){var n;return(null===(n=re[t])||void 0===n?void 0:n.value)!==(null===e||void 0===e?void 0:e.value)})))){var n=D?t:t.map((function(e){return e.value})),r=t.map((function(e){return Zw(ie(e.value))}));L(F?n:n[0],F?r:r[0])}},pe=k(t.useState(null),2),me=pe[0],ve=pe[1],ge=k(t.useState(0),2),ye=ge[0],xe=ge[1],be=void 0!==T?T:"combobox"!==i,_e=t.useCallback((function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.source,a=void 0===r?"keyboard":r;xe(t),s&&"combobox"===i&&null!==e&&"keyboard"===a&&ve(String(e))}),[s,i]),we=function(e,t,n){var r=function(){var t,n=ie(e);return[D?{label:null===n||void 0===n?void 0:n[H.label],value:e,key:null!==(t=null===n||void 0===n?void 0:n.key)&&void 0!==t?t:e}:e,Zw(n)]};if(t&&v){var i=k(r(),2),a=i[0],o=i[1];v(a,o)}else if(!t&&g&&"clear"!==n){var s=k(r(),2),l=s[0],c=s[1];g(l,c)}},ke=ck((function(e,t){var n,r=!F||t.selected;n=r?F?[].concat(l(re),[e]):[e]:re.filter((function(t){return t.value!==e})),he(n),we(e,r),"combobox"===i?ve(""):$w&&!m||(q(""),ve(""))})),Se=t.useMemo((function(){var e=!1!==I&&!1!==x;return Xe(Xe({},X),{},{flattenOptions:fe,onActiveValue:_e,defaultActiveFirstOption:be,onSelect:ke,menuItemSelectedIcon:M,rawValues:oe,fieldNames:H,virtual:e,listHeight:P,listItemHeight:z,childrenAsData:V})}),[X,fe,_e,be,ke,M,oe,H,I,x,P,z,V]);return t.createElement(Ik.Provider,{value:Se},t.createElement(Qw,Dt({},N,{id:B,prefixCls:o,ref:n,omitDomProps:Dk,mode:i,displayValues:ae,onDisplayValuesChange:function(e,t){he(e);var n=t.type,r=t.values;"remove"!==n&&"clear"!==n||r.forEach((function(e){we(e.value,!1,n)}))},searchValue:W,onSearch:function(e,t){if(q(e),ve(null),"submit"!==t.source)"blur"!==t.source&&("combobox"===i&&he(e),null===h||void 0===h||h(e));else{var n=(e||"").trim();if(n){var r=Array.from(new Set([].concat(l(oe),[n])));he(r),we(n,!0),q("")}}},autoClearSearchValue:m,onSearchSplit:function(e){var t=e;"tags"!==i&&(t=e.map((function(e){var t=K.get(e);return null===t||void 0===t?void 0:t.value})).filter((function(e){return void 0!==e})));var n=Array.from(new Set([].concat(l(oe),l(t))));he(n),n.forEach((function(e){we(e,!0)}))},dropdownMatchSelectWidth:x,OptionList:jk,emptyOptions:!fe.length,activeValue:me,activeDescendantId:"".concat(B,"_list_").concat(ye)})))}));var Nk=Lk;Nk.Option=hk,Nk.OptGroup=dk;var Bk=Nk,Fk={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M912 190h-69.9c-9.8 0-19.1 4.5-25.1 12.2L404.7 724.5 207 474a32 32 0 00-25.1-12.2H112c-6.7 0-10.4 7.7-6.3 12.9l273.9 347c12.8 16.2 37.4 16.2 50.3 0l488.4-618.9c4.1-5.1.4-12.8-6.3-12.8z"}}]},name:"check",theme:"outlined"},Vk=function(e,n){return t.createElement(ki,Xe(Xe({},e),{},{ref:n,icon:Fk}))};Vk.displayName="CheckOutlined";var Uk=t.forwardRef(Vk),Hk={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M563.8 512l262.5-312.9c4.4-5.2.7-13.1-6.1-13.1h-79.8c-4.7 0-9.2 2.1-12.3 5.7L511.6 449.8 295.1 191.7c-3-3.6-7.5-5.7-12.3-5.7H203c-6.8 0-10.5 7.9-6.1 13.1L459.4 512 196.9 824.9A7.95 7.95 0 00203 838h79.8c4.7 0 9.2-2.1 12.3-5.7l216.5-258.1 216.5 258.1c3 3.6 7.5 5.7 12.3 5.7h79.8c6.8 0 10.5-7.9 6.1-13.1L563.8 512z"}}]},name:"close",theme:"outlined"},Gk=function(e,n){return t.createElement(ki,Xe(Xe({},e),{},{ref:n,icon:Hk}))};Gk.displayName="CloseOutlined";var Wk=t.forwardRef(Gk),qk={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M884 256h-75c-5.1 0-9.9 2.5-12.9 6.6L512 654.2 227.9 262.6c-3-4.1-7.8-6.6-12.9-6.6h-75c-6.5 0-10.3 7.4-6.5 12.7l352.6 486.1c12.8 17.6 39 17.6 51.7 0l352.6-486.1c3.9-5.3.1-12.7-6.4-12.7z"}}]},name:"down",theme:"outlined"},Xk=function(e,n){return t.createElement(ki,Xe(Xe({},e),{},{ref:n,icon:qk}))};Xk.displayName="DownOutlined";var Zk=t.forwardRef(Xk);var Kk=new Rn("antMoveDownIn",{"0%":{transform:"translate3d(0, 100%, 0)",transformOrigin:"0 0",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1}}),Yk=new Rn("antMoveDownOut",{"0%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1},"100%":{transform:"translate3d(0, 100%, 0)",transformOrigin:"0 0",opacity:0}}),$k=new Rn("antMoveLeftIn",{"0%":{transform:"translate3d(-100%, 0, 0)",transformOrigin:"0 0",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1}}),Jk=new Rn("antMoveLeftOut",{"0%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1},"100%":{transform:"translate3d(-100%, 0, 0)",transformOrigin:"0 0",opacity:0}}),Qk=new Rn("antMoveRightIn",{"0%":{transform:"translate3d(100%, 0, 0)",transformOrigin:"0 0",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1}}),eS=new Rn("antMoveRightOut",{"0%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1},"100%":{transform:"translate3d(100%, 0, 0)",transformOrigin:"0 0",opacity:0}}),tS={"move-up":{inKeyframes:new Rn("antMoveUpIn",{"0%":{transform:"translate3d(0, -100%, 0)",transformOrigin:"0 0",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1}}),outKeyframes:new Rn("antMoveUpOut",{"0%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1},"100%":{transform:"translate3d(0, -100%, 0)",transformOrigin:"0 0",opacity:0}})},"move-down":{inKeyframes:Kk,outKeyframes:Yk},"move-left":{inKeyframes:$k,outKeyframes:Jk},"move-right":{inKeyframes:Qk,outKeyframes:eS}},nS=function(e,t){var n,r=e.antCls,i="".concat(r,"-").concat(t),a=tS[t],o=a.inKeyframes,s=a.outKeyframes;return[nf(i,o,s,e.motionDurationMid),(n={},Fe(n,"\n        ".concat(i,"-enter,\n        ").concat(i,"-appear\n      "),{opacity:0,animationTimingFunction:e.motionEaseOutCirc}),Fe(n,"".concat(i,"-leave"),{animationTimingFunction:e.motionEaseInOutCirc}),n)]},rS=function(e){var t=e.controlPaddingHorizontal;return{position:"relative",display:"block",minHeight:e.controlHeight,padding:"".concat((e.controlHeight-e.fontSize*e.lineHeight)/2,"px ").concat(t,"px"),color:e.colorText,fontWeight:"normal",fontSize:e.fontSize,lineHeight:e.lineHeight,boxSizing:"border-box"}},iS=function(e){var t,n,r,i=e.antCls,a=e.componentCls,o="".concat(a,"-item");return[Fe({},"".concat(a,"-dropdown"),Object.assign(Object.assign({},Hn(e)),(r={position:"absolute",top:-9999,zIndex:e.zIndexPopup,boxSizing:"border-box",padding:e.paddingXXS,overflow:"hidden",fontSize:e.fontSize,fontVariant:"initial",backgroundColor:e.colorBgElevated,borderRadius:e.borderRadiusLG,outline:"none",boxShadow:e.boxShadowSecondary},Fe(r,"\n            &".concat(i,"-slide-up-enter").concat(i,"-slide-up-enter-active").concat(a,"-dropdown-placement-bottomLeft,\n            &").concat(i,"-slide-up-appear").concat(i,"-slide-up-appear-active").concat(a,"-dropdown-placement-bottomLeft\n          "),{animationName:rf}),Fe(r,"\n            &".concat(i,"-slide-up-enter").concat(i,"-slide-up-enter-active").concat(a,"-dropdown-placement-topLeft,\n            &").concat(i,"-slide-up-appear").concat(i,"-slide-up-appear-active").concat(a,"-dropdown-placement-topLeft\n          "),{animationName:of}),Fe(r,"&".concat(i,"-slide-up-leave").concat(i,"-slide-up-leave-active").concat(a,"-dropdown-placement-bottomLeft"),{animationName:af}),Fe(r,"&".concat(i,"-slide-up-leave").concat(i,"-slide-up-leave-active").concat(a,"-dropdown-placement-topLeft"),{animationName:sf}),Fe(r,"&-hidden",{display:"none"}),Fe(r,"&-empty",{color:e.colorTextDisabled}),Fe(r,"".concat(o,"-empty"),Object.assign(Object.assign({},rS(e)),{color:e.colorTextDisabled})),Fe(r,"".concat(o),Object.assign(Object.assign({},rS(e)),{cursor:"pointer",transition:"background ".concat(e.motionDurationSlow," ease"),borderRadius:e.borderRadiusSM,"&-group":{color:e.colorTextDescription,fontSize:e.fontSizeSM,cursor:"default"},"&-option":(n={display:"flex","&-content":Object.assign({flex:"auto"},Un),"&-state":{flex:"none"}},Fe(n,"&-active:not(".concat(o,"-option-disabled)"),{backgroundColor:e.controlItemBgHover}),Fe(n,"&-selected:not(".concat(o,"-option-disabled)"),Fe({color:e.colorText,fontWeight:e.fontWeightStrong,backgroundColor:e.controlItemBgActive},"".concat(o,"-option-state"),{color:e.colorPrimary})),Fe(n,"&-disabled",(t={},Fe(t,"&".concat(o,"-option-selected"),{backgroundColor:e.colorBgContainerDisabled}),Fe(t,"color",e.colorTextDisabled),Fe(t,"cursor","not-allowed"),t)),Fe(n,"&-grouped",{paddingInlineStart:2*e.controlPaddingHorizontal}),n)})),Fe(r,"&-rtl",{direction:"rtl"}),r))),hf(e,"slide-up"),hf(e,"slide-down"),nS(e,"move-up"),nS(e,"move-down")]};function aS(e){var t=e.controlHeightSM,n=(e.controlHeight-t)/2-e.lineWidth;return[n,Math.ceil(n/2)]}function oS(e,t){var n,r,i,a,o,s=e.componentCls,l=e.iconCls,c="".concat(s,"-selection-overflow"),u=e.controlHeightSM,d=k(aS(e),1)[0],f=t?"".concat(s,"-").concat(t):"";return Fe({},"".concat(s,"-multiple").concat(f),(Fe(o={fontSize:e.fontSize},c,{position:"relative",display:"flex",flex:"auto",flexWrap:"wrap",maxWidth:"100%","&-item":{flex:"none",alignSelf:"center",maxWidth:"100%",display:"inline-flex"}}),Fe(o,"".concat(s,"-selector"),(Fe(n={display:"flex",flexWrap:"wrap",alignItems:"center",padding:"".concat(d-2,"px ").concat(4,"px"),borderRadius:e.borderRadius},"".concat(s,"-show-search&"),{cursor:"text"}),Fe(n,"".concat(s,"-disabled&"),{background:e.colorBgContainerDisabled,cursor:"not-allowed"}),Fe(n,"&:after",{display:"inline-block",width:0,margin:"".concat(2,"px 0"),lineHeight:"".concat(u,"px"),content:'"\\a0"'}),n)),Fe(o,"\n        &".concat(s,"-show-arrow ").concat(s,"-selector,\n        &").concat(s,"-allow-clear ").concat(s,"-selector\n      "),{paddingInlineEnd:e.fontSizeIcon+e.controlPaddingHorizontal}),Fe(o,"".concat(s,"-selection-item"),(Fe(i={position:"relative",display:"flex",flex:"none",boxSizing:"border-box",maxWidth:"100%",height:u,marginTop:2,marginBottom:2,lineHeight:"".concat(u-2*e.lineWidth,"px"),background:e.colorFillSecondary,border:"".concat(e.lineWidth,"px solid ").concat(e.colorSplit),borderRadius:e.borderRadiusSM,cursor:"default",transition:"font-size ".concat(e.motionDurationSlow,", line-height ").concat(e.motionDurationSlow,", height ").concat(e.motionDurationSlow),userSelect:"none",marginInlineEnd:4,paddingInlineStart:e.paddingXS,paddingInlineEnd:e.paddingXS/2},"".concat(s,"-disabled&"),{color:e.colorTextDisabled,borderColor:e.colorBorder,cursor:"not-allowed"}),Fe(i,"&-content",{display:"inline-block",marginInlineEnd:e.paddingXS/2,overflow:"hidden",whiteSpace:"pre",textOverflow:"ellipsis"}),Fe(i,"&-remove",Object.assign(Object.assign({},{display:"inline-flex",alignItems:"center",color:"inherit",fontStyle:"normal",lineHeight:0,textAlign:"center",textTransform:"none",verticalAlign:"-0.125em",textRendering:"optimizeLegibility","-webkit-font-smoothing":"antialiased","-moz-osx-font-smoothing":"grayscale","> *":{lineHeight:1},svg:{display:"inline-block"}}),(Fe(r={display:"inline-block",color:e.colorIcon,fontWeight:"bold",fontSize:10,lineHeight:"inherit",cursor:"pointer"},"> ".concat(l),{verticalAlign:"-0.2em"}),Fe(r,"&:hover",{color:e.colorIconHover}),r))),i)),Fe(o,"".concat(c,"-item + ").concat(c,"-item"),Fe({},"".concat(s,"-selection-search"),{marginInlineStart:0})),Fe(o,"".concat(s,"-selection-search"),(Fe(a={display:"inline-flex",position:"relative",maxWidth:"100%",marginInlineStart:e.inputPaddingHorizontalBase-d},"\n          &-input,\n          &-mirror\n        ",{height:u,fontFamily:e.fontFamily,lineHeight:"".concat(u,"px"),transition:"all ".concat(e.motionDurationSlow)}),Fe(a,"&-input",{width:"100%",minWidth:4.1}),Fe(a,"&-mirror",{position:"absolute",top:0,insetInlineStart:0,insetInlineEnd:"auto",zIndex:999,whiteSpace:"pre",visibility:"hidden"}),a)),Fe(o,"".concat(s,"-selection-placeholder "),{position:"absolute",top:"50%",insetInlineStart:e.inputPaddingHorizontalBase,insetInlineEnd:e.inputPaddingHorizontalBase,transform:"translateY(-50%)",transition:"all ".concat(e.motionDurationSlow)}),o))}function sS(e){var t,n=e.componentCls,r=Gr(e,{controlHeight:e.controlHeightSM,controlHeightSM:e.controlHeightXS,borderRadius:e.borderRadiusSM,borderRadiusSM:e.borderRadiusXS}),i=k(aS(e),2)[1];return[oS(e),oS(r,"sm"),Fe({},"".concat(n,"-multiple").concat(n,"-sm"),(t={},Fe(t,"".concat(n,"-selection-placeholder"),{insetInlineStart:e.controlPaddingHorizontalSM-e.lineWidth,insetInlineEnd:"auto"}),Fe(t,"".concat(n,"-selection-search"),{marginInlineStart:i}),t)),oS(Gr(e,{fontSize:e.fontSizeLG,controlHeight:e.controlHeightLG,controlHeightSM:e.controlHeight,borderRadius:e.borderRadiusLG,borderRadiusSM:e.borderRadius}),"lg")]}function lS(e,t){var n,r,i,a,o=e.componentCls,s=e.inputPaddingHorizontalBase,l=e.borderRadius,c=e.controlHeight-2*e.lineWidth,u=Math.ceil(1.25*e.fontSize),d=t?"".concat(o,"-").concat(t):"";return Fe({},"".concat(o,"-single").concat(d),(Fe(a={fontSize:e.fontSize},"".concat(o,"-selector"),Object.assign(Object.assign({},Hn(e)),(Fe(n={display:"flex",borderRadius:l},"".concat(o,"-selection-search"),{position:"absolute",top:0,insetInlineStart:s,insetInlineEnd:s,bottom:0,"&-input":{width:"100%"}}),Fe(n,"\n          ".concat(o,"-selection-item,\n          ").concat(o,"-selection-placeholder\n        "),{padding:0,lineHeight:"".concat(c,"px"),transition:"all ".concat(e.motionDurationSlow),"@supports (-moz-appearance: meterbar)":{lineHeight:"".concat(c,"px")}}),Fe(n,"".concat(o,"-selection-item"),{position:"relative",userSelect:"none"}),Fe(n,"".concat(o,"-selection-placeholder"),{transition:"none",pointerEvents:"none"}),Fe(n,["&:after","".concat(o,"-selection-item:after"),"".concat(o,"-selection-placeholder:after")].join(","),{display:"inline-block",width:0,visibility:"hidden",content:'"\\a0"'}),n))),Fe(a,"\n        &".concat(o,"-show-arrow ").concat(o,"-selection-item,\n        &").concat(o,"-show-arrow ").concat(o,"-selection-placeholder\n      "),{paddingInlineEnd:u}),Fe(a,"&".concat(o,"-open ").concat(o,"-selection-item"),{color:e.colorTextPlaceholder}),Fe(a,"&:not(".concat(o,"-customize-input)"),Fe({},"".concat(o,"-selector"),(Fe(r={width:"100%",height:e.controlHeight,padding:"0 ".concat(s,"px")},"".concat(o,"-selection-search-input"),{height:c}),Fe(r,"&:after",{lineHeight:"".concat(c,"px")}),r))),Fe(a,"&".concat(o,"-customize-input"),Fe({},"".concat(o,"-selector"),(Fe(i={"&:after":{display:"none"}},"".concat(o,"-selection-search"),{position:"static",width:"100%"}),Fe(i,"".concat(o,"-selection-placeholder"),{position:"absolute",insetInlineStart:0,insetInlineEnd:0,padding:"0 ".concat(s,"px"),"&:after":{display:"none"}}),i))),a))}function cS(e){var t,n=e.componentCls,r=e.controlPaddingHorizontalSM-e.lineWidth;return[lS(e),lS(Gr(e,{controlHeight:e.controlHeightSM,borderRadius:e.borderRadiusSM}),"sm"),Fe({},"".concat(n,"-single").concat(n,"-sm"),Fe({},"&:not(".concat(n,"-customize-input)"),(t={},Fe(t,"".concat(n,"-selection-search"),{insetInlineStart:r,insetInlineEnd:r}),Fe(t,"".concat(n,"-selector"),{padding:"0 ".concat(r,"px")}),Fe(t,"&".concat(n,"-show-arrow ").concat(n,"-selection-search"),{insetInlineEnd:r+1.5*e.fontSize}),Fe(t,"\n            &".concat(n,"-show-arrow ").concat(n,"-selection-item,\n            &").concat(n,"-show-arrow ").concat(n,"-selection-placeholder\n          "),{paddingInlineEnd:1.5*e.fontSize}),t))),lS(Gr(e,{controlHeight:e.controlHeightLG,fontSize:e.fontSizeLG,borderRadius:e.borderRadiusLG}),"lg")]}var uS=function(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=t.componentCls,a=t.borderHoverColor,o=t.outlineColor,s=t.antCls,l=r?Fe({},"".concat(i,"-selector"),{borderColor:a}):{};return Fe({},e,Fe({},"&:not(".concat(i,"-disabled):not(").concat(i,"-customize-input):not(").concat(s,"-pagination-size-changer)"),Object.assign(Object.assign({},l),(Fe(n={},"".concat(i,"-focused& ").concat(i,"-selector"),{borderColor:a,boxShadow:"0 0 0 ".concat(t.controlOutlineWidth,"px ").concat(o),borderInlineEndWidth:"".concat(t.controlLineWidth,"px !important"),outline:0}),Fe(n,"&:hover ".concat(i,"-selector"),{borderColor:a,borderInlineEndWidth:"".concat(t.controlLineWidth,"px !important")}),n))))},dS=function(e){var t,n,r,i=e.componentCls,a=e.inputPaddingHorizontalBase,o=e.iconCls;return Fe(r={},i,Object.assign(Object.assign({},Hn(e)),(Fe(n={position:"relative",display:"inline-block",cursor:"pointer"},"&:not(".concat(i,"-customize-input) ").concat(i,"-selector"),Object.assign(Object.assign({},function(e){var t,n,r=e.componentCls;return Fe(n={position:"relative",backgroundColor:e.colorBgContainer,border:"".concat(e.lineWidth,"px ").concat(e.lineType," ").concat(e.colorBorder),transition:"all ".concat(e.motionDurationMid," ").concat(e.motionEaseInOut),input:{cursor:"pointer"}},"".concat(r,"-show-search&"),{cursor:"text",input:{cursor:"auto",color:"inherit"}}),Fe(n,"".concat(r,"-disabled&"),(Fe(t={color:e.colorTextDisabled,background:e.colorBgContainerDisabled,cursor:"not-allowed"},"".concat(r,"-multiple&"),{background:e.colorBgContainerDisabled}),Fe(t,"input",{cursor:"not-allowed"}),t)),n}(e)),function(e){var t=e.componentCls;return Fe({},"".concat(t,"-selection-search-input"),{margin:0,padding:0,background:"transparent",border:"none",outline:"none",appearance:"none","&::-webkit-search-cancel-button":{display:"none","-webkit-appearance":"none"}})}(e))),Fe(n,"".concat(i,"-selection-item"),Object.assign({flex:1,fontWeight:"normal"},Un)),Fe(n,"".concat(i,"-selection-placeholder"),Object.assign(Object.assign({},Un),{flex:1,color:e.colorTextPlaceholder,pointerEvents:"none"})),Fe(n,"".concat(i,"-arrow"),Object.assign(Object.assign({},{display:"inline-flex",alignItems:"center",color:"inherit",fontStyle:"normal",lineHeight:0,textAlign:"center",textTransform:"none",verticalAlign:"-0.125em",textRendering:"optimizeLegibility","-webkit-font-smoothing":"antialiased","-moz-osx-font-smoothing":"grayscale","> *":{lineHeight:1},svg:{display:"inline-block"}}),(Fe(t={position:"absolute",top:"50%",insetInlineStart:"auto",insetInlineEnd:a,height:e.fontSizeIcon,marginTop:-e.fontSizeIcon/2,color:e.colorTextQuaternary,fontSize:e.fontSizeIcon,lineHeight:1,textAlign:"center",pointerEvents:"none",display:"flex",alignItems:"center"},o,Fe({verticalAlign:"top",transition:"transform ".concat(e.motionDurationSlow),"> svg":{verticalAlign:"top"}},"&:not(".concat(i,"-suffix)"),{pointerEvents:"auto"})),Fe(t,"".concat(i,"-disabled &"),{cursor:"not-allowed"}),Fe(t,"> *:not(:last-child)",{marginInlineEnd:8}),t))),Fe(n,"".concat(i,"-clear"),{position:"absolute",top:"50%",insetInlineStart:"auto",insetInlineEnd:a,zIndex:1,display:"inline-block",width:e.fontSizeIcon,height:e.fontSizeIcon,marginTop:-e.fontSizeIcon/2,color:e.colorTextQuaternary,fontSize:e.fontSizeIcon,fontStyle:"normal",lineHeight:1,textAlign:"center",textTransform:"none",background:e.colorBgContainer,cursor:"pointer",opacity:0,transition:"color ".concat(e.motionDurationMid," ease, opacity ").concat(e.motionDurationSlow," ease"),textRendering:"auto","&:before":{display:"block"},"&:hover":{color:e.colorTextTertiary}}),Fe(n,"&:hover",Fe({},"".concat(i,"-clear"),{opacity:1})),n))),Fe(r,"".concat(i,"-has-feedback"),Fe({},"".concat(i,"-clear"),{insetInlineEnd:a+e.fontSize+e.paddingXXS})),r},fS=function(e){var t,n=e.componentCls;return[Fe({},n,(t={},Fe(t,"&-borderless ".concat(n,"-selector"),{backgroundColor:"transparent !important",borderColor:"transparent !important",boxShadow:"none !important"}),Fe(t,"&".concat(n,"-in-form-item"),{width:"100%"}),t)),dS(e),cS(e),sS(e),iS(e),Fe({},"".concat(n,"-rtl"),{direction:"rtl"}),uS(n,Gr(e,{borderHoverColor:e.colorPrimaryHover,outlineColor:e.controlOutline})),uS("".concat(n,"-status-error"),Gr(e,{borderHoverColor:e.colorErrorHover,outlineColor:e.colorErrorOutline}),!0),uS("".concat(n,"-status-warning"),Gr(e,{borderHoverColor:e.colorWarningHover,outlineColor:e.colorWarningOutline}),!0),Qg(e,{borderElCls:"".concat(n,"-selector"),focusElCls:"".concat(n,"-focused")})]},hS=Xr("Select",(function(e,t){var n=Gr(e,{rootPrefixCls:t.rootPrefixCls,inputPaddingHorizontalBase:e.paddingSM-1});return[fS(n)]}),(function(e){return{zIndexPopup:e.zIndexPopupBase+50}})),pS=Object.assign({},Dg.Modal);function mS(e){pS=e?Object.assign(Object.assign({},pS),e):Object.assign({},Dg.Modal)}function vS(){return pS}var gS=function(e){var n=e.locale,r=void 0===n?{}:n,i=e.children;e._ANT_MARK__;t.useEffect((function(){return mS(r&&r.Modal),function(){mS()}}),[r]);var a=t.useMemo((function(){return Object.assign(Object.assign({},r),{exist:!0})}),[r]);return t.createElement(Og.Provider,{value:a},i)},yS="-ant-".concat(Date.now(),"-").concat(Math.random());function xS(e,t){var n=function(e,t){var n={},r=function(e,t){var n=e.clone();return(n=(null===t||void 0===t?void 0:t(n))||n).toRgbString()},i=function(e,t){var i=new Tr(e),a=br(i.toRgbString());n["".concat(t,"-color")]=r(i),n["".concat(t,"-color-disabled")]=a[1],n["".concat(t,"-color-hover")]=a[4],n["".concat(t,"-color-active")]=a[6],n["".concat(t,"-color-outline")]=i.clone().setAlpha(.2).toRgbString(),n["".concat(t,"-color-deprecated-bg")]=a[0],n["".concat(t,"-color-deprecated-border")]=a[2]};if(t.primaryColor){i(t.primaryColor,"primary");var a=new Tr(t.primaryColor),o=br(a.toRgbString());o.forEach((function(e,t){n["primary-".concat(t+1)]=e})),n["primary-color-deprecated-l-35"]=r(a,(function(e){return e.lighten(35)})),n["primary-color-deprecated-l-20"]=r(a,(function(e){return e.lighten(20)})),n["primary-color-deprecated-t-20"]=r(a,(function(e){return e.tint(20)})),n["primary-color-deprecated-t-50"]=r(a,(function(e){return e.tint(50)})),n["primary-color-deprecated-f-12"]=r(a,(function(e){return e.setAlpha(.12*e.getAlpha())}));var s=new Tr(o[0]);n["primary-color-active-deprecated-f-30"]=r(s,(function(e){return e.setAlpha(.3*e.getAlpha())})),n["primary-color-active-deprecated-d-02"]=r(s,(function(e){return e.darken(2)}))}t.successColor&&i(t.successColor,"success"),t.warningColor&&i(t.warningColor,"warning"),t.errorColor&&i(t.errorColor,"error"),t.infoColor&&i(t.infoColor,"info");var l=Object.keys(n).map((function(t){return"--".concat(e,"-").concat(t,": ").concat(n[t],";")}));return"\n  :root {\n    ".concat(l.join("\n"),"\n  }\n  ").trim()}(e,t);ft()&&Et(n,"".concat(yS,"-dynamic-theme"))}var bS,_S,wS=function(e){var t=k(Vr(),2);return zn({theme:t[0],token:t[1],hashId:"",path:["ant-design-icons",e]},(function(){return[Fe({},".".concat(e),Object.assign(Object.assign({},{display:"inline-flex",alignItems:"center",color:"inherit",fontStyle:"normal",lineHeight:0,textAlign:"center",textTransform:"none",verticalAlign:"-0.125em",textRendering:"optimizeLegibility","-webkit-font-smoothing":"antialiased","-moz-osx-font-smoothing":"grayscale","> *":{lineHeight:1},svg:{display:"inline-block"}}),Fe({},".".concat(e," .").concat(e,"-icon"),{display:"block"})))]}))},kS=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},SS=["getTargetContainer","getPopupContainer","renderEmpty","pageHeader","input","pagination","form","select"];function ES(){return bS||"ant"}function CS(){return _S||He}var TS=function(){return{getPrefixCls:function(e,t){return t||(e?"".concat(ES(),"-").concat(e):ES())},getIconPrefixCls:CS,getRootPrefixCls:function(){return bS||ES()}}},MS=function(e){var n,r,i=e.children,a=e.csp,o=e.autoInsertSpaceInButton,s=e.form,l=e.locale,c=e.componentSize,u=e.direction,d=e.space,f=e.virtual,h=e.dropdownMatchSelectWidth,p=e.legacyLocale,m=e.parentContext,v=e.iconPrefixCls,g=e.theme,y=e.componentDisabled,x=t.useCallback((function(t,n){var r=e.prefixCls;if(n)return n;var i=r||m.getPrefixCls("");return t?"".concat(i,"-").concat(t):i}),[m.getPrefixCls,e.prefixCls]),b=v||m.iconPrefixCls||He,_=b!==m.iconPrefixCls,w=a||m.csp,k=wS(b),S=function(e,t){var n=e||{},r=!1!==n.inherit&&t?t:Br,i=Ke((function(){if(!e)return t;var i=Object.assign({},r.components);return Object.keys(e.components||{}).forEach((function(t){i[t]=Object.assign(Object.assign({},i[t]),e.components[t])})),Object.assign(Object.assign(Object.assign({},r),n),{token:Object.assign(Object.assign({},r.token),n.token),components:i})}),[n,r],(function(e,t){return e.some((function(e,n){var r=t[n];return!et(e,r,!0)}))}));return i}(g,m.theme),E={csp:w,autoInsertSpaceInButton:o,locale:l||p,direction:u,space:d,virtual:f,dropdownMatchSelectWidth:h,getPrefixCls:x,iconPrefixCls:b,theme:S},C=Object.assign({},m);Object.keys(E).forEach((function(e){void 0!==E[e]&&(C[e]=E[e])})),SS.forEach((function(t){var n=e[t];n&&(C[t]=n)}));var T=Ke((function(){return C}),C,(function(e,t){var n=Object.keys(e),r=Object.keys(t);return n.length!==r.length||n.some((function(n){return e[n]!==t[n]}))})),M=t.useMemo((function(){return{prefixCls:b,csp:w}}),[b,w]),I=_?k(i):i,O={};l&&(O=(null===(n=l.Form)||void 0===n?void 0:n.defaultValidateMessages)||(null===(r=Dg.Form)||void 0===r?void 0:r.defaultValidateMessages)||{}),s&&s.validateMessages&&(O=Object.assign(Object.assign({},O),s.validateMessages)),Object.keys(O).length>0&&(I=t.createElement(xv,{validateMessages:O},i)),l&&(I=t.createElement(gS,{locale:l,_ANT_MARK__:"internalMark"},I)),(b||w)&&(I=t.createElement(ci.Provider,{value:M},I)),c&&(I=t.createElement(Yv,{size:c},I));var P=t.useMemo((function(){var e=S||{},t=e.algorithm,n=e.token,r=kS(e,["algorithm","token"]),i=t&&(!Array.isArray(t)||t.length>0)?Fn(t):void 0;return Object.assign(Object.assign({},r),{theme:i,token:Object.assign(Object.assign({},Cr),n)})}),[S]);return g&&(I=t.createElement(Fr.Provider,{value:P},I)),void 0!==y&&(I=t.createElement(Xv,{disabled:y},I)),t.createElement(Ge.Provider,{value:T},I)},IS=function(e){return t.createElement(Lg,null,(function(n,r,i){return t.createElement(We,null,(function(n){return t.createElement(MS,Object.assign({parentContext:n,legacyLocale:i},e))}))}))};IS.ConfigContext=Ge,IS.SizeContext=$v,IS.config=function(e){var t=e.prefixCls,n=e.iconPrefixCls,r=e.theme;void 0!==t&&(bS=t),void 0!==n&&(_S=n),r&&xS(ES(),r)};var OS=IS;var PS=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},AS="SECRET_COMBOBOX_MODE_DO_NOT_USE",zS=function(e,n){var r,i,a=e.prefixCls,o=e.bordered,s=void 0===o||o,l=e.className,c=e.getPopupContainer,u=e.popupClassName,d=e.dropdownClassName,f=e.listHeight,h=void 0===f?256:f,p=e.placement,m=e.listItemHeight,v=void 0===m?24:m,g=e.size,y=e.disabled,x=e.notFoundContent,b=e.status,_=e.showArrow,w=PS(e,["prefixCls","bordered","className","getPopupContainer","popupClassName","dropdownClassName","listHeight","placement","listItemHeight","size","disabled","notFoundContent","status","showArrow"]),S=t.useContext(Ge),E=S.getPopupContainer,C=S.getPrefixCls,T=S.renderEmpty,M=S.direction,I=S.virtual,O=S.dropdownMatchSelectWidth,P=S.select,A=t.useContext($v),z=C("select",a),j=C(),R=Sy(z,M),D=R.compactSize,L=R.compactItemClassnames,N=k(hS(z),2),B=N[0],F=N[1],V=t.useMemo((function(){var e=w.mode;if("combobox"!==e)return e===AS?"combobox":e}),[w.mode]),U="multiple"===V||"tags"===V,H=void 0!==_?_:w.loading||!(U||"combobox"===V),G=t.useContext(Ov),W=G.status,q=G.hasFeedback,X=G.isFormItemInput,Z=G.feedbackIcon,K=Ty(W,b);i=void 0!==x?x:"combobox"===V?null:(null===T||void 0===T?void 0:T("Select"))||t.createElement(ew,{componentName:"Select"});var Y=function(e){var n=e.suffixIcon,r=e.clearIcon,i=e.menuItemSelectedIcon,a=e.removeIcon,o=e.loading,s=e.multiple,l=e.hasFeedback,c=e.prefixCls,u=e.showArrow,d=e.feedbackIcon,f=null!==r&&void 0!==r?r:t.createElement(bg,null),h=function(e){return t.createElement(t.Fragment,null,!1!==u&&e,l&&d)},p=null;if(void 0!==n)p=h(n);else if(o)p=h(t.createElement(Cg,{spin:!0}));else{var m="".concat(c,"-suffix");p=function(e){var n=e.open,r=e.showSearch;return h(n&&r?t.createElement(Xy,{className:m}):t.createElement(Zk,{className:m}))}}return{clearIcon:f,suffixIcon:p,itemIcon:void 0!==i?i:s?t.createElement(Uk,null):null,removeIcon:void 0!==a?a:t.createElement(Wk,null)}}(Object.assign(Object.assign({},w),{multiple:U,hasFeedback:q,feedbackIcon:Z,showArrow:H,prefixCls:z})),$=Y.suffixIcon,J=Y.itemIcon,Q=Y.removeIcon,ee=Y.clearIcon,te=Ai(w,["suffixIcon","itemIcon"]),ne=Ue()(u||d,Fe({},"".concat(z,"-dropdown-").concat(M),"rtl"===M),F),re=D||g||A,ie=t.useContext(Zv),ae=null!==y&&void 0!==y?y:ie,oe=Ue()((Fe(r={},"".concat(z,"-lg"),"large"===re),Fe(r,"".concat(z,"-sm"),"small"===re),Fe(r,"".concat(z,"-rtl"),"rtl"===M),Fe(r,"".concat(z,"-borderless"),!s),Fe(r,"".concat(z,"-in-form-item"),X),r),Cy(z,K,q),L,l,F);return B(t.createElement(Bk,Object.assign({ref:n,virtual:I,dropdownMatchSelectWidth:O,showSearch:null===P||void 0===P?void 0:P.showSearch},te,{transitionName:Xd(j,qd(p),w.transitionName),listHeight:h,listItemHeight:v,mode:V,prefixCls:z,placement:void 0!==p?p:"rtl"===M?"bottomRight":"bottomLeft",direction:M,inputIcon:$,menuItemSelectedIcon:J,removeIcon:Q,clearIcon:ee,notFoundContent:i,className:oe,getPopupContainer:c||E,dropdownClassName:ne,showArrow:q||_,disabled:ae})))};var jS=t.forwardRef(zS),RS=function(e,n,r){return function(i){var a=i.prefixCls,o=i.style,s=t.useRef(null),l=k(t.useState(0),2),c=l[0],u=l[1],d=k(t.useState(0),2),f=d[0],h=d[1],p=k(Js(!1,{value:i.open}),2),m=p[0],v=p[1],g=(0,t.useContext(Ge).getPrefixCls)(n||"select",a);return t.useEffect((function(){if(v(!0),"undefined"!==typeof ResizeObserver){var e=new ResizeObserver((function(e){var t=e[0].target;u(t.offsetHeight+8),h(t.offsetWidth)})),t=setInterval((function(){var n,i=r?".".concat(r(g)):".".concat(g,"-dropdown"),a=null===(n=s.current)||void 0===n?void 0:n.querySelector(i);a&&(clearInterval(t),e.observe(a))}),10);return function(){clearInterval(t),e.disconnect()}}}),[]),t.createElement(OS,{theme:{token:{motionDurationFast:"0.01s",motionDurationMid:"0.01s",motionDurationSlow:"0.01s"}}},t.createElement("div",{ref:s,style:{paddingBottom:c,position:"relative",width:"fit-content",minWidth:f}},t.createElement(e,Object.assign({},i,{style:Object.assign(Object.assign({},o),{margin:0}),open:m,visible:m,getPopupContainer:function(){return s.current}}))))}}(jS);jS.SECRET_COMBOBOX_MODE_DO_NOT_USE=AS,jS.Option=hk,jS.OptGroup=dk,jS._InternalPanelDoNotUseOrYouWillBeFired=RS;var DS=jS,LS=function(e){return t.createElement(DS,Object.assign({},e,{size:"small"}))},NS=function(e){return t.createElement(DS,Object.assign({},e,{size:"middle"}))};LS.Option=DS.Option,NS.Option=DS.Option;var BS=function(e){var t,n,r=e.componentCls;return Fe(n={},r,Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},Hn(e)),Fe({"ul, ol":{margin:0,padding:0,listStyle:"none"},"&::after":{display:"block",clear:"both",height:0,overflow:"hidden",visibility:"hidden",content:'""'}},"".concat(r,"-total-text"),{display:"inline-block",height:e.paginationItemSize,marginInlineEnd:e.marginXS,lineHeight:"".concat(e.paginationItemSize-2,"px"),verticalAlign:"middle"})),function(e){var t=e.componentCls;return Fe({},"".concat(t,"-item"),Object.assign(Object.assign(Fe({display:"inline-block",minWidth:e.paginationItemSize,height:e.paginationItemSize,marginInlineEnd:e.marginXS,fontFamily:e.paginationFontFamily,lineHeight:"".concat(e.paginationItemSize-2,"px"),textAlign:"center",verticalAlign:"middle",listStyle:"none",backgroundColor:"transparent",border:"".concat(e.lineWidth,"px ").concat(e.lineType," transparent"),borderRadius:e.borderRadius,outline:0,cursor:"pointer",userSelect:"none",a:{display:"block",padding:"0 ".concat(e.paginationItemPaddingInline,"px"),color:e.colorText,transition:"none","&:hover":{textDecoration:"none"}}},"&:not(".concat(t,"-item-active)"),{"&:hover":{transition:"all ".concat(e.motionDurationMid),backgroundColor:e.colorBgTextHover},"&:active":{backgroundColor:e.colorBgTextActive}}),Xn(e)),{"&-active":{fontWeight:e.paginationFontWeightActive,backgroundColor:e.paginationItemBgActive,borderColor:e.colorPrimary,a:{color:e.colorPrimary},"&:hover":{borderColor:e.colorPrimaryHover},"&:hover a":{color:e.colorPrimaryHover}}}))}(e)),function(e){var t,n,r,i,a,o,s=e.componentCls;return Fe(o={},"".concat(s,"-jump-prev, ").concat(s,"-jump-next"),(Fe(i={outline:0},"".concat(s,"-item-container"),(Fe(t={position:"relative"},"".concat(s,"-item-link-icon"),{color:e.colorPrimary,fontSize:e.fontSizeSM,opacity:0,transition:"all ".concat(e.motionDurationMid),"&-svg":{top:0,insetInlineEnd:0,bottom:0,insetInlineStart:0,margin:"auto"}}),Fe(t,"".concat(s,"-item-ellipsis"),{position:"absolute",top:0,insetInlineEnd:0,bottom:0,insetInlineStart:0,display:"block",margin:"auto",color:e.colorTextDisabled,fontFamily:"Arial, Helvetica, sans-serif",letterSpacing:e.paginationEllipsisLetterSpacing,textAlign:"center",textIndent:e.paginationEllipsisTextIndent,opacity:1,transition:"all ".concat(e.motionDurationMid)}),t)),Fe(i,"&:hover",(Fe(n={},"".concat(s,"-item-link-icon"),{opacity:1}),Fe(n,"".concat(s,"-item-ellipsis"),{opacity:0}),n)),Fe(i,"&:focus-visible",Object.assign((Fe(r={},"".concat(s,"-item-link-icon"),{opacity:1}),Fe(r,"".concat(s,"-item-ellipsis"),{opacity:0}),r),qn(e))),i)),Fe(o,"\n    ".concat(s,"-prev,\n    ").concat(s,"-jump-prev,\n    ").concat(s,"-jump-next\n    "),{marginInlineEnd:e.marginXS}),Fe(o,"\n    ".concat(s,"-prev,\n    ").concat(s,"-next,\n    ").concat(s,"-jump-prev,\n    ").concat(s,"-jump-next\n    "),{display:"inline-block",minWidth:e.paginationItemSize,height:e.paginationItemSize,color:e.colorText,fontFamily:e.paginationFontFamily,lineHeight:"".concat(e.paginationItemSize,"px"),textAlign:"center",verticalAlign:"middle",listStyle:"none",borderRadius:e.borderRadius,cursor:"pointer",transition:"all ".concat(e.motionDurationMid)}),Fe(o,"".concat(s,"-prev, ").concat(s,"-next"),(Fe(a={fontFamily:"Arial, Helvetica, sans-serif",outline:0,button:{color:e.colorText,cursor:"pointer",userSelect:"none"}},"".concat(s,"-item-link"),{display:"block",width:"100%",height:"100%",padding:0,fontSize:e.fontSizeSM,textAlign:"center",backgroundColor:"transparent",border:"".concat(e.lineWidth,"px ").concat(e.lineType," transparent"),borderRadius:e.borderRadius,outline:"none",transition:"border ".concat(e.motionDurationMid)}),Fe(a,"&:focus-visible ".concat(s,"-item-link"),Object.assign({},qn(e))),Fe(a,"&:hover ".concat(s,"-item-link"),{backgroundColor:e.colorBgTextHover}),Fe(a,"&:active ".concat(s,"-item-link"),{backgroundColor:e.colorBgTextActive}),Fe(a,"&".concat(s,"-disabled:hover"),Fe({},"".concat(s,"-item-link"),{backgroundColor:"transparent"})),a)),Fe(o,"".concat(s,"-slash"),{marginInlineEnd:e.paginationSlashMarginInlineEnd,marginInlineStart:e.paginationSlashMarginInlineStart}),Fe(o,"".concat(s,"-options"),{display:"inline-block",marginInlineStart:e.margin,verticalAlign:"middle","&-size-changer.-select":{display:"inline-block",width:"auto"},"&-quick-jumper":{display:"inline-block",height:e.controlHeight,marginInlineStart:e.marginXS,lineHeight:"".concat(e.controlHeight,"px"),verticalAlign:"top",input:Object.assign(Object.assign({},oy(e)),{width:1.25*e.controlHeightLG,height:e.controlHeight,boxSizing:"border-box",margin:0,marginInlineStart:e.marginXS,marginInlineEnd:e.marginXS})}}),o}(e)),function(e){var t,n=e.componentCls;return Fe(t={},"\n    &".concat(n,"-simple ").concat(n,"-prev,\n    &").concat(n,"-simple ").concat(n,"-next\n    "),Fe({height:e.paginationItemSizeSM,lineHeight:"".concat(e.paginationItemSizeSM,"px"),verticalAlign:"top"},"".concat(n,"-item-link"),{height:e.paginationItemSizeSM,backgroundColor:"transparent",border:0,"&::after":{height:e.paginationItemSizeSM,lineHeight:"".concat(e.paginationItemSizeSM,"px")}})),Fe(t,"&".concat(n,"-simple ").concat(n,"-simple-pager"),{display:"inline-block",height:e.paginationItemSizeSM,marginInlineEnd:e.marginXS,input:{boxSizing:"border-box",height:"100%",marginInlineEnd:e.marginXS,padding:"0 ".concat(e.paginationItemPaddingInline,"px"),textAlign:"center",backgroundColor:e.paginationItemInputBg,border:"".concat(e.lineWidth,"px ").concat(e.lineType," ").concat(e.colorBorder),borderRadius:e.borderRadius,outline:"none",transition:"border-color ".concat(e.motionDurationMid),color:"inherit","&:hover":{borderColor:e.colorPrimary},"&:focus":{borderColor:e.colorPrimaryHover,boxShadow:"".concat(e.inputOutlineOffset,"px 0 ").concat(e.controlOutlineWidth,"px ").concat(e.controlOutline)},"&[disabled]":{color:e.colorTextDisabled,backgroundColor:e.colorBgContainerDisabled,borderColor:e.colorBorder,cursor:"not-allowed"}}}),t}(e)),function(e){var t,n,r=e.componentCls;return Fe(n={},"&".concat(r,"-mini ").concat(r,"-total-text, &").concat(r,"-mini ").concat(r,"-simple-pager"),{height:e.paginationItemSizeSM,lineHeight:"".concat(e.paginationItemSizeSM,"px")}),Fe(n,"&".concat(r,"-mini ").concat(r,"-item"),{minWidth:e.paginationItemSizeSM,height:e.paginationItemSizeSM,margin:0,lineHeight:"".concat(e.paginationItemSizeSM-2,"px")}),Fe(n,"&".concat(r,"-mini ").concat(r,"-item:not(").concat(r,"-item-active)"),{backgroundColor:"transparent",borderColor:"transparent"}),Fe(n,"&".concat(r,"-mini ").concat(r,"-prev, &").concat(r,"-mini ").concat(r,"-next"),{minWidth:e.paginationItemSizeSM,height:e.paginationItemSizeSM,margin:0,lineHeight:"".concat(e.paginationItemSizeSM,"px")}),Fe(n,"\n    &".concat(r,"-mini ").concat(r,"-prev ").concat(r,"-item-link,\n    &").concat(r,"-mini ").concat(r,"-next ").concat(r,"-item-link\n    "),{backgroundColor:"transparent",borderColor:"transparent","&::after":{height:e.paginationItemSizeSM,lineHeight:"".concat(e.paginationItemSizeSM,"px")}}),Fe(n,"&".concat(r,"-mini ").concat(r,"-jump-prev, &").concat(r,"-mini ").concat(r,"-jump-next"),{height:e.paginationItemSizeSM,marginInlineEnd:0,lineHeight:"".concat(e.paginationItemSizeSM,"px")}),Fe(n,"&".concat(r,"-mini ").concat(r,"-options"),(Fe(t={marginInlineStart:e.paginationMiniOptionsMarginInlineStart},"&-size-changer",{top:e.paginationMiniOptionsSizeChangerTop}),Fe(t,"&-quick-jumper",{height:e.paginationItemSizeSM,lineHeight:"".concat(e.paginationItemSizeSM,"px"),input:Object.assign(Object.assign({},iy(e)),{width:e.paginationMiniQuickJumperInputWidth,height:e.controlHeightSM})}),t)),n}(e)),function(e){var t,n,r=e.componentCls;return Fe(n={},"".concat(r,"-disabled"),{"&, &:hover":Fe({cursor:"not-allowed"},"".concat(r,"-item-link"),{color:e.colorTextDisabled,cursor:"not-allowed"}),"&:focus-visible":Fe({cursor:"not-allowed"},"".concat(r,"-item-link"),{color:e.colorTextDisabled,cursor:"not-allowed"})}),Fe(n,"&".concat(r,"-disabled"),(Fe(t={cursor:"not-allowed"},"".concat(r,"-item"),{cursor:"not-allowed","&:hover, &:active":{backgroundColor:"transparent"},a:{color:e.colorTextDisabled,backgroundColor:"transparent",border:"none",cursor:"not-allowed"},"&-active":{borderColor:e.colorBorder,backgroundColor:e.paginationItemDisabledBgActive,"&:hover, &:active":{backgroundColor:e.paginationItemDisabledBgActive},a:{color:e.paginationItemDisabledColorActive}}}),Fe(t,"".concat(r,"-item-link"),Fe({color:e.colorTextDisabled,cursor:"not-allowed","&:hover, &:active":{backgroundColor:"transparent"}},"".concat(r,"-simple&"),{backgroundColor:"transparent"})),Fe(t,"".concat(r,"-item-link-icon"),{opacity:0}),Fe(t,"".concat(r,"-item-ellipsis"),{opacity:1}),Fe(t,"".concat(r,"-simple-pager"),{color:e.colorTextDisabled}),t)),n}(e)),(Fe(t={},"@media only screen and (max-width: ".concat(e.screenLG,"px)"),Fe({},"".concat(r,"-item"),{"&-after-jump-prev, &-before-jump-next":{display:"none"}})),Fe(t,"@media only screen and (max-width: ".concat(e.screenSM,"px)"),Fe({},"".concat(r,"-options"),{display:"none"})),t))),Fe(n,"&".concat(e.componentCls,"-rtl"),{direction:"rtl"}),n},FS=function(e){var t,n,r,i,a,o,s=e.componentCls;return Fe(o={},"".concat(s).concat(s,"-disabled"),(n={"&, &:hover":Fe({},"".concat(s,"-item-link"),{borderColor:e.colorBorder}),"&:focus-visible":Fe({},"".concat(s,"-item-link"),{borderColor:e.colorBorder})},Fe(n,"".concat(s,"-item, ").concat(s,"-item-link"),(Fe(t={backgroundColor:e.colorBgContainerDisabled,borderColor:e.colorBorder},"&:hover:not(".concat(s,"-item-active)"),{backgroundColor:e.colorBgContainerDisabled,borderColor:e.colorBorder,a:{color:e.colorTextDisabled}}),Fe(t,"&".concat(s,"-item-active"),{backgroundColor:e.paginationItemDisabledBgActive}),t)),Fe(n,"".concat(s,"-prev, ").concat(s,"-next"),Fe({"&:hover button":{backgroundColor:e.colorBgContainerDisabled,borderColor:e.colorBorder,color:e.colorTextDisabled}},"".concat(s,"-item-link"),{backgroundColor:e.colorBgContainerDisabled,borderColor:e.colorBorder})),n)),Fe(o,s,(Fe(a={},"".concat(s,"-prev, ").concat(s,"-next"),(Fe(r={"&:hover button":{borderColor:e.colorPrimaryHover,backgroundColor:e.paginationItemBg}},"".concat(s,"-item-link"),{backgroundColor:e.paginationItemLinkBg,borderColor:e.colorBorder}),Fe(r,"&:hover ".concat(s,"-item-link"),{borderColor:e.colorPrimary,backgroundColor:e.paginationItemBg,color:e.colorPrimary}),Fe(r,"&".concat(s,"-disabled"),Fe({},"".concat(s,"-item-link"),{borderColor:e.colorBorder,color:e.colorTextDisabled})),r)),Fe(a,"".concat(s,"-item"),(Fe(i={backgroundColor:e.paginationItemBg,border:"".concat(e.lineWidth,"px ").concat(e.lineType," ").concat(e.colorBorder)},"&:hover:not(".concat(s,"-item-active)"),{borderColor:e.colorPrimary,backgroundColor:e.paginationItemBg,a:{color:e.colorPrimary}}),Fe(i,"&-active",{borderColor:e.colorPrimary}),i)),a)),o},VS=Xr("Pagination",(function(e){var t=Gr(e,{paginationItemSize:e.controlHeight,paginationFontFamily:e.fontFamily,paginationItemBg:e.colorBgContainer,paginationItemBgActive:e.colorBgContainer,paginationFontWeightActive:e.fontWeightStrong,paginationItemSizeSM:e.controlHeightSM,paginationItemInputBg:e.colorBgContainer,paginationMiniOptionsSizeChangerTop:0,paginationItemDisabledBgActive:e.controlItemBgActiveDisabled,paginationItemDisabledColorActive:e.colorTextDisabled,paginationItemLinkBg:e.colorBgContainer,inputOutlineOffset:"0 0",paginationMiniOptionsMarginInlineStart:e.marginXXS/2,paginationMiniQuickJumperInputWidth:1.1*e.controlHeightLG,paginationItemPaddingInline:1.5*e.marginXXS,paginationEllipsisLetterSpacing:e.marginXXS/2,paginationSlashMarginInlineStart:e.marginXXS,paginationSlashMarginInlineEnd:e.marginSM,paginationEllipsisTextIndent:"0.13em"},dy(e));return[BS(t),e.wireframe&&FS(t)]})),US=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};var HS=function(e){var n=e.prefixCls,r=e.selectPrefixCls,i=e.className,a=e.size,o=e.locale,s=e.selectComponentClass,l=e.responsive,c=e.showSizeChanger,u=US(e,["prefixCls","selectPrefixCls","className","size","locale","selectComponentClass","responsive","showSizeChanger"]),d=nw(l).xs,f=t.useContext(Ge),h=f.getPrefixCls,p=f.direction,m=f.pagination,v=void 0===m?{}:m,g=h("pagination",n),y=k(VS(g),2),x=y[0],b=y[1],_=null!==c&&void 0!==c?c:v.showSizeChanger;return t.createElement(Lg,{componentName:"Pagination",defaultLocale:Pg},(function(e){var n,c=Object.assign(Object.assign({},e),o),f="small"===a||!(!d||a||!l),m=h("select",r),v=Ue()((Fe(n={},"".concat(g,"-mini"),f),Fe(n,"".concat(g,"-rtl"),"rtl"===p),n),i,b);return x(t.createElement(xw,Object.assign({},function(){var e=t.createElement("span",{className:"".concat(g,"-item-ellipsis")},"\u2022\u2022\u2022"),n=t.createElement("button",{className:"".concat(g,"-item-link"),type:"button",tabIndex:-1},t.createElement(Mi,null)),r=t.createElement("button",{className:"".concat(g,"-item-link"),type:"button",tabIndex:-1},t.createElement(Pi,null)),i=t.createElement("a",{className:"".concat(g,"-item-link")},t.createElement("div",{className:"".concat(g,"-item-container")},t.createElement(aw,{className:"".concat(g,"-item-link-icon")}),e)),a=t.createElement("a",{className:"".concat(g,"-item-link")},t.createElement("div",{className:"".concat(g,"-item-container")},t.createElement(lw,{className:"".concat(g,"-item-link-icon")}),e));if("rtl"===p){var o=[r,n];n=o[0],r=o[1];var s=[a,i];i=s[0],a=s[1]}return{prevIcon:n,nextIcon:r,jumpPrevIcon:i,jumpNextIcon:a}}(),u,{prefixCls:g,selectPrefixCls:m,className:v,selectComponentClass:s||(f?LS:NS),locale:c,showSizeChanger:_})))}))},GS=HS;function WS(e,t,n){var r=(n||{}).atBegin;return function(e,t,n){var r,i=n||{},a=i.noTrailing,o=void 0!==a&&a,s=i.noLeading,l=void 0!==s&&s,c=i.debounceMode,u=void 0===c?void 0:c,d=!1,f=0;function h(){r&&clearTimeout(r)}function p(){for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];var s=this,c=Date.now()-f;function p(){f=Date.now(),t.apply(s,i)}function m(){r=void 0}d||(l||!u||r||p(),h(),void 0===u&&c>e?l?(f=Date.now(),o||(r=setTimeout(u?m:p,e))):p():!0!==o&&(r=setTimeout(u?m:p,void 0===u?e-c:e)))}return p.cancel=function(e){var t=(e||{}).upcomingOnly,n=void 0!==t&&t;h(),d=!n},p}(e,t,{debounceMode:!1!==(void 0!==r&&r)})}var qS=new Rn("antSpinMove",{to:{opacity:1}}),XS=new Rn("antRotate",{to:{transform:"rotate(405deg)"}}),ZS=function(e){var t,n,r,i,a;return Fe({},"".concat(e.componentCls),Object.assign(Object.assign({},Hn(e)),(a={position:"absolute",display:"none",color:e.colorPrimary,textAlign:"center",verticalAlign:"middle",opacity:0,transition:"transform ".concat(e.motionDurationSlow," ").concat(e.motionEaseInOutCirc),"&-spinning":{position:"static",display:"inline-block",opacity:1},"&-nested-loading":(i={position:"relative"},Fe(i,"> div > ".concat(e.componentCls),(r={position:"absolute",top:0,insetInlineStart:0,zIndex:4,display:"block",width:"100%",height:"100%",maxHeight:e.contentHeight},Fe(r,"".concat(e.componentCls,"-dot"),{position:"absolute",top:"50%",insetInlineStart:"50%",margin:-e.spinDotSize/2}),Fe(r,"".concat(e.componentCls,"-text"),{position:"absolute",top:"50%",width:"100%",paddingTop:(e.spinDotSize-e.fontSize)/2+2,textShadow:"0 1px 2px ".concat(e.colorBgContainer)}),Fe(r,"&".concat(e.componentCls,"-show-text ").concat(e.componentCls,"-dot"),{marginTop:-e.spinDotSize/2-10}),Fe(r,"&-sm",(t={},Fe(t,"".concat(e.componentCls,"-dot"),{margin:-e.spinDotSizeSM/2}),Fe(t,"".concat(e.componentCls,"-text"),{paddingTop:(e.spinDotSizeSM-e.fontSize)/2+2}),Fe(t,"&".concat(e.componentCls,"-show-text ").concat(e.componentCls,"-dot"),{marginTop:-e.spinDotSizeSM/2-10}),t)),Fe(r,"&-lg",(n={},Fe(n,"".concat(e.componentCls,"-dot"),{margin:-e.spinDotSizeLG/2}),Fe(n,"".concat(e.componentCls,"-text"),{paddingTop:(e.spinDotSizeLG-e.fontSize)/2+2}),Fe(n,"&".concat(e.componentCls,"-show-text ").concat(e.componentCls,"-dot"),{marginTop:-e.spinDotSizeLG/2-10}),n)),r)),Fe(i,"".concat(e.componentCls,"-container"),{position:"relative",transition:"opacity ".concat(e.motionDurationSlow),"&::after":{position:"absolute",top:0,insetInlineEnd:0,bottom:0,insetInlineStart:0,zIndex:10,width:"100%",height:"100%",background:e.colorBgContainer,opacity:0,transition:"all ".concat(e.motionDurationSlow),content:'""',pointerEvents:"none"}}),Fe(i,"".concat(e.componentCls,"-blur"),Fe({clear:"both",opacity:.5,userSelect:"none",pointerEvents:"none"},"&::after",{opacity:.4,pointerEvents:"auto"})),i)},Fe(a,"&-tip",{color:e.spinDotDefault}),Fe(a,"".concat(e.componentCls,"-dot"),{position:"relative",display:"inline-block",fontSize:e.spinDotSize,width:"1em",height:"1em","&-item":{position:"absolute",display:"block",width:(e.spinDotSize-e.marginXXS/2)/2,height:(e.spinDotSize-e.marginXXS/2)/2,backgroundColor:e.colorPrimary,borderRadius:"100%",transform:"scale(0.75)",transformOrigin:"50% 50%",opacity:.3,animationName:qS,animationDuration:"1s",animationIterationCount:"infinite",animationTimingFunction:"linear",animationDirection:"alternate","&:nth-child(1)":{top:0,insetInlineStart:0},"&:nth-child(2)":{top:0,insetInlineEnd:0,animationDelay:"0.4s"},"&:nth-child(3)":{insetInlineEnd:0,bottom:0,animationDelay:"0.8s"},"&:nth-child(4)":{bottom:0,insetInlineStart:0,animationDelay:"1.2s"}},"&-spin":{transform:"rotate(45deg)",animationName:XS,animationDuration:"1.2s",animationIterationCount:"infinite",animationTimingFunction:"linear"}}),Fe(a,"&-sm ".concat(e.componentCls,"-dot"),{fontSize:e.spinDotSizeSM,i:{width:(e.spinDotSizeSM-e.marginXXS/2)/2,height:(e.spinDotSizeSM-e.marginXXS/2)/2}}),Fe(a,"&-lg ".concat(e.componentCls,"-dot"),{fontSize:e.spinDotSizeLG,i:{width:(e.spinDotSizeLG-e.marginXXS)/2,height:(e.spinDotSizeLG-e.marginXXS)/2}}),Fe(a,"&".concat(e.componentCls,"-show-text ").concat(e.componentCls,"-text"),{display:"block"}),a)))},KS=Xr("Spin",(function(e){var t=Gr(e,{spinDotDefault:e.colorTextDescription,spinDotSize:e.controlHeightLG/2,spinDotSizeSM:.35*e.controlHeightLG,spinDotSizeLG:e.controlHeight});return[ZS(t)]}),{contentHeight:400}),YS=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},$S=null;var JS=function(e){var n,r=e.spinPrefixCls,i=e.spinning,a=void 0===i||i,o=e.delay,s=void 0===o?0:o,l=e.className,c=e.size,u=void 0===c?"default":c,d=e.tip,f=e.wrapperClassName,h=e.style,p=e.children,m=e.hashId,v=YS(e,["spinPrefixCls","spinning","delay","className","size","tip","wrapperClassName","style","children","hashId"]),g=t.useState((function(){return a&&!function(e,t){return!!e&&!!t&&!isNaN(Number(t))}(a,s)})),y=k(g,2),x=y[0],b=y[1];t.useEffect((function(){var e=WS(s,(function(){b(a)}));return e(),function(){var t;null===(t=null===e||void 0===e?void 0:e.cancel)||void 0===t||t.call(e)}}),[s,a]);var _=t.useMemo((function(){return"undefined"!==typeof p}),[p]),w=t.useContext(Ge).direction,S=Ue()(r,(Fe(n={},"".concat(r,"-sm"),"small"===u),Fe(n,"".concat(r,"-lg"),"large"===u),Fe(n,"".concat(r,"-spinning"),x),Fe(n,"".concat(r,"-show-text"),!!d),Fe(n,"".concat(r,"-rtl"),"rtl"===w),n),l,m),E=Ue()("".concat(r,"-container"),Fe({},"".concat(r,"-blur"),x)),C=Ai(v,["indicator","prefixCls"]),T=t.createElement("div",Object.assign({},C,{style:h,className:S,"aria-live":"polite","aria-busy":x}),function(e,n){var r=n.indicator,i="".concat(e,"-dot");return null===r?null:Kd(r)?Jd(r,{className:Ue()(r.props.className,i)}):Kd($S)?Jd($S,{className:Ue()($S.props.className,i)}):t.createElement("span",{className:Ue()(i,"".concat(e,"-dot-spin"))},t.createElement("i",{className:"".concat(e,"-dot-item")}),t.createElement("i",{className:"".concat(e,"-dot-item")}),t.createElement("i",{className:"".concat(e,"-dot-item")}),t.createElement("i",{className:"".concat(e,"-dot-item")}))}(r,e),d?t.createElement("div",{className:"".concat(r,"-text")},d):null);return _?t.createElement("div",Object.assign({},C,{className:Ue()("".concat(r,"-nested-loading"),f,m)}),x&&t.createElement("div",{key:"loading"},T),t.createElement("div",{className:E,key:"container"},p)):T},QS=function(e){var n=e.prefixCls,r=(0,t.useContext(Ge).getPrefixCls)("spin",n),i=k(KS(r),2),a=i[0],o=i[1],s=Object.assign(Object.assign({},e),{spinPrefixCls:r,hashId:o});return a(t.createElement(JS,Object.assign({},s)))};QS.setDefaultIndicator=function(e){$S=e};var eE=QS;var tE=function(){for(var e=arguments,t=Object.assign({},arguments.length<=0?void 0:arguments[0]),n=function(){var n=r<0||e.length<=r?void 0:e[r];n&&Object.keys(n).forEach((function(e){var r=n[e];void 0!==r&&(t[e]=r)}))},r=1;r<arguments.length;r++)n();return t},nE=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},rE=function(e,n){var r=e.prefixCls,i=e.children,a=e.actions,o=e.extra,s=e.className,l=e.colStyle,c=nE(e,["prefixCls","children","actions","extra","className","colStyle"]),u=(0,t.useContext)(dE),d=u.grid,f=u.itemLayout,h=(0,t.useContext)(Ge).getPrefixCls,p=h("list",r),m=a&&a.length>0&&t.createElement("ul",{className:"".concat(p,"-item-action"),key:"actions"},a.map((function(e,n){return t.createElement("li",{key:"".concat(p,"-item-action-").concat(n)},e,n!==a.length-1&&t.createElement("em",{className:"".concat(p,"-item-action-split")}))}))),v=d?"div":"li",g=t.createElement(v,Object.assign({},c,d?{}:{ref:n},{className:Ue()("".concat(p,"-item"),Fe({},"".concat(p,"-item-no-flex"),!("vertical"===f?o:!function(){var e;return t.Children.forEach(i,(function(t){"string"===typeof t&&(e=!0)})),e&&t.Children.count(i)>1}())),s)}),"vertical"===f&&o?[t.createElement("div",{className:"".concat(p,"-item-main"),key:"content"},i,m),t.createElement("div",{className:"".concat(p,"-item-extra"),key:"extra"},o)]:[i,m,Jd(o,{key:"extra"})]);return d?t.createElement(Qp,{ref:n,flex:1,style:l},g):g},iE=(0,t.forwardRef)(rE);iE.Meta=function(e){var n=e.prefixCls,r=e.className,i=e.avatar,a=e.title,o=e.description,s=nE(e,["prefixCls","className","avatar","title","description"]),l=(0,(0,t.useContext)(Ge).getPrefixCls)("list",n),c=Ue()("".concat(l,"-item-meta"),r),u=t.createElement("div",{className:"".concat(l,"-item-meta-content")},a&&t.createElement("h4",{className:"".concat(l,"-item-meta-title")},a),o&&t.createElement("div",{className:"".concat(l,"-item-meta-description")},o));return t.createElement("div",Object.assign({},s,{className:c}),i&&t.createElement("div",{className:"".concat(l,"-item-meta-avatar")},i),(a||o)&&u)};var aE=iE,oE=function(e){var t,n,r=e.listBorderedCls,i=e.componentCls,a=e.paddingLG,o=e.margin,s=e.padding,l=e.listItemPaddingSM,c=e.marginLG,u=e.borderRadiusLG;return Fe(n={},"".concat(r),(Fe(t={border:"".concat(e.lineWidth,"px ").concat(e.lineType," ").concat(e.colorBorder),borderRadius:u},"".concat(i,"-header,").concat(i,"-footer,").concat(i,"-item"),{paddingInline:a}),Fe(t,"".concat(i,"-pagination"),{margin:"".concat(o,"px ").concat(c,"px")}),t)),Fe(n,"".concat(r).concat(i,"-sm"),Fe({},"".concat(i,"-item,").concat(i,"-header,").concat(i,"-footer"),{padding:l})),Fe(n,"".concat(r).concat(i,"-lg"),Fe({},"".concat(i,"-item,").concat(i,"-header,").concat(i,"-footer"),{padding:"".concat(s,"px ").concat(a,"px")})),n},sE=function(e){var t,n,r,i,a=e.componentCls,o=e.screenSM,s=e.screenMD,l=e.marginLG,c=e.marginSM,u=e.margin;return Fe(i={},"@media screen and (max-width:".concat(s,")"),(Fe(t={},"".concat(a),Fe({},"".concat(a,"-item"),Fe({},"".concat(a,"-item-action"),{marginInlineStart:l}))),Fe(t,"".concat(a,"-vertical"),Fe({},"".concat(a,"-item"),Fe({},"".concat(a,"-item-extra"),{marginInlineStart:l}))),t)),Fe(i,"@media screen and (max-width: ".concat(o,")"),(Fe(r={},"".concat(a),Fe({},"".concat(a,"-item"),Fe({flexWrap:"wrap"},"".concat(a,"-action"),{marginInlineStart:c}))),Fe(r,"".concat(a,"-vertical"),Fe({},"".concat(a,"-item"),(Fe(n={flexWrap:"wrap-reverse"},"".concat(a,"-item-main"),{minWidth:e.contentWidth}),Fe(n,"".concat(a,"-item-extra"),{margin:"auto auto ".concat(u,"px")}),n))),r)),i},lE=function(e){var t,n,r,i,a,o,s=e.componentCls,l=e.antCls,c=e.controlHeight,u=e.minHeight,d=e.paddingSM,f=e.marginLG,h=e.padding,p=e.listItemPadding,m=e.colorPrimary,v=e.listItemPaddingSM,g=e.listItemPaddingLG,y=e.paddingXS,x=e.margin,b=e.colorText,_=e.colorTextDescription,w=e.motionDurationSlow,k=e.lineWidth;return Fe(o={},"".concat(s),Object.assign(Object.assign({},Hn(e)),(Fe(i={position:"relative","*":{outline:"none"}},"".concat(s,"-header, ").concat(s,"-footer"),{background:"transparent",paddingBlock:d}),Fe(i,"".concat(s,"-pagination"),Fe({marginBlockStart:f,textAlign:"end"},"".concat(l,"-pagination-options"),{textAlign:"start"})),Fe(i,"".concat(s,"-spin"),{minHeight:u,textAlign:"center"}),Fe(i,"".concat(s,"-items"),{margin:0,padding:0,listStyle:"none"}),Fe(i,"".concat(s,"-item"),(Fe(r={display:"flex",alignItems:"center",justifyContent:"space-between",padding:p,color:b},"".concat(s,"-item-meta"),(Fe(t={display:"flex",flex:1,alignItems:"flex-start",maxWidth:"100%"},"".concat(s,"-item-meta-avatar"),{marginInlineEnd:h}),Fe(t,"".concat(s,"-item-meta-content"),{flex:"1 0",width:0,color:b}),Fe(t,"".concat(s,"-item-meta-title"),{marginBottom:e.marginXXS,color:b,fontSize:e.fontSize,lineHeight:e.lineHeight,"> a":Fe({color:b,transition:"all ".concat(w)},"&:hover",{color:m})}),Fe(t,"".concat(s,"-item-meta-description"),{color:_,fontSize:e.fontSize,lineHeight:e.lineHeight}),t)),Fe(r,"".concat(s,"-item-action"),(Fe(n={flex:"0 0 auto",marginInlineStart:e.marginXXL,padding:0,fontSize:0,listStyle:"none"},"& > li",Fe({position:"relative",display:"inline-block",padding:"0 ".concat(y,"px"),color:_,fontSize:e.fontSize,lineHeight:e.lineHeight,textAlign:"center"},"&:first-child",{paddingInlineStart:0})),Fe(n,"".concat(s,"-item-action-split"),{position:"absolute",insetBlockStart:"50%",insetInlineEnd:0,width:k,height:Math.ceil(e.fontSize*e.lineHeight)-2*e.marginXXS,transform:"translateY(-50%)",backgroundColor:e.colorSplit}),n)),r)),Fe(i,"".concat(s,"-empty"),{padding:"".concat(h,"px 0"),color:_,fontSize:e.fontSizeSM,textAlign:"center"}),Fe(i,"".concat(s,"-empty-text"),{padding:h,color:e.colorTextDisabled,fontSize:e.fontSize,textAlign:"center"}),Fe(i,"".concat(s,"-item-no-flex"),{display:"block"}),i))),Fe(o,"".concat(s,"-grid ").concat(l,"-col > ").concat(s,"-item"),{display:"block",maxWidth:"100%",marginBlockEnd:x,paddingBlock:0,borderBlockEnd:"none"}),Fe(o,"".concat(s,"-vertical ").concat(s,"-item"),(Fe(a={alignItems:"initial"},"".concat(s,"-item-main"),{display:"block",flex:1}),Fe(a,"".concat(s,"-item-extra"),{marginInlineStart:f}),Fe(a,"".concat(s,"-item-meta"),Fe({marginBlockEnd:h},"".concat(s,"-item-meta-title"),{marginBlockStart:0,marginBlockEnd:d,color:b,fontSize:e.fontSizeLG,lineHeight:e.lineHeightLG})),Fe(a,"".concat(s,"-item-action"),{marginBlockStart:h,marginInlineStart:"auto","> li":Fe({padding:"0 ".concat(h,"px")},"&:first-child",{paddingInlineStart:0})}),a)),Fe(o,"".concat(s,"-split ").concat(s,"-item"),Fe({borderBlockEnd:"".concat(e.lineWidth,"px ").concat(e.lineType," ").concat(e.colorSplit)},"&:last-child",{borderBlockEnd:"none"})),Fe(o,"".concat(s,"-split ").concat(s,"-header"),{borderBlockEnd:"".concat(e.lineWidth,"px ").concat(e.lineType," ").concat(e.colorSplit)}),Fe(o,"".concat(s,"-split").concat(s,"-empty ").concat(s,"-footer"),{borderTop:"".concat(e.lineWidth,"px ").concat(e.lineType," ").concat(e.colorSplit)}),Fe(o,"".concat(s,"-loading ").concat(s,"-spin-nested-loading"),{minHeight:c}),Fe(o,"".concat(s,"-split").concat(s,"-something-after-last-item ").concat(l,"-spin-container > ").concat(s,"-items > ").concat(s,"-item:last-child"),{borderBlockEnd:"".concat(e.lineWidth,"px ").concat(e.lineType," ").concat(e.colorSplit)}),Fe(o,"".concat(s,"-lg ").concat(s,"-item"),{padding:g}),Fe(o,"".concat(s,"-sm ").concat(s,"-item"),{padding:v}),Fe(o,"".concat(s,":not(").concat(s,"-vertical)"),Fe({},"".concat(s,"-item-no-flex"),Fe({},"".concat(s,"-item-action"),{float:"right"}))),o},cE=Xr("List",(function(e){var t=Gr(e,{listBorderedCls:"".concat(e.componentCls,"-bordered"),minHeight:e.controlHeightLG,listItemPadding:"".concat(e.paddingContentVertical,"px ").concat(e.paddingContentHorizontalLG,"px"),listItemPaddingSM:"".concat(e.paddingContentVerticalSM,"px ").concat(e.paddingContentHorizontal,"px"),listItemPaddingLG:"".concat(e.paddingContentVerticalLG,"px ").concat(e.paddingContentHorizontalLG,"px")});return[lE(t),oE(t),sE(t)]}),{contentWidth:220}),uE=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},dE=t.createContext({});dE.Consumer;function fE(e){var n,r=e.pagination,i=void 0!==r&&r,a=e.prefixCls,o=e.bordered,s=void 0!==o&&o,c=e.split,u=void 0===c||c,d=e.className,f=e.children,h=e.itemLayout,p=e.loadMore,m=e.grid,v=e.dataSource,g=void 0===v?[]:v,y=e.size,x=e.header,b=e.footer,_=e.loading,w=void 0!==_&&_,S=e.rowKey,E=e.renderItem,C=e.locale,T=uE(e,["pagination","prefixCls","bordered","split","className","children","itemLayout","loadMore","grid","dataSource","size","header","footer","loading","rowKey","renderItem","locale"]),M=i&&"object"===typeof i?i:{},I=k(t.useState(M.defaultCurrent||1),2),O=I[0],P=I[1],A=k(t.useState(M.defaultPageSize||10),2),z=A[0],j=A[1],R=t.useContext(Ge),D=R.getPrefixCls,L=R.renderEmpty,N=R.direction,B=function(e){return function(t,n){P(t),j(n),i&&i[e]&&i[e](t,n)}},F=B("onChange"),V=B("onShowSizeChange"),U=D("list",a),H=k(cE(U),2),G=H[0],W=H[1],q=w;"boolean"===typeof q&&(q={spinning:q});var X=q&&q.spinning,Z="";switch(y){case"large":Z="lg";break;case"small":Z="sm"}var K=Ue()(U,(Fe(n={},"".concat(U,"-vertical"),"vertical"===h),Fe(n,"".concat(U,"-").concat(Z),Z),Fe(n,"".concat(U,"-split"),u),Fe(n,"".concat(U,"-bordered"),s),Fe(n,"".concat(U,"-loading"),X),Fe(n,"".concat(U,"-grid"),!!m),Fe(n,"".concat(U,"-something-after-last-item"),!!(p||i||b)),Fe(n,"".concat(U,"-rtl"),"rtl"===N),n),d,W),Y=tE({current:1,total:0},{total:g.length,current:O,pageSize:z},i||{}),$=Math.ceil(Y.total/Y.pageSize);Y.current>$&&(Y.current=$);var J=i?t.createElement("div",{className:"".concat(U,"-pagination")},t.createElement(GS,Object.assign({},Y,{onChange:F,onShowSizeChange:V}))):null,Q=l(g);i&&g.length>(Y.current-1)*Y.pageSize&&(Q=l(g).splice((Y.current-1)*Y.pageSize,Y.pageSize));var ee=Object.keys(m||{}).some((function(e){return["xs","sm","md","lg","xl","xxl"].includes(e)})),te=nw(ee),ne=t.useMemo((function(){for(var e=0;e<Lp.length;e+=1){var t=Lp[e];if(te[t])return t}}),[te]),re=t.useMemo((function(){if(m){var e=ne&&m[ne]?m[ne]:m.column;return e?{width:"".concat(100/e,"%"),maxWidth:"".concat(100/e,"%")}:void 0}}),[null===m||void 0===m?void 0:m.column,ne]),ie=X&&t.createElement("div",{style:{minHeight:53}});if(Q.length>0){var ae=Q.map((function(e,n){return function(e,n){return E?((r="function"===typeof S?S(e):S?e[S]:e.key)||(r="list-item-".concat(n)),t.createElement(t.Fragment,{key:r},E(e,n))):null;var r}(e,n)}));ie=m?t.createElement(Zp,{gutter:m.gutter},t.Children.map(ae,(function(e){return t.createElement("div",{key:null===e||void 0===e?void 0:e.key,style:re},e)}))):t.createElement("ul",{className:"".concat(U,"-items")},ae)}else f||X||(ie=t.createElement("div",{className:"".concat(U,"-empty-text")},C&&C.emptyText||(null===L||void 0===L?void 0:L("List"))||t.createElement(ew,{componentName:"List"})));var oe=Y.position||"bottom",se=t.useMemo((function(){return{grid:m,itemLayout:h}}),[JSON.stringify(m),h]);return G(t.createElement(dE.Provider,{value:se},t.createElement("div",Object.assign({className:K},T),("top"===oe||"both"===oe)&&J,x&&t.createElement("div",{className:"".concat(U,"-header")},x),t.createElement(eE,Object.assign({},q),ie,f),b&&t.createElement("div",{className:"".concat(U,"-footer")},b),p||("bottom"===oe||"both"===oe)&&J)))}fE.Item=aE;var hE=fE,pE={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M257.7 752c2 0 4-.2 6-.5L431.9 722c2-.4 3.9-1.3 5.3-2.8l423.9-423.9a9.96 9.96 0 000-14.1L694.9 114.9c-1.9-1.9-4.4-2.9-7.1-2.9s-5.2 1-7.1 2.9L256.8 538.8c-1.5 1.5-2.4 3.3-2.8 5.3l-29.5 168.2a33.5 33.5 0 009.4 29.8c6.6 6.4 14.9 9.9 23.8 9.9zm67.4-174.4L687.8 215l73.3 73.3-362.7 362.6-88.9 15.7 15.6-89zM880 836H144c-17.7 0-32 14.3-32 32v36c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-36c0-17.7-14.3-32-32-32z"}}]},name:"edit",theme:"outlined"},mE=function(e,n){return t.createElement(ki,Xe(Xe({},e),{},{ref:n,icon:pE}))};mE.displayName="EditOutlined";var vE=t.forwardRef(mE),gE=(0,t.createContext)(),yE=function(e){var n=e.children,r=k((0,t.useState)({service:[],categories:[]}),2),i=r[0],a=r[1];return(0,zo.jsx)(gE.Provider,{value:[i,a],children:n})},xE={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm32 664c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V456c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v272zm-32-344a48.01 48.01 0 010-96 48.01 48.01 0 010 96z"}}]},name:"info-circle",theme:"filled"},bE=function(e,n){return t.createElement(ki,Xe(Xe({},e),{},{ref:n,icon:xE}))};bE.displayName="InfoCircleFilled";var _E=t.forwardRef(bE);function wE(e){return!(!e||!e.then)}var kE,SE=function(e){var n=e.type,r=e.children,i=e.prefixCls,a=e.buttonProps,o=e.close,s=e.autoFocus,l=e.emitEvent,c=e.quitOnNullishReturnValue,u=e.actionFn,d=t.useRef(!1),f=t.useRef(null),h=k(Rs(!1),2),p=h[0],m=h[1],v=function(){null===o||void 0===o||o.apply(void 0,arguments)};t.useEffect((function(){var e=null;return s&&(e=setTimeout((function(){var e;null===(e=f.current)||void 0===e||e.focus()}))),function(){e&&clearTimeout(e)}}),[]);return t.createElement(Xx,Object.assign({},Gx(n),{onClick:function(e){if(!d.current)if(d.current=!0,u){var t;if(l){if(t=u(e),c&&!wE(t))return d.current=!1,void v(e)}else if(u.length)t=u(o),d.current=!1;else if(!(t=u()))return void v();!function(e){wE(e)&&(m(!0),e.then((function(){m(!1,!0),v.apply(void 0,arguments),d.current=!1}),(function(e){return m(!1,!0),d.current=!1,Promise.reject(e)})))}(t)}else v()},loading:p,prefixCls:i},a,{ref:f}),r)},EE=t.createContext(null),CE=[];function TE(e){if("undefined"===typeof document)return 0;if(e||void 0===kE){var t=document.createElement("div");t.style.width="100%",t.style.height="200px";var n=document.createElement("div"),r=n.style;r.position="absolute",r.top="0",r.left="0",r.pointerEvents="none",r.visibility="hidden",r.width="200px",r.height="150px",r.overflow="hidden",n.appendChild(t),document.body.appendChild(n);var i=t.offsetWidth;n.style.overflow="scroll";var a=t.offsetWidth;i===a&&(a=n.clientWidth),document.body.removeChild(n),kE=i-a}return kE}var ME="rc-util-locker-".concat(Date.now()),IE=0;function OE(e){var n=!!e,r=k(t.useState((function(){return IE+=1,"".concat(ME,"_").concat(IE)})),1)[0];_s((function(){if(n){var e=TE(),t=document.body.scrollHeight>(window.innerHeight||document.documentElement.clientHeight)&&window.innerWidth>document.body.offsetWidth;Et("\nhtml body {\n  overflow-y: hidden;\n  ".concat(t?"width: calc(100% - ".concat(e,"px);"):"","\n}"),r)}else kt(r);return function(){kt(r)}}),[n,r])}var PE=!1;var AE=function(e){return!1!==e&&(ft()&&e?"string"===typeof e?document.querySelector(e):"function"===typeof e?e():e:null)},zE=t.forwardRef((function(e,n){var r=e.open,i=e.autoLock,a=e.getContainer,o=(e.debug,e.autoDestroy),s=void 0===o||o,c=e.children,u=k(t.useState(r),2),d=u[0],f=u[1],h=d||r;t.useEffect((function(){(s||r)&&f(r)}),[r,s]);var p=k(t.useState((function(){return AE(a)})),2),m=p[0],v=p[1];t.useEffect((function(){var e=AE(a);v(null!==e&&void 0!==e?e:null)}));var g=function(e,n){var r=k(t.useState((function(){return ft()?document.createElement("div"):null})),1)[0],i=t.useRef(!1),a=t.useContext(EE),o=k(t.useState(CE),2),s=o[0],c=o[1],u=a||(i.current?void 0:function(e){c((function(t){return[e].concat(l(t))}))});function d(){r.parentElement||document.body.appendChild(r),i.current=!0}function f(){var e;null===(e=r.parentElement)||void 0===e||e.removeChild(r),i.current=!1}return _s((function(){return e?a?a(d):d():f(),f}),[e]),_s((function(){s.length&&(s.forEach((function(e){return e()})),c(CE))}),[s]),[r,u]}(h&&!m),y=k(g,2),x=y[0],b=y[1],_=null!==m&&void 0!==m?m:x;OE(i&&r&&ft()&&(_===x||_===document.body));var w=null;c&&Vo(c)&&n&&(w=c.ref);var S=Fo(w,n);if(!h||!ft()||void 0===m)return null;var E,C=!1===_||("boolean"===typeof E&&(PE=E),PE),T=c;return n&&(T=t.cloneElement(c,{ref:S})),t.createElement(EE.Provider,{value:b},C?T:(0,Uo.createPortal)(T,_))}));var jE=zE;var RE=0;function DE(e){var n=k(t.useState("ssr-id"),2),i=n[0],a=n[1],o=Xe({},r).useId,s=null===o||void 0===o?void 0:o();return t.useEffect((function(){if(!o){var e=RE;RE+=1,a("rc_unique_".concat(e))}}),[]),e||(s||i)}function LE(e){var n=e.prefixCls,r=e.style,i=e.visible,a=e.maskProps,o=e.motionName;return t.createElement(Xc,{key:"mask",visible:i,motionName:o,leavedClassName:"".concat(n,"-mask-hidden")},(function(e,i){var o=e.className,s=e.style;return t.createElement("div",Dt({ref:i,style:Xe(Xe({},s),r),className:Ue()("".concat(n,"-mask"),o)},a))}))}function NE(e,t,n){var r=t;return!r&&n&&(r="".concat(e,"-").concat(n)),r}function BE(e,t){var n=e["page".concat(t?"Y":"X","Offset")],r="scroll".concat(t?"Top":"Left");if("number"!==typeof n){var i=e.document;"number"!==typeof(n=i.documentElement[r])&&(n=i.body[r])}return n}var FE=t.memo((function(e){return e.children}),(function(e,t){return!t.shouldUpdate})),VE={width:0,height:0,overflow:"hidden",outline:"none"},UE=t.forwardRef((function(e,n){var r=e.prefixCls,i=e.className,a=e.style,o=e.title,s=e.ariaId,l=e.footer,c=e.closable,u=e.closeIcon,d=e.onClose,f=e.children,h=e.bodyStyle,p=e.bodyProps,m=e.modalRender,v=e.onMouseDown,g=e.onMouseUp,y=e.holderRef,x=e.visible,b=e.forceRender,_=e.width,w=e.height,k=(0,t.useRef)(),S=(0,t.useRef)();t.useImperativeHandle(n,(function(){return{focus:function(){var e;null===(e=k.current)||void 0===e||e.focus()},changeActive:function(e){var t=document.activeElement;e&&t===S.current?k.current.focus():e||t!==k.current||S.current.focus()}}}));var E,C,T,M={};void 0!==_&&(M.width=_),void 0!==w&&(M.height=w),l&&(E=t.createElement("div",{className:"".concat(r,"-footer")},l)),o&&(C=t.createElement("div",{className:"".concat(r,"-header")},t.createElement("div",{className:"".concat(r,"-title"),id:s},o))),c&&(T=t.createElement("button",{type:"button",onClick:d,"aria-label":"Close",className:"".concat(r,"-close")},u||t.createElement("span",{className:"".concat(r,"-close-x")})));var I=t.createElement("div",{className:"".concat(r,"-content")},T,C,t.createElement("div",Dt({className:"".concat(r,"-body"),style:h},p),f),E);return t.createElement("div",{key:"dialog-element",role:"dialog","aria-labelledby":o?s:null,"aria-modal":"true",ref:y,style:Xe(Xe({},a),M),className:Ue()(r,i),onMouseDown:v,onMouseUp:g},t.createElement("div",{tabIndex:0,ref:k,style:VE,"aria-hidden":"true"}),t.createElement(FE,{shouldUpdate:x||b},m?m(I):I),t.createElement("div",{tabIndex:0,ref:S,style:VE,"aria-hidden":"true"}))}));var HE=UE,GE=t.forwardRef((function(e,n){var r=e.prefixCls,i=e.title,a=e.style,o=e.className,s=e.visible,l=e.forceRender,c=e.destroyOnClose,u=e.motionName,d=e.ariaId,f=e.onVisibleChanged,h=e.mousePosition,p=(0,t.useRef)(),m=k(t.useState(),2),v=m[0],g=m[1],y={};function x(){var e=function(e){var t=e.getBoundingClientRect(),n={left:t.left,top:t.top},r=e.ownerDocument,i=r.defaultView||r.parentWindow;return n.left+=BE(i),n.top+=BE(i,!0),n}(p.current);g(h?"".concat(h.x-e.left,"px ").concat(h.y-e.top,"px"):"")}return v&&(y.transformOrigin=v),t.createElement(Xc,{visible:s,onVisibleChanged:f,onAppearPrepare:x,onEnterPrepare:x,forceRender:l,motionName:u,removeOnLeave:c,ref:p},(function(s,l){var c=s.className,u=s.style;return t.createElement(HE,Dt({},e,{ref:n,title:i,ariaId:d,prefixCls:r,holderRef:l,style:Xe(Xe(Xe({},u),a),y),className:Ue()(o,c)}))}))}));GE.displayName="Content";var WE=GE;function qE(e){var n=e.prefixCls,r=void 0===n?"rc-dialog":n,i=e.zIndex,a=e.visible,o=void 0!==a&&a,s=e.keyboard,l=void 0===s||s,c=e.focusTriggerAfterClose,u=void 0===c||c,d=e.wrapStyle,f=e.wrapClassName,h=e.wrapProps,p=e.onClose,m=e.afterClose,v=e.transitionName,g=e.animation,y=e.closable,x=void 0===y||y,b=e.mask,_=void 0===b||b,w=e.maskTransitionName,S=e.maskAnimation,E=e.maskClosable,C=void 0===E||E,T=e.maskStyle,M=e.maskProps,I=e.rootClassName,O=(0,t.useRef)(),P=(0,t.useRef)(),A=(0,t.useRef)(),z=k(t.useState(o),2),j=z[0],R=z[1],D=DE();function L(e){null===p||void 0===p||p(e)}var N=(0,t.useRef)(!1),B=(0,t.useRef)(),F=null;return C&&(F=function(e){N.current?N.current=!1:P.current===e.target&&L(e)}),(0,t.useEffect)((function(){o&&(R(!0),ht(P.current,document.activeElement)||(O.current=document.activeElement))}),[o]),(0,t.useEffect)((function(){return function(){clearTimeout(B.current)}}),[]),t.createElement("div",Dt({className:Ue()("".concat(r,"-root"),I)},Cw(e,{data:!0})),t.createElement(LE,{prefixCls:r,visible:_&&o,motionName:NE(r,w,S),style:Xe({zIndex:i},T),maskProps:M}),t.createElement("div",Dt({tabIndex:-1,onKeyDown:function(e){if(l&&e.keyCode===hl.ESC)return e.stopPropagation(),void L(e);o&&e.keyCode===hl.TAB&&A.current.changeActive(!e.shiftKey)},className:Ue()("".concat(r,"-wrap"),f),ref:P,onClick:F,style:Xe(Xe({zIndex:i},d),{},{display:j?null:"none"})},h),t.createElement(WE,Dt({},e,{onMouseDown:function(){clearTimeout(B.current),N.current=!0},onMouseUp:function(){B.current=setTimeout((function(){N.current=!1}))},ref:A,closable:x,ariaId:D,prefixCls:r,visible:o&&j,onClose:L,onVisibleChanged:function(e){if(e)!function(){var e;ht(P.current,document.activeElement)||null===(e=A.current)||void 0===e||e.focus()}();else{if(R(!1),_&&O.current&&u){try{O.current.focus({preventScroll:!0})}catch(Jv){}O.current=null}j&&(null===m||void 0===m||m())}},motionName:NE(r,v,g)}))))}var XE=function(e){var n=e.visible,r=e.getContainer,i=e.forceRender,a=e.destroyOnClose,o=void 0!==a&&a,s=e.afterClose,l=k(t.useState(n),2),c=l[0],u=l[1];return t.useEffect((function(){n&&u(!0)}),[n]),i||!o||c?t.createElement(jE,{open:n||i||c,autoDestroy:!1,getContainer:r,autoLock:n||c},t.createElement(qE,Dt({},e,{destroyOnClose:o,afterClose:function(){null===s||void 0===s||s(),u(!1)}}))):null};XE.displayName="Dialog";var ZE=XE,KE=new Rn("antFadeIn",{"0%":{opacity:0},"100%":{opacity:1}}),YE=new Rn("antFadeOut",{"0%":{opacity:1},"100%":{opacity:0}}),$E=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=e.antCls,i="".concat(r,"-fade"),a=n?"&":"";return[nf(i,KE,YE,e.motionDurationMid,n),(t={},Fe(t,"\n        ".concat(a).concat(i,"-enter,\n        ").concat(a).concat(i,"-appear\n      "),{opacity:0,animationTimingFunction:"linear"}),Fe(t,"".concat(a).concat(i,"-leave"),{animationTimingFunction:"linear"}),t)]};function JE(e){return{position:e,top:0,insetInlineEnd:0,bottom:0,insetInlineStart:0}}var QE=function(e){var t,n=e.componentCls;return[Fe({},"".concat(n,"-root"),(t={},Fe(t,"".concat(n).concat(e.antCls,"-zoom-enter, ").concat(n).concat(e.antCls,"-zoom-appear"),{transform:"none",opacity:0,animationDuration:e.motionDurationSlow,userSelect:"none"}),Fe(t,"".concat(n,"-mask"),Object.assign(Object.assign({},JE("fixed")),Fe({zIndex:e.zIndexPopupBase,height:"100%",backgroundColor:e.colorBgMask},"".concat(n,"-hidden"),{display:"none"}))),Fe(t,"".concat(n,"-wrap"),Object.assign(Object.assign({},JE("fixed")),{overflow:"auto",outline:0,WebkitOverflowScrolling:"touch"})),t)),Fe({},"".concat(n,"-root"),$E(e))]},eC=function(e){var t,n,r,i,a=e.componentCls;return[Fe({},"".concat(a,"-root"),(n={},Fe(n,"".concat(a,"-wrap"),{zIndex:e.zIndexPopupBase,position:"fixed",inset:0,overflow:"auto",outline:0,WebkitOverflowScrolling:"touch"}),Fe(n,"".concat(a,"-wrap-rtl"),{direction:"rtl"}),Fe(n,"".concat(a,"-centered"),Fe({textAlign:"center","&::before":{display:"inline-block",width:0,height:"100%",verticalAlign:"middle",content:'""'}},a,{top:0,display:"inline-block",paddingBottom:0,textAlign:"start",verticalAlign:"middle"})),Fe(n,"@media (max-width: ".concat(e.screenSMMax,")"),(t={},Fe(t,a,{maxWidth:"calc(100vw - 16px)",margin:"".concat(e.marginXS," auto")}),Fe(t,"".concat(a,"-centered"),Fe({},a,{flex:1})),t)),n)),Fe({},a,Object.assign(Object.assign({},Hn(e)),(r={pointerEvents:"none",position:"relative",top:100,width:"auto",maxWidth:"calc(100vw - ".concat(2*e.margin,"px)"),margin:"0 auto",paddingBottom:e.paddingLG},Fe(r,"".concat(a,"-title"),{margin:0,color:e.modalHeadingColor,fontWeight:e.fontWeightStrong,fontSize:e.modalHeaderTitleFontSize,lineHeight:e.modalHeaderTitleLineHeight,wordWrap:"break-word"}),Fe(r,"".concat(a,"-content"),{position:"relative",backgroundColor:e.modalContentBg,backgroundClip:"padding-box",border:0,borderRadius:e.borderRadiusLG,boxShadow:e.boxShadowSecondary,pointerEvents:"auto",padding:"".concat(e.paddingMD,"px ").concat(e.paddingContentHorizontalLG,"px")}),Fe(r,"".concat(a,"-close"),Object.assign({position:"absolute",top:(e.modalHeaderCloseSize-e.modalCloseBtnSize)/2,insetInlineEnd:(e.modalHeaderCloseSize-e.modalCloseBtnSize)/2,zIndex:e.zIndexPopupBase+10,padding:0,color:e.modalCloseColor,fontWeight:e.fontWeightStrong,lineHeight:1,textDecoration:"none",background:"transparent",borderRadius:e.borderRadiusSM,width:e.modalConfirmIconSize,height:e.modalConfirmIconSize,border:0,outline:0,cursor:"pointer",transition:"color ".concat(e.motionDurationMid,", background-color ").concat(e.motionDurationMid),"&-x":{display:"block",fontSize:e.fontSizeLG,fontStyle:"normal",lineHeight:"".concat(e.modalCloseBtnSize,"px"),textAlign:"center",textTransform:"none",textRendering:"auto"},"&:hover":{color:e.modalIconHoverColor,backgroundColor:e.wireframe?"transparent":e.colorFillContent,textDecoration:"none"},"&:active":{backgroundColor:e.wireframe?"transparent":e.colorFillContentHover}},Xn(e))),Fe(r,"".concat(a,"-header"),{color:e.colorText,background:e.modalHeaderBg,borderRadius:"".concat(e.borderRadiusLG,"px ").concat(e.borderRadiusLG,"px 0 0"),marginBottom:e.marginXS}),Fe(r,"".concat(a,"-body"),{fontSize:e.fontSize,lineHeight:e.lineHeight,wordWrap:"break-word"}),Fe(r,"".concat(a,"-footer"),Fe({textAlign:"end",background:e.modalFooterBg,marginTop:e.marginSM},"".concat(e.antCls,"-btn + ").concat(e.antCls,"-btn:not(").concat(e.antCls,"-dropdown-trigger)"),{marginBottom:0,marginInlineStart:e.marginXS})),Fe(r,"".concat(a,"-open"),{overflow:"hidden"}),r))),Fe({},"".concat(a,"-pure-panel"),(i={top:"auto",padding:0,display:"flex",flexDirection:"column"},Fe(i,"".concat(a,"-content,\n          ").concat(a,"-body,\n          ").concat(a,"-confirm-body-wrapper"),{display:"flex",flexDirection:"column",flex:"auto"}),Fe(i,"".concat(a,"-confirm-body"),{marginBottom:"auto"}),i))]},tC=function(e){var t,n,r,i,a=e.componentCls,o="".concat(a,"-confirm");return Fe(i={},o,(Fe(r={"&-rtl":{direction:"rtl"}},"".concat(e.antCls,"-modal-header"),{display:"none"}),Fe(r,"".concat(o,"-body-wrapper"),Object.assign({},{"&::before":{display:"table",content:'""'},"&::after":{display:"table",clear:"both",content:'""'}})),Fe(r,"".concat(o,"-body"),(Fe(n={display:"flex",flexWrap:"wrap",alignItems:"center"},"".concat(o,"-title"),Fe({flex:"0 0 100%",display:"block",overflow:"hidden",color:e.colorTextHeading,fontWeight:e.fontWeightStrong,fontSize:e.modalHeaderTitleFontSize,lineHeight:e.modalHeaderTitleLineHeight},"+ ".concat(o,"-content"),{marginBlockStart:e.marginXS,flexBasis:"100%",maxWidth:"calc(100% - ".concat(e.modalConfirmIconSize+e.marginSM,"px)")})),Fe(n,"".concat(o,"-content"),{color:e.colorText,fontSize:e.fontSize}),Fe(n,"> ".concat(e.iconCls),(Fe(t={flex:"none",marginInlineEnd:e.marginSM,fontSize:e.modalConfirmIconSize},"+ ".concat(o,"-title"),{flex:1}),Fe(t,"+ ".concat(o,"-title + ").concat(o,"-content"),{marginInlineStart:e.modalConfirmIconSize+e.marginSM}),t)),n)),Fe(r,"".concat(o,"-btns"),Fe({textAlign:"end",marginTop:e.marginSM},"".concat(e.antCls,"-btn + ").concat(e.antCls,"-btn"),{marginBottom:0,marginInlineStart:e.marginXS})),r)),Fe(i,"".concat(o,"-error ").concat(o,"-body > ").concat(e.iconCls),{color:e.colorError}),Fe(i,"".concat(o,"-warning ").concat(o,"-body > ").concat(e.iconCls,",\n        ").concat(o,"-confirm ").concat(o,"-body > ").concat(e.iconCls),{color:e.colorWarning}),Fe(i,"".concat(o,"-info ").concat(o,"-body > ").concat(e.iconCls),{color:e.colorInfo}),Fe(i,"".concat(o,"-success ").concat(o,"-body > ").concat(e.iconCls),{color:e.colorSuccess}),Fe(i,"".concat(a,"-zoom-leave ").concat(a,"-btns"),{pointerEvents:"none"}),i},nC=function(e){var t=e.componentCls;return Fe({},"".concat(t,"-root"),Fe({},"".concat(t,"-wrap-rtl"),Fe({direction:"rtl"},"".concat(t,"-confirm-body"),{direction:"rtl"})))},rC=function(e){var t,n,r,i=e.componentCls,a=e.antCls,o="".concat(i,"-confirm");return Fe(r={},i,(Fe(t={},"".concat(i,"-content"),{padding:0}),Fe(t,"".concat(i,"-header"),{padding:e.modalHeaderPadding,borderBottom:"".concat(e.modalHeaderBorderWidth,"px ").concat(e.modalHeaderBorderStyle," ").concat(e.modalHeaderBorderColorSplit),marginBottom:0}),Fe(t,"".concat(i,"-body"),{padding:e.modalBodyPadding}),Fe(t,"".concat(i,"-footer"),{padding:"".concat(e.modalFooterPaddingVertical,"px ").concat(e.modalFooterPaddingHorizontal,"px"),borderTop:"".concat(e.modalFooterBorderWidth,"px ").concat(e.modalFooterBorderStyle," ").concat(e.modalFooterBorderColorSplit),borderRadius:"0 0 ".concat(e.borderRadiusLG,"px ").concat(e.borderRadiusLG,"px"),marginTop:0}),t)),Fe(r,o,(Fe(n={},"".concat(a,"-modal-body"),{padding:"".concat(2*e.padding,"px ").concat(2*e.padding,"px ").concat(e.paddingLG,"px")}),Fe(n,"".concat(o,"-body"),Fe({},"> ".concat(e.iconCls),Fe({marginInlineEnd:e.margin},"+ ".concat(o,"-title + ").concat(o,"-content"),{marginInlineStart:e.modalConfirmIconSize+e.margin}))),Fe(n,"".concat(o,"-btns"),{marginTop:e.marginLG}),n)),r},iC=Xr("Modal",(function(e){var t=e.padding,n=e.fontSizeHeading5,r=e.lineHeightHeading5,i=Gr(e,{modalBodyPadding:e.paddingLG,modalHeaderBg:e.colorBgElevated,modalHeaderPadding:"".concat(t,"px ").concat(e.paddingLG,"px"),modalHeaderBorderWidth:e.lineWidth,modalHeaderBorderStyle:e.lineType,modalHeaderTitleLineHeight:r,modalHeaderTitleFontSize:n,modalHeaderBorderColorSplit:e.colorSplit,modalHeaderCloseSize:r*n+2*t,modalContentBg:e.colorBgElevated,modalHeadingColor:e.colorTextHeading,modalCloseColor:e.colorTextDescription,modalFooterBg:"transparent",modalFooterBorderColorSplit:e.colorSplit,modalFooterBorderStyle:e.lineType,modalFooterPaddingVertical:e.paddingXS,modalFooterPaddingHorizontal:e.padding,modalFooterBorderWidth:e.lineWidth,modalConfirmTitleFontSize:e.fontSizeLG,modalIconHoverColor:e.colorIconHover,modalConfirmIconSize:e.fontSize*e.lineHeight,modalCloseBtnSize:.55*e.controlHeightLG});return[eC(i),tC(i),nC(i),QE(i),e.wireframe&&rC(i),Tf(i,"zoom")]})),aC=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};function oC(e,n){return t.createElement("span",{className:"".concat(e,"-close-x")},n||t.createElement(Wk,{className:"".concat(e,"-close-icon")}))}function sC(e){var n=e.okText,r=e.okType,i=void 0===r?"primary":r,a=e.cancelText,o=e.confirmLoading,s=e.onOk,l=e.onCancel,c=e.okButtonProps,u=e.cancelButtonProps,d=e.footer;return void 0===d?t.createElement(Lg,{componentName:"Modal",defaultLocale:vS()},(function(e){return t.createElement(t.Fragment,null,t.createElement(Xx,Object.assign({onClick:l},u),a||e.cancelText),t.createElement(Xx,Object.assign({},Gx(i),{loading:o,onClick:s},c),n||e.okText))})):d}var lC,cC=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};Rp()&&document.documentElement.addEventListener("click",(function(e){lC={x:e.pageX,y:e.pageY},setTimeout((function(){lC=null}),100)}),!0);var uC=function(e){var n,r,i=t.useContext(Ge),a=i.getPopupContainer,o=i.getPrefixCls,s=i.direction,l=function(t){var n=e.onCancel;null===n||void 0===n||n(t)},c=e.prefixCls,u=e.className,d=e.open,f=e.wrapClassName,h=e.centered,p=e.getContainer,m=e.closeIcon,v=e.focusTriggerAfterClose,g=void 0===v||v,y=e.visible,x=e.width,b=void 0===x?520:x,_=cC(e,["prefixCls","className","open","wrapClassName","centered","getContainer","closeIcon","focusTriggerAfterClose","visible","width"]),w=o("modal",c),S=o(),E=k(iC(w),2),C=E[0],T=E[1],M=Ue()(f,(Fe(n={},"".concat(w,"-centered"),!!h),Fe(n,"".concat(w,"-wrap-rtl"),"rtl"===s),n));return C(t.createElement(Ey,null,t.createElement(Pv,{status:!0,override:!0},t.createElement(ZE,Object.assign({width:b},_,{getContainer:void 0===p?a:p,prefixCls:w,rootClassName:T,wrapClassName:M,footer:sC(Object.assign(Object.assign({},e),{onOk:function(t){var n=e.onOk;null===n||void 0===n||n(t)},onCancel:l})),visible:null!==d&&void 0!==d?d:y,mousePosition:null!==(r=_.mousePosition)&&void 0!==r?r:lC,onClose:l,closeIcon:oC(w,m),focusTriggerAfterClose:g,transitionName:Xd(S,"zoom",e.transitionName),maskTransitionName:Xd(S,"fade",e.maskTransitionName),className:Ue()(T,u)})))))};function dC(e){var n=e.icon,r=e.onCancel,i=e.onOk,a=e.close,o=e.okText,s=e.okButtonProps,l=e.cancelText,c=e.cancelButtonProps,u=e.confirmPrefixCls,d=e.rootPrefixCls,f=e.type,h=e.okCancel,p=e.footer,m=e.locale,v=n;if(!n&&null!==n)switch(f){case"info":v=t.createElement(_E,null);break;case"success":v=t.createElement(gg,null);break;case"error":v=t.createElement(bg,null);break;default:v=t.createElement(kg,null)}var g=e.okType||"primary",y=null!==h&&void 0!==h?h:"confirm"===f,x=null!==e.autoFocusButton&&(e.autoFocusButton||"ok");return t.createElement(Lg,{componentName:"Modal"},(function(n){var f=m||n,h=y&&t.createElement(SE,{actionFn:r,close:a,autoFocus:"cancel"===x,buttonProps:c,prefixCls:"".concat(d,"-btn")},l||(null===f||void 0===f?void 0:f.cancelText));return t.createElement("div",{className:"".concat(u,"-body-wrapper")},t.createElement("div",{className:"".concat(u,"-body")},v,void 0===e.title?null:t.createElement("span",{className:"".concat(u,"-title")},e.title),t.createElement("div",{className:"".concat(u,"-content")},e.content)),void 0!==p?p:t.createElement("div",{className:"".concat(u,"-btns")},h,t.createElement(SE,{type:g,actionFn:i,close:a,autoFocus:"ok"===x,buttonProps:s,prefixCls:"".concat(d,"-btn")},o||(y?null===f||void 0===f?void 0:f.okText:null===f||void 0===f?void 0:f.justOkText))))}))}var fC=function(e){var n=e.close,r=e.zIndex,i=e.afterClose,a=(e.visible,e.open),o=e.keyboard,s=e.centered,l=e.getContainer,c=e.maskStyle,u=e.direction,d=e.prefixCls,f=e.wrapClassName,h=e.rootPrefixCls,p=e.iconPrefixCls,m=e.bodyStyle,v=e.closable,g=void 0!==v&&v,y=e.closeIcon,x=e.modalRender,b=e.focusTriggerAfterClose;var _="".concat(d,"-confirm"),w=e.width||416,k=e.style||{},S=void 0===e.mask||e.mask,E=void 0!==e.maskClosable&&e.maskClosable,C=Ue()(_,"".concat(_,"-").concat(e.type),Fe({},"".concat(_,"-rtl"),"rtl"===u),e.className);return t.createElement(OS,{prefixCls:h,iconPrefixCls:p,direction:u},t.createElement(uC,{prefixCls:d,className:C,wrapClassName:Ue()(Fe({},"".concat(_,"-centered"),!!e.centered),f),onCancel:function(){return null===n||void 0===n?void 0:n({triggerCancel:!0})},open:a,title:"",footer:"",transitionName:Xd(h,"zoom",e.transitionName),maskTransitionName:Xd(h,"fade",e.maskTransitionName),mask:S,maskClosable:E,maskStyle:c,style:k,bodyStyle:m,width:w,zIndex:r,afterClose:i,keyboard:o,centered:s,getContainer:l,closable:g,closeIcon:y,modalRender:x,focusTriggerAfterClose:b},t.createElement(dC,Object.assign({},e,{confirmPrefixCls:_}))))},hC=[],pC=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},mC="";function vC(e){var n,r=document.createDocumentFragment(),i=Object.assign(Object.assign({},e),{close:s,open:!0});function a(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];var a=n.some((function(e){return e&&e.triggerCancel}));e.onCancel&&a&&e.onCancel.apply(e,[function(){}].concat(l(n.slice(1))));for(var o=0;o<hC.length;o++){var c=hC[o];if(c===s){hC.splice(o,1);break}}ox(r)}function o(e){var i=e.okText,a=e.cancelText,o=e.prefixCls,s=pC(e,["okText","cancelText","prefixCls"]);clearTimeout(n),n=setTimeout((function(){var e=vS(),n=TS(),l=n.getPrefixCls,c=n.getIconPrefixCls,u=l(void 0,mC),d=o||"".concat(u,"-modal"),f=c();nx(t.createElement(fC,Object.assign({},s,{prefixCls:d,rootPrefixCls:u,iconPrefixCls:f,okText:i,locale:e,cancelText:a||e.cancelText})),r)}))}function s(){for(var t=this,n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];(i=Object.assign(Object.assign({},i),{open:!1,afterClose:function(){"function"===typeof e.afterClose&&e.afterClose(),a.apply(t,r)}})).visible&&delete i.visible,o(i)}return o(i),hC.push(s),{destroy:s,update:function(e){o(i="function"===typeof e?e(i):Object.assign(Object.assign({},i),e))}}}function gC(e){return Object.assign(Object.assign({},e),{type:"warning"})}function yC(e){return Object.assign(Object.assign({},e),{type:"info"})}function xC(e){return Object.assign(Object.assign({},e),{type:"success"})}function bC(e){return Object.assign(Object.assign({},e),{type:"error"})}function _C(e){return Object.assign(Object.assign({},e),{type:"confirm"})}var wC=function(e,n){var r,i=e.afterClose,a=e.config,o=k(t.useState(!0),2),s=o[0],c=o[1],u=k(t.useState(a),2),d=u[0],f=u[1],h=t.useContext(Ge),p=h.direction,m=h.getPrefixCls,v=m("modal"),g=m(),y=function(){c(!1);for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.some((function(e){return e&&e.triggerCancel}));d.onCancel&&r&&d.onCancel.apply(d,[function(){}].concat(l(t.slice(1))))};t.useImperativeHandle(n,(function(){return{destroy:y,update:function(e){f((function(t){return Object.assign(Object.assign({},t),e)}))}}}));var x=null!==(r=d.okCancel)&&void 0!==r?r:"confirm"===d.type;return t.createElement(Lg,{componentName:"Modal",defaultLocale:Dg.Modal},(function(e){return t.createElement(fC,Object.assign({prefixCls:v,rootPrefixCls:g},d,{close:y,open:s,afterClose:i,okText:d.okText||(x?e.okText:e.justOkText),direction:p,cancelText:d.cancelText||e.cancelText}))}))},kC=t.forwardRef(wC),SC=0,EC=t.memo(t.forwardRef((function(e,n){var r=function(){var e=k(t.useState([]),2),n=e[0],r=e[1];return[n,t.useCallback((function(e){return r((function(t){return[].concat(l(t),[e])})),function(){r((function(t){return t.filter((function(t){return t!==e}))}))}}),[])]}(),i=k(r,2),a=i[0],o=i[1];return t.useImperativeHandle(n,(function(){return{patchElement:o}}),[]),t.createElement(t.Fragment,null,a)})));var CC=function(){var e=t.useRef(null),n=k(t.useState([]),2),r=n[0],i=n[1];t.useEffect((function(){r.length&&(l(r).forEach((function(e){e()})),i([]))}),[r]);var a=t.useCallback((function(n){return function(r){var a;SC+=1;var o,s=t.createRef(),c=t.createElement(kC,{key:"modal-".concat(SC),config:n(r),ref:s,afterClose:function(){null===o||void 0===o||o()}});return(o=null===(a=e.current)||void 0===a?void 0:a.patchElement(c))&&hC.push(o),{destroy:function(){function e(){var e;null===(e=s.current)||void 0===e||e.destroy()}s.current?e():i((function(t){return[].concat(l(t),[e])}))},update:function(e){function t(){var t;null===(t=s.current)||void 0===t||t.update(e)}s.current?t():i((function(e){return[].concat(l(e),[t])}))}}}}),[]);return[t.useMemo((function(){return{info:a(yC),success:a(xC),error:a(bC),warning:a(gC),confirm:a(_C)}}),[]),t.createElement(EC,{key:"modal-holder",ref:e})]};function TC(e){return vC(gC(e))}var MC=uC;MC.useModal=CC,MC.info=function(e){return vC(yC(e))},MC.success=function(e){return vC(xC(e))},MC.error=function(e){return vC(bC(e))},MC.warning=TC,MC.warn=TC,MC.confirm=function(e){return vC(_C(e))},MC.destroyAll=function(){for(;hC.length;){var e=hC.pop();e&&e()}},MC.config=function(e){var t=e.rootPrefixCls;mC=t},MC._InternalPanelDoNotUseOrYouWillBeFired=function(e){var n=e.prefixCls,r=e.className,i=e.closeIcon,a=e.closable,o=e.type,s=e.title,l=e.children,c=aC(e,["prefixCls","className","closeIcon","closable","type","title","children"]),u=t.useContext(Ge).getPrefixCls,d=u(),f=n||u("modal"),h=k(iC(f),2)[1],p="".concat(f,"-confirm"),m={};return m=o?{closable:null!==a&&void 0!==a&&a,title:"",footer:"",children:t.createElement(dC,Object.assign({},e,{confirmPrefixCls:p,rootPrefixCls:d,content:l}))}:{closable:null===a||void 0===a||a,title:s,footer:sC(e),children:l},t.createElement(HE,Object.assign({prefixCls:f,className:Ue()(h,"".concat(f,"-pure-panel"),o&&p,o&&"".concat(p,"-").concat(o),r)},c,{closeIcon:oC(f,i),closable:a},m))};var IC=MC,OC=function(e){var t=e.visible,n=e.setVisible,r=e.handleUpdate,i=e.updatingCategory;return(0,zo.jsx)(IC,{title:"Update category",visible:t,footer:null,onCancel:function(){return n(!1)},children:(0,zo.jsxs)(Yg,{onFinish:r,fields:[{name:["name"],value:i.name}],children:[(0,zo.jsx)(Yg.Item,{name:"name",children:(0,zo.jsx)(vb,{prefix:(0,zo.jsx)(vE,{className:"site-form-item-icon"}),placeholder:"Give it a name"})}),(0,zo.jsx)(Xx,{type:"primary",htmlType:"submit",children:"Submit"})]})})},PC=(Vi.Content,Vi.Sider,function(){var e=k((0,t.useState)(!1),2),n=e[0],r=e[1],i=k((0,t.useContext)(gE),2),a=i[0],o=i[1],s=k((0,t.useState)({}),2),c=s[0],u=s[1],d=k((0,t.useState)(!1),2),f=d[0],h=d[1],p=k(Yg.useForm(),1)[0],m=a.categories;(0,t.useEffect)((function(){v()}),[]);var v=function(){var e=Be(Le().mark((function e(){var t,n;return Le().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Po.get("/categories");case 3:t=e.sent,n=t.data,o((function(e){return Xe(Xe({},e),{},{categories:n})})),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),g=function(){var e=Be(Le().mark((function e(t){var n,i;return Le().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r(!0),e.next=4,Po.post("/category",t);case 4:n=e.sent,i=n.data,o((function(e){return Xe(Xe({},e),{},{categories:[i].concat(l(m))})})),h_.success("Category created successfully"),r(!1),p.resetFields(["name"]),e.next=17;break;case 12:e.prev=12,e.t0=e.catch(0),console.log(e.t0),h_.error("Category create failed"),r(!1);case 17:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t){return e.apply(this,arguments)}}(),y=function(){var e=Be(Le().mark((function e(t){var n,r;return Le().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Po.delete("/category/".concat(t.slug));case 3:n=e.sent,r=n.data,o((function(e){return Xe(Xe({},e),{},{categories:m.filter((function(e){return e._id!==r._id}))})})),h_.success("Category deleted successfully"),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0),h_.error("Category delete failed");case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}(),x=function(){var e=Be(Le().mark((function e(t){return Le().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:u(t),h(!0);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),b=function(){var e=Be(Le().mark((function e(t){var n,r,i;return Le().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Po.put("/category/".concat(c.slug),t);case 3:n=e.sent,r=n.data,i=m.map((function(e){return e._id===r._id?r:e})),o((function(e){return Xe(Xe({},e),{},{categories:i})})),h_.success("Categrory updated successfully"),h(!1),u({}),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(0),console.log(e.t0),h_.error("Category update failed");case 16:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t){return e.apply(this,arguments)}}();return(0,zo.jsx)(zp,{children:(0,zo.jsxs)(Kp,{children:[(0,zo.jsxs)(em,{xs:22,sm:22,lg:10,offset:1,children:[(0,zo.jsx)("h1",{style:{paddingTop:"30px",fontWeight:"bold"},className:"text-2xl mb-5 ",children:"Categories"}),(0,zo.jsx)("p",{className:"mb-2",children:"Add new category"}),(0,zo.jsxs)(Yg,{onFinish:g,form:p,children:[(0,zo.jsx)(Yg.Item,{name:"name",children:(0,zo.jsx)(vb,{prefix:(0,zo.jsx)(vE,{className:"site-form-item-icon"}),placeholder:"Give it a name"})}),(0,zo.jsx)(Xx,{loading:n,htmlType:"submit",children:"Submit"})]})]}),(0,zo.jsx)(em,{xs:22,sm:22,lg:10,offset:1,style:{paddingTop:"30px",fontWeight:"bold"},children:(0,zo.jsx)(hE,{itemLayout:"horizontal",dataSource:m,renderItem:function(e){return(0,zo.jsx)(hE.Item,{actions:[(0,zo.jsx)("a",{onClick:function(){return x(e)},style:{color:"green",fontWeight:"normal"},children:"edit"}),(0,zo.jsx)("a",{onClick:function(){return y(e)},style:{color:"red",fontWeight:"normal"},children:"delete"})],children:(0,zo.jsx)(hE.Item.Meta,{title:e.name})})}})}),(0,zo.jsx)(OC,{visible:f,setVisible:h,handleUpdate:b,updatingCategory:c})]})})});function AC(){return{width:document.documentElement.clientWidth,height:window.innerHeight||document.documentElement.clientHeight}}var zC=["visible","onVisibleChange","getContainer","current","countRender"],jC=t.createContext({previewUrls:new Map,setPreviewUrls:function(){return null},current:null,setCurrent:function(){return null},setShowPreview:function(){return null},setMousePosition:function(){return null},registerImage:function(){return function(){return null}},rootClassName:""}),RC=jC.Provider,DC=function(e){var n=e.previewPrefixCls,r=void 0===n?"rc-image-preview":n,i=e.children,a=e.icons,o=void 0===a?{}:a,s=e.preview,l="object"===u(s)?s:{},c=l.visible,d=void 0===c?void 0:c,f=l.onVisibleChange,h=void 0===f?void 0:f,p=l.getContainer,m=void 0===p?void 0:p,v=l.current,g=void 0===v?0:v,y=l.countRender,x=void 0===y?void 0:y,b=li(l,zC),_=k((0,t.useState)(new Map),2),w=_[0],S=_[1],E=k((0,t.useState)(),2),C=E[0],T=E[1],M=k(Js(!!d,{value:d,onChange:h}),2),I=M[0],O=M[1],P=k((0,t.useState)(null),2),A=P[0],z=P[1],j=void 0!==d,R=Array.from(w.keys())[g],D=new Map(Array.from(w).filter((function(e){return!!k(e,2)[1].canPreview})).map((function(e){var t=k(e,2);return[t[0],t[1].url]})));return t.useEffect((function(){T(R)}),[R]),t.useEffect((function(){!I&&j&&T(R)}),[R,j,I]),t.createElement(RC,{value:{isPreviewGroup:!0,previewUrls:D,setPreviewUrls:S,current:C,setCurrent:T,setShowPreview:O,setMousePosition:z,registerImage:function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=function(){S((function(t){var n=new Map(t);return n.delete(e)?n:t}))};return S((function(r){return new Map(r).set(e,{url:t,canPreview:n})})),r}}},i,t.createElement(VC,Dt({"aria-hidden":!I,visible:I,prefixCls:r,onClose:function(e){e.stopPropagation(),O(!1),z(null)},mousePosition:A,src:D.get(C),icons:o,getContainer:m,countRender:x},b)))},LC=function(e){var n,r=e.visible,i=e.maskTransitionName,a=e.getContainer,o=e.prefixCls,s=e.rootClassName,l=e.icons,c=e.countRender,u=e.showSwitch,d=e.showProgress,f=e.current,h=e.count,p=e.scale,m=e.onSwitchLeft,v=e.onSwitchRight,g=e.onClose,y=e.onZoomIn,x=e.onZoomOut,b=e.onRotateRight,_=e.onRotateLeft,w=l.rotateLeft,k=l.rotateRight,S=l.zoomIn,E=l.zoomOut,C=l.close,T=l.left,M=l.right,I="".concat(o,"-operations-operation"),O="".concat(o,"-operations-icon"),P=[{icon:C,onClick:g,type:"close"},{icon:S,onClick:y,type:"zoomIn",disabled:50===p},{icon:E,onClick:x,type:"zoomOut",disabled:1===p},{icon:k,onClick:b,type:"rotateRight"},{icon:w,onClick:_,type:"rotateLeft"}],A=t.createElement(t.Fragment,null,u&&t.createElement(t.Fragment,null,t.createElement("div",{className:Ue()("".concat(o,"-switch-left"),Fe({},"".concat(o,"-switch-left-disabled"),0===f)),onClick:m},T),t.createElement("div",{className:Ue()("".concat(o,"-switch-right"),Fe({},"".concat(o,"-switch-right-disabled"),f===h-1)),onClick:v},M)),t.createElement("ul",{className:"".concat(o,"-operations")},d&&t.createElement("li",{className:"".concat(o,"-operations-progress")},null!==(n=null===c||void 0===c?void 0:c(f+1,h))&&void 0!==n?n:"".concat(f+1," / ").concat(h)),P.map((function(e){var n,r=e.icon,i=e.onClick,a=e.type,s=e.disabled;return t.createElement("li",{className:Ue()(I,(n={},Fe(n,"".concat(o,"-operations-operation-").concat(a),!0),Fe(n,"".concat(o,"-operations-operation-disabled"),!!s),n)),onClick:i,key:a},t.isValidElement(r)?t.cloneElement(r,{className:O}):r)}))));return t.createElement(Xc,{visible:r,motionName:i},(function(e){var n=e.className,r=e.style;return t.createElement(jE,{open:!0,getContainer:null!==a&&void 0!==a?a:document.body},t.createElement("div",{className:Ue()("".concat(o,"-operations-wrapper"),n,s),style:r},A))}))},NC={x:0,y:0,rotate:0,scale:1};function BC(e,t,n,r){var i=t+n,a=(n-r)/2;if(n>r){if(t>0)return Fe({},e,a);if(t<0&&i<r)return Fe({},e,-a)}else if(t<0||i>r)return Fe({},e,t<0?a:-a);return{}}var FC=["prefixCls","src","alt","onClose","afterClose","visible","icons","rootClassName","getContainer","countRender","scaleStep","transitionName","maskTransitionName"],VC=function(e){var n=e.prefixCls,r=e.src,i=e.alt,a=e.onClose,o=(e.afterClose,e.visible),s=e.icons,l=void 0===s?{}:s,c=e.rootClassName,u=e.getContainer,d=e.countRender,f=e.scaleStep,h=void 0===f?.5:f,p=e.transitionName,m=void 0===p?"zoom":p,v=e.maskTransitionName,g=void 0===v?"fade":v,y=li(e,FC),x=(0,t.useRef)(),b=(0,t.useRef)({deltaX:0,deltaY:0,transformX:0,transformY:0}),_=k((0,t.useState)(!1),2),w=_[0],S=_[1],E=(0,t.useContext)(jC),C=E.previewUrls,T=E.current,M=E.isPreviewGroup,I=E.setCurrent,O=C.size,P=Array.from(C.keys()),A=P.indexOf(T),z=M?C.get(T):r,j=M&&O>1,R=M&&O>=1,D=function(e){var n=(0,t.useRef)(null),r=(0,t.useRef)([]),i=k((0,t.useState)(NC),2),a=i[0],o=i[1],s=function(e){null===n.current&&(r.current=[],n.current=js((function(){o((function(e){var t=e;return r.current.forEach((function(e){t=Xe(Xe({},t),e)})),n.current=null,t}))}))),r.current.push(Xe(Xe({},a),e))};return{transform:a,resetTransform:function(){o(NC)},updateTransform:s,dispatchZoonChange:function(t,n,r){var i=e.current,o=i.width,l=i.height,c=i.offsetWidth,u=i.offsetHeight,d=i.offsetLeft,f=i.offsetTop,h=t,p=a.scale*t;p>50?(h=50/a.scale,p=50):p<1&&(h=1/a.scale,p=1);var m=null!==n&&void 0!==n?n:innerWidth/2,v=null!==r&&void 0!==r?r:innerHeight/2,g=h-1,y=g*o*.5,x=g*l*.5,b=g*(m-a.x-d),_=g*(v-a.y-f),w=a.x-(b-y),k=a.y-(_-x);if(t<1&&1===p){var S=c*p,E=u*p,C=AC(),T=C.width,M=C.height;S<=T&&E<=M&&(w=0,k=0)}s({x:w,y:k,scale:p})}}}(x),L=D.transform,N=D.resetTransform,B=D.updateTransform,F=D.dispatchZoonChange,V=L.rotate,U=L.scale,H=Ue()(Fe({},"".concat(n,"-moving"),w)),G=function(){if(o&&w){S(!1);var e=b.current,t=e.transformX,n=e.transformY;if(!(L.x!==t&&L.y!==n))return;var r=x.current.offsetWidth*U,i=x.current.offsetHeight*U,a=x.current.getBoundingClientRect(),s=a.left,l=a.top,c=V%180!==0,u=function(e,t,n,r){var i=AC(),a=i.width,o=i.height,s=null;return e<=a&&t<=o?s={x:0,y:0}:(e>a||t>o)&&(s=Xe(Xe({},BC("x",n,e,a)),BC("y",r,t,o))),s}(c?i:r,c?r:i,s,l);u&&B(Xe({},u))}},W=function(e){o&&w&&B({x:e.pageX-b.current.deltaX,y:e.pageY-b.current.deltaY})},q=(0,t.useCallback)((function(e){o&&j&&(e.keyCode===hl.LEFT?A>0&&I(P[A-1]):e.keyCode===hl.RIGHT&&A<O-1&&I(P[A+1]))}),[A,O,P,I,j,o]);return(0,t.useEffect)((function(){var e,t,n=tc(window,"mouseup",G,!1),r=tc(window,"mousemove",W,!1),i=tc(window,"keydown",q,!1);try{window.top!==window.self&&(e=tc(window.top,"mouseup",G,!1),t=tc(window.top,"mousemove",W,!1))}catch(a){$e(0,"[rc-image] ".concat(a))}return function(){var a,o;n.remove(),r.remove(),i.remove(),null===(a=e)||void 0===a||a.remove(),null===(o=t)||void 0===o||o.remove()}}),[o,w,q]),t.createElement(t.Fragment,null,t.createElement(ZE,Dt({transitionName:m,maskTransitionName:g,closable:!1,keyboard:!0,prefixCls:n,onClose:a,afterClose:function(){N()},visible:o,wrapClassName:H,rootClassName:c,getContainer:u},y),t.createElement("div",{className:"".concat(n,"-img-wrapper")},t.createElement("img",{width:e.width,height:e.height,onWheel:function(e){if(o&&0!=e.deltaY){var t=Math.abs(e.deltaY/100),n=1+Math.min(t,.2)*h;e.deltaY>0&&(n=1/n),F(n,e.clientX,e.clientY)}},onMouseDown:function(e){0===e.button&&(e.preventDefault(),e.stopPropagation(),b.current={deltaX:e.pageX-L.x,deltaY:e.pageY-L.y,transformX:L.x,transformY:L.y},S(!0))},onDoubleClick:function(e){o&&(1!==U?B({x:0,y:0,scale:1}):F(1+h,e.clientX,e.clientY))},ref:x,className:"".concat(n,"-img"),src:z,alt:i,style:{transform:"translate3d(".concat(L.x,"px, ").concat(L.y,"px, 0) scale3d(").concat(U,", ").concat(U,", 1) rotate(").concat(V,"deg)")}}))),t.createElement(LC,{visible:o,maskTransitionName:g,getContainer:u,prefixCls:n,rootClassName:c,icons:l,countRender:d,showSwitch:j,showProgress:R,current:A,count:O,scale:U,onSwitchLeft:function(e){e.preventDefault(),e.stopPropagation(),A>0&&I(P[A-1])},onSwitchRight:function(e){e.preventDefault(),e.stopPropagation(),A<O-1&&I(P[A+1])},onZoomIn:function(){F(1+h)},onZoomOut:function(){F(1-h)},onRotateRight:function(){B({rotate:V+90})},onRotateLeft:function(){B({rotate:V-90})},onClose:a}))},UC=["src","alt","onPreviewClose","prefixCls","previewPrefixCls","placeholder","fallback","width","height","style","preview","className","onClick","onError","wrapperClassName","wrapperStyle","rootClassName","crossOrigin","decoding","loading","referrerPolicy","sizes","srcSet","useMap","draggable"],HC=["src","visible","onVisibleChange","getContainer","mask","maskClassName","icons","scaleStep"],GC=0,WC=function(e){var n,r=e.src,i=e.alt,a=e.onPreviewClose,o=e.prefixCls,s=void 0===o?"rc-image":o,l=e.previewPrefixCls,c=void 0===l?"".concat(s,"-preview"):l,d=e.placeholder,f=e.fallback,h=e.width,p=e.height,m=e.style,v=e.preview,g=void 0===v||v,y=e.className,x=e.onClick,b=e.onError,_=e.wrapperClassName,w=e.wrapperStyle,S=e.rootClassName,E=e.crossOrigin,C=e.decoding,T=e.loading,M=e.referrerPolicy,I=e.sizes,O=e.srcSet,P=e.useMap,A=e.draggable,z=li(e,UC),j=d&&!0!==d,R="object"===u(g)?g:{},D=R.src,L=R.visible,N=void 0===L?void 0:L,B=R.onVisibleChange,F=void 0===B?a:B,V=R.getContainer,U=void 0===V?void 0:V,H=R.mask,G=R.maskClassName,W=R.icons,q=R.scaleStep,X=li(R,HC),Z=null!==D&&void 0!==D?D:r,K=void 0!==N,Y=k(Js(!!N,{value:N,onChange:F}),2),$=Y[0],J=Y[1],Q=k((0,t.useState)(j?"loading":"normal"),2),ee=Q[0],te=Q[1],ne=k((0,t.useState)(null),2),re=ne[0],ie=ne[1],ae="error"===ee,oe=t.useContext(jC),se=oe.isPreviewGroup,le=oe.setCurrent,ce=oe.setShowPreview,ue=oe.setMousePosition,de=oe.registerImage,fe=k(t.useState((function(){return GC+=1})),1)[0],he=!!g,pe=t.useRef(!1),me=function(){te("normal")};t.useEffect((function(){return de(fe,Z)}),[]),t.useEffect((function(){de(fe,Z,he)}),[Z,he]),t.useEffect((function(){ae&&te("normal"),j&&!pe.current&&te("loading")}),[r]);var ve=Ue()(s,_,S,Fe({},"".concat(s,"-error"),ae)),ge=ae&&f?f:Z,ye={crossOrigin:E,decoding:C,draggable:A,loading:T,referrerPolicy:M,sizes:I,srcSet:O,useMap:P,alt:i,className:Ue()("".concat(s,"-img"),Fe({},"".concat(s,"-img-placeholder"),!0===d),y),style:Xe({height:p},m)};return t.createElement(t.Fragment,null,t.createElement("div",Dt({},z,{className:ve,onClick:he?function(e){if(!K){var t=function(e){var t=e.getBoundingClientRect(),n=document.documentElement;return{left:t.left+(window.pageXOffset||n.scrollLeft)-(n.clientLeft||document.body.clientLeft||0),top:t.top+(window.pageYOffset||n.scrollTop)-(n.clientTop||document.body.clientTop||0)}}(e.target),n=t.left,r=t.top;se?(le(fe),ue({x:n,y:r})):ie({x:n,y:r})}se?ce(!0):J(!0),x&&x(e)}:x,style:Xe({width:h,height:p},w)}),t.createElement("img",Dt({},ye,{ref:function(e){pe.current=!1,"loading"===ee&&null!==e&&void 0!==e&&e.complete&&(e.naturalWidth||e.naturalHeight)&&(pe.current=!0,me())}},ae&&f?{src:f}:{onLoad:me,onError:function(e){b&&b(e),te("error")},src:r},{width:h,height:p})),"loading"===ee&&t.createElement("div",{"aria-hidden":"true",className:"".concat(s,"-placeholder")},d),H&&he&&t.createElement("div",{className:Ue()("".concat(s,"-mask"),G),style:{display:"none"===(null===(n=ye.style)||void 0===n?void 0:n.display)?"none":void 0}},H)),!se&&he&&t.createElement(VC,Dt({"aria-hidden":!$,visible:$,prefixCls:c,onClose:function(e){e.stopPropagation(),J(!1),K||ie(null)},mousePosition:re,src:ge,alt:i,getContainer:U,icons:W,scaleStep:q,rootClassName:S},X)))};WC.PreviewGroup=DC,WC.displayName="Image";var qC=WC,XC={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M672 418H144c-17.7 0-32 14.3-32 32v414c0 17.7 14.3 32 32 32h528c17.7 0 32-14.3 32-32V450c0-17.7-14.3-32-32-32zm-44 402H188V494h440v326z"}},{tag:"path",attrs:{d:"M819.3 328.5c-78.8-100.7-196-153.6-314.6-154.2l-.2-64c0-6.5-7.6-10.1-12.6-6.1l-128 101c-4 3.1-3.9 9.1 0 12.3L492 318.6c5.1 4 12.7.4 12.6-6.1v-63.9c12.9.1 25.9.9 38.8 2.5 42.1 5.2 82.1 18.2 119 38.7 38.1 21.2 71.2 49.7 98.4 84.3 27.1 34.7 46.7 73.7 58.1 115.8a325.95 325.95 0 016.5 140.9h74.9c14.8-103.6-11.3-213-81-302.3z"}}]},name:"rotate-left",theme:"outlined"},ZC=function(e,n){return t.createElement(ki,Xe(Xe({},e),{},{ref:n,icon:XC}))};ZC.displayName="RotateLeftOutlined";var KC=t.forwardRef(ZC),YC={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M480.5 251.2c13-1.6 25.9-2.4 38.8-2.5v63.9c0 6.5 7.5 10.1 12.6 6.1L660 217.6c4-3.2 4-9.2 0-12.3l-128-101c-5.1-4-12.6-.4-12.6 6.1l-.2 64c-118.6.5-235.8 53.4-314.6 154.2A399.75 399.75 0 00123.5 631h74.9c-.9-5.3-1.7-10.7-2.4-16.1-5.1-42.1-2.1-84.1 8.9-124.8 11.4-42.2 31-81.1 58.1-115.8 27.2-34.7 60.3-63.2 98.4-84.3 37-20.6 76.9-33.6 119.1-38.8z"}},{tag:"path",attrs:{d:"M880 418H352c-17.7 0-32 14.3-32 32v414c0 17.7 14.3 32 32 32h528c17.7 0 32-14.3 32-32V450c0-17.7-14.3-32-32-32zm-44 402H396V494h440v326z"}}]},name:"rotate-right",theme:"outlined"},$C=function(e,n){return t.createElement(ki,Xe(Xe({},e),{},{ref:n,icon:YC}))};$C.displayName="RotateRightOutlined";var JC=t.forwardRef($C),QC={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M637 443H519V309c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v134H325c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h118v134c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V519h118c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8zm284 424L775 721c122.1-148.9 113.6-369.5-26-509-148-148.1-388.4-148.1-537 0-148.1 148.6-148.1 389 0 537 139.5 139.6 360.1 148.1 509 26l146 146c3.2 2.8 8.3 2.8 11 0l43-43c2.8-2.7 2.8-7.8 0-11zM696 696c-118.8 118.7-311.2 118.7-430 0-118.7-118.8-118.7-311.2 0-430 118.8-118.7 311.2-118.7 430 0 118.7 118.8 118.7 311.2 0 430z"}}]},name:"zoom-in",theme:"outlined"},eT=function(e,n){return t.createElement(ki,Xe(Xe({},e),{},{ref:n,icon:QC}))};eT.displayName="ZoomInOutlined";var tT=t.forwardRef(eT),nT={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M637 443H325c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h312c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8zm284 424L775 721c122.1-148.9 113.6-369.5-26-509-148-148.1-388.4-148.1-537 0-148.1 148.6-148.1 389 0 537 139.5 139.6 360.1 148.1 509 26l146 146c3.2 2.8 8.3 2.8 11 0l43-43c2.8-2.7 2.8-7.8 0-11zM696 696c-118.8 118.7-311.2 118.7-430 0-118.7-118.8-118.7-311.2 0-430 118.8-118.7 311.2-118.7 430 0 118.7 118.8 118.7 311.2 0 430z"}}]},name:"zoom-out",theme:"outlined"},rT=function(e,n){return t.createElement(ki,Xe(Xe({},e),{},{ref:n,icon:nT}))};rT.displayName="ZoomOutOutlined";var iT=t.forwardRef(rT),aT=function(e){return{position:e||"absolute",inset:0}},oT=function(e){var t=e.previewCls,n=e.modalMaskBg,r=e.paddingSM,i=e.imagePreviewOperationDisabledColor,a=e.motionDurationSlow,o=new Tr(n).setAlpha(.1),s=o.clone().setAlpha(.2);return Fe({},"".concat(t,"-operations"),Object.assign(Object.assign({},Hn(e)),{display:"flex",flexDirection:"row-reverse",alignItems:"center",color:e.imagePreviewOperationColor,listStyle:"none",background:o.toRgbString(),pointerEvents:"auto","&-operation":{marginInlineStart:r,padding:r,cursor:"pointer",transition:"all ".concat(a),"&:hover":{background:s.toRgbString()},"&-disabled":{color:i,pointerEvents:"none"},"&:last-of-type":{marginInlineStart:0}},"&-progress":{position:"absolute",left:{_skip_check_:!0,value:"50%"},transform:"translateX(-50%)"},"&-icon":{fontSize:e.imagePreviewOperationSize}}))},sT=function(e){var t,n,r=e.modalMaskBg,i=e.iconCls,a=e.imagePreviewOperationDisabledColor,o=e.previewCls,s=e.zIndexPopup,l=e.motionDurationSlow,c=new Tr(r).setAlpha(.1),u=c.clone().setAlpha(.2);return Fe(n={},"".concat(o,"-switch-left, ").concat(o,"-switch-right"),(Fe(t={position:"fixed",insetBlockStart:"50%",zIndex:s+1,display:"flex",alignItems:"center",justifyContent:"center",width:e.imagePreviewSwitchSize,height:e.imagePreviewSwitchSize,marginTop:-e.imagePreviewSwitchSize/2,color:e.imagePreviewOperationColor,background:c.toRgbString(),borderRadius:"50%",transform:"translateY(-50%)",cursor:"pointer",transition:"all ".concat(l),pointerEvents:"auto","&:hover":{background:u.toRgbString()}},"&-disabled",{"&, &:hover":Fe({color:a,background:"transparent",cursor:"not-allowed"},"> ".concat(i),{cursor:"not-allowed"})}),Fe(t,"> ".concat(i),{fontSize:e.imagePreviewOperationSize}),t)),Fe(n,"".concat(o,"-switch-left"),{insetInlineStart:e.marginSM}),Fe(n,"".concat(o,"-switch-right"),{insetInlineEnd:e.marginSM}),n},lT=function(e){var t,n,r=e.motionEaseOut,i=e.previewCls,a=e.motionDurationSlow,o=e.componentCls;return[Fe({},"".concat(o,"-preview-root"),(t={},Fe(t,i,{height:"100%",textAlign:"center",pointerEvents:"none"}),Fe(t,"".concat(i,"-body"),Object.assign(Object.assign({},aT()),{overflow:"hidden"})),Fe(t,"".concat(i,"-img"),{maxWidth:"100%",maxHeight:"100%",verticalAlign:"middle",transform:"scale3d(1, 1, 1)",cursor:"grab",transition:"transform ".concat(a," ").concat(r," 0s"),userSelect:"none",pointerEvents:"auto","&-wrapper":Object.assign(Object.assign({},aT()),{transition:"transform ".concat(a," ").concat(r," 0s"),display:"flex",justifyContent:"center",alignItems:"center","&::before":{display:"inline-block",width:1,height:"50%",marginInlineEnd:-1,content:'""'}})}),Fe(t,"".concat(i,"-moving"),Fe({},"".concat(i,"-preview-img"),{cursor:"grabbing","&-wrapper":{transitionDuration:"0s"}})),t)),Fe({},"".concat(o,"-preview-root"),Fe({},"".concat(i,"-wrap"),{zIndex:e.zIndexPopup})),(n={},Fe(n,"".concat(o,"-preview-operations-wrapper"),{position:"fixed",insetBlockStart:0,insetInlineEnd:0,zIndex:e.zIndexPopup+1,width:"100%"}),Fe(n,"&",[oT(e),sT(e)]),n)]},cT=function(e){var t,n=e.componentCls;return Fe({},n,(Fe(t={position:"relative",display:"inline-block"},"".concat(n,"-img"),{width:"100%",height:"auto",verticalAlign:"middle"}),Fe(t,"".concat(n,"-img-placeholder"),{backgroundColor:e.colorBgContainerDisabled,backgroundImage:"url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIHZpZXdCb3g9IjAgMCAxNiAxNiIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBkPSJNMTQuNSAyLjVoLTEzQS41LjUgMCAwIDAgMSAzdjEwYS41LjUgMCAwIDAgLjUuNWgxM2EuNS41IDAgMCAwIC41LS41VjNhLjUuNSAwIDAgMC0uNS0uNXpNNS4yODEgNC43NWExIDEgMCAwIDEgMCAyIDEgMSAwIDAgMSAwLTJ6bTguMDMgNi44M2EuMTI3LjEyNyAwIDAgMS0uMDgxLjAzSDIuNzY5YS4xMjUuMTI1IDAgMCAxLS4wOTYtLjIwN2wyLjY2MS0zLjE1NmEuMTI2LjEyNiAwIDAgMSAuMTc3LS4wMTZsLjAxNi4wMTZMNy4wOCAxMC4wOWwyLjQ3LTIuOTNhLjEyNi4xMjYgMCAwIDEgLjE3Ny0uMDE2bC4wMTUuMDE2IDMuNTg4IDQuMjQ0YS4xMjcuMTI3IDAgMCAxLS4wMi4xNzV6IiBmaWxsPSIjOEM4QzhDIiBmaWxsLXJ1bGU9Im5vbnplcm8iLz48L3N2Zz4=')",backgroundRepeat:"no-repeat",backgroundPosition:"center center",backgroundSize:"30%"}),Fe(t,"".concat(n,"-mask"),Object.assign({},function(e){var t=e.iconCls,n=e.motionDurationSlow,r=e.paddingXXS,i=e.marginXXS,a=e.prefixCls;return Fe({position:"absolute",inset:0,display:"flex",alignItems:"center",justifyContent:"center",color:"#fff",background:new Tr("#000").setAlpha(.5).toRgbString(),cursor:"pointer",opacity:0,transition:"opacity ".concat(n)},".".concat(a,"-mask-info"),Object.assign(Object.assign({},Un),Fe({padding:"0 ".concat(r,"px")},t,{marginInlineEnd:i})))}(e))),Fe(t,"".concat(n,"-mask:hover"),{opacity:1}),Fe(t,"".concat(n,"-placeholder"),Object.assign({},aT())),t))},uT=function(e){var t,n=e.previewCls;return Fe(t={},"".concat(n,"-root"),Tf(e,"zoom")),Fe(t,"&",$E(e,!0)),t},dT=Xr("Image",(function(e){var t=new Tr(e.colorTextLightSolid),n="".concat(e.componentCls,"-preview"),r=Gr(e,{previewCls:n,imagePreviewOperationColor:t.toRgbString(),imagePreviewOperationDisabledColor:new Tr(t).setAlpha(.25).toRgbString(),modalMaskBg:new Tr("#000").setAlpha(.45).toRgbString(),imagePreviewOperationSize:1.5*e.fontSizeIcon,imagePreviewSwitchSize:e.controlHeightLG});return[cT(r),lT(r),QE(Gr(r,{componentCls:n})),uT(r)]}),(function(e){return{zIndexPopup:e.zIndexPopupBase+80}})),fT=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},hT={rotateLeft:t.createElement(KC,null),rotateRight:t.createElement(JC,null),zoomIn:t.createElement(tT,null),zoomOut:t.createElement(iT,null),close:t.createElement(Wk,null),left:t.createElement(Mi,null),right:t.createElement(Pi,null)},pT=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},mT=function(e){var n=e.prefixCls,r=e.preview,i=e.rootClassName,a=pT(e,["prefixCls","preview","rootClassName"]),o=t.useContext(Ge),s=o.getPrefixCls,l=o.locale,c=void 0===l?Dg:l,u=o.getPopupContainer,d=s("image",n),f=s(),h=c.Image||Dg.Image,p=k(dT(d),2),m=p[0],v=p[1],g=Ue()(i,v),y=t.useMemo((function(){if(!1===r)return r;var e="object"===typeof r?r:{},n=e.getContainer,i=pT(e,["getContainer"]);return Object.assign(Object.assign({mask:t.createElement("div",{className:"".concat(d,"-mask-info")},t.createElement(Ny,null),null===h||void 0===h?void 0:h.preview),icons:hT},i),{getContainer:n||u,transitionName:Xd(f,"zoom",e.transitionName),maskTransitionName:Xd(f,"fade",e.maskTransitionName)})}),[r,h]);return m(t.createElement(qC,Object.assign({prefixCls:"".concat(d),preview:y,rootClassName:g},a)))};mT.PreviewGroup=function(e){var n=e.previewPrefixCls,r=e.preview,i=fT(e,["previewPrefixCls","preview"]),a=t.useContext(Ge).getPrefixCls,o=a("image",n),s="".concat(o,"-preview"),l=a(),c=k(dT(o),2),u=c[0],d=c[1],f=t.useMemo((function(){if(!1===r)return r;var e="object"===typeof r?r:{};return Object.assign(Object.assign({},e),{transitionName:Xd(l,"zoom",e.transitionName),maskTransitionName:Xd(l,"fade",e.maskTransitionName),rootClassName:d})}),[r]);return u(t.createElement(qC.PreviewGroup,Object.assign({preview:f,previewPrefixCls:s,icons:hT},i)))};var vT=mT,gT={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M400 317.7h73.9V656c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V317.7H624c6.7 0 10.4-7.7 6.3-12.9L518.3 163a8 8 0 00-12.6 0l-112 141.7c-4.1 5.3-.4 13 6.3 13zM878 626h-60c-4.4 0-8 3.6-8 8v154H214V634c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v198c0 17.7 14.3 32 32 32h684c17.7 0 32-14.3 32-32V634c0-4.4-3.6-8-8-8z"}}]},name:"upload",theme:"outlined"},yT=function(e,n){return t.createElement(ki,Xe(Xe({},e),{},{ref:n,icon:gT}))};yT.displayName="UploadOutlined";var xT=t.forwardRef(yT),bT=(0,t.createContext)(),_T=function(e){var n=e.children,r=k((0,t.useState)({images:[],selected:[],showMediaModal:!1}),2),i=r[0],a=r[1];return(0,zo.jsx)(bT.Provider,{value:[i,a],children:n})},wT={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M885.2 446.3l-.2-.8-112.2-285.1c-5-16.1-19.9-27.2-36.8-27.2H281.2c-17 0-32.1 11.3-36.9 27.6L139.4 443l-.3.7-.2.8c-1.3 4.9-1.7 9.9-1 14.8-.1 1.6-.2 3.2-.2 4.8V830a60.9 60.9 0 0060.8 60.8h627.2c33.5 0 60.8-27.3 60.9-60.8V464.1c0-1.3 0-2.6-.1-3.7.4-4.9 0-9.6-1.3-14.1zm-295.8-43l-.3 15.7c-.8 44.9-31.8 75.1-77.1 75.1-22.1 0-41.1-7.1-54.8-20.6S436 441.2 435.6 419l-.3-15.7H229.5L309 210h399.2l81.7 193.3H589.4zm-375 76.8h157.3c24.3 57.1 76 90.8 140.4 90.8 33.7 0 65-9.4 90.3-27.2 22.2-15.6 39.5-37.4 50.7-63.6h156.5V814H214.4V480.1z"}}]},name:"inbox",theme:"outlined"},kT=function(e,n){return t.createElement(ki,Xe(Xe({},e),{},{ref:n,icon:wT}))};kT.displayName="InboxOutlined";var ST=t.forwardRef(kT),ET={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M685.4 354.8c0-4.4-3.6-8-8-8l-66 .3L512 465.6l-99.3-118.4-66.1-.3c-4.4 0-8 3.5-8 8 0 1.9.7 3.7 1.9 5.2l130.1 155L340.5 670a8.32 8.32 0 00-1.9 5.2c0 4.4 3.6 8 8 8l66.1-.3L512 564.4l99.3 118.4 66 .3c4.4 0 8-3.5 8-8 0-1.9-.7-3.7-1.9-5.2L553.5 515l130.1-155c1.2-1.4 1.8-3.3 1.8-5.2z"}},{tag:"path",attrs:{d:"M512 65C264.6 65 64 265.6 64 513s200.6 448 448 448 448-200.6 448-448S759.4 65 512 65zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}}]},name:"close-circle",theme:"outlined"},CT=function(e,n){return t.createElement(ki,Xe(Xe({},e),{},{ref:n,icon:ET}))};CT.displayName="CloseCircleOutlined";var TT=t.forwardRef(CT);function MT(e){var t=e.responseText||e.response;if(!t)return t;try{return JSON.parse(t)}catch(Jv){return t}}function IT(e){var t=new XMLHttpRequest;e.onProgress&&t.upload&&(t.upload.onprogress=function(t){t.total>0&&(t.percent=t.loaded/t.total*100),e.onProgress(t)});var n=new FormData;e.data&&Object.keys(e.data).forEach((function(t){var r=e.data[t];Array.isArray(r)?r.forEach((function(e){n.append("".concat(t,"[]"),e)})):n.append(t,r)})),e.file instanceof Blob?n.append(e.filename,e.file,e.file.name):n.append(e.filename,e.file),t.onerror=function(t){e.onError(t)},t.onload=function(){return t.status<200||t.status>=300?e.onError(function(e,t){var n="cannot ".concat(e.method," ").concat(e.action," ").concat(t.status,"'"),r=new Error(n);return r.status=t.status,r.method=e.method,r.url=e.action,r}(e,t),MT(t)):e.onSuccess(MT(t),t)},t.open(e.method,e.action,!0),e.withCredentials&&"withCredentials"in t&&(t.withCredentials=!0);var r=e.headers||{};return null!==r["X-Requested-With"]&&t.setRequestHeader("X-Requested-With","XMLHttpRequest"),Object.keys(r).forEach((function(e){null!==r[e]&&t.setRequestHeader(e,r[e])})),t.send(n),{abort:function(){t.abort()}}}var OT=+new Date,PT=0;function AT(){return"rc-upload-".concat(OT,"-").concat(++PT)}var zT=function(e,t){if(e&&t){var n=Array.isArray(t)?t:t.split(","),r=e.name||"",i=e.type||"",a=i.replace(/\/.*$/,"");return n.some((function(e){var t=e.trim();if(/^\*(\/\*)?$/.test(e))return!0;if("."===t.charAt(0)){var n=r.toLowerCase(),o=t.toLowerCase(),s=[o];return".jpg"!==o&&".jpeg"!==o||(s=[".jpg",".jpeg"]),s.some((function(e){return n.endsWith(e)}))}return/\/\*$/.test(t)?a===t.replace(/\/.*$/,""):i===t||!!/^\w+$/.test(t)&&(Qe(!1,"Upload takes an invalidate 'accept' type '".concat(t,"'.Skip for check.")),!0)}))}return!0};var jT=function(e,t,n){var r=function e(r,i){r.path=i||"",r.isFile?r.file((function(e){n(e)&&(r.fullPath&&!e.webkitRelativePath&&(Object.defineProperties(e,{webkitRelativePath:{writable:!0}}),e.webkitRelativePath=r.fullPath.replace(/^\//,""),Object.defineProperties(e,{webkitRelativePath:{writable:!1}})),t([e]))})):r.isDirectory&&function(e,t){var n=e.createReader(),r=[];!function e(){n.readEntries((function(n){var i=Array.prototype.slice.apply(n);r=r.concat(i),i.length?e():t(r)}))}()}(r,(function(t){t.forEach((function(t){e(t,"".concat(i).concat(r.name,"/"))}))}))};e.forEach((function(e){r(e.webkitGetAsEntry())}))},RT=["component","prefixCls","className","disabled","id","style","multiple","accept","capture","children","directory","openFileDialogOnClick","onMouseEnter","onMouseLeave"],DT=function(e){m(r,e);var n=b(r);function r(){var e;c(this,r);for(var t=arguments.length,i=new Array(t),a=0;a<t;a++)i[a]=arguments[a];return(e=n.call.apply(n,[this].concat(i))).state={uid:AT()},e.reqs={},e.fileInput=void 0,e._isMounted=void 0,e.onChange=function(t){var n=e.props,r=n.accept,i=n.directory,a=l(t.target.files).filter((function(e){return!i||zT(e,r)}));e.uploadFiles(a),e.reset()},e.onClick=function(t){var n=e.fileInput;if(n){var r=e.props,i=r.children,a=r.onClick;if(i&&"button"===i.type){var o=n.parentNode;o.focus(),o.querySelector("button").blur()}n.click(),a&&a(t)}},e.onKeyDown=function(t){"Enter"===t.key&&e.onClick(t)},e.onFileDrop=function(t){var n=e.props.multiple;if(t.preventDefault(),"dragover"!==t.type)if(e.props.directory)jT(Array.prototype.slice.call(t.dataTransfer.items),e.uploadFiles,(function(t){return zT(t,e.props.accept)}));else{var r=l(t.dataTransfer.files).filter((function(t){return zT(t,e.props.accept)}));!1===n&&(r=r.slice(0,1)),e.uploadFiles(r)}},e.uploadFiles=function(t){var n=l(t),r=n.map((function(t){return t.uid=AT(),e.processFile(t,n)}));Promise.all(r).then((function(t){var n=e.props.onBatchStart;null===n||void 0===n||n(t.map((function(e){return{file:e.origin,parsedFile:e.parsedFile}}))),t.filter((function(e){return null!==e.parsedFile})).forEach((function(t){e.post(t)}))}))},e.processFile=function(){var t=Be(Le().mark((function t(n,r){var i,a,o,s,l,c,d,f,h;return Le().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=e.props.beforeUpload,a=n,!i){t.next=14;break}return t.prev=3,t.next=6,i(n,r);case 6:a=t.sent,t.next=12;break;case 9:t.prev=9,t.t0=t.catch(3),a=!1;case 12:if(!1!==a){t.next=14;break}return t.abrupt("return",{origin:n,parsedFile:null,action:null,data:null});case 14:if("function"!==typeof(o=e.props.action)){t.next=21;break}return t.next=18,o(n);case 18:s=t.sent,t.next=22;break;case 21:s=o;case 22:if("function"!==typeof(l=e.props.data)){t.next=29;break}return t.next=26,l(n);case 26:c=t.sent,t.next=30;break;case 29:c=l;case 30:return d="object"!==u(a)&&"string"!==typeof a||!a?n:a,f=d instanceof File?d:new File([d],n.name,{type:n.type}),(h=f).uid=n.uid,t.abrupt("return",{origin:n,data:c,parsedFile:h,action:s});case 35:case"end":return t.stop()}}),t,null,[[3,9]])})));return function(e,n){return t.apply(this,arguments)}}(),e.saveFileInput=function(t){e.fileInput=t},e}return h(r,[{key:"componentDidMount",value:function(){this._isMounted=!0}},{key:"componentWillUnmount",value:function(){this._isMounted=!1,this.abort()}},{key:"post",value:function(e){var t=this,n=e.data,r=e.origin,i=e.action,a=e.parsedFile;if(this._isMounted){var o=this.props,s=o.onStart,l=o.customRequest,c=o.name,u=o.headers,d=o.withCredentials,f=o.method,h=r.uid,p=l||IT,m={action:i,filename:c,data:n,file:a,headers:u,withCredentials:d,method:f||"post",onProgress:function(e){var n=t.props.onProgress;null===n||void 0===n||n(e,a)},onSuccess:function(e,n){var r=t.props.onSuccess;null===r||void 0===r||r(e,a,n),delete t.reqs[h]},onError:function(e,n){var r=t.props.onError;null===r||void 0===r||r(e,n,a),delete t.reqs[h]}};s(r),this.reqs[h]=p(m)}}},{key:"reset",value:function(){this.setState({uid:AT()})}},{key:"abort",value:function(e){var t=this.reqs;if(e){var n=e.uid?e.uid:e;t[n]&&t[n].abort&&t[n].abort(),delete t[n]}else Object.keys(t).forEach((function(e){t[e]&&t[e].abort&&t[e].abort(),delete t[e]}))}},{key:"render",value:function(){var e,n=this.props,r=n.component,i=n.prefixCls,a=n.className,o=n.disabled,s=n.id,l=n.style,c=n.multiple,u=n.accept,d=n.capture,f=n.children,h=n.directory,p=n.openFileDialogOnClick,m=n.onMouseEnter,v=n.onMouseLeave,g=li(n,RT),y=Ue()((Fe(e={},i,!0),Fe(e,"".concat(i,"-disabled"),o),Fe(e,a,a),e)),x=h?{directory:"directory",webkitdirectory:"webkitdirectory"}:{},b=o?{}:{onClick:p?this.onClick:function(){},onKeyDown:p?this.onKeyDown:function(){},onMouseEnter:m,onMouseLeave:v,onDrop:this.onFileDrop,onDragOver:this.onFileDrop,tabIndex:"0"};return t.createElement(r,Dt({},b,{className:y,role:"button",style:l}),t.createElement("input",Dt({},Cw(g,{aria:!0,data:!0}),{id:s,type:"file",ref:this.saveFileInput,onClick:function(e){return e.stopPropagation()},key:this.state.uid,style:{display:"none"},accept:u},x,{multiple:c,onChange:this.onChange},null!=d?{capture:d}:{})),f)}}]),r}(t.Component),LT=DT;function NT(){}var BT=function(e){m(r,e);var n=b(r);function r(){var e;c(this,r);for(var t=arguments.length,i=new Array(t),a=0;a<t;a++)i[a]=arguments[a];return(e=n.call.apply(n,[this].concat(i))).uploader=void 0,e.saveUploader=function(t){e.uploader=t},e}return h(r,[{key:"abort",value:function(e){this.uploader.abort(e)}},{key:"render",value:function(){return t.createElement(LT,Dt({},this.props,{ref:this.saveUploader}))}}]),r}(t.Component);BT.defaultProps={component:"span",prefixCls:"rc-upload",data:{},headers:{},name:"file",multipart:!1,onStart:NT,onError:NT,onSuccess:NT,multiple:!1,beforeUpload:null,customRequest:null,withCredentials:!1,openFileDialogOnClick:!0};var FT=BT,VT={icon:function(e,t){return{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M534 352V136H232v752h560V394H576a42 42 0 01-42-42z",fill:t}},{tag:"path",attrs:{d:"M854.6 288.6L639.4 73.4c-6-6-14.1-9.4-22.6-9.4H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V311.3c0-8.5-3.4-16.7-9.4-22.7zM602 137.8L790.2 326H602V137.8zM792 888H232V136h302v216a42 42 0 0042 42h216v494z",fill:e}}]}},name:"file",theme:"twotone"},UT=function(e,n){return t.createElement(ki,Xe(Xe({},e),{},{ref:n,icon:VT}))};UT.displayName="FileTwoTone";var HT=t.forwardRef(UT),GT={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M779.3 196.6c-94.2-94.2-247.6-94.2-341.7 0l-261 260.8c-1.7 1.7-2.6 4-2.6 6.4s.9 4.7 2.6 6.4l36.9 36.9a9 9 0 0012.7 0l261-260.8c32.4-32.4 75.5-50.2 121.3-50.2s88.9 17.8 121.2 50.2c32.4 32.4 50.2 75.5 50.2 121.2 0 45.8-17.8 88.8-50.2 121.2l-266 265.9-43.1 43.1c-40.3 40.3-105.8 40.3-146.1 0-19.5-19.5-30.2-45.4-30.2-73s10.7-53.5 30.2-73l263.9-263.8c6.7-6.6 15.5-10.3 24.9-10.3h.1c9.4 0 18.1 3.7 24.7 10.3 6.7 6.7 10.3 15.5 10.3 24.9 0 9.3-3.7 18.1-10.3 24.7L372.4 653c-1.7 1.7-2.6 4-2.6 6.4s.9 4.7 2.6 6.4l36.9 36.9a9 9 0 0012.7 0l215.6-215.6c19.9-19.9 30.8-46.3 30.8-74.4s-11-54.6-30.8-74.4c-41.1-41.1-107.9-41-149 0L463 364 224.8 602.1A172.22 172.22 0 00174 724.8c0 46.3 18.1 89.8 50.8 122.5 33.9 33.8 78.3 50.7 122.7 50.7 44.4 0 88.8-16.9 122.6-50.7l309.2-309C824.8 492.7 850 432 850 367.5c.1-64.6-25.1-125.3-70.7-170.9z"}}]},name:"paper-clip",theme:"outlined"},WT=function(e,n){return t.createElement(ki,Xe(Xe({},e),{},{ref:n,icon:GT}))};WT.displayName="PaperClipOutlined";var qT=t.forwardRef(WT),XT={icon:function(e,t){return{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M928 160H96c-17.7 0-32 14.3-32 32v640c0 17.7 14.3 32 32 32h832c17.7 0 32-14.3 32-32V192c0-17.7-14.3-32-32-32zm-40 632H136v-39.9l138.5-164.3 150.1 178L658.1 489 888 761.6V792zm0-129.8L664.2 396.8c-3.2-3.8-9-3.8-12.2 0L424.6 666.4l-144-170.7c-3.2-3.8-9-3.8-12.2 0L136 652.7V232h752v430.2z",fill:e}},{tag:"path",attrs:{d:"M424.6 765.8l-150.1-178L136 752.1V792h752v-30.4L658.1 489z",fill:t}},{tag:"path",attrs:{d:"M136 652.7l132.4-157c3.2-3.8 9-3.8 12.2 0l144 170.7L652 396.8c3.2-3.8 9-3.8 12.2 0L888 662.2V232H136v420.7zM304 280a88 88 0 110 176 88 88 0 010-176z",fill:t}},{tag:"path",attrs:{d:"M276 368a28 28 0 1056 0 28 28 0 10-56 0z",fill:t}},{tag:"path",attrs:{d:"M304 456a88 88 0 100-176 88 88 0 000 176zm0-116c15.5 0 28 12.5 28 28s-12.5 28-28 28-28-12.5-28-28 12.5-28 28-28z",fill:e}}]}},name:"picture",theme:"twotone"},ZT=function(e,n){return t.createElement(ki,Xe(Xe({},e),{},{ref:n,icon:XT}))};ZT.displayName="PictureTwoTone";var KT=t.forwardRef(ZT);function YT(e){return Object.assign(Object.assign({},e),{lastModified:e.lastModified,lastModifiedDate:e.lastModifiedDate,name:e.name,size:e.size,type:e.type,uid:e.uid,percent:0,originFileObj:e})}function $T(e,t){var n=l(t),r=n.findIndex((function(t){return t.uid===e.uid}));return-1===r?n.push(e):n[r]=e,n}function JT(e,t){var n=void 0!==e.uid?"uid":"name";return t.filter((function(t){return t[n]===e[n]}))[0]}var QT=function(e){return 0===e.indexOf("image/")},eM=function(e){if(e.type&&!e.thumbUrl)return QT(e.type);var t=e.thumbUrl||e.url||"",n=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=e.split("/"),n=t[t.length-1].split(/#|\?/)[0];return(/\.[^./\\]*$/.exec(n)||[""])[0]}(t);return!(!/^data:image\//.test(t)&&!/(webp|svg|png|gif|jpg|jpeg|jfif|bmp|dpg|ico|heic|heif)$/i.test(n))||!/^data:/.test(t)&&!n},tM=200;function nM(e){return new Promise((function(t){if(e.type&&QT(e.type)){var n=document.createElement("canvas");n.width=tM,n.height=tM,n.style.cssText="position: fixed; left: 0; top: 0; width: ".concat(tM,"px; height: ").concat(tM,"px; z-index: 9999; display: none;"),document.body.appendChild(n);var r=n.getContext("2d"),i=new Image;if(i.onload=function(){var e=i.width,a=i.height,o=tM,s=tM,l=0,c=0;e>a?c=-((s=a*(tM/e))-o)/2:l=-((o=e*(tM/a))-s)/2,r.drawImage(i,l,c,o,s);var u=n.toDataURL();document.body.removeChild(n),t(u)},i.crossOrigin="anonymous",e.type.startsWith("image/svg+xml")){var a=new FileReader;a.addEventListener("load",(function(){a.result&&(i.src=a.result)})),a.readAsDataURL(e)}else i.src=window.URL.createObjectURL(e)}else t("")}))}var rM={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M360 184h-8c4.4 0 8-3.6 8-8v8h304v-8c0 4.4 3.6 8 8 8h-8v72h72v-80c0-35.3-28.7-64-64-64H352c-35.3 0-64 28.7-64 64v80h72v-72zm504 72H160c-17.7 0-32 14.3-32 32v32c0 4.4 3.6 8 8 8h60.4l24.7 523c1.6 34.1 29.8 61 63.9 61h454c34.2 0 62.3-26.8 63.9-61l24.7-523H888c4.4 0 8-3.6 8-8v-32c0-17.7-14.3-32-32-32zM731.3 840H292.7l-24.2-512h487l-24.2 512z"}}]},name:"delete",theme:"outlined"},iM=function(e,n){return t.createElement(ki,Xe(Xe({},e),{},{ref:n,icon:rM}))};iM.displayName="DeleteOutlined";var aM=t.forwardRef(iM),oM={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M505.7 661a8 8 0 0012.6 0l112-141.7c4.1-5.2.4-12.9-6.3-12.9h-74.1V168c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v338.3H400c-6.7 0-10.4 7.7-6.3 12.9l112 141.8zM878 626h-60c-4.4 0-8 3.6-8 8v154H214V634c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v198c0 17.7 14.3 32 32 32h684c17.7 0 32-14.3 32-32V634c0-4.4-3.6-8-8-8z"}}]},name:"download",theme:"outlined"},sM=function(e,n){return t.createElement(ki,Xe(Xe({},e),{},{ref:n,icon:oM}))};sM.displayName="DownloadOutlined";var lM=t.forwardRef(sM),cM={className:"",percent:0,prefixCls:"rc-progress",strokeColor:"#2db7f5",strokeLinecap:"round",strokeWidth:1,style:{},trailColor:"#D9D9D9",trailWidth:1,gapPosition:"bottom"},uM=function(){var e=(0,t.useRef)([]),n=(0,t.useRef)(null);return(0,t.useEffect)((function(){var t=Date.now(),r=!1;e.current.forEach((function(e){if(e){r=!0;var i=e.style;i.transitionDuration=".3s, .3s, .3s, .06s",n.current&&t-n.current<100&&(i.transitionDuration="0s, 0s")}})),r&&(n.current=Date.now())})),e.current},dM=["className","percent","prefixCls","strokeColor","strokeLinecap","strokeWidth","style","trailColor","trailWidth","transition"],fM=function(e){var n=e.className,r=e.percent,i=e.prefixCls,a=e.strokeColor,o=e.strokeLinecap,s=e.strokeWidth,l=e.style,c=e.trailColor,u=e.trailWidth,d=e.transition,f=li(e,dM);delete f.gapPosition;var h=Array.isArray(r)?r:[r],p=Array.isArray(a)?a:[a],m=uM(),v=s/2,g=100-s/2,y="M ".concat("round"===o?v:0,",").concat(v,"\n         L ").concat("round"===o?g:100,",").concat(v),x="0 0 100 ".concat(s),b=0;return t.createElement("svg",Dt({className:Ue()("".concat(i,"-line"),n),viewBox:x,preserveAspectRatio:"none",style:l},f),t.createElement("path",{className:"".concat(i,"-line-trail"),d:y,strokeLinecap:o,stroke:c,strokeWidth:u||s,fillOpacity:"0"}),h.map((function(e,n){var r=1;switch(o){case"round":r=1-s/100;break;case"square":r=1-s/2/100;break;default:r=1}var a={strokeDasharray:"".concat(e*r,"px, 100px"),strokeDashoffset:"-".concat(b,"px"),transition:d||"stroke-dashoffset 0.3s ease 0s, stroke-dasharray .3s ease 0s, stroke 0.3s linear"},l=p[n]||p[p.length-1];return b+=e,t.createElement("path",{key:n,className:"".concat(i,"-line-path"),d:y,strokeLinecap:o,stroke:l,strokeWidth:s,fillOpacity:"0",ref:function(e){m[n]=e},style:a})})))};fM.defaultProps=cM,fM.displayName="Line";var hM=0,pM=ft();var mM=function(e){var n=k(t.useState(),2),r=n[0],i=n[1];return t.useEffect((function(){i("rc_progress_".concat(function(){var e;return pM?(e=hM,hM+=1):e="TEST_OR_SSR",e}()))}),[]),e||r},vM=["id","prefixCls","steps","strokeWidth","trailWidth","gapDegree","gapPosition","trailColor","strokeLinecap","style","className","strokeColor","percent"];function gM(e){return+e.replace("%","")}function yM(e){var t=null!==e&&void 0!==e?e:[];return Array.isArray(t)?t:[t]}var xM=100,bM=function(e,t,n,r,i,a,o,s,l,c){var u=arguments.length>10&&void 0!==arguments[10]?arguments[10]:0,d=n/100*360*((360-a)/360),f=0===a?0:{bottom:0,top:180,left:90,right:-90}[o],h=(100-r)/100*t;return"round"===l&&100!==r&&(h+=c/2)>=t&&(h=t-.01),{stroke:"string"===typeof s?s:void 0,strokeDasharray:"".concat(t,"px ").concat(e),strokeDashoffset:h+u,transform:"rotate(".concat(i+d+f,"deg)"),transformOrigin:"0 0",transition:"stroke-dashoffset .3s ease 0s, stroke-dasharray .3s ease 0s, stroke .3s, stroke-width .06s ease .3s, opacity .3s ease 0s",fillOpacity:0}},_M=function(e){var n=e.id,r=e.prefixCls,i=e.steps,a=e.strokeWidth,o=e.trailWidth,s=e.gapDegree,l=void 0===s?0:s,c=e.gapPosition,d=e.trailColor,f=e.strokeLinecap,h=e.style,p=e.className,m=e.strokeColor,v=e.percent,g=li(e,vM),y=mM(n),x="".concat(y,"-gradient"),b=50-a/2,_=2*Math.PI*b,w=l>0?90+l/2:-90,k=_*((360-l)/360),S="object"===u(i)?i:{count:i,space:2},E=S.count,C=S.space,T=bM(_,k,0,100,w,l,c,d,f,a),M=yM(v),I=yM(m),O=I.find((function(e){return e&&"object"===u(e)})),P=uM();return t.createElement("svg",Dt({className:Ue()("".concat(r,"-circle"),p),viewBox:"".concat(-50," ").concat(-50," ").concat(xM," ").concat(xM),style:h,id:n,role:"presentation"},g),O&&t.createElement("defs",null,t.createElement("linearGradient",{id:x,x1:"100%",y1:"0%",x2:"0%",y2:"0%"},Object.keys(O).sort((function(e,t){return gM(e)-gM(t)})).map((function(e,n){return t.createElement("stop",{key:n,offset:e,stopColor:O[e]})})))),!E&&t.createElement("circle",{className:"".concat(r,"-circle-trail"),r:b,cx:0,cy:0,stroke:d,strokeLinecap:f,strokeWidth:o||a,style:T}),E?function(){var e=Math.round(E*(M[0]/100)),n=100/E,i=0;return new Array(E).fill(null).map((function(o,s){var f=s<=e-1?I[0]:d,h=f&&"object"===u(f)?"url(#".concat(x,")"):void 0,p=bM(_,k,i,n,w,l,c,f,"butt",a,C);return i+=100*(k-p.strokeDashoffset+C)/k,t.createElement("circle",{key:s,className:"".concat(r,"-circle-path"),r:b,cx:0,cy:0,stroke:h,strokeWidth:a,opacity:1,style:p,ref:function(e){P[s]=e}})}))}():function(){var e=0;return M.map((function(n,i){var o=I[i]||I[I.length-1],s=o&&"object"===u(o)?"url(#".concat(x,")"):void 0,d=bM(_,k,e,n,w,l,c,o,f,a);return e+=n,t.createElement("circle",{key:i,className:"".concat(r,"-circle-path"),r:b,cx:0,cy:0,stroke:s,strokeLinecap:f,strokeWidth:a,opacity:0===n?0:1,style:d,ref:function(e){P[i]=e}})})).reverse()}())};_M.defaultProps=cM,_M.displayName="Circle";var wM=_M;function kM(e){return!e||e<0?0:e>100?100:e}function SM(e){var t=e.success,n=e.successPercent;return t&&"progress"in t&&(n=t.progress),t&&"percent"in t&&(n=t.percent),n}var EM=function(e){var t=e.percent,n=kM(SM({success:e.success,successPercent:e.successPercent}));return[n,kM(kM(t)-n)]},CM=function(e){var n=e.prefixCls,r=e.width,i=void 0===r?120:r,a=e.strokeWidth,o=void 0===a?Math.max(function(e){return 3/e*100}(i),6):a,s=e.trailColor,l=void 0===s?null:s,c=e.strokeLinecap,u=void 0===c?"round":c,d=e.gapPosition,f=e.gapDegree,h=e.type,p=e.children,m=e.success,v={width:i,height:i,fontSize:.15*i+6},g=t.useMemo((function(){return f||0===f?f:"dashboard"===h?75:void 0}),[f,h]),y=d||"dashboard"===h&&"bottom"||void 0,x="[object Object]"===Object.prototype.toString.call(e.strokeColor),b=function(e){var t=e.success,n=void 0===t?{}:t,r=e.strokeColor;return[n.strokeColor||_r.green,r||null]}({success:m,strokeColor:e.strokeColor}),_=Ue()("".concat(n,"-inner"),Fe({},"".concat(n,"-circle-gradient"),x)),w=t.createElement(wM,{percent:EM(e),strokeWidth:o,trailWidth:o,strokeColor:b,strokeLinecap:u,trailColor:l,prefixCls:n,gapDegree:g,gapPosition:y});return t.createElement("div",{className:_,style:v},i<=20?t.createElement(dh,{title:p},w):t.createElement(t.Fragment,null,w,p))},TM=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},MM=function(e,t){var n=e.from,r=void 0===n?_r.blue:n,i=e.to,a=void 0===i?_r.blue:i,o=e.direction,s=void 0===o?"rtl"===t?"to left":"to right":o,l=TM(e,["from","to","direction"]);if(0!==Object.keys(l).length){var c=function(e){var t=[];return Object.keys(e).forEach((function(n){var r=parseFloat(n.replace(/%/g,""));isNaN(r)||t.push({key:r,value:e[n]})})),t=t.sort((function(e,t){return e.key-t.key})),t.map((function(e){var t=e.key,n=e.value;return"".concat(n," ").concat(t,"%")})).join(", ")}(l);return{backgroundImage:"linear-gradient(".concat(s,", ").concat(c,")")}}return{backgroundImage:"linear-gradient(".concat(s,", ").concat(r,", ").concat(a,")")}},IM=function(e){var n=e.prefixCls,r=e.direction,i=e.percent,a=e.strokeWidth,o=e.size,s=e.strokeColor,l=e.strokeLinecap,c=void 0===l?"round":l,u=e.children,d=e.trailColor,f=void 0===d?null:d,h=e.success,p=s&&"string"!==typeof s?MM(s,r):{backgroundColor:s},m="square"===c||"butt"===c?0:void 0,v={backgroundColor:f||void 0,borderRadius:m},g=Object.assign({width:"".concat(kM(i),"%"),height:a||("small"===o?6:8),borderRadius:m},p),y=SM(e),x={width:"".concat(kM(y),"%"),height:a||("small"===o?6:8),borderRadius:m,backgroundColor:null===h||void 0===h?void 0:h.strokeColor};return t.createElement(t.Fragment,null,t.createElement("div",{className:"".concat(n,"-outer")},t.createElement("div",{className:"".concat(n,"-inner"),style:v},t.createElement("div",{className:"".concat(n,"-bg"),style:g}),void 0!==y?t.createElement("div",{className:"".concat(n,"-success-bg"),style:x}):null)),u)},OM=function(e){for(var n=e.size,r=e.steps,i=e.percent,a=void 0===i?0:i,o=e.strokeWidth,s=void 0===o?8:o,l=e.strokeColor,c=e.trailColor,u=void 0===c?null:c,d=e.prefixCls,f=e.children,h=Math.round(r*(a/100)),p="small"===n?2:14,m=new Array(r),v=0;v<r;v++){var g=Array.isArray(l)?l[v]:l;m[v]=t.createElement("div",{key:v,className:Ue()("".concat(d,"-steps-item"),Fe({},"".concat(d,"-steps-item-active"),v<=h-1)),style:{backgroundColor:v<=h-1?g:u,width:p,height:s}})}return t.createElement("div",{className:"".concat(d,"-steps-outer")},m,f)},PM=new Rn("antProgressActive",{"0%":{transform:"translateX(-100%) scaleX(0)",opacity:.1},"20%":{transform:"translateX(-100%) scaleX(0)",opacity:.5},to:{transform:"translateX(0) scaleX(1)",opacity:0}}),AM=function(e){var t,n,r,i=e.componentCls,a=e.iconCls;return Fe({},i,Object.assign(Object.assign({},Hn(e)),(Fe(r={display:"inline-block","&-rtl":{direction:"rtl"},"&-line":{position:"relative",width:"100%",fontSize:e.fontSize,marginInlineEnd:e.marginXS,marginBottom:e.marginXS}},"".concat(i,"-outer"),{display:"inline-block",width:"100%"}),Fe(r,"&".concat(i,"-show-info"),Fe({},"".concat(i,"-outer"),{marginInlineEnd:"calc(-2em - ".concat(e.marginXS,"px)"),paddingInlineEnd:"calc(2em + ".concat(e.paddingXS,"px)")})),Fe(r,"".concat(i,"-inner"),{position:"relative",display:"inline-block",width:"100%",overflow:"hidden",verticalAlign:"middle",backgroundColor:e.progressRemainingColor,borderRadius:e.progressLineRadius}),Fe(r,"".concat(i,"-inner:not(").concat(i,"-circle-gradient)"),Fe({},"".concat(i,"-circle-path"),{stroke:e.colorInfo})),Fe(r,"&".concat(i,"-success-bg, ").concat(i,"-bg"),{position:"relative",backgroundColor:e.colorInfo,borderRadius:e.progressLineRadius,transition:"all ".concat(e.motionDurationSlow," ").concat(e.motionEaseInOutCirc)}),Fe(r,"".concat(i,"-success-bg"),{position:"absolute",insetBlockStart:0,insetInlineStart:0,backgroundColor:e.colorSuccess}),Fe(r,"".concat(i,"-text"),Fe({display:"inline-block",width:"2em",marginInlineStart:e.marginXS,color:e.progressInfoTextColor,lineHeight:1,whiteSpace:"nowrap",textAlign:"start",verticalAlign:"middle",wordBreak:"normal"},a,{fontSize:e.fontSize})),Fe(r,"&".concat(i,"-status-active"),Fe({},"".concat(i,"-bg::before"),{position:"absolute",inset:0,backgroundColor:e.colorBgContainer,borderRadius:e.progressLineRadius,opacity:0,animationName:PM,animationDuration:e.progressActiveMotionDuration,animationTimingFunction:e.motionEaseOutQuint,animationIterationCount:"infinite",content:'""'})),Fe(r,"&".concat(i,"-status-exception"),(Fe(t={},"".concat(i,"-bg"),{backgroundColor:e.colorError}),Fe(t,"".concat(i,"-text"),{color:e.colorError}),t)),Fe(r,"&".concat(i,"-status-exception ").concat(i,"-inner:not(").concat(i,"-circle-gradient)"),Fe({},"".concat(i,"-circle-path"),{stroke:e.colorError})),Fe(r,"&".concat(i,"-status-success"),(Fe(n={},"".concat(i,"-bg"),{backgroundColor:e.colorSuccess}),Fe(n,"".concat(i,"-text"),{color:e.colorSuccess}),n)),Fe(r,"&".concat(i,"-status-success ").concat(i,"-inner:not(").concat(i,"-circle-gradient)"),Fe({},"".concat(i,"-circle-path"),{stroke:e.colorSuccess})),r)))},zM=function(e){var t,n,r=e.componentCls,i=e.iconCls;return Fe(n={},r,(Fe(t={},"".concat(r,"-circle-trail"),{stroke:e.progressRemainingColor}),Fe(t,"&".concat(r,"-circle ").concat(r,"-inner"),{position:"relative",lineHeight:1,backgroundColor:"transparent"}),Fe(t,"&".concat(r,"-circle ").concat(r,"-text"),Fe({position:"absolute",insetBlockStart:"50%",insetInlineStart:0,width:"100%",margin:0,padding:0,color:e.colorText,lineHeight:1,whiteSpace:"normal",textAlign:"center",transform:"translateY(-50%)"},i,{fontSize:"".concat(e.fontSize/e.fontSizeSM,"em")})),Fe(t,"".concat(r,"-circle&-status-exception"),Fe({},"".concat(r,"-text"),{color:e.colorError})),Fe(t,"".concat(r,"-circle&-status-success"),Fe({},"".concat(r,"-text"),{color:e.colorSuccess})),t)),Fe(n,"".concat(r,"-inline-circle"),Fe({lineHeight:1},"".concat(r,"-inner"),{verticalAlign:"bottom"})),n},jM=function(e){var t=e.componentCls;return Fe({},t,Fe({},"".concat(t,"-steps"),{display:"inline-block","&-outer":{display:"flex",flexDirection:"row",alignItems:"center"},"&-item":{flexShrink:0,minWidth:e.progressStepMinWidth,marginInlineEnd:e.progressStepMarginInlineEnd,backgroundColor:e.progressRemainingColor,transition:"all ".concat(e.motionDurationSlow),"&-active":{backgroundColor:e.colorInfo}}}))},RM=function(e){var t=e.componentCls,n=e.iconCls;return Fe({},t,Fe({},"".concat(t,"-small&-line, ").concat(t,"-small&-line ").concat(t,"-text ").concat(n),{fontSize:e.fontSizeSM}))},DM=Xr("Progress",(function(e){var t=e.marginXXS/2,n=Gr(e,{progressLineRadius:100,progressInfoTextColor:e.colorText,progressDefaultColor:e.colorInfo,progressRemainingColor:e.colorFillSecondary,progressStepMarginInlineEnd:t,progressStepMinWidth:t,progressActiveMotionDuration:"2.4s"});return[AM(n),zM(n),jM(n),RM(n)]})),LM=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},NM=["normal","exception","active","success"];var BM=function(e){var n,r,i=e.prefixCls,a=e.className,o=e.steps,s=e.strokeColor,l=e.percent,c=void 0===l?0:l,u=e.size,d=void 0===u?"default":u,f=e.showInfo,h=void 0===f||f,p=e.type,m=void 0===p?"line":p,v=e.status,g=e.format,y=LM(e,["prefixCls","className","steps","strokeColor","percent","size","showInfo","type","status","format"]),x=t.useMemo((function(){var t,n,r=SM(e);return parseInt(void 0!==r?null===(t=null!==r&&void 0!==r?r:0)||void 0===t?void 0:t.toString():null===(n=null!==c&&void 0!==c?c:0)||void 0===n?void 0:n.toString(),10)}),[c,e.success,e.successPercent]),b=t.useMemo((function(){return!NM.includes(v)&&x>=100?"success":v||"normal"}),[v,x]),_=t.useContext(Ge),w=_.getPrefixCls,S=_.direction,E=w("progress",i),C=k(DM(E),2),T=C[0],M=C[1],I=t.useMemo((function(){if(!h)return null;var n,r=SM(e),i=g||function(e){return"".concat(e,"%")},a="line"===m;return g||"exception"!==b&&"success"!==b?n=i(kM(c),kM(r)):"exception"===b?n=a?t.createElement(bg,null):t.createElement(Wk,null):"success"===b&&(n=a?t.createElement(gg,null):t.createElement(Uk,null)),t.createElement("span",{className:"".concat(E,"-text"),title:"string"===typeof n?n:void 0},n)}),[h,x,b,m,E,g]),O=Array.isArray(s)?s[0]:s,P="string"===typeof s||Array.isArray(s)?s:void 0;"line"===m?r=o?t.createElement(OM,Object.assign({},e,{strokeColor:P,prefixCls:E,steps:o}),I):t.createElement(IM,Object.assign({},e,{strokeColor:O,prefixCls:E,direction:S}),I):"circle"!==m&&"dashboard"!==m||(r=t.createElement(CM,Object.assign({},e,{strokeColor:O,prefixCls:E,progressStatus:b}),I));var A=Ue()(E,(Fe(n={},"".concat(E,"-inline-circle"),"circle"===m&&e.width<=20),Fe(n,"".concat(E,"-").concat(("dashboard"===m?"circle":o&&"steps")||m),!0),Fe(n,"".concat(E,"-status-").concat(b),!0),Fe(n,"".concat(E,"-show-info"),h),Fe(n,"".concat(E,"-").concat(d),d),Fe(n,"".concat(E,"-rtl"),"rtl"===S),n),a,M);return T(t.createElement("div",Object.assign({className:A,role:"progressbar"},Ai(y,["trailColor","strokeWidth","width","gapDegree","gapPosition","strokeLinecap","success","successPercent"])),r))},FM=BM,VM=t.forwardRef((function(e,n){var r,i,a=e.prefixCls,o=e.className,s=e.style,l=e.locale,c=e.listType,u=e.file,d=e.items,f=e.progress,h=e.iconRender,p=e.actionIconRender,m=e.itemRender,v=e.isImgUrl,g=e.showPreviewIcon,y=e.showRemoveIcon,x=e.showDownloadIcon,b=e.previewIcon,_=e.removeIcon,w=e.downloadIcon,S=e.onPreview,E=e.onDownload,C=e.onClose,T=u.status,M=k(t.useState(T),2),I=M[0],O=M[1];t.useEffect((function(){"removed"!==T&&O(T)}),[T]);var P=k(t.useState(!1),2),A=P[0],z=P[1],j=t.useRef(null);t.useEffect((function(){return j.current=setTimeout((function(){z(!0)}),300),function(){j.current&&clearTimeout(j.current)}}),[]);var R=h(u),D=t.createElement("div",{className:"".concat(a,"-icon")},R);if("picture"===c||"picture-card"===c)if("uploading"===I||!u.thumbUrl&&!u.url){var L,N=Ue()((Fe(L={},"".concat(a,"-list-item-thumbnail"),!0),Fe(L,"".concat(a,"-list-item-file"),"uploading"!==I),L));D=t.createElement("div",{className:N},R)}else{var B,F=(null===v||void 0===v?void 0:v(u))?t.createElement("img",{src:u.thumbUrl||u.url,alt:u.name,className:"".concat(a,"-list-item-image"),crossOrigin:u.crossOrigin}):R,V=Ue()((Fe(B={},"".concat(a,"-list-item-thumbnail"),!0),Fe(B,"".concat(a,"-list-item-file"),v&&!v(u)),B));D=t.createElement("a",{className:V,onClick:function(e){return S(u,e)},href:u.url||u.thumbUrl,target:"_blank",rel:"noopener noreferrer"},F)}var U=Ue()("".concat(a,"-list-item"),"".concat(a,"-list-item-").concat(I)),H="string"===typeof u.linkProps?JSON.parse(u.linkProps):u.linkProps,G=y?p(("function"===typeof _?_(u):_)||t.createElement(aM,null),(function(){return C(u)}),a,l.removeFile):null,W=x&&"done"===I?p(("function"===typeof w?w(u):w)||t.createElement(lM,null),(function(){return E(u)}),a,l.downloadFile):null,q="picture-card"!==c&&t.createElement("span",{key:"download-delete",className:Ue()("".concat(a,"-list-item-actions"),{picture:"picture"===c})},W,G),X=Ue()("".concat(a,"-list-item-name")),Z=u.url?[t.createElement("a",Object.assign({key:"view",target:"_blank",rel:"noopener noreferrer",className:X,title:u.name},H,{href:u.url,onClick:function(e){return S(u,e)}}),u.name),q]:[t.createElement("span",{key:"view",className:X,onClick:function(e){return S(u,e)},title:u.name},u.name),q],K=g?t.createElement("a",{href:u.url||u.thumbUrl,target:"_blank",rel:"noopener noreferrer",style:u.url||u.thumbUrl?void 0:{pointerEvents:"none",opacity:.5},onClick:function(e){return S(u,e)},title:l.previewFile},"function"===typeof b?b(u):b||t.createElement(Ny,null)):null,Y="picture-card"===c&&"uploading"!==I&&t.createElement("span",{className:"".concat(a,"-list-item-actions")},K,"done"===I&&W,G),$=(0,t.useContext(Ge).getPrefixCls)(),J=t.createElement("div",{className:U},D,Z,Y,A&&t.createElement(Xc,{motionName:"".concat($,"-fade"),visible:"uploading"===I,motionDeadline:2e3},(function(e){var n=e.className,r="percent"in u?t.createElement(FM,Object.assign({},f,{type:"line",percent:u.percent})):null;return t.createElement("div",{className:Ue()("".concat(a,"-list-item-progress"),n)},r)}))),Q=u.response&&"string"===typeof u.response?u.response:(null===(r=u.error)||void 0===r?void 0:r.statusText)||(null===(i=u.error)||void 0===i?void 0:i.message)||l.uploadError,ee="error"===I?t.createElement(dh,{title:Q,getPopupContainer:function(e){return e.parentNode}},J):J;return t.createElement("div",{className:Ue()("".concat(a,"-list-item-container"),o),style:s,ref:n},m?m(ee,u,d,{download:E.bind(null,u),preview:S.bind(null,u),remove:C.bind(null,u)}):ee)})),UM=VM,HM=function(e,n){var r,i=e.listType,a=void 0===i?"text":i,o=e.previewFile,s=void 0===o?nM:o,c=e.onPreview,u=e.onDownload,d=e.onRemove,f=e.locale,h=e.iconRender,p=e.isImageUrl,m=void 0===p?eM:p,v=e.prefixCls,g=e.items,y=void 0===g?[]:g,x=e.showPreviewIcon,b=void 0===x||x,_=e.showRemoveIcon,w=void 0===_||_,S=e.showDownloadIcon,E=void 0!==S&&S,C=e.removeIcon,T=e.previewIcon,M=e.downloadIcon,I=e.progress,O=void 0===I?{strokeWidth:2,showInfo:!1}:I,P=e.appendAction,A=e.appendActionVisible,z=void 0===A||A,j=e.itemRender,R=tw(),D=k(t.useState(!1),2),L=D[0],N=D[1];t.useEffect((function(){"picture"!==a&&"picture-card"!==a||(y||[]).forEach((function(e){"undefined"!==typeof document&&"undefined"!==typeof window&&window.FileReader&&window.File&&(e.originFileObj instanceof File||e.originFileObj instanceof Blob)&&void 0===e.thumbUrl&&(e.thumbUrl="",s&&s(e.originFileObj).then((function(t){e.thumbUrl=t||"",R()})))}))}),[a,y,s]),t.useEffect((function(){N(!0)}),[]);var B=function(e,t){if(c)return null===t||void 0===t||t.preventDefault(),c(e)},F=function(e){"function"===typeof u?u(e):e.url&&window.open(e.url)},V=function(e){null===d||void 0===d||d(e)},U=function(e){if(h)return h(e,a);var n="uploading"===e.status,r=m&&m(e)?t.createElement(KT,null):t.createElement(HT,null),i=n?t.createElement(Cg,null):t.createElement(qT,null);return"picture"===a?i=n?t.createElement(Cg,null):r:"picture-card"===a&&(i=n?f.uploading:r),i},H=function(e,n,r,i){var a={type:"text",size:"small",title:i,onClick:function(t){n(),Kd(e)&&e.props.onClick&&e.props.onClick(t)},className:"".concat(r,"-list-item-action")};if(Kd(e)){var o=Jd(e,Object.assign(Object.assign({},e.props),{onClick:function(){}}));return t.createElement(Xx,Object.assign({},a,{icon:o}))}return t.createElement(Xx,Object.assign({},a),t.createElement("span",null,e))};t.useImperativeHandle(n,(function(){return{handlePreview:B,handleDownload:F}}));var G=t.useContext(Ge).getPrefixCls,W=G("upload",v),q=G(),X=Ue()((Fe(r={},"".concat(W,"-list"),!0),Fe(r,"".concat(W,"-list-").concat(a),!0),r)),Z=l(y.map((function(e){return{key:e.uid,file:e}}))),K="picture-card"===a?"animate-inline":"animate",Y={motionDeadline:2e3,motionName:"".concat(W,"-").concat(K),keys:Z,motionAppear:L},$=(0,t.useMemo)((function(){var e=Object.assign({},Zd(q));return delete e.onAppearEnd,delete e.onEnterEnd,delete e.onLeaveEnd,e}),[q]);return"picture-card"!==a&&(Y=Object.assign(Object.assign({},$),Y)),t.createElement("div",{className:X},t.createElement(qc,Object.assign({},Y,{component:!1}),(function(e){var n=e.key,r=e.file,i=e.className,o=e.style;return t.createElement(UM,{key:n,locale:f,prefixCls:W,className:i,style:o,file:r,items:y,progress:O,listType:a,isImgUrl:m,showPreviewIcon:b,showRemoveIcon:w,showDownloadIcon:E,removeIcon:C,previewIcon:T,downloadIcon:M,iconRender:U,actionIconRender:H,itemRender:j,onPreview:B,onDownload:F,onClose:V})})),P&&t.createElement(Xc,Object.assign({},Y,{visible:z,forceRender:!0}),(function(e){var t=e.className,n=e.style;return Jd(P,(function(e){return{className:Ue()(e.className,t),style:Object.assign(Object.assign(Object.assign({},n),{pointerEvents:t?"none":void 0}),e.style)}}))})))};var GM=t.forwardRef(HM),WM=function(e){var t,n=e.componentCls,r=e.iconCls;return Fe({},"".concat(n,"-wrapper"),Fe({},"".concat(n,"-drag"),(Fe(t={position:"relative",width:"100%",height:"100%",textAlign:"center",background:e.colorFillAlter,border:"".concat(e.lineWidth,"px dashed ").concat(e.colorBorder),borderRadius:e.borderRadiusLG,cursor:"pointer",transition:"border-color ".concat(e.motionDurationSlow)},n,{padding:"".concat(e.padding,"px 0")}),Fe(t,"".concat(n,"-btn"),{display:"table",width:"100%",height:"100%",outline:"none"}),Fe(t,"".concat(n,"-drag-container"),{display:"table-cell",verticalAlign:"middle"}),Fe(t,"&:not(".concat(n,"-disabled):hover"),{borderColor:e.colorPrimaryHover}),Fe(t,"p".concat(n,"-drag-icon"),Fe({marginBottom:e.margin},r,{color:e.colorPrimary,fontSize:e.uploadThumbnailSize})),Fe(t,"p".concat(n,"-text"),{margin:"0 0 ".concat(e.marginXXS,"px"),color:e.colorTextHeading,fontSize:e.fontSizeLG}),Fe(t,"p".concat(n,"-hint"),{color:e.colorTextDescription,fontSize:e.fontSize}),Fe(t,"&".concat(n,"-disabled"),Fe({cursor:"not-allowed"},"p".concat(n,"-drag-icon ").concat(r,",\n            p").concat(n,"-text,\n            p").concat(n,"-hint\n          "),{color:e.colorTextDisabled})),t)))},qM=function(e){var t,n,r,i,a,o=e.componentCls,s=e.antCls,l=e.iconCls,c=e.fontSize,u=e.lineHeight,d="".concat(o,"-list-item"),f="".concat(d,"-actions"),h="".concat(d,"-action"),p=Math.round(c*u);return Fe({},"".concat(o,"-wrapper"),Fe({},"".concat(o,"-list"),Object.assign(Object.assign({},{"&::before":{display:"table",content:'""'},"&::after":{display:"table",clear:"both",content:'""'}}),(Fe(a={lineHeight:e.lineHeight},d,(Fe(n={position:"relative",height:e.lineHeight*c,marginTop:e.marginXS,fontSize:c,display:"flex",alignItems:"center",transition:"background-color ".concat(e.motionDurationSlow),"&:hover":{backgroundColor:e.controlItemBgHover}},"".concat(d,"-name"),Object.assign(Object.assign({},Un),{padding:"0 ".concat(e.paddingXS,"px"),lineHeight:u,flex:"auto",transition:"all ".concat(e.motionDurationSlow)})),Fe(n,f,(Fe(t={},h,{opacity:0}),Fe(t,"".concat(h).concat(s,"-btn-sm"),{height:p,border:0,lineHeight:1,"> span":{transform:"scale(1)"}}),Fe(t,"\n              ".concat(h,":focus,\n              &.picture ").concat(h,"\n            "),{opacity:1}),Fe(t,l,{color:e.colorTextDescription,transition:"all ".concat(e.motionDurationSlow)}),Fe(t,"&:hover ".concat(l),{color:e.colorText}),t)),Fe(n,"".concat(o,"-icon ").concat(l),{color:e.colorTextDescription,fontSize:c}),Fe(n,"".concat(d,"-progress"),{position:"absolute",bottom:-e.uploadProgressOffset,width:"100%",paddingInlineStart:c+e.paddingXS,fontSize:c,lineHeight:0,pointerEvents:"none","> div":{margin:0}}),n)),Fe(a,"".concat(d,":hover ").concat(h),{opacity:1,color:e.colorText}),Fe(a,"".concat(d,"-error"),(Fe(i={color:e.colorError},"".concat(d,"-name, ").concat(o,"-icon ").concat(l),{color:e.colorError}),Fe(i,f,(Fe(r={},"".concat(l,", ").concat(l,":hover"),{color:e.colorError}),Fe(r,h,{opacity:1}),r)),i)),Fe(a,"".concat(o,"-list-item-container"),{transition:"opacity ".concat(e.motionDurationSlow,", height ").concat(e.motionDurationSlow),"&::before":{display:"table",width:0,height:0,content:'""'}}),a))))},XM=new Rn("uploadAnimateInlineIn",{from:{width:0,height:0,margin:0,padding:0,opacity:0}}),ZM=new Rn("uploadAnimateInlineOut",{to:{width:0,height:0,margin:0,padding:0,opacity:0}}),KM=function(e){var t,n=e.componentCls,r="".concat(n,"-animate-inline");return[Fe({},"".concat(n,"-wrapper"),(t={},Fe(t,"".concat(r,"-appear, ").concat(r,"-enter, ").concat(r,"-leave"),{animationDuration:e.motionDurationSlow,animationTimingFunction:e.motionEaseInOutCirc,animationFillMode:"forwards"}),Fe(t,"".concat(r,"-appear, ").concat(r,"-enter"),{animationName:XM}),Fe(t,"".concat(r,"-leave"),{animationName:ZM}),t)),XM,ZM]},YM=function(e){var t,n,r,i,a=e.componentCls,o=e.iconCls,s=e.uploadThumbnailSize,l=e.uploadProgressOffset,c="".concat(a,"-list"),u="".concat(c,"-item");return Fe({},"".concat(a,"-wrapper"),Fe({},"".concat(c).concat(c,"-picture, ").concat(c).concat(c,"-picture-card"),(Fe(i={},u,(Fe(n={position:"relative",height:s+2*e.lineWidth+2*e.paddingXS,padding:e.paddingXS,border:"".concat(e.lineWidth,"px ").concat(e.lineType," ").concat(e.colorBorder),borderRadius:e.borderRadiusLG,"&:hover":{background:"transparent"}},"".concat(u,"-thumbnail"),Object.assign(Object.assign({},Un),(Fe(t={width:s,height:s,lineHeight:"".concat(s+e.paddingSM,"px"),textAlign:"center",flex:"none"},o,{fontSize:e.fontSizeHeading2,color:e.colorPrimary}),Fe(t,"img",{display:"block",width:"100%",height:"100%",overflow:"hidden"}),t))),Fe(n,"".concat(u,"-progress"),{bottom:l,width:"calc(100% - ".concat(2*e.paddingSM,"px)"),marginTop:0,paddingInlineStart:s+e.paddingXS}),n)),Fe(i,"".concat(u,"-error"),Fe({borderColor:e.colorError},"".concat(u,"-thumbnail ").concat(o),(Fe(r={},"svg path[fill='#e6f7ff']",{fill:e.colorErrorBg}),Fe(r,"svg path[fill='#1890ff']",{fill:e.colorError}),r))),Fe(i,"".concat(u,"-uploading"),Fe({borderStyle:"dashed"},"".concat(u,"-name"),{marginBottom:l})),i)))},$M=function(e){var t,n,r,i,a=e.componentCls,o=e.iconCls,s=e.fontSizeLG,l=e.colorTextLightSolid,c="".concat(a,"-list"),u="".concat(c,"-item"),d=e.uploadPicCardSize;return Fe({},"".concat(a,"-wrapper").concat(a,"-picture-card-wrapper"),Object.assign(Object.assign({},{"&::before":{display:"table",content:'""'},"&::after":{display:"table",clear:"both",content:'""'}}),(Fe(i={display:"inline-block",width:"100%"},"".concat(a).concat(a,"-select"),(Fe(t={width:d,height:d,marginInlineEnd:e.marginXS,marginBottom:e.marginXS,textAlign:"center",verticalAlign:"top",backgroundColor:e.colorFillAlter,border:"".concat(e.lineWidth,"px dashed ").concat(e.colorBorder),borderRadius:e.borderRadiusLG,cursor:"pointer",transition:"border-color ".concat(e.motionDurationSlow)},"> ".concat(a),{display:"flex",alignItems:"center",justifyContent:"center",height:"100%",textAlign:"center"}),Fe(t,"&:not(".concat(a,"-disabled):hover"),{borderColor:e.colorPrimary}),t)),Fe(i,"".concat(c).concat(c,"-picture-card"),(Fe(r={},"".concat(c,"-item-container"),{display:"inline-block",width:d,height:d,marginBlock:"0 ".concat(e.marginXS,"px"),marginInline:"0 ".concat(e.marginXS,"px"),verticalAlign:"top"}),Fe(r,"&::after",{display:"none"}),Fe(r,u,{height:"100%",margin:0,"&::before":{position:"absolute",zIndex:1,width:"calc(100% - ".concat(2*e.paddingXS,"px)"),height:"calc(100% - ".concat(2*e.paddingXS,"px)"),backgroundColor:e.colorBgMask,opacity:0,transition:"all ".concat(e.motionDurationSlow),content:'" "'}}),Fe(r,"".concat(u,":hover"),Fe({},"&::before, ".concat(u,"-actions"),{opacity:1})),Fe(r,"".concat(u,"-actions"),Fe({position:"absolute",insetInlineStart:0,zIndex:10,width:"100%",whiteSpace:"nowrap",textAlign:"center",opacity:0,transition:"all ".concat(e.motionDurationSlow)},"".concat(o,"-eye, ").concat(o,"-download, ").concat(o,"-delete"),{zIndex:10,width:s,margin:"0 ".concat(e.marginXXS,"px"),fontSize:s,cursor:"pointer",transition:"all ".concat(e.motionDurationSlow)})),Fe(r,"".concat(u,"-actions, ").concat(u,"-actions:hover"),Fe({},"".concat(o,"-eye, ").concat(o,"-download, ").concat(o,"-delete"),{color:new Tr(l).setAlpha(.65).toRgbString(),"&:hover":{color:l}})),Fe(r,"".concat(u,"-thumbnail, ").concat(u,"-thumbnail img"),{position:"static",display:"block",width:"100%",height:"100%",objectFit:"contain"}),Fe(r,"".concat(u,"-name"),{display:"none",textAlign:"center"}),Fe(r,"".concat(u,"-file + ").concat(u,"-name"),{position:"absolute",bottom:e.margin,display:"block",width:"calc(100% - ".concat(2*e.paddingXS,"px)")}),Fe(r,"".concat(u,"-uploading"),(Fe(n={},"&".concat(u),{backgroundColor:e.colorFillAlter}),Fe(n,"&::before, ".concat(o,"-eye, ").concat(o,"-download, ").concat(o,"-delete"),{display:"none"}),n)),Fe(r,"".concat(u,"-progress"),{bottom:e.marginXL,width:"calc(100% - ".concat(2*e.paddingXS,"px)"),paddingInlineStart:0}),r)),i)))},JM=function(e){var t=e.componentCls;return Fe({},"".concat(t,"-rtl"),{direction:"rtl"})},QM=function(e){var t,n=e.componentCls,r=e.colorTextDisabled;return Fe({},"".concat(n,"-wrapper"),Object.assign(Object.assign({},Hn(e)),(Fe(t={},n,{outline:0,"input[type='file']":{cursor:"pointer"}}),Fe(t,"".concat(n,"-select"),{display:"inline-block"}),Fe(t,"".concat(n,"-disabled"),{color:r,cursor:"not-allowed"}),t)))},eI=Xr("Upload",(function(e){var t=e.fontSizeHeading3,n=e.fontSize,r=e.lineHeight,i=e.lineWidth,a=e.controlHeightLG,o=Gr(e,{uploadThumbnailSize:2*t,uploadProgressOffset:Math.round(n*r)/2+i,uploadPicCardSize:2.55*a});return[QM(o),WM(o),YM(o),$M(o),qM(o),KM(o),JM(o),Qd(o)]})),tI=function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{l(r.next(e))}catch(Jv){a(Jv)}}function s(e){try{l(r.throw(e))}catch(Jv){a(Jv)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}l((r=r.apply(e,t||[])).next())}))},nI="__LIST_IGNORE_".concat(Date.now(),"__"),rI=function(e,n){var r=e.fileList,i=e.defaultFileList,a=e.onRemove,o=e.showUploadList,s=void 0===o||o,c=e.listType,u=void 0===c?"text":c,d=e.onPreview,f=e.onDownload,h=e.onChange,p=e.onDrop,m=e.previewFile,v=e.disabled,g=e.locale,y=e.iconRender,x=e.isImageUrl,b=e.progress,_=e.prefixCls,w=e.className,S=e.type,E=void 0===S?"select":S,C=e.children,T=e.style,M=e.itemRender,I=e.maxCount,O=e.data,P=void 0===O?{}:O,A=e.multiple,z=void 0!==A&&A,j=e.action,R=void 0===j?"":j,D=e.accept,L=void 0===D?"":D,N=e.supportServerRender,B=void 0===N||N,F=t.useContext(Zv),V=null!==v&&void 0!==v?v:F,U=Js(i||[],{value:r,postState:function(e){return null!==e&&void 0!==e?e:[]}}),H=k(U,2),G=H[0],W=H[1],q=k(t.useState("drop"),2),X=q[0],Z=q[1],K=t.useRef(null);t.useMemo((function(){var e=Date.now();(r||[]).forEach((function(t,n){t.uid||Object.isFrozen(t)||(t.uid="__AUTO__".concat(e,"_").concat(n,"__"))}))}),[r]);var Y=function(e,t,n){var r=l(t);1===I?r=r.slice(-1):I&&(r=r.slice(0,I)),(0,Uo.flushSync)((function(){W(r)}));var i={file:e,fileList:r};n&&(i.event=n),null===h||void 0===h||h(i)},$=function(e){var t=e.filter((function(e){return!e.file[nI]}));if(t.length){var n=t.map((function(e){return YT(e.file)})),r=l(G);n.forEach((function(e){r=$T(e,r)})),n.forEach((function(e,n){var i=e;if(t[n].parsedFile)e.status="uploading";else{var a,o=e.originFileObj;try{a=new File([o],o.name,{type:o.type})}catch(Jv){(a=new Blob([o],{type:o.type})).name=o.name,a.lastModifiedDate=new Date,a.lastModified=(new Date).getTime()}a.uid=e.uid,i=a}Y(i,r)}))}},J=function(e,t,n){try{"string"===typeof e&&(e=JSON.parse(e))}catch(Jv){}if(JT(t,G)){var r=YT(t);r.status="done",r.percent=100,r.response=e,r.xhr=n;var i=$T(r,G);Y(r,i)}},Q=function(e,t){if(JT(t,G)){var n=YT(t);n.status="uploading",n.percent=e.percent;var r=$T(n,G);Y(n,r,e)}},ee=function(e,t,n){if(JT(n,G)){var r=YT(n);r.error=e,r.response=t,r.status="error";var i=$T(r,G);Y(r,i)}},te=function(e){var t;Promise.resolve("function"===typeof a?a(e):a).then((function(n){var r;if(!1!==n){var i=function(e,t){var n=void 0!==e.uid?"uid":"name",r=t.filter((function(t){return t[n]!==e[n]}));return r.length===t.length?null:r}(e,G);i&&(t=Object.assign(Object.assign({},e),{status:"removed"}),null===G||void 0===G||G.forEach((function(e){var n=void 0!==t.uid?"uid":"name";e[n]!==t[n]||Object.isFrozen(e)||(e.status="removed")})),null===(r=K.current)||void 0===r||r.abort(t),Y(t,i))}}))},ne=function(e){Z(e.type),"drop"===e.type&&(null===p||void 0===p||p(e))};t.useImperativeHandle(n,(function(){return{onBatchStart:$,onSuccess:J,onProgress:Q,onError:ee,fileList:G,upload:K.current}}));var re=t.useContext(Ge),ie=re.getPrefixCls,ae=re.direction,oe=ie("upload",_),se=Object.assign(Object.assign({onBatchStart:$,onError:ee,onProgress:Q,onSuccess:J},e),{data:P,multiple:z,action:R,accept:L,supportServerRender:B,prefixCls:oe,disabled:V,beforeUpload:function(t,n){return tI(void 0,void 0,void 0,Le().mark((function r(){var i,a,o,s;return Le().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(i=e.beforeUpload,a=e.transformFile,o=t,!i){r.next=13;break}return r.next=5,i(t,n);case 5:if(!1!==(s=r.sent)){r.next=8;break}return r.abrupt("return",!1);case 8:if(delete t[nI],s!==nI){r.next=12;break}return Object.defineProperty(t,nI,{value:!0,configurable:!0}),r.abrupt("return",!1);case 12:"object"===typeof s&&s&&(o=s);case 13:if(!a){r.next=17;break}return r.next=16,a(o);case 16:o=r.sent;case 17:return r.abrupt("return",o);case 18:case"end":return r.stop()}}),r)})))},onChange:void 0});delete se.className,delete se.style,C&&!V||delete se.id;var le=k(eI(oe),2),ce=le[0],ue=le[1],de=function(e,n){return s?t.createElement(Lg,{componentName:"Upload",defaultLocale:Dg.Upload},(function(r){var i="boolean"===typeof s?{}:s,a=i.showRemoveIcon,o=i.showPreviewIcon,l=i.showDownloadIcon,c=i.removeIcon,h=i.previewIcon,p=i.downloadIcon;return t.createElement(GM,{prefixCls:oe,listType:u,items:G,previewFile:m,onPreview:d,onDownload:f,onRemove:te,showRemoveIcon:!V&&a,showPreviewIcon:o,showDownloadIcon:l,removeIcon:c,previewIcon:h,downloadIcon:p,iconRender:y,locale:Object.assign(Object.assign({},r),g),isImageUrl:x,progress:b,appendAction:e,appendActionVisible:n,itemRender:M})})):e},fe=Fe({},"".concat(oe,"-rtl"),"rtl"===ae);if("drag"===E){var he,pe=Ue()(oe,(Fe(he={},"".concat(oe,"-drag"),!0),Fe(he,"".concat(oe,"-drag-uploading"),G.some((function(e){return"uploading"===e.status}))),Fe(he,"".concat(oe,"-drag-hover"),"dragover"===X),Fe(he,"".concat(oe,"-disabled"),V),Fe(he,"".concat(oe,"-rtl"),"rtl"===ae),he),ue);return ce(t.createElement("span",{className:Ue()("".concat(oe,"-wrapper"),fe,w,ue)},t.createElement("div",{className:pe,onDrop:ne,onDragOver:ne,onDragLeave:ne,style:T},t.createElement(FT,Object.assign({},se,{ref:K,className:"".concat(oe,"-btn")}),t.createElement("div",{className:"".concat(oe,"-drag-container")},C))),de()))}var me,ve=Ue()(oe,"".concat(oe,"-select"),Fe({},"".concat(oe,"-disabled"),V)),ge=(me=C?void 0:{display:"none"},t.createElement("div",{className:ve,style:me},t.createElement(FT,Object.assign({},se,{ref:K}))));return ce("picture-card"===u?t.createElement("span",{className:Ue()("".concat(oe,"-wrapper"),"".concat(oe,"-picture-card-wrapper"),fe,w,ue)},de(ge,!!C)):t.createElement("span",{className:Ue()("".concat(oe,"-wrapper"),fe,w,ue)},ge,de()))};var iI=t.forwardRef(rI),aI=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},oI=t.forwardRef((function(e,n){var r=e.style,i=e.height,a=aI(e,["style","height"]);return t.createElement(iI,Object.assign({ref:n},a,{type:"drag",style:Object.assign(Object.assign({},r),{height:i})}))}));var sI=oI,lI=iI;lI.Dragger=sI,lI.LIST_IGNORE=nI;var cI=lI,uI=t.forwardRef((function(e,n){var r=e.prefixCls,i=e.style,a=e.className,o=e.duration,s=void 0===o?4.5:o,l=e.eventKey,c=e.content,u=e.closable,d=e.closeIcon,f=void 0===d?"x":d,h=e.props,p=e.onClick,m=e.onNoticeClose,v=e.times,g=k(t.useState(!1),2),y=g[0],x=g[1],b=function(){m(l)};t.useEffect((function(){if(!y&&s>0){var e=setTimeout((function(){b()}),1e3*s);return function(){clearTimeout(e)}}}),[s,y,v]);var _="".concat(r,"-notice");return t.createElement("div",Dt({},h,{ref:n,className:Ue()(_,a,Fe({},"".concat(_,"-closable"),u)),style:i,onMouseEnter:function(){x(!0)},onMouseLeave:function(){x(!1)},onClick:p}),t.createElement("div",{className:"".concat(_,"-content")},c),u&&t.createElement("a",{tabIndex:0,className:"".concat(_,"-close"),onClick:function(e){e.preventDefault(),e.stopPropagation(),b()}},f))})),dI=uI,fI=t.forwardRef((function(e,n){var r=e.prefixCls,i=void 0===r?"rc-notification":r,a=e.container,o=e.motion,s=e.maxCount,c=e.className,u=e.style,d=e.onAllRemoved,f=k(t.useState([]),2),h=f[0],p=f[1],m=function(e){var t,n=h.find((function(t){return t.key===e}));null===n||void 0===n||null===(t=n.onClose)||void 0===t||t.call(n),p((function(t){return t.filter((function(t){return t.key!==e}))}))};t.useImperativeHandle(n,(function(){return{open:function(e){p((function(t){var n,r=l(t),i=r.findIndex((function(t){return t.key===e.key})),a=Xe({},e);i>=0?(a.times=((null===(n=t[i])||void 0===n?void 0:n.times)||0)+1,r[i]=a):(a.times=0,r.push(a));return s>0&&r.length>s&&(r=r.slice(-s)),r}))},close:function(e){m(e)},destroy:function(){p([])}}}));var v=k(t.useState({}),2),g=v[0],y=v[1];t.useEffect((function(){var e={};h.forEach((function(t){var n=t.placement,r=void 0===n?"topRight":n;r&&(e[r]=e[r]||[],e[r].push(t))})),Object.keys(g).forEach((function(t){e[t]=e[t]||[]})),y(e)}),[h]);var x=t.useRef(!1);if(t.useEffect((function(){Object.keys(g).length>0?x.current=!0:x.current&&(null===d||void 0===d||d(),x.current=!1)}),[g]),!a)return null;var b=Object.keys(g);return(0,Uo.createPortal)(t.createElement(t.Fragment,null,b.map((function(e){var n=g[e].map((function(e){return{config:e,key:e.key}})),r="function"===typeof o?o(e):o;return t.createElement(qc,Dt({key:e,className:Ue()(i,"".concat(i,"-").concat(e),null===c||void 0===c?void 0:c(e)),style:null===u||void 0===u?void 0:u(e),keys:n,motionAppear:!0},r,{onAllRemoved:function(){!function(e){y((function(t){var n=Xe({},t);return(n[e]||[]).length||delete n[e],n}))}(e)}}),(function(e,n){var r=e.config,a=e.className,o=e.style,s=r.key,l=r.times,c=r.className,u=r.style;return t.createElement(dI,Dt({},r,{ref:n,prefixCls:i,className:Ue()(a,c),style:Xe(Xe({},o),u),times:l,key:s,eventKey:s,onNoticeClose:m}))}))}))),a)}));var hI=fI,pI=["getContainer","motion","prefixCls","maxCount","className","style","onAllRemoved"],mI=function(){return document.body},vI=0;function gI(){for(var e={},t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return n.forEach((function(t){t&&Object.keys(t).forEach((function(n){var r=t[n];void 0!==r&&(e[n]=r)}))})),e}var yI=function(e){var t,n,r=e.componentCls,i=e.iconCls,a=e.boxShadowSecondary,o=e.colorBgElevated,s=e.colorSuccess,l=e.colorError,c=e.colorWarning,u=e.colorInfo,d=e.fontSizeLG,f=e.motionEaseInOutCirc,h=e.motionDurationSlow,p=e.marginXS,m=e.paddingXS,v=e.borderRadiusLG,g=e.zIndexPopup,y=e.messageNoticeContentPadding,x=new Rn("MessageMoveIn",{"0%":{padding:0,transform:"translateY(-100%)",opacity:0},"100%":{padding:m,transform:"translateY(0)",opacity:1}}),b=new Rn("MessageMoveOut",{"0%":{maxHeight:e.height,padding:m,opacity:1},"100%":{maxHeight:0,padding:0,opacity:0}});return[Fe({},r,Object.assign(Object.assign({},Hn(e)),(t={position:"fixed",top:p,width:"100%",pointerEvents:"none",zIndex:g},Fe(t,"".concat(r,"-move-up"),{animationFillMode:"forwards"}),Fe(t,"\n        ".concat(r,"-move-up-appear,\n        ").concat(r,"-move-up-enter\n      "),{animationName:x,animationDuration:h,animationPlayState:"paused",animationTimingFunction:f}),Fe(t,"\n        ".concat(r,"-move-up-appear").concat(r,"-move-up-appear-active,\n        ").concat(r,"-move-up-enter").concat(r,"-move-up-enter-active\n      "),{animationPlayState:"running"}),Fe(t,"".concat(r,"-move-up-leave"),{animationName:b,animationDuration:h,animationPlayState:"paused",animationTimingFunction:f}),Fe(t,"".concat(r,"-move-up-leave").concat(r,"-move-up-leave-active"),{animationPlayState:"running"}),Fe(t,"&-rtl",{direction:"rtl",span:{direction:"rtl"}}),t))),Fe({},"".concat(r,"-notice"),(n={padding:m,textAlign:"center"},Fe(n,"".concat(r,"-custom-content > ").concat(i),{verticalAlign:"text-bottom",marginInlineEnd:p,fontSize:d}),Fe(n,"".concat(r,"-notice-content"),{display:"inline-block",padding:y,background:o,borderRadius:v,boxShadow:a,pointerEvents:"all"}),Fe(n,"".concat(r,"-success > ").concat(i),{color:s}),Fe(n,"".concat(r,"-error > ").concat(i),{color:l}),Fe(n,"".concat(r,"-warning > ").concat(i),{color:c}),Fe(n,"\n        ".concat(r,"-info > ").concat(i,",\n        ").concat(r,"-loading > ").concat(i),{color:u}),n)),Fe({},"".concat(r,"-notice-pure-panel"),{padding:0,textAlign:"start"})]},xI=Xr("Message",(function(e){var t=Gr(e,{messageNoticeContentPadding:"".concat((e.controlHeightLG-e.fontSize*e.lineHeight)/2,"px ").concat(e.paddingSM,"px")});return[yI(t)]}),(function(e){return{height:150,zIndexPopup:e.zIndexPopupBase+10}})),bI=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},_I={info:t.createElement(_E,null),success:t.createElement(gg,null),error:t.createElement(bg,null),warning:t.createElement(kg,null),loading:t.createElement(Cg,null)};function wI(e){var n=e.prefixCls,r=e.type,i=e.icon,a=e.children;return t.createElement("div",{className:Ue()("".concat(n,"-custom-content"),"".concat(n,"-").concat(r))},i||_I[r],t.createElement("span",null,a))}function kI(e){var t,n=new Promise((function(n){t=e((function(){n(!0)}))})),r=function(){null===t||void 0===t||t()};return r.then=function(e,t){return n.then(e,t)},r.promise=n,r}var SI=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},EI=t.forwardRef((function(e,n){var r=e.top,i=e.prefixCls,a=e.getContainer,o=e.maxCount,s=e.duration,c=void 0===s?3:s,u=e.rtl,d=e.transitionName,f=e.onAllRemoved,h=t.useContext(Ge),p=h.getPrefixCls,m=h.getPopupContainer,v=i||p("message"),g=k(xI(v),2)[1],y=t.createElement("span",{className:"".concat(v,"-close-x")},t.createElement(Wk,{className:"".concat(v,"-close-icon")})),x=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.getContainer,r=void 0===n?mI:n,i=e.motion,a=e.prefixCls,o=e.maxCount,s=e.className,c=e.style,u=e.onAllRemoved,d=li(e,pI),f=k(t.useState(),2),h=f[0],p=f[1],m=t.useRef(),v=t.createElement(hI,{container:h,ref:m,prefixCls:a,motion:i,maxCount:o,className:s,style:c,onAllRemoved:u}),g=k(t.useState([]),2),y=g[0],x=g[1],b=t.useMemo((function(){return{open:function(e){var t=gI(d,e);null!==t.key&&void 0!==t.key||(t.key="rc-notification-".concat(vI),vI+=1),x((function(e){return[].concat(l(e),[{type:"open",config:t}])}))},close:function(e){x((function(t){return[].concat(l(t),[{type:"close",key:e}])}))},destroy:function(){x((function(e){return[].concat(l(e),[{type:"destroy"}])}))}}}),[]);return t.useEffect((function(){p(r())})),t.useEffect((function(){m.current&&y.length&&(y.forEach((function(e){switch(e.type){case"open":m.current.open(e.config);break;case"close":m.current.close(e.key);break;case"destroy":m.current.destroy()}})),x([]))}),[y]),[b,v]}({prefixCls:v,style:function(){return{left:"50%",transform:"translateX(-50%)",top:null!==r&&void 0!==r?r:8}},className:function(){return Ue()(g,u?"".concat(v,"-rtl"):"")},motion:function(){return function(e,t){return{motionName:null!==t&&void 0!==t?t:"".concat(e,"-move-up")}}(v,d)},closable:!1,closeIcon:y,duration:c,getContainer:function(){return(null===a||void 0===a?void 0:a())||(null===m||void 0===m?void 0:m())||document.body},maxCount:o,onAllRemoved:f}),b=k(x,2),_=b[0],w=b[1];return t.useImperativeHandle(n,(function(){return Object.assign(Object.assign({},_),{prefixCls:v,hashId:g})})),w})),CI=0;function TI(e){var n=t.useRef(null),r=t.useMemo((function(){var e=function(e){var t;null===(t=n.current)||void 0===t||t.close(e)},r=function(r){if(!n.current){var i=function(){};return i.then=function(){},i}var a=n.current,o=a.open,s=a.prefixCls,l=a.hashId,c="".concat(s,"-notice"),u=r.content,d=r.icon,f=r.type,h=r.key,p=r.className,m=r.onClose,v=SI(r,["content","icon","type","key","className","onClose"]),g=h;return void 0!==g&&null!==g||(g="antd-message-".concat(CI+=1)),kI((function(n){return o(Object.assign(Object.assign({},v),{key:g,content:t.createElement(wI,{prefixCls:s,type:f,icon:d},u),placement:"top",className:Ue()(f&&"".concat(c,"-").concat(f),l,p),onClose:function(){null===m||void 0===m||m(),n()}})),function(){e(g)}}))},i={open:r,destroy:function(t){var r;void 0!==t?e(t):null===(r=n.current)||void 0===r||r.destroy()}};return["info","success","warning","error","loading"].forEach((function(e){i[e]=function(t,n,i){var a,o,s;a=t&&"object"===typeof t&&"content"in t?t:{content:t},"function"===typeof n?s=n:(o=n,s=i);var l=Object.assign(Object.assign({onClose:s,duration:o},a),{type:e});return r(l)}})),i}),[]);return[r,t.createElement(EI,Object.assign({key:"message-holder"},e,{ref:n}))]}var MI=null,II=function(e){return e()},OI=[],PI={};var AI=t.forwardRef((function(e,n){var r=function(){var e=function(){var e=PI,t=e.prefixCls,n=e.getContainer,r=e.duration,i=e.rtl,a=e.maxCount,o=e.top;return{prefixCls:null!==t&&void 0!==t?t:TS().getPrefixCls("message"),container:(null===n||void 0===n?void 0:n())||document.body,duration:r,rtl:i,maxCount:a,top:o}}(),t=e.prefixCls,n=e.container;return{prefixCls:t,getContainer:function(){return n},maxCount:e.maxCount,duration:e.duration,rtl:e.rtl,top:e.top}},i=k(t.useState(r),2),a=i[0],o=i[1],s=k(TI(a),2),l=s[0],c=s[1],u=TS(),d=u.getRootPrefixCls(),f=u.getIconPrefixCls(),h=function(){o(r)};return t.useEffect(h,[]),t.useImperativeHandle(n,(function(){var e=Object.assign({},l);return Object.keys(e).forEach((function(t){e[t]=function(){return h(),l[t].apply(l,arguments)}})),{instance:e,sync:h}})),t.createElement(OS,{prefixCls:d,iconPrefixCls:f},c)}));function zI(){if(!MI){var e=document.createDocumentFragment(),n={fragment:e};return MI=n,void II((function(){nx(t.createElement(AI,{ref:function(e){var t=e||{},r=t.instance,i=t.sync;Promise.resolve().then((function(){!n.instance&&r&&(n.instance=r,n.sync=i,zI())}))}}),e)}))}MI.instance&&(OI.forEach((function(e){var t=e.type;if(!e.skipped)switch(t){case"open":II((function(){var t=MI.instance.open(Object.assign(Object.assign({},PI),e.config));null===t||void 0===t||t.then(e.resolve),e.setCloseFn(t)}));break;case"destroy":II((function(){null===MI||void 0===MI||MI.instance.destroy(e.key)}));break;default:II((function(){var n,r=(n=MI.instance)[t].apply(n,l(e.args));null===r||void 0===r||r.then(e.resolve),e.setCloseFn(r)}))}})),OI=[])}function jI(e,t){var n=kI((function(n){var r,i={type:e,args:t,resolve:n,setCloseFn:function(e){r=e}};return OI.push(i),function(){r?II((function(){r()})):i.skipped=!0}}));return zI(),n}var RI={open:function(e){var t=kI((function(t){var n,r={type:"open",config:e,resolve:t,setCloseFn:function(e){n=e}};return OI.push(r),function(){n?II((function(){n()})):r.skipped=!0}}));return zI(),t},destroy:function(e){OI.push({type:"destroy",key:e}),zI()},config:function(e){PI=Object.assign(Object.assign({},PI),e),II((function(){var e;null===(e=null===MI||void 0===MI?void 0:MI.sync)||void 0===e||e.call(MI)}))},useMessage:function(e){return TI(e)},_InternalPanelDoNotUseOrYouWillBeFired:function(e){var n=e.prefixCls,r=e.className,i=e.type,a=e.icon,o=e.content,s=bI(e,["prefixCls","className","type","icon","content"]),l=t.useContext(Ge).getPrefixCls,c=n||l("message"),u=k(xI(c),2)[1];return t.createElement(dI,Object.assign({},s,{prefixCls:c,className:Ue()(r,u,"".concat(c,"-notice-pure-panel")),eventKey:"pure",duration:null,content:t.createElement(wI,{prefixCls:c,type:i,icon:a},o)}))}},DI=RI;["success","info","warning","error","loading"].forEach((function(e){DI[e]=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return jI(e,n)}}));var LI=DI,NI=new Rn("antStatusProcessing",{"0%":{transform:"scale(0.8)",opacity:.5},"100%":{transform:"scale(2.4)",opacity:0}}),BI=new Rn("antZoomBadgeIn",{"0%":{transform:"scale(0) translate(50%, -50%)",opacity:0},"100%":{transform:"scale(1) translate(50%, -50%)"}}),FI=new Rn("antZoomBadgeOut",{"0%":{transform:"scale(1) translate(50%, -50%)"},"100%":{transform:"scale(0) translate(50%, -50%)",opacity:0}}),VI=new Rn("antNoWrapperZoomBadgeIn",{"0%":{transform:"scale(0)",opacity:0},"100%":{transform:"scale(1)"}}),UI=new Rn("antNoWrapperZoomBadgeOut",{"0%":{transform:"scale(1)"},"100%":{transform:"scale(0)",opacity:0}}),HI=new Rn("antBadgeLoadingCircle",{"0%":{transformOrigin:"50%"},"100%":{transform:"translate(50%, -50%) rotate(360deg)",transformOrigin:"50%"}}),GI=function(e){var t,n,r,i,a,o,s,l=e.componentCls,c=e.iconCls,u=e.antCls,d=e.badgeFontHeight,f=e.badgeShadowSize,h=e.badgeHeightSm,p=e.motionDurationSlow,m=e.badgeStatusSize,v=e.marginXS,g=e.badgeRibbonOffset,y="".concat(u,"-scroll-number"),x="".concat(u,"-ribbon"),b="".concat(u,"-ribbon-wrapper"),_=Qf(e,(function(e,t){var n=t.darkColor;return Fe({},"".concat(l,"-status-").concat(e),{background:n})})),w=Qf(e,(function(e,t){var n=t.darkColor;return Fe({},"&".concat(x,"-color-").concat(e),{background:n,color:n})}));return Fe(s={},l,Object.assign(Object.assign({},Hn(e)),(Fe(i={position:"relative",display:"inline-block",width:"fit-content",lineHeight:1},"".concat(l,"-count"),{zIndex:e.badgeZIndex,minWidth:e.badgeHeight,height:e.badgeHeight,color:e.badgeTextColor,fontWeight:e.badgeFontWeight,fontSize:e.badgeFontSize,lineHeight:"".concat(e.badgeHeight,"px"),whiteSpace:"nowrap",textAlign:"center",background:e.badgeColor,borderRadius:e.badgeHeight/2,boxShadow:"0 0 0 ".concat(f,"px ").concat(e.badgeShadowColor),transition:"background ".concat(e.motionDurationMid),a:{color:e.badgeTextColor},"a:hover":{color:e.badgeTextColor},"a:hover &":{background:e.badgeColorHover}}),Fe(i,"".concat(l,"-count-sm"),{minWidth:h,height:h,fontSize:e.badgeFontSizeSm,lineHeight:"".concat(h,"px"),borderRadius:h/2}),Fe(i,"".concat(l,"-multiple-words"),{padding:"0 ".concat(e.paddingXS,"px")}),Fe(i,"".concat(l,"-dot"),{zIndex:e.badgeZIndex,width:e.badgeDotSize,minWidth:e.badgeDotSize,height:e.badgeDotSize,background:e.badgeColor,borderRadius:"100%",boxShadow:"0 0 0 ".concat(f,"px ").concat(e.badgeShadowColor)}),Fe(i,"".concat(l,"-dot").concat(y),{transition:"background ".concat(p)}),Fe(i,"".concat(l,"-count, ").concat(l,"-dot, ").concat(y,"-custom-component"),Fe({position:"absolute",top:0,insetInlineEnd:0,transform:"translate(50%, -50%)",transformOrigin:"100% 0%"},"".concat(c,"-spin"),{animationName:HI,animationDuration:e.motionDurationMid,animationIterationCount:"infinite",animationTimingFunction:"linear"})),Fe(i,"&".concat(l,"-status"),Object.assign(Object.assign((Fe(t={lineHeight:"inherit",verticalAlign:"baseline"},"".concat(l,"-status-dot"),{position:"relative",top:-1,display:"inline-block",width:m,height:m,verticalAlign:"middle",borderRadius:"50%"}),Fe(t,"".concat(l,"-status-success"),{backgroundColor:e.colorSuccess}),Fe(t,"".concat(l,"-status-processing"),{position:"relative",color:e.colorPrimary,backgroundColor:e.colorPrimary,"&::after":{position:"absolute",top:0,insetInlineStart:0,width:"100%",height:"100%",borderWidth:f,borderStyle:"solid",borderColor:"inherit",borderRadius:"50%",animationName:NI,animationDuration:e.badgeProcessingDuration,animationIterationCount:"infinite",animationTimingFunction:"ease-in-out",content:'""'}}),Fe(t,"".concat(l,"-status-default"),{backgroundColor:e.colorTextPlaceholder}),Fe(t,"".concat(l,"-status-error"),{backgroundColor:e.colorError}),Fe(t,"".concat(l,"-status-warning"),{backgroundColor:e.colorWarning}),t),_),Fe({},"".concat(l,"-status-text"),{marginInlineStart:v,color:e.colorText,fontSize:e.fontSize}))),Fe(i,"".concat(l,"-zoom-appear, ").concat(l,"-zoom-enter"),{animationName:BI,animationDuration:e.motionDurationSlow,animationTimingFunction:e.motionEaseOutBack,animationFillMode:"both"}),Fe(i,"".concat(l,"-zoom-leave"),{animationName:FI,animationDuration:e.motionDurationSlow,animationTimingFunction:e.motionEaseOutBack,animationFillMode:"both"}),Fe(i,"&".concat(l,"-not-a-wrapper"),(Fe(n={},"".concat(l,"-zoom-appear, ").concat(l,"-zoom-enter"),{animationName:VI,animationDuration:e.motionDurationSlow,animationTimingFunction:e.motionEaseOutBack}),Fe(n,"".concat(l,"-zoom-leave"),{animationName:UI,animationDuration:e.motionDurationSlow,animationTimingFunction:e.motionEaseOutBack}),Fe(n,"&:not(".concat(l,"-status)"),{verticalAlign:"middle"}),Fe(n,"".concat(y,"-custom-component, ").concat(l,"-count"),{transform:"none"}),Fe(n,"".concat(y,"-custom-component, ").concat(y),{position:"relative",top:"auto",display:"block",transformOrigin:"50% 50%"}),n)),Fe(i,"".concat(y),(Fe(r={overflow:"hidden"},"".concat(y,"-only"),Fe({position:"relative",display:"inline-block",height:e.badgeHeight,transition:"all ".concat(e.motionDurationSlow," ").concat(e.motionEaseOutBack),WebkitTransformStyle:"preserve-3d",WebkitBackfaceVisibility:"hidden"},"> p".concat(y,"-only-unit"),{height:e.badgeHeight,margin:0,WebkitTransformStyle:"preserve-3d",WebkitBackfaceVisibility:"hidden"})),Fe(r,"".concat(y,"-symbol"),{verticalAlign:"top"}),r)),Fe(i,"&-rtl",Fe({direction:"rtl"},"".concat(l,"-count, ").concat(l,"-dot, ").concat(y,"-custom-component"),{transform:"translate(-50%, -50%)"})),i))),Fe(s,"".concat(b),{position:"relative"}),Fe(s,"".concat(x),Object.assign(Object.assign(Object.assign(Object.assign({},Hn(e)),(Fe(a={position:"absolute",top:v,height:d,padding:"0 ".concat(e.paddingXS,"px"),color:e.colorPrimary,lineHeight:"".concat(d,"px"),whiteSpace:"nowrap",backgroundColor:e.colorPrimary,borderRadius:e.borderRadiusSM},"".concat(x,"-text"),{color:e.colorTextLightSolid}),Fe(a,"".concat(x,"-corner"),{position:"absolute",top:"100%",width:g,height:g,color:"currentcolor",border:"".concat(g/2,"px solid"),transform:e.badgeRibbonCornerTransform,transformOrigin:"top",filter:e.badgeRibbonCornerFilter}),a)),w),(Fe(o={},"&".concat(x,"-placement-end"),Fe({insetInlineEnd:-g,borderEndEndRadius:0},"".concat(x,"-corner"),{insetInlineEnd:0,borderInlineEndColor:"transparent",borderBlockEndColor:"transparent"})),Fe(o,"&".concat(x,"-placement-start"),Fe({insetInlineStart:-g,borderEndStartRadius:0},"".concat(x,"-corner"),{insetInlineStart:0,borderBlockEndColor:"transparent",borderInlineStartColor:"transparent"})),Fe(o,"&-rtl",{direction:"rtl"}),o))),s},WI=Xr("Badge",(function(e){var t=e.fontSize,n=e.lineHeight,r=e.fontSizeSM,i=e.lineWidth,a=e.marginXS,o=e.colorBorderBg,s=Math.round(t*n),l=Gr(e,{badgeFontHeight:s,badgeShadowSize:i,badgeZIndex:"auto",badgeHeight:s-2*i,badgeTextColor:e.colorBgContainer,badgeFontWeight:"normal",badgeFontSize:r,badgeColor:e.colorError,badgeColorHover:e.colorErrorHover,badgeShadowColor:o,badgeHeightSm:t,badgeDotSize:r/2,badgeFontSizeSm:r,badgeStatusSize:r/2,badgeProcessingDuration:"1.2s",badgeRibbonOffset:a,badgeRibbonCornerTransform:"scaleY(0.75)",badgeRibbonCornerFilter:"brightness(75%)"});return[GI(l)]}));var qI=function(e){var n,r=e.className,i=e.prefixCls,a=e.style,o=e.color,s=e.children,l=e.text,c=e.placement,u=void 0===c?"end":c,d=t.useContext(Ge),f=d.getPrefixCls,h=d.direction,p=f("ribbon",i),m=oh(o,!1),v=Ue()(p,"".concat(p,"-placement-").concat(u),(Fe(n={},"".concat(p,"-rtl"),"rtl"===h),Fe(n,"".concat(p,"-color-").concat(o),m),n),r),g=k(WI(p),2),y=g[0],x=g[1],b={},_={};return o&&!m&&(b.background=o,_.color=o),y(t.createElement("div",{className:Ue()("".concat(p,"-wrapper"),x)},s,t.createElement("div",{className:Ue()(v,x),style:Object.assign(Object.assign({},b),a)},t.createElement("span",{className:"".concat(p,"-text")},l),t.createElement("div",{className:"".concat(p,"-corner"),style:_}))))};function XI(e){var n,r=e.prefixCls,i=e.value,a=e.current,o=e.offset,s=void 0===o?0:o;return s&&(n={position:"absolute",top:"".concat(s,"00%"),left:0}),t.createElement("span",{style:n,className:Ue()("".concat(r,"-only-unit"),{current:a})},i)}function ZI(e,t,n){for(var r=e,i=0;(r+10)%10!==t;)r+=n,i+=n;return i}function KI(e){var n,r,i=e.prefixCls,a=e.count,o=e.value,s=Number(o),l=Math.abs(a),c=k(t.useState(s),2),u=c[0],d=c[1],f=k(t.useState(l),2),h=f[0],p=f[1],m=function(){d(s),p(l)};if(t.useEffect((function(){var e=setTimeout((function(){m()}),1e3);return function(){clearTimeout(e)}}),[s]),u===s||Number.isNaN(s)||Number.isNaN(u))n=[t.createElement(XI,Object.assign({},e,{key:s,current:!0}))],r={transition:"none"};else{n=[];for(var v=s+10,g=[],y=s;y<=v;y+=1)g.push(y);var x=g.findIndex((function(e){return e%10===u}));n=g.map((function(n,r){var i=n%10;return t.createElement(XI,Object.assign({},e,{key:n,value:i,offset:r-x,current:r===x}))})),r={transform:"translateY(".concat(-ZI(u,s,h<l?1:-1),"00%)")}}return t.createElement("span",{className:"".concat(i,"-only"),style:r,onTransitionEnd:m},n)}var YI=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},$I=t.forwardRef((function(e,n){var r=e.prefixCls,i=e.count,a=e.className,o=e.motionClassName,s=e.style,l=e.title,c=e.show,u=e.component,d=void 0===u?"sup":u,f=e.children,h=YI(e,["prefixCls","count","className","motionClassName","style","title","show","component","children"]),p=(0,t.useContext(Ge).getPrefixCls)("scroll-number",r),m=Object.assign(Object.assign({},h),{"data-show":c,style:s,className:Ue()(p,a,o),title:l}),v=i;if(i&&Number(i)%1===0){var g=String(i).split("");v=g.map((function(e,n){return t.createElement(KI,{prefixCls:p,count:Number(i),value:e,key:g.length-n})}))}return s&&s.borderColor&&(m.style=Object.assign(Object.assign({},s),{boxShadow:"0 0 0 1px ".concat(s.borderColor," inset")})),f?Jd(f,(function(e){return{className:Ue()("".concat(p,"-custom-component"),null===e||void 0===e?void 0:e.className,o)}})):t.createElement(d,Object.assign({},m,{ref:n}),v)})),JI=$I,QI=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},eO=function(e){var n,r,i=e.prefixCls,a=e.scrollNumberPrefixCls,o=e.children,s=e.status,l=e.text,c=e.color,u=e.count,d=void 0===u?null:u,f=e.overflowCount,h=void 0===f?99:f,p=e.dot,m=void 0!==p&&p,v=e.size,g=void 0===v?"default":v,y=e.title,x=e.offset,b=e.style,_=e.className,w=e.showZero,S=void 0!==w&&w,E=QI(e,["prefixCls","scrollNumberPrefixCls","children","status","text","color","count","overflowCount","dot","size","title","offset","style","className","showZero"]),C=t.useContext(Ge),T=C.getPrefixCls,M=C.direction,I=T("badge",i),O=k(WI(I),2),P=O[0],A=O[1],z=d>h?"".concat(h,"+"):d,j="0"===z||0===z,R=(null!==s&&void 0!==s||null!==c&&void 0!==c)&&(null===d||j&&!S),D=m&&!j,L=D?"":z,N=(0,t.useMemo)((function(){return(null===L||void 0===L||""===L||j&&!S)&&!D}),[L,j,S,D]),B=(0,t.useRef)(d);N||(B.current=d);var F=B.current,V=(0,t.useRef)(L);N||(V.current=L);var U=V.current,H=(0,t.useRef)(D);N||(H.current=D);var G=(0,t.useMemo)((function(){if(!x)return Object.assign({},b);var e={marginTop:x[1]};return"rtl"===M?e.left=parseInt(x[0],10):e.right=-parseInt(x[0],10),Object.assign(Object.assign({},e),b)}),[M,x,b]),W=null!==y&&void 0!==y?y:"string"===typeof F||"number"===typeof F?F:void 0,q=N||!l?null:t.createElement("span",{className:"".concat(I,"-status-text")},l),X=F&&"object"===typeof F?Jd(F,(function(e){return{style:Object.assign(Object.assign({},G),e.style)}})):void 0,Z=oh(c,!1),K=Ue()((Fe(n={},"".concat(I,"-status-dot"),R),Fe(n,"".concat(I,"-status-").concat(s),!!s),Fe(n,"".concat(I,"-status-").concat(c),Z),n)),Y={};c&&!Z&&(Y.color=c,Y.background=c);var $=Ue()(I,(Fe(r={},"".concat(I,"-status"),R),Fe(r,"".concat(I,"-not-a-wrapper"),!o),Fe(r,"".concat(I,"-rtl"),"rtl"===M),r),_);if(!o&&R){var J=G.color;return P(t.createElement("span",Object.assign({},E,{className:Ue()($,A),style:G}),t.createElement("span",{className:K,style:Y}),l&&t.createElement("span",{style:{color:J},className:"".concat(I,"-status-text")},l)))}return P(t.createElement("span",Object.assign({},E,{className:Ue()($,A)}),o,t.createElement(Xc,{visible:!N,motionName:"".concat(I,"-zoom"),motionAppear:!1,motionDeadline:1e3},(function(e){var n,r=e.className,i=e.ref,o=T("scroll-number",a),l=H.current,u=Ue()((Fe(n={},"".concat(I,"-dot"),l),Fe(n,"".concat(I,"-count"),!l),Fe(n,"".concat(I,"-count-sm"),"small"===g),Fe(n,"".concat(I,"-multiple-words"),!l&&U&&U.toString().length>1),Fe(n,"".concat(I,"-status-").concat(s),!!s),Fe(n,"".concat(I,"-status-").concat(c),Z),n)),d=Object.assign({},G);return c&&!Z&&((d=d||{}).background=c),t.createElement(JI,{prefixCls:o,show:!N,motionClassName:r,className:u,count:U,title:W,style:d,key:"scrollNumber",ref:i},X)})),q))};eO.Ribbon=qI;var tO=eO,nO=cI.Dragger,rO=function(e){var n,r=e.PreviewShow,i=void 0!==r&&r,a=e.mediaAllowed,o=e.multipleSelect,s=void 0===o||o,c=k((0,t.useContext)(jo),1)[0],u=k((0,t.useContext)(bT),2),d=u[0],f=u[1],h=function(){var e=Be(Le().mark((function e(){var t,n;return Le().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Po.get("/media");case 3:t=e.sent,n=t.data,f((function(e){return Xe(Xe({},e),{},{images:n})})),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();(0,t.useEffect)((function(){a&&h()}),[]);var p={name:"file",multiple:!0,action:"".concat(Ao,"/upload-image-file"),headers:{Authorization:"Bearer ".concat(c.token)},onChange:function(e){"uploading"!==e.file.status&&console.log(e.file,e.fileList),"done"===e.file.status?(LI.success("".concat(e.file.name," file uploaded successfully")),console.log("".concat(e.file.response," file uploaded successfully")),f({images:[].concat(l(d.images),[e.file.response]),selected:[].concat(l(d.selected),[e.file.response]),showMediaModal:!1})):"error"===e.file.status&&LI.error("".concat(e.file.name," file upload failed."))},onDrop:function(e){console.log("Dropped files",e.dataTransfer.files)}},m=function(){var e=Be(Le().mark((function e(t){var n;return Le().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Po.delete("/media/".concat(t));case 3:n=e.sent,n.data.ok&&(f(Xe(Xe({},d),{},{images:d.images.filter((function(e){return e._id!==t})),selected:null})),h_.error("Image Deleted")),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),v=a&&"150px";return(0,zo.jsxs)(zo.Fragment,{children:[(0,zo.jsx)("div",{style:{height:v,marginBottom:"30px"},children:(0,zo.jsxs)(nO,Xe(Xe({multiple:s&&!0},p),{},{accept:"image/*",children:[(0,zo.jsx)("p",{className:"ant-upload-drag-icon",children:(0,zo.jsx)(ST,{})}),(0,zo.jsxs)("p",{className:"ant-upload-text",children:["Click or drag file to this area to upload ",a]})]}))}),(0,zo.jsx)("div",{children:!0===a&&(null===d||void 0===d||null===(n=d.images)||void 0===n?void 0:n.map((function(e){return(0,zo.jsxs)(tO,{children:[(0,zo.jsx)(vT,{preview:i,src:e.url,style:{paddingTop:5,paddingRight:10,height:"100px",width:"100px",objectFit:"cover",textAlign:"center",cursor:"pointer"},onClick:function(){return f(Xe(Xe({},d),{},{selected:e}))}}),(0,zo.jsx)("br",{}),(0,zo.jsx)(TT,{style:{color:"red",marginTop:"5px"},onClick:function(){return m(e._id)}})]},e.url)})))})]})},iO=DS.Option,aO=(Vi.Content,Vi.Sider,function(e){e.isAdmin;var n=k((0,t.useContext)(bT),2),r=n[0],i=n[1],a=k((0,t.useState)(""),2),o=a[0],s=a[1],l=k((0,t.useState)("22"),2),c=l[0],u=l[1],d=k((0,t.useState)("In publishing and graphic design, Lorem ipsum is a placeholder text commonly used to demonstrate the visual form of a document or a typeface without relying on meaningful content. Lorem ipsum may be used as a placeholder before final copy is available"),2),f=d[0],h=d[1],p=k((0,t.useState)(""),2),m=p[0],v=p[1],g=k((0,t.useState)("xyz"),2),y=g[0],x=g[1],b=k((0,t.useState)("xyz"),2),_=b[0],w=b[1],S=k((0,t.useState)("Rent house"),2),E=(S[0],S[1]),C=k((0,t.useState)(1),2),T=C[0],M=C[1],I=k((0,t.useState)([]),2),O=I[0],P=I[1],A=k((0,t.useState)([]),2),z=A[0],j=A[1],R=k((0,t.useState)(!1),2),D=R[0],L=R[1],N=be();(0,t.useEffect)((function(){B()}),[]);var B=function(){var e=Be(Le().mark((function e(){var t,n;return Le().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Po.get("/categories");case 3:t=e.sent,n=t.data,j(n),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),F=function(){var e=Be(Le().mark((function e(){var t,n;return Le().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,L(!0),e.next=4,Po.post("/create-service",{title:o,content:f,category:O,city:m,fullAddress:_,type:"Rent house",rooms:T,area:y,dimensions:c,featuredImages:null===r||void 0===r?void 0:r.selected});case 4:t=e.sent,null!==(n=t.data)&&void 0!==n&&n.error?(h_.error(null===n||void 0===n?void 0:n.error),L(!1)):(h_.success("Service created successfully"),i(Xe(Xe({},r),{},{selected:[]})),N("/rent/house")),e.next=14;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0),h_.error("Post create failed. Try again."),L(!1);case 14:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}();return(0,zo.jsx)(zo.Fragment,{children:(0,zo.jsxs)(Kp,{style:{paddingTop:"30px"},children:[(0,zo.jsx)(em,{xs:0,sm:0,md:1}),(0,zo.jsxs)(em,{xs:20,sm:20,md:14,children:[(0,zo.jsx)("h1",{style:{fontWeight:"bold"},className:"text-2xl mb-5 ",children:"Create Service"}),(0,zo.jsx)("small",{children:"Title"}),(0,zo.jsx)(vb,{size:"large",value:o,placeholder:"Title",onChange:function(e){s(e.target.value)}}),(0,zo.jsx)("br",{}),(0,zo.jsx)("br",{}),(0,zo.jsx)("small",{children:"Description"}),(0,zo.jsx)("div",{className:"editor-scroll",children:(0,zo.jsx)(vb.TextArea,{name:"content",value:f,placeholder:"About Description",onChange:function(e){return h(e.target.value)}})}),(0,zo.jsx)("br",{}),(0,zo.jsx)("small",{children:"Category"}),(0,zo.jsx)("div",{className:"editor-scroll",children:(0,zo.jsx)(DS,{placeholder:"Select categories",style:{width:"100%"},onChange:function(e){return P(e)},children:z.map((function(e){return(0,zo.jsx)(iO,{children:e.name},e.name)}))})}),(0,zo.jsx)("br",{}),(0,zo.jsx)("small",{children:"Rooms"}),(0,zo.jsx)(vb,{type:"number",name:"rooms",value:T,placeholder:"Rooms",onChange:function(e){return M(e.target.value)}}),(0,zo.jsx)("br",{}),(0,zo.jsx)("br",{}),(0,zo.jsx)("small",{children:"Service type"}),(0,zo.jsx)("div",{className:"editor-scroll",children:(0,zo.jsxs)(DS,{placeholder:"Select type",onChange:function(e){return E(e)},style:{width:"100%"},children:[(0,zo.jsx)(iO,{selected:!0,children:"Rent house"},"RentHouse"),(0,zo.jsx)(iO,{children:"Sell house"},"SellHouse")]})})]}),(0,zo.jsx)(em,{xs:0,sm:0,md:2}),(0,zo.jsxs)(em,{xs:20,sm:20,md:6,children:[(0,zo.jsx)("div",{style:{paddingTop:"30px"}}),(0,zo.jsx)("br",{}),(0,zo.jsx)("small",{children:"City"}),(0,zo.jsx)(vb,{name:"city",style:{margin:"10px 0px 10px 0px",width:"100%"},value:m,placeholder:"City",onChange:function(e){return v(e.target.value)}}),(0,zo.jsx)("small",{children:"Area"}),(0,zo.jsx)(vb,{name:"area",style:{margin:"10px 0px 10px 0px",width:"100%"},value:y,placeholder:"Area",onChange:function(e){return x(e.target.value)}}),(0,zo.jsx)("small",{children:"Add full address"}),(0,zo.jsx)(vb,{name:"city",style:{margin:"10px 0px 10px 0px",width:"100%"},value:_,placeholder:"Full Address",onChange:function(e){return w(e.target.value)}}),(0,zo.jsx)("small",{children:"Dimensions"}),(0,zo.jsx)(vb,{name:"city",style:{margin:"10px 0px 10px 0px",width:"100%"},value:c,placeholder:"In Sq.ft.",onChange:function(e){return u(e.target.value)}}),(0,zo.jsxs)(Xx,{style:{margin:"10px 0px 10px 0px",width:"100%"},onClick:function(){return i(Xe(Xe({},r),{},{showMediaModal:!0}))},children:[(0,zo.jsx)(xT,{})," Upload Images"]}),(0,zo.jsx)(Kp,{children:(null===r||void 0===r?void 0:r.selected)&&(null===r||void 0===r?void 0:r.selected.map((function(e){return(0,zo.jsx)(em,{xs:24,sm:24,md:8,children:(0,zo.jsx)(vT,{src:e.url})},e.url)})))}),(0,zo.jsx)(Xx,{loading:D,style:{margin:"10px 0px 10px 0px",width:"100%"},onClick:F,children:"Publish"})]}),(0,zo.jsx)(IC,{visible:r.showMediaModal,title:"Media",onOk:function(){return i(Xe(Xe({},r),{},{showMediaModal:!1}))},onCancel:function(){return i(Xe(Xe({},r),{},{showMediaModal:!1}))},width:720,footer:null,children:(0,zo.jsx)(rO,{mediaAllowed:!1})})]})})}),oO=function(){return(0,zo.jsx)(zp,{children:(0,zo.jsx)(aO,{})})},sO=function(){return(0,zo.jsx)(zp,{children:(0,zo.jsx)(rO,{mediaAllowed:!0})})},lO={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M482 152h60q8 0 8 8v704q0 8-8 8h-60q-8 0-8-8V160q0-8 8-8z"}},{tag:"path",attrs:{d:"M176 474h672q8 0 8 8v60q0 8-8 8H176q-8 0-8-8v-60q0-8 8-8z"}}]},name:"plus",theme:"outlined"},cO=function(e,n){return t.createElement(ki,Xe(Xe({},e),{},{ref:n,icon:lO}))};cO.displayName="PlusOutlined";var uO=t.forwardRef(cO),dO=function(e){var t=e.services,n=e.handleDelete,r=e.handleEdit;return(0,zo.jsx)(hE,{itemLayout:"horizontal",dataSource:t,renderItem:function(e){return(0,zo.jsx)(hE.Item,{actions:[(0,zo.jsx)("a",{onClick:function(){return r(e)},className:"text-green-700",children:"edit"}),(0,zo.jsx)("a",{onClick:function(){return n(e)},className:"text-red-700",children:"delete"})],children:(0,zo.jsx)(hE.Item.Meta,{title:e.title})})}})},fO=function(){var e=k((0,t.useContext)(gE),2),n=e[0],r=e[1],i=k((0,t.useState)(""),2),a=i[0],o=i[1],s=be(),l=n.service;(0,t.useEffect)((function(){c()}),[]);var c=function(){var e=Be(Le().mark((function e(){var t,n;return Le().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Po.get("/services");case 3:t=e.sent,n=t.data,r((function(e){return Xe(Xe({},e),{},{service:n})})),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),u=function(){var e=Be(Le().mark((function e(t){return Le().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",s("/edit/".concat(t._id)));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),d=function(){var e=Be(Le().mark((function e(t){var n;return Le().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,window.confirm("Are you sure you want to delete?")){e.next=4;break}return e.abrupt("return");case 4:return e.next=6,Po.delete("/service/".concat(t._id));case 6:n=e.sent,n.data.ok&&r((function(e){return Xe(Xe({},e),{},{service:e.service.filter((function(e){return e._id!==t._id}))})})),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}(),f=null===l||void 0===l?void 0:l.filter((function(e){return"RentHouse"===e.type}));return(0,zo.jsx)(zp,{children:(0,zo.jsx)(Kp,{children:(0,zo.jsxs)(em,{xs:22,sm:22,lg:22,offset:1,children:[(0,zo.jsx)(Xx,{children:(0,zo.jsxs)(Mh,{to:"/create/service",style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"2px"},children:[(0,zo.jsx)(uO,{})," Add New"]})}),(0,zo.jsxs)("h1",{style:{marginTop:15},children:[null===f||void 0===f?void 0:f.length," Rent Services"]}),(0,zo.jsx)(vb,{placeholder:"Search",type:"search",value:a,onChange:function(e){return o(e.target.value.toLowerCase())}}),(0,zo.jsx)(dO,{services:null===f||void 0===f?void 0:f.filter((function(e){return e.title.toLowerCase().includes(a)})),handleEdit:u,handleDelete:d})]})})})},hO=DS.Option,pO=function(){var e,n,r=_e().ID,i=k((0,t.useContext)(bT),2),a=i[0],o=i[1],s=k((0,t.useState)(""),2),l=(s[0],s[1]),c=k((0,t.useState)(""),2),u=c[0],d=c[1],f=k((0,t.useState)(""),2),h=f[0],p=f[1],m=k((0,t.useState)(""),2),v=m[0],g=m[1],y=k((0,t.useState)(),2),x=y[0],b=y[1],_=k((0,t.useState)([]),2),w=_[0],S=_[1],E=k((0,t.useState)([]),2),C=E[0],T=E[1],M=k((0,t.useState)(!1),2),I=(M[0],M[1],k((0,t.useState)(!0),2)),O=(I[0],I[1]),P=k((0,t.useState)(""),2),A=P[0],z=P[1],j=k((0,t.useState)(""),2),R=j[0],D=j[1],L=k((0,t.useState)(""),2),N=L[0],B=L[1],F=k((0,t.useState)(1),2),V=F[0],U=F[1],H=be();(0,t.useEffect)((function(){G()}),[null===H||void 0===H||null===(e=H.query)||void 0===e?void 0:e.slug]),(0,t.useEffect)((function(){W()}),[]);var G=function(){var e=Be(Le().mark((function e(){var t,n,i;return Le().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Po.get("/service/".concat(r));case 3:t=e.sent,n=t.data,d(n.title),p(n.content),U(n.rooms),B(n.type),z(n.city),g(n.area),D(n.fullAddress),T(n.featuredImages),l(n._id),i=[],n.categories.map((function(e){return i.push(e.name)})),b(i),O(!1),e.next=23;break;case 20:e.prev=20,e.t0=e.catch(0),console.log(e.t0);case 23:case"end":return e.stop()}}),e,null,[[0,20]])})));return function(){return e.apply(this,arguments)}}(),W=function(){var e=Be(Le().mark((function e(){var t,n;return Le().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Po.get("/categories");case 3:t=e.sent,n=t.data,S(n),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),q=function(){var e=Be(Le().mark((function e(){var t,n;return Le().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,O(!0),e.next=4,Po.put("/edit-service/".concat(r),{title:u,content:h,categories:x,featuredImages:null!==a&&void 0!==a&&a.selected?null===a||void 0===a?void 0:a.selected:C||void 0});case 4:t=e.sent,null!==(n=t.data)&&void 0!==n&&n.error?(h_.error(null===n||void 0===n?void 0:n.error),O(!1)):(h_.success("Post updated successfully"),o(Xe(Xe({},a),{},{selected:null})),H("/dashboard")),e.next=14;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0),h_.error("Post create failed. Try again."),O(!1);case 14:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}();return(0,zo.jsxs)(Kp,{style:{paddingTop:"30px"},children:[(0,zo.jsx)(em,{xs:0,sm:0,md:1}),(0,zo.jsxs)(em,{xs:20,sm:20,md:14,children:[(0,zo.jsx)("h1",{style:{fontWeight:"bold"},className:"text-2xl mb-5 ",children:"Edit Service"}),(0,zo.jsx)("small",{children:"Title"}),(0,zo.jsx)(vb,{size:"large",value:u,placeholder:"Title",onChange:function(e){d(e.target.value)}}),(0,zo.jsx)("br",{}),(0,zo.jsx)("br",{}),(0,zo.jsx)("small",{children:"Description"}),(0,zo.jsx)("div",{className:"editor-scroll",children:(0,zo.jsx)(vb.TextArea,{name:"content",value:h,placeholder:"About Description",onChange:function(e){return p(e.target.value)}})}),(0,zo.jsx)("br",{}),(0,zo.jsx)("small",{children:"House category"}),(0,zo.jsx)("div",{className:"editor-scroll",children:(0,zo.jsx)(DS,{placeholder:"Select categories",style:{width:"100%"},onChange:function(e){return b(e)},children:w.map((function(e){return(0,zo.jsx)(hO,{children:e.name},e.name)}))})}),(0,zo.jsx)("br",{}),(0,zo.jsx)("small",{children:"Rooms"}),(0,zo.jsx)(vb,{type:"number",name:"rooms",value:V,placeholder:"Rooms",onChange:function(e){return U(e.target.value)}}),(0,zo.jsx)("br",{}),(0,zo.jsx)("br",{}),(0,zo.jsx)("small",{children:"Service type"}),(0,zo.jsx)("div",{className:"editor-scroll",children:(0,zo.jsxs)(DS,{placeholder:"Select type",onChange:function(e){return B(e)},defaultValue:N,style:{width:"100%"},children:[(0,zo.jsx)(hO,{children:"Rent house"},"RentHouse"),(0,zo.jsx)(hO,{children:"Sell house"},"SellHouse")]})})]}),(0,zo.jsx)(em,{xs:0,sm:0,md:2}),(0,zo.jsxs)(em,{xs:20,sm:20,md:6,children:[(0,zo.jsx)("div",{style:{paddingTop:"30px"}}),(0,zo.jsx)("br",{}),(0,zo.jsx)("small",{children:"City"}),(0,zo.jsx)(vb,{name:"city",style:{margin:"10px 0px 10px 0px",width:"100%"},value:A,placeholder:"City",onChange:function(e){return z(e.target.value)}}),(0,zo.jsx)("small",{children:"Area"}),(0,zo.jsx)(vb,{name:"area",style:{margin:"10px 0px 10px 0px",width:"100%"},value:v,placeholder:"Area",onChange:function(e){return g(e.target.value)}}),(0,zo.jsx)("small",{children:"Add full address"}),(0,zo.jsx)(vb,{name:"city",style:{margin:"10px 0px 10px 0px",width:"100%"},value:R,placeholder:"Full Address",onChange:function(e){return D(e.target.value)}}),(0,zo.jsxs)(Xx,{style:{margin:"10px 0px 10px 0px",width:"100%"},onClick:function(){return o(Xe(Xe({},a),{},{showMediaModal:!0}))},children:[(0,zo.jsx)(xT,{})," Upload Images"]}),(0,zo.jsx)(Kp,{children:C?null===C||void 0===C?void 0:C.map((function(e){return(0,zo.jsx)(em,{xs:24,sm:24,md:8,children:(0,zo.jsx)(vT,{src:e.url})},e.url)})):(null===a||void 0===a?void 0:a.selected)&&(null===a||void 0===a||null===(n=a.selected)||void 0===n?void 0:n.map((function(e){return(0,zo.jsx)(em,{xs:24,sm:24,md:8,children:(0,zo.jsx)(vT,{src:e.url})},e.url)})))}),(0,zo.jsx)(Xx,{style:{margin:"10px 0px 10px 0px",width:"100%"},onClick:q,children:"Publish"})]}),(0,zo.jsx)(IC,{visible:a.showMediaModal,title:"Media",onOk:function(){return o(Xe(Xe({},a),{},{showMediaModal:!1}))},onCancel:function(){return o(Xe(Xe({},a),{},{showMediaModal:!1}))},width:720,footer:null,children:(0,zo.jsx)(rO,{mediaAllowed:!1})})]})},mO=function(){return(0,zo.jsx)(zp,{children:(0,zo.jsx)(pO,{})})},vO=function(){var e=k((0,t.useContext)(gE),2),n=e[0],r=e[1],i=k((0,t.useState)(""),2),a=i[0],o=i[1],s=be(),l=n.service;(0,t.useEffect)((function(){c()}),[]);var c=function(){var e=Be(Le().mark((function e(){var t,n;return Le().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Po.get("/services");case 3:t=e.sent,n=t.data,r((function(e){return Xe(Xe({},e),{},{service:n})})),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),u=function(){var e=Be(Le().mark((function e(t){return Le().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",s("/edit/".concat(t._id)));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),d=function(){var e=Be(Le().mark((function e(t){var n;return Le().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,window.confirm("Are you sure you want to delete?")){e.next=4;break}return e.abrupt("return");case 4:return e.next=6,Po.delete("/service/".concat(t._id));case 6:n=e.sent,n.data.ok&&r((function(e){return Xe(Xe({},e),{},{service:e.service.filter((function(e){return e._id!==t._id}))})})),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}(),f=null===l||void 0===l?void 0:l.filter((function(e){return"SellHouse"===e.type}));return(0,zo.jsx)(zp,{children:(0,zo.jsx)(Kp,{children:(0,zo.jsxs)(em,{xs:22,sm:22,lg:22,offset:1,children:[(0,zo.jsx)(Xx,{children:(0,zo.jsxs)(Mh,{to:"/create/service",style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"2px"},children:[(0,zo.jsx)(uO,{})," Add New"]})}),(0,zo.jsxs)("h1",{style:{marginTop:15},children:[null===f||void 0===f?void 0:f.length," Sell Services"]}),(0,zo.jsx)(vb,{placeholder:"Search",type:"search",value:a,onChange:function(e){return o(e.target.value.toLowerCase())}}),(0,zo.jsx)(dO,{services:null===f||void 0===f?void 0:f.filter((function(e){return e.title.toLowerCase().includes(a)})),handleEdit:u,handleDelete:d})]})})})},gO=t.createContext("default"),yO=function(e){var n=e.children,r=e.size,i=t.useContext(gO);return t.createElement(gO.Provider,{value:r||i},n)},xO=gO,bO=function(e){var t,n,r=e.antCls,i=e.componentCls,a=e.iconCls,o=e.avatarBg,s=e.avatarColor,l=e.avatarSizeBase,c=e.avatarSizeLG,u=e.avatarSizeSM,d=e.avatarFontSizeBase,f=e.avatarFontSizeLG,h=e.avatarFontSizeSM,p=e.borderRadius,m=e.borderRadiusLG,v=e.borderRadiusSM,g=e.lineWidth,y=e.lineType,x=function(e,t,n){var r;return Fe(r={width:e,height:e,lineHeight:"".concat(e-2*g,"px"),borderRadius:"50%"},"&".concat(i,"-square"),{borderRadius:n}),Fe(r,"".concat(i,"-string"),{position:"absolute",left:{_skip_check_:!0,value:"50%"},transformOrigin:"0 center"}),Fe(r,"&".concat(i,"-icon"),Fe({fontSize:t},"> ".concat(a),{margin:0})),r};return Fe({},i,Object.assign(Object.assign(Object.assign(Object.assign({},Hn(e)),(Fe(t={position:"relative",display:"inline-block",overflow:"hidden",color:s,whiteSpace:"nowrap",textAlign:"center",verticalAlign:"middle",background:o,border:"".concat(g,"px ").concat(y," transparent")},"&-image",{background:"transparent"}),Fe(t,"".concat(r,"-image-img"),{display:"block"}),t)),x(l,d,p)),(Fe(n={},"&-lg",Object.assign({},x(c,f,m))),Fe(n,"&-sm",Object.assign({},x(u,h,v))),Fe(n,"> img",{display:"block",width:"100%",height:"100%",objectFit:"cover"}),n)))},_O=function(e){var t,n=e.componentCls,r=e.avatarGroupBorderColor,i=e.avatarGroupSpace;return Fe({},"".concat(n,"-group"),(Fe(t={display:"inline-flex"},"".concat(n),{borderColor:r}),Fe(t,"> *:not(:first-child)",{marginInlineStart:i}),t))},wO=Xr("Avatar",(function(e){var t=e.colorTextLightSolid,n=e.controlHeight,r=e.controlHeightLG,i=e.controlHeightSM,a=e.fontSize,o=e.fontSizeLG,s=e.fontSizeXL,l=e.fontSizeHeading3,c=e.marginXS,u=e.colorBorderBg,d=Gr(e,{avatarBg:e.colorTextPlaceholder,avatarColor:t,avatarSizeBase:n,avatarSizeLG:r,avatarSizeSM:i,avatarFontSizeBase:Math.round((o+s)/2),avatarFontSizeLG:l,avatarFontSizeSM:a,avatarGroupSpace:-c,avatarGroupBorderColor:u});return[bO(d),_O(d)]})),kO=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},SO=function(e,n){var r,i,a=t.useContext(xO),o=k(t.useState(1),2),s=o[0],l=o[1],c=k(t.useState(!1),2),u=c[0],d=c[1],f=k(t.useState(!0),2),h=f[0],p=f[1],m=t.useRef(null),v=t.useRef(null),g=Bo(n,m),y=t.useContext(Ge).getPrefixCls,x=function(){if(v.current&&m.current){var t=v.current.offsetWidth,n=m.current.offsetWidth;if(0!==t&&0!==n){var r=e.gap,i=void 0===r?4:r;2*i<n&&l(n-2*i<t?(n-2*i)/t:1)}}};t.useEffect((function(){d(!0)}),[]),t.useEffect((function(){p(!0),l(1)}),[e.src]),t.useEffect((function(){x()}),[e.gap]);var b,_=e.prefixCls,w=e.shape,S=void 0===w?"circle":w,E=e.size,C=void 0===E?"default":E,T=e.src,M=e.srcSet,I=e.icon,O=e.className,P=e.alt,A=e.draggable,z=e.children,j=e.crossOrigin,R=kO(e,["prefixCls","shape","size","src","srcSet","icon","className","alt","draggable","children","crossOrigin"]),D="default"===C?a:C,L=Object.keys("object"===typeof D&&D||{}).some((function(e){return["xs","sm","md","lg","xl","xxl"].includes(e)})),N=nw(L),B=t.useMemo((function(){if("object"!==typeof D)return{};var e=Lp.find((function(e){return N[e]})),t=D[e];return t?{width:t,height:t,lineHeight:"".concat(t,"px"),fontSize:I?t/2:18}:{}}),[N,D]),F=y("avatar",_),V=k(wO(F),2),U=V[0],H=V[1],G=Ue()((Fe(r={},"".concat(F,"-lg"),"large"===D),Fe(r,"".concat(F,"-sm"),"small"===D),r)),W=t.isValidElement(T),q=Ue()(F,G,(Fe(i={},"".concat(F,"-").concat(S),!!S),Fe(i,"".concat(F,"-image"),W||T&&h),Fe(i,"".concat(F,"-icon"),!!I),i),O,H),X="number"===typeof D?{width:D,height:D,lineHeight:"".concat(D,"px"),fontSize:I?D/2:18}:{};if("string"===typeof T&&h)b=t.createElement("img",{src:T,draggable:A,srcSet:M,onError:function(){var t=e.onError;!1!==(t?t():void 0)&&p(!1)},alt:P,crossOrigin:j});else if(W)b=T;else if(I)b=I;else if(u||1!==s){var Z="scale(".concat(s,") translateX(-50%)"),K={msTransform:Z,WebkitTransform:Z,transform:Z},Y="number"===typeof D?{lineHeight:"".concat(D,"px")}:{};b=t.createElement(xs,{onResize:x},t.createElement("span",{className:"".concat(F,"-string"),ref:v,style:Object.assign(Object.assign({},Y),K)},z))}else b=t.createElement("span",{className:"".concat(F,"-string"),style:{opacity:0},ref:v},z);return delete R.onError,delete R.gap,U(t.createElement("span",Object.assign({},R,{style:Object.assign(Object.assign(Object.assign({},X),B),R.style),className:q,ref:g}),b))};var EO=t.forwardRef(SO),CO=function(e){return e?"function"===typeof e?e():e:null},TO=function(e){var t,n=e.componentCls,r=e.popoverBg,i=e.popoverColor,a=e.width,o=e.fontWeightStrong,s=e.popoverPadding,l=e.boxShadowSecondary,c=e.colorTextHeading,u=e.borderRadiusLG,d=e.zIndexPopup,f=e.marginXS,h=e.colorBgElevated;return[Fe({},n,Object.assign(Object.assign({},Hn(e)),(t={position:"absolute",top:0,left:{_skip_check_:!0,value:0},zIndex:d,fontWeight:"normal",whiteSpace:"normal",textAlign:"start",cursor:"auto",userSelect:"text","--antd-arrow-background-color":h,"&-rtl":{direction:"rtl"},"&-hidden":{display:"none"}},Fe(t,"".concat(n,"-content"),{position:"relative"}),Fe(t,"".concat(n,"-inner"),{backgroundColor:r,backgroundClip:"padding-box",borderRadius:u,boxShadow:l,padding:s}),Fe(t,"".concat(n,"-title"),{minWidth:a,marginBottom:f,color:c,fontWeight:o}),Fe(t,"".concat(n,"-inner-content"),{color:i}),t))),nh(e,{colorBg:"var(--antd-arrow-background-color)"}),Fe({},"".concat(n,"-pure"),Fe({position:"relative",maxWidth:"none"},"".concat(n,"-content"),{display:"inline-block"}))]},MO=function(e){var t=e.componentCls;return Fe({},t,Jf.map((function(n){var r,i=e["".concat(n,"-6")];return Fe({},"&".concat(t,"-").concat(n),(Fe(r={"--antd-arrow-background-color":i},"".concat(t,"-inner"),{backgroundColor:i}),Fe(r,"".concat(t,"-arrow"),{background:"transparent"}),r))})))},IO=function(e){var t,n=e.componentCls,r=e.lineWidth,i=e.lineType,a=e.colorSplit,o=e.paddingSM,s=e.controlHeight,l=e.fontSize,c=e.lineHeight,u=e.padding,d=s-Math.round(l*c),f=d/2,h=d/2-r,p=u;return Fe({},n,(Fe(t={},"".concat(n,"-inner"),{padding:0}),Fe(t,"".concat(n,"-title"),{margin:0,padding:"".concat(f,"px ").concat(p,"px ").concat(h,"px"),borderBottom:"".concat(r,"px ").concat(i," ").concat(a)}),Fe(t,"".concat(n,"-inner-content"),{padding:"".concat(o,"px ").concat(p,"px")}),t))},OO=Xr("Popover",(function(e){var t=e.colorBgElevated,n=e.colorText,r=e.wireframe,i=Gr(e,{popoverBg:t,popoverColor:n,popoverPadding:12});return[TO(i),MO(i),r&&IO(i),Tf(i,"zoom-big")]}),(function(e){return{zIndexPopup:e.zIndexPopupBase+30,width:177}})),PO=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};function AO(e){var n=e.hashId,r=e.prefixCls,i=e.className,a=e.style,o=e.placement,s=void 0===o?"top":o,l=e.title,c=e.content,u=e.children;return t.createElement("div",{className:Ue()(n,r,"".concat(r,"-pure"),"".concat(r,"-placement-").concat(s),i),style:a},t.createElement(Wf,Object.assign({},e,{className:n,prefixCls:r}),u||function(e,n,r){if(n||r)return t.createElement(t.Fragment,null,n&&t.createElement("div",{className:"".concat(e,"-title")},CO(n)),t.createElement("div",{className:"".concat(e,"-inner-content")},CO(r)))}(r,l,c)))}var zO=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},jO=function(e){var n=e.title,r=e.content,i=e.prefixCls;return n||r?t.createElement(t.Fragment,null,n&&t.createElement("div",{className:"".concat(i,"-title")},CO(n)),t.createElement("div",{className:"".concat(i,"-inner-content")},CO(r))):null},RO=t.forwardRef((function(e,n){var r=e.prefixCls,i=e.title,a=e.content,o=e.overlayClassName,s=e.placement,l=void 0===s?"top":s,c=e.trigger,u=void 0===c?"hover":c,d=e.mouseEnterDelay,f=void 0===d?.1:d,h=e.mouseLeaveDelay,p=void 0===h?.1:h,m=e.overlayStyle,v=void 0===m?{}:m,g=zO(e,["prefixCls","title","content","overlayClassName","placement","trigger","mouseEnterDelay","mouseLeaveDelay","overlayStyle"]),y=t.useContext(Ge).getPrefixCls,x=y("popover",r),b=k(OO(x),2),_=b[0],w=b[1],S=y(),E=Ue()(o,w);return _(t.createElement(dh,Object.assign({placement:l,trigger:u,mouseEnterDelay:f,mouseLeaveDelay:p,overlayStyle:v},g,{prefixCls:x,overlayClassName:E,ref:n,overlay:t.createElement(jO,{prefixCls:x,title:i,content:a}),transitionName:Xd(S,"zoom-big",g.transitionName),"data-popover-inject":!0})))}));RO._InternalPanelDoNotUseOrYouWillBeFired=function(e){var n=e.prefixCls,r=PO(e,["prefixCls"]),i=(0,t.useContext(Ge).getPrefixCls)("popover",n),a=k(OO(i),2),o=a[0],s=a[1];return o(t.createElement(AO,Object.assign({},r,{prefixCls:i,hashId:s})))};var DO=RO,LO=function(e){var n=t.useContext(Ge),r=n.getPrefixCls,i=n.direction,a=e.prefixCls,o=e.className,s=void 0===o?"":o,l=e.maxCount,c=e.maxStyle,u=e.size,d=r("avatar",a),f="".concat(d,"-group"),h=k(wO(d),2),p=h[0],m=h[1],v=Ue()(f,Fe({},"".concat(f,"-rtl"),"rtl"===i),s,m),g=e.children,y=e.maxPopoverPlacement,x=void 0===y?"top":y,b=e.maxPopoverTrigger,_=void 0===b?"hover":b,w=Lo(g).map((function(e,t){return Jd(e,{key:"avatar-key-".concat(t)})})),S=w.length;if(l&&l<S){var E=w.slice(0,l),C=w.slice(l,S);return E.push(t.createElement(DO,{key:"avatar-popover-key",content:C,trigger:_,placement:x,overlayClassName:"".concat(f,"-popover")},t.createElement(EO,{style:c},"+".concat(S-l)))),p(t.createElement(yO,{size:u},t.createElement("div",{className:v,style:e.style},E)))}return p(t.createElement(yO,{size:u},t.createElement("div",{className:v,style:e.style},w)))},NO=EO;NO.Group=LO;var BO=NO,FO=function(){var e=k((0,t.useContext)(jo),2),n=e[0],r=(e[1],k((0,t.useState)([]),2)),i=r[0],a=r[1],o=(be(),k((0,t.useState)(""),2)),s=o[0],l=o[1];(0,t.useEffect)((function(){null!==n&&void 0!==n&&n.token&&c()}),[null===n||void 0===n?void 0:n.token]);var c=function(){var e=Be(Le().mark((function e(){var t,n;return Le().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Po.get("/users-admins");case 3:t=e.sent,n=t.data,a(n),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),u=function(){var e=Be(Le().mark((function e(t){var r,i;return Le().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t._id!==n.user._id){e.next=3;break}return alert("You can not delete yourself"),e.abrupt("return");case 3:return e.prev=3,e.next=6,Po.delete("/user/".concat(t._id));case 6:r=e.sent,null!==(i=r.data)&&void 0!==i&&i.error?B_.error(i.error):(console.log("user deleted",i),a((function(e){return e.filter((function(e){return e._id!==i._id}))})),B_.success("User deleted successfully")),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(3),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[3,11]])})));return function(t){return e.apply(this,arguments)}}(),d=i&&(null===i||void 0===i?void 0:i.filter((function(e){return e.name.toLowerCase().includes(s)})));return(0,zo.jsx)(zp,{children:(0,zo.jsx)(Kp,{children:(0,zo.jsxs)(em,{span:23,offset:1,children:[(0,zo.jsx)("h4",{style:{marginBottom:"-10px",fontWeight:"bold"},className:"text-2xl mb-5 text-blue-400",children:"All Admins"}),(0,zo.jsx)("br",{}),(0,zo.jsx)(vb,{placeholder:"Search",type:"search",value:s,onChange:function(e){return l(e.target.value.toLowerCase())}}),(0,zo.jsx)(hE,{itemLayout:"horizontal",dataSource:d,renderItem:function(e){var t,r;return(0,zo.jsxs)(hE.Item,{actions:[(0,zo.jsx)(Mh,{to:"/user/".concat(e._id),className:"text-green-700",children:"edit"}),(0,zo.jsx)("span",{className:"text-red-700",onClick:function(){return u(e)},disabled:e._id===n.user._id,children:"delete"})],children:[(0,zo.jsx)(BO,{src:null===(t=e.image)||void 0===t?void 0:t.url,children:e.name[0]}),(0,zo.jsx)(hE.Item.Meta,{title:e.name,style:{marginLeft:10}}),(0,zo.jsx)(hE.Item.Meta,{description:e.email,style:{marginLeft:10}}),(0,zo.jsx)(hE.Item.Meta,{description:e.role,style:{marginLeft:10}}),(0,zo.jsx)(hE.Item.Meta,{description:"".concat(null===(r=e.services)||void 0===r?void 0:r.length," Service"),style:{marginLeft:10}})]})}})]})})})},VO=function(){var e=k((0,t.useContext)(jo),2),n=e[0],r=(e[1],k((0,t.useState)([]),2)),i=r[0],a=r[1],o=(be(),k((0,t.useState)(""),2)),s=o[0],l=o[1];(0,t.useEffect)((function(){null!==n&&void 0!==n&&n.token&&c()}),[null===n||void 0===n?void 0:n.token]);var c=function(){var e=Be(Le().mark((function e(){var t,n;return Le().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Po.get("/users-vendor");case 3:t=e.sent,n=t.data,a(n),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),u=function(){var e=Be(Le().mark((function e(t){var r,i;return Le().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t._id!==n.user._id){e.next=3;break}return alert("You can not delete yourself"),e.abrupt("return");case 3:return e.prev=3,e.next=6,Po.delete("/user/".concat(t._id));case 6:r=e.sent,null!==(i=r.data)&&void 0!==i&&i.error?B_.error(i.error):(console.log("user deleted",i),a((function(e){return e.filter((function(e){return e._id!==i._id}))})),B_.success("User deleted successfully")),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(3),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[3,11]])})));return function(t){return e.apply(this,arguments)}}(),d=i&&(null===i||void 0===i?void 0:i.filter((function(e){return e.name.toLowerCase().includes(s)})));return(0,zo.jsx)(zp,{children:(0,zo.jsx)(Kp,{children:(0,zo.jsxs)(em,{span:23,offset:1,children:[(0,zo.jsx)("h4",{style:{marginBottom:"-10px",fontWeight:"bold"},className:"text-2xl mb-5 text-blue-400",children:"Vendors (Agencies)"}),(0,zo.jsx)("br",{}),(0,zo.jsx)(vb,{placeholder:"Search",type:"search",value:s,onChange:function(e){return l(e.target.value.toLowerCase())}}),(0,zo.jsx)(hE,{itemLayout:"horizontal",dataSource:d,renderItem:function(e){var t,r;return(0,zo.jsxs)(hE.Item,{actions:[(0,zo.jsx)(Mh,{to:"/user/".concat(e._id),className:"text-green-700",children:"edit"}),(0,zo.jsx)("span",{className:"text-red-700",onClick:function(){return u(e)},disabled:e._id===n.user._id,children:"delete"})],children:[(0,zo.jsx)(BO,{src:null===(t=e.image)||void 0===t?void 0:t.url,children:e.name[0]}),(0,zo.jsx)(hE.Item.Meta,{title:e.name,style:{marginLeft:10}}),(0,zo.jsx)(hE.Item.Meta,{description:e.email,style:{marginLeft:10}}),(0,zo.jsx)(hE.Item.Meta,{description:e.role,style:{marginLeft:10}}),(0,zo.jsx)(hE.Item.Meta,{description:"".concat(null===(r=e.services)||void 0===r?void 0:r.length," Service"),style:{marginLeft:10}})]})}})]})})})},UO=function(){var e=k((0,t.useContext)(jo),2),n=e[0],r=(e[1],k((0,t.useState)([]),2)),i=r[0],a=r[1],o=(be(),k((0,t.useState)(""),2)),s=o[0],l=o[1];(0,t.useEffect)((function(){null!==n&&void 0!==n&&n.token&&c()}),[null===n||void 0===n?void 0:n.token]);var c=function(){var e=Be(Le().mark((function e(){var t,n;return Le().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Po.get("/users-subscriber");case 3:t=e.sent,n=t.data,a(n),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),u=function(){var e=Be(Le().mark((function e(t){var r,i;return Le().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t._id!==n.user._id){e.next=3;break}return alert("You can not delete yourself"),e.abrupt("return");case 3:return e.prev=3,e.next=6,Po.delete("/user/".concat(t._id));case 6:r=e.sent,null!==(i=r.data)&&void 0!==i&&i.error?B_.error(i.error):(console.log("user deleted",i),a((function(e){return e.filter((function(e){return e._id!==i._id}))})),B_.success("User deleted successfully")),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(3),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[3,11]])})));return function(t){return e.apply(this,arguments)}}(),d=i&&(null===i||void 0===i?void 0:i.filter((function(e){return e.name.toLowerCase().includes(s)})));return(0,zo.jsx)(zp,{children:(0,zo.jsx)(Kp,{children:(0,zo.jsxs)(em,{span:24,children:[(0,zo.jsx)("h4",{style:{marginBottom:"-10px",fontWeight:"bold"},className:"text-2xl mb-5 ",children:"All Subscriber"}),(0,zo.jsx)("br",{}),(0,zo.jsx)(vb,{placeholder:"Search",type:"search",value:s,onChange:function(e){return l(e.target.value.toLowerCase())}}),(0,zo.jsx)(hE,{itemLayout:"horizontal",dataSource:d,renderItem:function(e){var t,r;return(0,zo.jsxs)(hE.Item,{actions:[(0,zo.jsx)(Mh,{to:"/user/".concat(e._id),className:"text-green-700",children:"edit"}),(0,zo.jsx)("span",{className:"text-red-700",onClick:function(){return u(e)},disabled:e._id===n.user._id,children:"delete"})],children:[(0,zo.jsx)(BO,{src:null===(t=e.image)||void 0===t?void 0:t.url,children:e.name[0]}),(0,zo.jsx)(hE.Item.Meta,{title:e.name,style:{marginLeft:10}}),(0,zo.jsx)(hE.Item.Meta,{description:e.email,style:{marginLeft:10}}),(0,zo.jsx)(hE.Item.Meta,{description:e.role,style:{marginLeft:10}}),(0,zo.jsx)(hE.Item.Meta,{description:"".concat(null===(r=e.services)||void 0===r?void 0:r.length," Service"),style:{marginLeft:10}})]})}})]})})})},HO=function(){var e,n,r=_e().ID,i=k((0,t.useContext)(jo),2),a=i[0],o=i[1],s=k((0,t.useContext)(bT),2),l=s[0],c=(s[1],k((0,t.useState)(""),2)),u=c[0],d=c[1],f=k((0,t.useState)(""),2),h=f[0],p=f[1],m=k((0,t.useState)(""),2),v=m[0],g=m[1],y=k((0,t.useState)(),2),x=y[0],b=y[1],_=k((0,t.useState)(""),2),w=_[0],S=_[1],E=k((0,t.useState)({}),2),C=E[0],T=E[1],M=k((0,t.useState)(""),2),I=M[0],O=M[1],P=k((0,t.useState)(!1),2),A=(P[0],P[1]);be();(0,t.useEffect)((function(){var e=function(){var e=Be(Le().mark((function e(){var t,n;return Le().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Po.get("/user/".concat(r));case 3:t=e.sent,n=t.data,d(n._id),p(n.name),g(n.email),O(n.about),S(n.role),T(n.image),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),console.log(e.t0);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}();null!==a&&void 0!==a&&a.token&&e()}),[a,r]);var z=function(){var e=Be(Le().mark((function e(t){var n,r,i,s,c,d;return Le().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,Po.put("/update-user-by-admin",{id:u,name:h,email:v,password:x,about:I,role:w,image:null!==l&&void 0!==l&&null!==(n=l.selected)&&void 0!==n&&n._id?null===l||void 0===l||null===(r=l.selected)||void 0===r?void 0:r._id:null!==C&&void 0!==C&&C._id?null===C||void 0===C?void 0:C._id:void 0});case 4:i=e.sent,null!==(s=i.data)&&void 0!==s&&s.error?h_.error(s.error):((null===a||void 0===a||null===(c=a.user)||void 0===c?void 0:c._id)===s._id&&(o(Xe(Xe({},a),{},{user:s})),(d=JSON.parse(localStorage.getItem("auth"))).user=s,localStorage.setItem("auth",JSON.stringify(d))),h_.success("User updated successfully")),e.next=14;break;case 9:e.prev=9,e.t0=e.catch(1),console.log(e.t0),h_.error("User update failed. Try again."),A(!1);case 14:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}();return(0,zo.jsx)(zp,{children:(0,zo.jsxs)(Kp,{children:[(0,zo.jsx)(em,{xs:0,sm:0,md:6}),(0,zo.jsxs)(em,{s:24,sm:24,md:12,children:[(0,zo.jsx)("br",{}),(0,zo.jsx)("div",{style:{marginBottom:20,textAlign:"center"},children:C&&null!==l&&void 0!==l&&l.selected?(0,zo.jsxs)(zo.Fragment,{children:[(0,zo.jsx)("div",{style:{marginBottom:15}}),(0,zo.jsx)(BO,{src:null===l||void 0===l||null===(e=l.selected[0])||void 0===e?void 0:e.url,size:100})]}):C?(0,zo.jsxs)(zo.Fragment,{children:[(0,zo.jsx)("div",{style:{marginBottom:15}}),(0,zo.jsx)(BO,{src:C.url,size:100})]}):""}),"Subscriber"!==(null===a||void 0===a||null===(n=a.user)||void 0===n?void 0:n.role)&&(0,zo.jsx)(rO,{mediaAllowed:!1,multipleSelect:!1}),(0,zo.jsx)(vb,{style:{margin:"20px 0px 10px 0px"},size:"large",placeholder:"Full name",value:h,onChange:function(e){return p(e.target.value)}}),(0,zo.jsx)(vb,{style:{margin:"10px 0px 10px 0px"},size:"large",placeholder:"Email",value:v,onChange:function(e){return g(e.target.value)}}),(0,zo.jsx)(vb,{style:{margin:"10px 0px 10px 0px"},size:"large",placeholder:"About",value:I,onChange:function(e){return O(e.target.value)}}),(0,zo.jsx)(vb.Password,{style:{margin:"10px 0px 10px 0px"},size:"large",placeholder:"Password",value:x,onChange:function(e){return b(e.target.value)}}),(0,zo.jsxs)(DS,{value:w,style:{margin:"10px 0px 10px 0px",width:"100%"},onChange:function(e){return S(e)},children:[(0,zo.jsx)(DS.Option,{value:"Subscriber",children:"Subscriber"}),(0,zo.jsx)(DS.Option,{value:"Vendor",children:"Vendor"}),(0,zo.jsx)(DS.Option,{value:"Admin",children:"Admin"})]}),(0,zo.jsx)(Xx,{onClick:z,type:"default",style:{margin:"10px 0px 10px 0px"},block:!0,children:"Submit"})]}),(0,zo.jsx)(em,{xs:0,sm:0,md:6})]})})},GO=function(e){m(r,e);var n=b(r);function r(e){var t;c(this,r),(t=n.call(this,e)).handleChange=function(e){var n=t.props,r=n.disabled,i=n.onChange;r||("checked"in t.props||t.setState({checked:e.target.checked}),i&&i({target:Xe(Xe({},t.props),{},{checked:e.target.checked}),stopPropagation:function(){e.stopPropagation()},preventDefault:function(){e.preventDefault()},nativeEvent:e.nativeEvent}))},t.saveInput=function(e){t.input=e};var i="checked"in e?e.checked:e.defaultChecked;return t.state={checked:i},t}return h(r,[{key:"focus",value:function(){this.input.focus()}},{key:"blur",value:function(){this.input.blur()}},{key:"render",value:function(){var e,n=this.props,r=n.prefixCls,i=n.className,a=n.style,o=n.name,s=n.id,l=n.type,c=n.disabled,u=n.readOnly,d=n.tabIndex,f=n.onClick,h=n.onFocus,p=n.onBlur,m=n.onKeyDown,v=n.onKeyPress,g=n.onKeyUp,y=n.autoFocus,x=n.value,b=n.required,_=li(n,["prefixCls","className","style","name","id","type","disabled","readOnly","tabIndex","onClick","onFocus","onBlur","onKeyDown","onKeyPress","onKeyUp","autoFocus","value","required"]),w=Object.keys(_).reduce((function(e,t){return"aria-"!==t.substr(0,5)&&"data-"!==t.substr(0,5)&&"role"!==t||(e[t]=_[t]),e}),{}),k=this.state.checked,S=Ue()(r,i,(Fe(e={},"".concat(r,"-checked"),k),Fe(e,"".concat(r,"-disabled"),c),e));return t.createElement("span",{className:S,style:a},t.createElement("input",Dt({name:o,id:s,type:l,required:b,readOnly:u,disabled:c,tabIndex:d,className:"".concat(r,"-input"),checked:!!k,onClick:f,onFocus:h,onBlur:p,onKeyUp:g,onKeyDown:m,onKeyPress:v,onChange:this.handleChange,autoFocus:y,ref:this.saveInput,value:x},w)),t.createElement("span",{className:"".concat(r,"-inner")}))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return"checked"in e?Xe(Xe({},t),{},{checked:e.checked}):null}}]),r}(t.Component);GO.defaultProps={prefixCls:"rc-checkbox",className:"",style:{},type:"checkbox",defaultChecked:!1,onFocus:function(){},onBlur:function(){},onChange:function(){},onKeyDown:function(){},onKeyPress:function(){},onKeyUp:function(){}};var WO=GO,qO=new Rn("antCheckboxEffect",{"0%":{transform:"scale(1)",opacity:.5},"100%":{transform:"scale(1.6)",opacity:0}}),XO=function(e){var t,n,r,i,a,o,s,l,c,u,d=e.checkboxCls,f="".concat(d,"-wrapper");return[(r={},Fe(r,"".concat(d,"-group"),Object.assign(Object.assign({},Hn(e)),{display:"inline-flex"})),Fe(r,f,Object.assign(Object.assign({},Hn(e)),(t={display:"inline-flex",alignItems:"baseline",cursor:"pointer","&:after":{display:"inline-block",width:0,overflow:"hidden",content:"'\\a0'"}},Fe(t,"& + ".concat(f),{marginInlineStart:e.marginXS}),Fe(t,"&".concat(f,"-in-form-item"),{'input[type="checkbox"]':{width:14,height:14}}),t))),Fe(r,d,Object.assign(Object.assign({},Hn(e)),(n={top:"0.2em",position:"relative",whiteSpace:"nowrap",lineHeight:1,cursor:"pointer"},Fe(n,"".concat(d,"-input"),Fe({position:"absolute",inset:0,zIndex:1,width:"100%",height:"100%",cursor:"pointer",opacity:0},"&:focus-visible + ".concat(d,"-inner"),Object.assign({},qn(e)))),Fe(n,"".concat(d,"-inner"),{boxSizing:"border-box",position:"relative",top:0,insetInlineStart:0,display:"block",width:e.checkboxSize,height:e.checkboxSize,direction:"ltr",backgroundColor:e.colorBgContainer,border:"".concat(e.lineWidth,"px ").concat(e.lineType," ").concat(e.colorBorder),borderRadius:e.borderRadiusSM,borderCollapse:"separate",transition:"all ".concat(e.motionDurationSlow),"&:after":{boxSizing:"border-box",position:"absolute",top:"50%",insetInlineStart:"21.5%",display:"table",width:e.checkboxSize/14*5,height:e.checkboxSize/14*8,border:"".concat(e.lineWidthBold,"px solid ").concat(e.colorWhite),borderTop:0,borderInlineStart:0,transform:"rotate(45deg) scale(0) translate(-50%,-50%)",opacity:0,content:'""',transition:"all ".concat(e.motionDurationFast," ").concat(e.motionEaseInBack,", opacity ").concat(e.motionDurationFast)}}),Fe(n,"& + span",{paddingInlineStart:e.paddingXS,paddingInlineEnd:e.paddingXS}),n))),r),Fe({},d,{"&-indeterminate":Fe({},"".concat(d,"-inner"),{"&:after":{top:"50%",insetInlineStart:"50%",width:e.fontSizeLG/2,height:e.fontSizeLG/2,backgroundColor:e.colorPrimary,border:0,transform:"translate(-50%, -50%) scale(1)",opacity:1,content:'""'}})}),(a={},Fe(a,"".concat(f,":hover ").concat(d,":after"),{visibility:"visible"}),Fe(a,"\n        ".concat(f,":not(").concat(f,"-disabled),\n        ").concat(d,":not(").concat(d,"-disabled)\n      "),Fe({},"&:hover ".concat(d,"-inner"),{borderColor:e.colorPrimary})),Fe(a,"".concat(f,":not(").concat(f,"-disabled)"),(i={},Fe(i,"&:hover ".concat(d,"-checked:not(").concat(d,"-disabled) ").concat(d,"-inner"),{backgroundColor:e.colorPrimaryHover,borderColor:"transparent"}),Fe(i,"&:hover ".concat(d,"-checked:not(").concat(d,"-disabled):after"),{borderColor:e.colorPrimaryHover}),i)),a),(l={},Fe(l,"".concat(d,"-checked"),(o={},Fe(o,"".concat(d,"-inner"),{backgroundColor:e.colorPrimary,borderColor:e.colorPrimary,"&:after":{opacity:1,transform:"rotate(45deg) scale(1) translate(-50%,-50%)",transition:"all ".concat(e.motionDurationMid," ").concat(e.motionEaseOutBack," ").concat(e.motionDurationFast)}}),Fe(o,"&:after",{position:"absolute",top:0,insetInlineStart:0,width:"100%",height:"100%",borderRadius:e.borderRadiusSM,visibility:"hidden",border:"".concat(e.lineWidthBold,"px solid ").concat(e.colorPrimary),animationName:qO,animationDuration:e.motionDurationSlow,animationTimingFunction:"ease-in-out",animationFillMode:"backwards",content:'""',transition:"all ".concat(e.motionDurationSlow)}),o)),Fe(l,"\n        ".concat(f,"-checked:not(").concat(f,"-disabled),\n        ").concat(d,"-checked:not(").concat(d,"-disabled)\n      "),(s={},Fe(s,"&:hover ".concat(d,"-inner"),{backgroundColor:e.colorPrimaryHover,borderColor:"transparent"}),Fe(s,"&:hover ".concat(d,":after"),{borderColor:e.colorPrimaryHover}),s)),l),(u={},Fe(u,"".concat(f,"-disabled"),{cursor:"not-allowed"}),Fe(u,"".concat(d,"-disabled"),(c={},Fe(c,"&, ".concat(d,"-input"),{cursor:"not-allowed",pointerEvents:"none"}),Fe(c,"".concat(d,"-inner"),{background:e.colorBgContainerDisabled,borderColor:e.colorBorder,"&:after":{borderColor:e.colorTextDisabled}}),Fe(c,"&:after",{display:"none"}),Fe(c,"& + span",{color:e.colorTextDisabled}),Fe(c,"&".concat(d,"-indeterminate ").concat(d,"-inner::after"),{background:e.colorTextDisabled}),c)),u)]};function ZO(e,t){var n=Gr(t,{checkboxCls:".".concat(e),checkboxSize:t.controlInteractiveSize});return[XO(n)]}var KO=Xr("Checkbox",(function(e,t){return[ZO(t.prefixCls,e)]})),YO=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},$O=t.createContext(null),JO=function(e,n){var r=e.defaultValue,i=e.children,a=e.options,o=void 0===a?[]:a,s=e.prefixCls,c=e.className,u=e.style,d=e.onChange,f=YO(e,["defaultValue","children","options","prefixCls","className","style","onChange"]),h=t.useContext(Ge),p=h.getPrefixCls,m=h.direction,v=k(t.useState(f.value||r||[]),2),g=v[0],y=v[1],x=k(t.useState([]),2),b=x[0],_=x[1];t.useEffect((function(){"value"in f&&y(f.value||[])}),[f.value]);var w=function(){return o.map((function(e){return"string"===typeof e||"number"===typeof e?{label:e,value:e}:e}))},S=p("checkbox",s),E="".concat(S,"-group"),C=k(KO(S),2),T=C[0],M=C[1],I=Ai(f,["value","disabled"]);o&&o.length>0&&(i=w().map((function(e){return t.createElement(rP,{prefixCls:S,key:e.value.toString(),disabled:"disabled"in e?e.disabled:f.disabled,value:e.value,checked:g.includes(e.value),onChange:e.onChange,className:"".concat(E,"-item"),style:e.style},e.label)})));var O={toggleOption:function(e){var t=g.indexOf(e.value),n=l(g);-1===t?n.push(e.value):n.splice(t,1),"value"in f||y(n);var r=w();null===d||void 0===d||d(n.filter((function(e){return b.includes(e)})).sort((function(e,t){return r.findIndex((function(t){return t.value===e}))-r.findIndex((function(e){return e.value===t}))})))},value:g,disabled:f.disabled,name:f.name,registerValue:function(e){_((function(t){return[].concat(l(t),[e])}))},cancelValue:function(e){_((function(t){return t.filter((function(t){return t!==e}))}))}},P=Ue()(E,Fe({},"".concat(E,"-rtl"),"rtl"===m),c,M);return T(t.createElement("div",Object.assign({className:P,style:u},I,{ref:n}),t.createElement($O.Provider,{value:O},i)))},QO=t.forwardRef(JO),eP=t.memo(QO),tP=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},nP=function(e,n){var r,i,a=e.prefixCls,o=e.className,s=e.children,l=e.indeterminate,c=void 0!==l&&l,u=e.style,d=e.onMouseEnter,f=e.onMouseLeave,h=e.skipGroup,p=void 0!==h&&h,m=e.disabled,v=tP(e,["prefixCls","className","children","indeterminate","style","onMouseEnter","onMouseLeave","skipGroup","disabled"]),g=t.useContext(Ge),y=g.getPrefixCls,x=g.direction,b=t.useContext($O),_=t.useContext(Ov).isFormItemInput,w=t.useContext(Zv),S=null!==(i=(null===b||void 0===b?void 0:b.disabled)||m)&&void 0!==i?i:w,E=t.useRef(v.value);t.useEffect((function(){null===b||void 0===b||b.registerValue(v.value)}),[]),t.useEffect((function(){if(!p)return v.value!==E.current&&(null===b||void 0===b||b.cancelValue(E.current),null===b||void 0===b||b.registerValue(v.value),E.current=v.value),function(){return null===b||void 0===b?void 0:b.cancelValue(v.value)}}),[v.value]);var C=y("checkbox",a),T=k(KO(C),2),M=T[0],I=T[1],O=Object.assign({},v);b&&!p&&(O.onChange=function(){v.onChange&&v.onChange.apply(v,arguments),b.toggleOption&&b.toggleOption({label:s,value:v.value})},O.name=b.name,O.checked=b.value.includes(v.value));var P=Ue()((Fe(r={},"".concat(C,"-wrapper"),!0),Fe(r,"".concat(C,"-rtl"),"rtl"===x),Fe(r,"".concat(C,"-wrapper-checked"),O.checked),Fe(r,"".concat(C,"-wrapper-disabled"),S),Fe(r,"".concat(C,"-wrapper-in-form-item"),_),r),o,I),A=Ue()(Fe({},"".concat(C,"-indeterminate"),c),I),z=c?"mixed":void 0;return M(t.createElement("label",{className:P,style:u,onMouseEnter:d,onMouseLeave:f},t.createElement(WO,Object.assign({"aria-checked":z},O,{prefixCls:C,className:A,disabled:S,ref:n})),void 0!==s&&t.createElement("span",null,s)))};var rP=t.forwardRef(nP),iP=rP;iP.Group=eP,iP.__ANT_CHECKBOX=!0;var aP=iP,oP=function(){var e=k((0,t.useState)(""),2),n=e[0],r=e[1],i=k((0,t.useState)(""),2),a=i[0],o=i[1],s=k((0,t.useState)(""),2),l=s[0],c=s[1],u=k((0,t.useState)((Math.random()+1).toString(36).substring(7)),2),d=u[0],f=u[1],h=k((0,t.useState)(""),2),p=h[0],m=h[1],v=k((0,t.useState)(!1),2),g=v[0],y=v[1],x=k((0,t.useState)(!1),2),b=x[0],_=x[1],w=function(){var e=Be(Le().mark((function e(t){var r,i;return Le().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,_(!0),e.next=5,Po.post("/create-user",{email:a,name:n,about:l,password:d,role:p,checked:g});case 5:r=e.sent,(i=r.data).error?(h_.error(i.error),_(!1)):(h_.success("User created successfully"),_(!1)),e.next=15;break;case 10:e.prev=10,e.t0=e.catch(1),console.log(e.t0),h_.error("Signup failed. Try again."),_(!1);case 15:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}();return(0,zo.jsx)(zp,{children:(0,zo.jsxs)(Kp,{children:[(0,zo.jsx)(em,{xs:0,sm:0,md:6}),(0,zo.jsxs)(em,{s:24,sm:24,md:12,children:[(0,zo.jsx)("h1",{style:{fontWeight:"bold"},className:"text-2xl  text-blue-400",children:"Create User"}),(0,zo.jsx)(vb,{style:{margin:"20px 0px 10px 0px"},size:"large",placeholder:"Full name",value:n,onChange:function(e){return r(e.target.value)}}),(0,zo.jsx)(vb,{style:{margin:"10px 0px 10px 0px"},size:"large",placeholder:"Email",value:a,onChange:function(e){return o(e.target.value)}}),(0,zo.jsx)(vb,{style:{margin:"10px 0px 10px 0px"},size:"large",placeholder:"About",value:l,onChange:function(e){return c(e.target.value)}}),(0,zo.jsxs)("div",{style:{display:"flex"},children:[(0,zo.jsx)(Xx,{onClick:function(){return f((Math.random()+1).toString(36).substring(7))},type:"default",size:"large",style:{margin:"10px 0px 10px 0px"},children:"Generate password"}),(0,zo.jsx)(vb.Password,{style:{margin:"10px 0px 10px 0px"},size:"large",placeholder:"Password",value:d,onChange:function(e){return f(e.target.value)}})]}),(0,zo.jsxs)(DS,{defaultValue:"Subscriber",style:{margin:"10px 0px 10px 0px",width:"100%"},onChange:function(e){return m(e)},children:[(0,zo.jsx)(DS.Option,{value:"Subscriber",children:"Subscriber"}),(0,zo.jsx)(DS.Option,{value:"Vendor",children:"Vendor"}),(0,zo.jsx)(DS.Option,{value:"Admin",children:"Admin"})]}),(0,zo.jsx)(aP,{checked:g,onChange:function(e){return y(e.target.checked)},children:"Send the new user an email about their account."}),(0,zo.jsx)(Xx,{onClick:w,type:"default",style:{margin:"10px 0px 10px 0px"},loading:b,block:!0,children:"Submit"})]}),(0,zo.jsx)(em,{xs:0,sm:0,md:6})]})})},sP=function(){var e=k((0,t.useContext)(jo),2),n=e[0],r=e[1],i=k((0,t.useState)([]),2),a=i[0],o=i[1],s=k((0,t.useState)(""),2),l=s[0],c=s[1],u=k((0,t.useState)(!1),2),d=u[0],f=u[1];(0,t.useEffect)((function(){null!==n&&void 0!==n&&n.token&&h()}),[null===n||void 0===n?void 0:n.token]);var h=function(){var e=Be(Le().mark((function e(){var t,n;return Le().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Po.get("/requested-user");case 3:t=e.sent,n=t.data,o(n),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),p=function(){var e=Be(Le().mark((function e(t,i){var a,o,s,l;return Le().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,Po.put("/update-user-by-admin-confirm",{id:i._id,confirm:"yes"});case 4:a=e.sent,null!==(o=a.data)&&void 0!==o&&o.error?h_.error(o.error):((null===n||void 0===n||null===(s=n.user)||void 0===s?void 0:s._id)===o._id&&(r(Xe(Xe({},n),{},{user:o})),(l=JSON.parse(localStorage.getItem("auth"))).user=o,localStorage.setItem("auth",JSON.stringify(l))),h_.success("User updated successfully")),e.next=14;break;case 9:e.prev=9,e.t0=e.catch(1),console.log(e.t0),h_.error("User update failed. Try again."),f(!1);case 14:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t,n){return e.apply(this,arguments)}}(),m=a&&(null===a||void 0===a?void 0:a.filter((function(e){return e.name.toLowerCase().includes(l)})));return(0,zo.jsx)(zp,{children:(0,zo.jsxs)(Kp,{children:[(0,zo.jsx)(em,{sm:0,xm:0,md:4}),(0,zo.jsxs)(em,{sm:24,xm:24,md:16,children:[" ",(0,zo.jsx)("h1",{style:{fontWeight:"bold"},className:"text-2xl text-blue-400 ",children:"Requested Users"}),(0,zo.jsx)("br",{}),(0,zo.jsx)(vb,{placeholder:"Search",type:"search",value:l,onChange:function(e){return c(e.target.value.toLowerCase())}}),(0,zo.jsx)(hE,{itemLayout:"horizontal",dataSource:m,renderItem:function(e){var t,n;return(0,zo.jsxs)(hE.Item,{actions:[(0,zo.jsx)("span",{onClick:function(t){return p(t,e)},className:"text-blue-400",children:d?"loading..":"Confim"})],children:[(0,zo.jsx)(BO,{src:null===(t=e.image)||void 0===t?void 0:t.url,children:e.name[0]}),(0,zo.jsx)(hE.Item.Meta,{title:e.name,style:{marginLeft:10}}),(0,zo.jsx)(hE.Item.Meta,{description:e.email,style:{marginLeft:10}}),(0,zo.jsx)(hE.Item.Meta,{description:e.role,style:{marginLeft:10}}),(0,zo.jsx)(hE.Item.Meta,{description:"".concat(null===(n=e.services)||void 0===n?void 0:n.length," Service"),style:{marginLeft:10}})]})}})]}),(0,zo.jsx)(em,{sm:0,xm:0,md:4})]})})},lP=(wh.SubMenu,Vi.Sider),cP=function(){var e=k((0,t.useState)([]),2),n=e[0],r=e[1],i=k((0,t.useContext)(jo),2),a=(i[0],i[1],k((0,t.useState)(!1),2)),o=a[0],s=a[1],l=Bh();(0,t.useEffect)((function(){l<800?s(!0):l>800&&s(!1)}),[l<800]);var c=function(){var e=Be(Le().mark((function e(){var t,n;return Le().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Po.get("/categories");case 3:t=e.sent,n=t.data,r(n),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();return(0,t.useEffect)((function(){c()}),[]),(0,zo.jsx)(lP,{collapsible:!0,collapsed:o,onCollapse:function(){return s(!o)},style:{backgroundColor:"white"},children:(0,zo.jsxs)(wh,{defaultOpenKeys:["2","6","10"],mode:"inline",inlineCollapsed:o,children:[(0,zo.jsx)(wh.Item,{icon:(0,zo.jsx)(Uh,{}),children:(0,zo.jsx)(Mh,{to:"/vendor/Dashboard",children:"dashboard"})},"1"),(0,zo.jsx)(wh.Item,{icon:(0,zo.jsx)(ip,{}),children:(0,zo.jsx)(Mh,{to:"/vendor/create/services",children:"Create"})},"3"),(0,zo.jsx)(wh.Item,{icon:(0,zo.jsx)(fp,{}),children:(0,zo.jsx)(Mh,{to:"/vendor/rent/house",children:"Rent House"})},"33"),(0,zo.jsx)(wh.Item,{icon:(0,zo.jsx)(cp,{}),children:(0,zo.jsx)(Mh,{to:"/vendor/sell/house",children:"Sell House"})},"34"),null===n||void 0===n?void 0:n.map((function(e,t){return(0,zo.jsx)(wh.Item,{icon:(0,zo.jsx)(pp,{}),children:(0,zo.jsx)(Mh,{to:"/vendor/category/".concat(e.slug),children:e.name})},t+19)})),(0,zo.jsx)(wh.Item,{icon:(0,zo.jsx)(Tp,{size:20}),children:(0,zo.jsx)(Mh,{to:"/vendor/profile",children:"My profile"})},"17")]})})},uP=Vi.Content;var dP=function(e){var n=e.children,r=k((0,t.useContext)(jo),2),i=r[0],a=(r[1],k((0,t.useState)(!0),2)),o=a[0],s=a[1],l=be();(0,t.useEffect)((function(){c()}),[null===i||void 0===i?void 0:i.token]);var c=function(){var e=Be(Le().mark((function e(){var t;return Le().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Po.get("/current-vendor");case 3:t=e.sent,t.data,s(!1),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0),l("/");case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();return(0,zo.jsxs)(Vi,{children:[(0,zo.jsx)(cP,{}),(0,zo.jsx)(Vi,{children:(0,zo.jsx)(uP,{style:{padding:"10px",backgroundColor:"white"},children:o?(0,zo.jsx)("div",{className:"text-center",children:(0,zo.jsx)("p",{children:"Loading..."})}):n})})]})},fP=function(){return(0,zo.jsx)(dP,{children:"VendorDashboard"})},hP=function(){return(0,zo.jsx)(dP,{children:(0,zo.jsx)(aO,{})})},pP=function(){var e=k((0,t.useContext)(gE),2),n=e[0],r=e[1],i=k((0,t.useState)(""),2),a=i[0],o=i[1],s=be(),l=n.service;(0,t.useEffect)((function(){c()}),[]);var c=function(){var e=Be(Le().mark((function e(){var t,n;return Le().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Po.get("/my-services");case 3:t=e.sent,n=t.data,r((function(e){return Xe(Xe({},e),{},{service:n})})),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),u=function(){var e=Be(Le().mark((function e(t){return Le().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",s("/vendor/service/".concat(t._id)));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),d=function(){var e=Be(Le().mark((function e(t){var n;return Le().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,window.confirm("Are you sure you want to delete?")){e.next=4;break}return e.abrupt("return");case 4:return e.next=6,Po.delete("/service/".concat(t._id));case 6:n=e.sent,n.data.ok&&r((function(e){return Xe(Xe({},e),{},{service:e.service.filter((function(e){return e._id!==t._id}))})})),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}(),f=null===l||void 0===l?void 0:l.filter((function(e){return"RentHouse"===e.type}));return(0,zo.jsx)(dP,{children:(0,zo.jsx)(Kp,{children:(0,zo.jsxs)(em,{span:24,children:[(0,zo.jsx)(Xx,{children:(0,zo.jsxs)(Mh,{to:"/vendor/create/services",style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"2px"},children:[(0,zo.jsx)(uO,{})," Add New"]})}),(0,zo.jsxs)("h1",{style:{marginTop:15},children:[null===f||void 0===f?void 0:f.length," Rent Services"]}),(0,zo.jsx)(vb,{placeholder:"Search",type:"search",value:a,onChange:function(e){return o(e.target.value.toLowerCase())}}),(0,zo.jsx)(dO,{services:null===f||void 0===f?void 0:f.filter((function(e){return e.title.toLowerCase().includes(a)})),handleEdit:u,handleDelete:d})]})})})},mP=function(){var e=k((0,t.useContext)(gE),2),n=e[0],r=e[1],i=k((0,t.useState)(""),2),a=i[0],o=i[1],s=be(),l=n.service;(0,t.useEffect)((function(){c()}),[]);var c=function(){var e=Be(Le().mark((function e(){var t,n;return Le().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Po.get("/my-services");case 3:t=e.sent,n=t.data,r((function(e){return Xe(Xe({},e),{},{service:n})})),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),u=function(){var e=Be(Le().mark((function e(t){return Le().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",s("/vendor/service/".concat(t._id)));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),d=function(){var e=Be(Le().mark((function e(t){var n;return Le().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,window.confirm("Are you sure you want to delete?")){e.next=4;break}return e.abrupt("return");case 4:return e.next=6,Po.delete("/service/".concat(t._id));case 6:n=e.sent,n.data.ok&&r((function(e){return Xe(Xe({},e),{},{service:e.service.filter((function(e){return e._id!==t._id}))})})),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}(),f=null===l||void 0===l?void 0:l.filter((function(e){return"SellHouse"===e.type}));return(0,zo.jsx)(dP,{children:(0,zo.jsx)(Kp,{children:(0,zo.jsxs)(em,{span:24,children:[(0,zo.jsx)(Xx,{children:(0,zo.jsxs)(Mh,{to:"/vendor/create/services",style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"2px"},children:[(0,zo.jsx)(uO,{})," Add New"]})}),(0,zo.jsxs)("h1",{style:{marginTop:15},children:[null===f||void 0===f?void 0:f.length," Sell Services"]}),(0,zo.jsx)(vb,{placeholder:"Search",type:"search",value:a,onChange:function(e){return o(e.target.value.toLowerCase())}}),(0,zo.jsx)(dO,{services:null===f||void 0===f?void 0:f.filter((function(e){return e.title.toLowerCase().includes(a)})),handleEdit:u,handleDelete:d})]})})})},vP=function(){return(0,zo.jsx)(dP,{children:(0,zo.jsx)(pO,{})})},gP=function(e){var t,n=e.componentCls,r=e.sizePaddingEdgeHorizontal,i=e.colorSplit,a=e.lineWidth;return Fe({},n,Object.assign(Object.assign({},Hn(e)),(Fe(t={borderBlockStart:"".concat(a,"px solid ").concat(i),"&-vertical":{position:"relative",top:"-0.06em",display:"inline-block",height:"0.9em",margin:"0 ".concat(e.dividerVerticalGutterMargin,"px"),verticalAlign:"middle",borderTop:0,borderInlineStart:"".concat(a,"px solid ").concat(i)},"&-horizontal":{display:"flex",clear:"both",width:"100%",minWidth:"100%",margin:"".concat(e.dividerHorizontalGutterMargin,"px 0")}},"&-horizontal".concat(n,"-with-text"),{display:"flex",alignItems:"center",margin:"".concat(e.dividerHorizontalWithTextGutterMargin,"px 0"),color:e.colorTextHeading,fontWeight:500,fontSize:e.fontSizeLG,whiteSpace:"nowrap",textAlign:"center",borderBlockStart:"0 ".concat(i),"&::before, &::after":{position:"relative",width:"50%",borderBlockStart:"".concat(a,"px solid transparent"),borderBlockStartColor:"inherit",borderBlockEnd:0,transform:"translateY(50%)",content:"''"}}),Fe(t,"&-horizontal".concat(n,"-with-text-left"),{"&::before":{width:"5%"},"&::after":{width:"95%"}}),Fe(t,"&-horizontal".concat(n,"-with-text-right"),{"&::before":{width:"95%"},"&::after":{width:"5%"}}),Fe(t,"".concat(n,"-inner-text"),{display:"inline-block",padding:"0 1em"}),Fe(t,"&-dashed",{background:"none",borderColor:i,borderStyle:"dashed",borderWidth:"".concat(a,"px 0 0")}),Fe(t,"&-horizontal".concat(n,"-with-text").concat(n,"-dashed"),{"&::before, &::after":{borderStyle:"dashed none none"}}),Fe(t,"&-vertical".concat(n,"-dashed"),{borderInlineStart:a,borderInlineEnd:0,borderBlockStart:0,borderBlockEnd:0}),Fe(t,"&-plain".concat(n,"-with-text"),{color:e.colorText,fontWeight:"normal",fontSize:e.fontSize}),Fe(t,"&-horizontal".concat(n,"-with-text-left").concat(n,"-no-default-orientation-margin-left"),Fe({"&::before":{width:0},"&::after":{width:"100%"}},"".concat(n,"-inner-text"),{paddingInlineStart:r})),Fe(t,"&-horizontal".concat(n,"-with-text-right").concat(n,"-no-default-orientation-margin-right"),Fe({"&::before":{width:"100%"},"&::after":{width:0}},"".concat(n,"-inner-text"),{paddingInlineEnd:r})),t)))},yP=Xr("Divider",(function(e){var t=Gr(e,{dividerVerticalGutterMargin:e.marginXS,dividerHorizontalWithTextGutterMargin:e.margin,dividerHorizontalGutterMargin:e.marginLG});return[gP(t)]}),{sizePaddingEdgeHorizontal:0}),xP=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};var bP=function(e){var n,r=t.useContext(Ge),i=r.getPrefixCls,a=r.direction,o=e.prefixCls,s=e.type,l=void 0===s?"horizontal":s,c=e.orientation,u=void 0===c?"center":c,d=e.orientationMargin,f=e.className,h=e.children,p=e.dashed,m=e.plain,v=xP(e,["prefixCls","type","orientation","orientationMargin","className","children","dashed","plain"]),g=i("divider",o),y=k(yP(g),2),x=y[0],b=y[1],_=u.length>0?"-".concat(u):u,w=!!h,S="left"===u&&null!=d,E="right"===u&&null!=d,C=Ue()(g,b,"".concat(g,"-").concat(l),(Fe(n={},"".concat(g,"-with-text"),w),Fe(n,"".concat(g,"-with-text").concat(_),w),Fe(n,"".concat(g,"-dashed"),!!p),Fe(n,"".concat(g,"-plain"),!!m),Fe(n,"".concat(g,"-rtl"),"rtl"===a),Fe(n,"".concat(g,"-no-default-orientation-margin-left"),S),Fe(n,"".concat(g,"-no-default-orientation-margin-right"),E),n),f),T=Object.assign(Object.assign({},S&&{marginLeft:d}),E&&{marginRight:d});return x(t.createElement("div",Object.assign({className:C},v,{role:"separator"}),h&&"vertical"!==l&&t.createElement("span",{className:"".concat(g,"-inner-text"),style:T},h)))},_P=n(2428),wP=n.n(_P),kP=(DS.Option,function(){var e=wP().getKinds().slice(1,3),n=k((0,t.useState)(["Select One"].concat(l(e))),2),r=n[0],i=n[1],a=k((0,t.useState)(!1),2),o=a[0],s=a[1],c=k((0,t.useState)(),2),u=c[0],d=c[1],f=k((0,t.useState)(),2),h=(f[0],f[1]),p=k((0,t.useState)({fromUnit:"",toUnit:"",number:""}),2),m=p[0],v=p[1],g=k((0,t.useState)({result:""}),2),y=g[0],x=g[1],b=function(e){var t=e.target,n=t.name,r=t.value;e.preventDefault(),!0===o&&v(Xe(Xe({},m),{},Fe({},n,r)))};(0,t.useEffect)((function(){var e=wP()(m.number+m.fromUnit).to(m.toUnit),t=e.scalar;console.log(e),console.log(m),x({result:t})}),[m]);var _=(0,zo.jsxs)("select",{defaultValue:"Sq.ft.",style:{width:"100%",padding:"10px",borderRadius:"5px",outline:"none"},className:"bg-gray-200",name:"toUnit",onChange:b,value:m.toUnit,children:[(0,zo.jsx)("option",{children:o?"Select Measurement":"Select Unit First"}),u]}),w=(0,zo.jsxs)("select",{defaultValue:"Sq.ft.",style:{width:"100%",padding:"10px",borderRadius:"5px",outline:"none"},className:"bg-gray-200",name:"fromUnit",onChange:b,value:m.fromUnit,children:[(0,zo.jsx)("option",{children:o?"Select Measurement":"Select Unit First"}),u]});return(0,zo.jsx)("section",{className:"text-gray-600 body-font",children:(0,zo.jsxs)("div",{className:"container px-5 py-24 mx-auto",children:[(0,zo.jsxs)("div",{className:"flex flex-col text-center w-full mb-12",children:[(0,zo.jsx)(bP,{orientation:"center",children:(0,zo.jsx)("h4",{style:{marginBottom:"-10px",fontWeight:"bold"},className:"text-5xl mb-5 text-blue-400",children:"Converter"})}),(0,zo.jsx)("br",{}),(0,zo.jsx)("div",{className:"text-center"})]}),(0,zo.jsxs)("div",{className:"flex lg:w-2/3 w-full sm:flex-row flex-col mx-auto px-8 sm:space-x-4 sm:space-y-0 space-y-4 sm:px-0 items-end",children:[(0,zo.jsx)("div",{className:"relative flex-grow w-full",children:(0,zo.jsx)("select",{defaultValue:"Sq.ft.",style:{width:"100%",padding:"10px",borderRadius:"5px",outline:"none"},className:"bg-gray-200",onChange:function(t){var n=t.target.value;i(e),s(!0),d(wP().getUnits(n).map((function(e){return(0,zo.jsxs)("option",{id:e,children:[e,v((function(t){return Xe(Xe({},t),{},{fromUnit:e})}))]},e)}))),h(wP().getUnits(n).map((function(e){return(0,zo.jsxs)("option",{id:e,children:[e,v((function(t){return Xe(Xe({},t),{},{number:.05,toUnit:e})}))]},e)})))},value:Xe({},r),children:r.map((function(e){return(0,zo.jsx)("option",{id:e,value:e,children:e},e)}))})}),(0,zo.jsx)("div",{className:"relative flex-grow w-full",children:w}),(0,zo.jsx)("div",{className:"relative flex-grow w-full",children:_})]}),(0,zo.jsx)("br",{}),(0,zo.jsx)("br",{}),(0,zo.jsx)("br",{}),(0,zo.jsxs)("div",{className:"text-center",children:[(0,zo.jsx)("input",{type:"number",name:"number",onChange:b,placeholder:"Enter Whole Number",className:"text-gray-700  border-b-4 border-blue-500 hover:border-blue-600 focus:border-blue-600 py-2 px-8 focus:outline-none   text-lg"}),(0,zo.jsx)("br",{}),(0,zo.jsx)("br",{}),(0,zo.jsxs)("button",{className:"text-white bg-blue-500 border-0 py-2 px-8 focus:outline-none hover:bg-blue-600 rounded text-4xl",children:["Conversion = ",m.number>.5?y.result:""]})]})]})})}),SP=function(){var e,n,r,i=k((0,t.useState)(""),2),a=i[0],o=i[1],s=k((0,t.useState)(""),2),l=s[0],c=s[1],u=k((0,t.useState)(""),2),d=u[0],f=u[1],h=k((0,t.useState)(""),2),p=h[0],m=h[1],v=k((0,t.useState)(),2),g=v[0],y=v[1],x=k((0,t.useState)(""),2),b=x[0],_=x[1],w=k((0,t.useState)({}),2),S=w[0],E=w[1],C=k((0,t.useState)(!1),2),T=C[0],M=C[1],I=k((0,t.useContext)(jo),2),O=I[0],P=I[1],A=k((0,t.useContext)(bT),2),z=A[0],j=(A[1],be());(0,t.useEffect)((function(){var e=function(){var e=Be(Le().mark((function e(){var t,n,r;return Le().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Po.get("/user/".concat(null===O||void 0===O||null===(t=O.user)||void 0===t?void 0:t._id));case 3:n=e.sent,r=n.data,console.log(r,"from profile"),o(r._id),c(r.name),f(r.email),m(r.about),_(r.role),E(r.image),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),console.log(e.t0);case 17:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(){return e.apply(this,arguments)}}();null!==O&&void 0!==O&&O.token&&e()}),[O,null===j||void 0===j||null===(e=j.query)||void 0===e?void 0:e.id]);var R=function(){var e=Be(Le().mark((function e(t){var n,r,i,o;return Le().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,Po.put("/update-user-by-user",{id:a,name:l,email:d,password:g,about:p,role:b,image:null!==z&&void 0!==z&&z.selected[0]?null===z||void 0===z?void 0:z.selected[0]:null!==S&&void 0!==S&&S._id?null===S||void 0===S?void 0:S._id:void 0});case 4:n=e.sent,null!==(r=n.data)&&void 0!==r&&r.error?h_.error(r.error):((null===O||void 0===O||null===(i=O.user)||void 0===i?void 0:i._id)===r._id&&(P(Xe(Xe({},O),{},{user:r})),(o=JSON.parse(localStorage.getItem("auth"))).user=r,localStorage.setItem("auth",JSON.stringify(o))),h_.success("User updated successfully")),e.next=14;break;case 9:e.prev=9,e.t0=e.catch(1),console.log(e.t0),h_.error("User update failed. Try again."),M(!1);case 14:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}();return(0,zo.jsx)(zp,{children:(0,zo.jsxs)(Kp,{children:[(0,zo.jsx)(em,{sm:0,xs:0,md:6}),(0,zo.jsxs)(em,{sm:24,xs:24,md:12,children:[(0,zo.jsx)("div",{style:{marginBottom:20,textAlign:"center"},children:null!==S&&void 0!==S&&S.url?(0,zo.jsxs)(zo.Fragment,{children:[(0,zo.jsx)("div",{style:{marginBottom:15}}),(0,zo.jsx)(BO,{src:S.url,size:100})]}):z.selected?(0,zo.jsxs)(zo.Fragment,{children:[(0,zo.jsx)("div",{style:{marginBottom:15}}),(0,zo.jsx)(BO,{src:null===(n=z.selected[0])||void 0===n?void 0:n.url,size:100})]}):""}),"Subscriber"!==(null===O||void 0===O||null===(r=O.user)||void 0===r?void 0:r.role)&&(0,zo.jsx)(rO,{}),(0,zo.jsx)(vb,{style:{margin:"20px 0px 10px 0px"},size:"large",placeholder:"Full name",value:l,onChange:function(e){return c(e.target.value)}}),(0,zo.jsx)(vb,{style:{margin:"10px 0px 10px 0px"},size:"large",placeholder:"Email",value:d,onChange:function(e){return f(e.target.value)}}),(0,zo.jsx)(vb.TextArea,{style:{margin:"10px 0px 10px 0px"},size:"large",placeholder:"About...",value:p,onChange:function(e){return m(e.target.value)}}),(0,zo.jsx)(vb.Password,{style:{margin:"10px 0px 10px 0px"},size:"large",placeholder:"Password",value:g,onChange:function(e){return y(e.target.value)}}),(0,zo.jsx)(Xx,{onClick:R,type:"default",style:{margin:"10px 0px 10px 0px"},loading:T,block:!0,children:"Submit"})]}),(0,zo.jsx)(em,{sm:0,xs:0,md:6})]})})},EP=function(){var e=_e().slug,n=k((0,t.useContext)(gE),2),r=n[0],i=n[1],a=k((0,t.useState)(""),2),o=a[0],s=a[1],l=be(),c=r.service;(0,t.useEffect)((function(){u()}),[]);var u=function(){var e=Be(Le().mark((function e(){var t,n;return Le().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Po.get("/services");case 3:t=e.sent,n=t.data,i((function(e){return Xe(Xe({},e),{},{service:n})})),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),d=function(){var e=Be(Le().mark((function e(t){return Le().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",l("/edit/".concat(t._id)));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),f=function(){var e=Be(Le().mark((function e(t){var n;return Le().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,window.confirm("Are you sure you want to delete?")){e.next=4;break}return e.abrupt("return");case 4:return e.next=6,Po.delete("/service/".concat(t._id));case 6:n=e.sent,n.data.ok&&i((function(e){return Xe(Xe({},e),{},{service:e.service.filter((function(e){return e._id!==t._id}))})})),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}(),h=null===c||void 0===c?void 0:c.filter((function(t){return t.category.toLowerCase()==e}));return(0,zo.jsx)(zp,{children:(0,zo.jsx)(Kp,{children:(0,zo.jsxs)(em,{xs:22,sm:22,lg:22,offset:1,children:[(0,zo.jsx)(Xx,{children:(0,zo.jsxs)(Mh,{to:"/create/service",style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"2px"},children:[(0,zo.jsx)(uO,{})," Add New"]})}),(0,zo.jsxs)("h1",{style:{marginTop:15},children:[null===h||void 0===h?void 0:h.length," ",e]}),(0,zo.jsx)(vb,{placeholder:"Search",type:"search",value:o,onChange:function(e){return s(e.target.value.toLowerCase())}}),(0,zo.jsx)(dO,{services:null===h||void 0===h?void 0:h.filter((function(e){return e.title.toLowerCase().includes(o)})),handleEdit:d,handleDelete:f})]})})})},CP=function(){var e=_e().slug,n=k((0,t.useContext)(gE),2),r=n[0],i=n[1],a=k((0,t.useState)(""),2),o=a[0],s=a[1],l=be(),c=r.service;(0,t.useEffect)((function(){u()}),[]);var u=function(){var e=Be(Le().mark((function e(){var t,n;return Le().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Po.get("/services");case 3:t=e.sent,n=t.data,i((function(e){return Xe(Xe({},e),{},{service:n})})),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),d=function(){var e=Be(Le().mark((function e(t){return Le().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",l("/edit/".concat(t._id)));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),f=function(){var e=Be(Le().mark((function e(t){var n;return Le().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,window.confirm("Are you sure you want to delete?")){e.next=4;break}return e.abrupt("return");case 4:return e.next=6,Po.delete("/service/".concat(t._id));case 6:n=e.sent,n.data.ok&&i((function(e){return Xe(Xe({},e),{},{service:e.service.filter((function(e){return e._id!==t._id}))})})),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}(),h=null===c||void 0===c?void 0:c.filter((function(t){return t.categories===e}));return(0,zo.jsx)(dP,{children:(0,zo.jsx)(Kp,{children:(0,zo.jsxs)(em,{xs:22,sm:22,lg:22,offset:1,children:[(0,zo.jsx)(Xx,{children:(0,zo.jsxs)(Mh,{to:"/vendor/create/services",style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"2px"},children:[(0,zo.jsx)(uO,{})," Add New"]})}),(0,zo.jsxs)("h1",{style:{marginTop:15},children:[null===h||void 0===h?void 0:h.length," ",e]}),(0,zo.jsx)(vb,{placeholder:"Search",type:"search",value:o,onChange:function(e){return s(e.target.value.toLowerCase())}}),(0,zo.jsx)(dO,{services:null===h||void 0===h?void 0:h.filter((function(e){return e.title.toLowerCase().includes(o)})),handleEdit:d,handleDelete:f})]})})})},TP=function(){var e,n,r,i=k((0,t.useState)(""),2),a=i[0],o=i[1],s=k((0,t.useState)(""),2),l=s[0],c=s[1],u=k((0,t.useState)(""),2),d=u[0],f=u[1],h=k((0,t.useState)(""),2),p=h[0],m=h[1],v=k((0,t.useState)(),2),g=v[0],y=v[1],x=k((0,t.useState)(""),2),b=x[0],_=x[1],w=k((0,t.useState)({}),2),S=w[0],E=w[1],C=k((0,t.useState)(!1),2),T=C[0],M=C[1],I=k((0,t.useContext)(jo),2),O=I[0],P=I[1],A=k((0,t.useContext)(bT),2),z=A[0],j=(A[1],be());(0,t.useEffect)((function(){var e=function(){var e=Be(Le().mark((function e(){var t,n,r;return Le().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Po.get("/user/".concat(null===O||void 0===O||null===(t=O.user)||void 0===t?void 0:t._id));case 3:n=e.sent,r=n.data,console.log(r,"from profile"),o(r._id),c(r.name),f(r.email),m(r.about),_(r.role),E(r.image),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),console.log(e.t0);case 17:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(){return e.apply(this,arguments)}}();null!==O&&void 0!==O&&O.token&&e()}),[O,null===j||void 0===j||null===(e=j.query)||void 0===e?void 0:e.id]);var R=function(){var e=Be(Le().mark((function e(t){var n,r,i,o;return Le().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,Po.put("/update-user-by-user",{id:a,name:l,email:d,password:g,about:p,role:b,image:null!==z&&void 0!==z&&z.selected[0]?null===z||void 0===z?void 0:z.selected[0]:null!==S&&void 0!==S&&S._id?null===S||void 0===S?void 0:S._id:void 0});case 4:n=e.sent,null!==(r=n.data)&&void 0!==r&&r.error?h_.error(r.error):((null===O||void 0===O||null===(i=O.user)||void 0===i?void 0:i._id)===r._id&&(P(Xe(Xe({},O),{},{user:r})),(o=JSON.parse(localStorage.getItem("auth"))).user=r,localStorage.setItem("auth",JSON.stringify(o))),h_.success("User updated successfully")),e.next=14;break;case 9:e.prev=9,e.t0=e.catch(1),console.log(e.t0),h_.error("User update failed. Try again."),M(!1);case 14:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}();return(0,zo.jsx)(dP,{children:(0,zo.jsxs)(Kp,{children:[(0,zo.jsx)(em,{sm:0,xs:0,md:6}),(0,zo.jsxs)(em,{sm:24,xs:24,md:12,children:[(0,zo.jsx)("div",{style:{marginBottom:20,textAlign:"center"},children:null!==S&&void 0!==S&&S.url?(0,zo.jsxs)(zo.Fragment,{children:[(0,zo.jsx)("div",{style:{marginBottom:15}}),(0,zo.jsx)(BO,{src:S.url,size:100})]}):z.selected?(0,zo.jsxs)(zo.Fragment,{children:[(0,zo.jsx)("div",{style:{marginBottom:15}}),(0,zo.jsx)(BO,{src:null===(n=z.selected[0])||void 0===n?void 0:n.url,size:100})]}):""}),"Subscriber"!==(null===O||void 0===O||null===(r=O.user)||void 0===r?void 0:r.role)&&(0,zo.jsx)(rO,{}),(0,zo.jsx)(vb,{style:{margin:"20px 0px 10px 0px"},size:"large",placeholder:"Full name",value:l,onChange:function(e){return c(e.target.value)}}),(0,zo.jsx)(vb,{style:{margin:"10px 0px 10px 0px"},size:"large",placeholder:"Email",value:d,onChange:function(e){return f(e.target.value)}}),(0,zo.jsx)(vb.TextArea,{style:{margin:"10px 0px 10px 0px"},size:"large",placeholder:"About...",value:p,onChange:function(e){return m(e.target.value)}}),(0,zo.jsx)(vb.Password,{style:{margin:"10px 0px 10px 0px"},size:"large",placeholder:"Password",value:g,onChange:function(e){return y(e.target.value)}}),(0,zo.jsx)(Xx,{onClick:R,type:"default",style:{margin:"10px 0px 10px 0px"},loading:T,block:!0,children:"Submit"})]}),(0,zo.jsx)(em,{sm:0,xs:0,md:6})]})})},MP=function(e){var n,r,i=e.prefixCls,a=e.className,o=e.style,s=e.size,l=e.shape,c=Ue()((Fe(n={},"".concat(i,"-lg"),"large"===s),Fe(n,"".concat(i,"-sm"),"small"===s),n)),u=Ue()((Fe(r={},"".concat(i,"-circle"),"circle"===l),Fe(r,"".concat(i,"-square"),"square"===l),Fe(r,"".concat(i,"-round"),"round"===l),r)),d=t.useMemo((function(){return"number"===typeof s?{width:s,height:s,lineHeight:"".concat(s,"px")}:{}}),[s]);return t.createElement("span",{className:Ue()(i,c,u,a),style:Object.assign(Object.assign({},d),o)})},IP=new Rn("ant-skeleton-loading",{"0%":{transform:"translateX(-37.5%)"},"100%":{transform:"translateX(37.5%)"}}),OP=function(e){return{height:e,lineHeight:"".concat(e,"px")}},PP=function(e){return Object.assign({width:e},OP(e))},AP=function(e){return Object.assign({width:5*e,minWidth:5*e},OP(e))},zP=function(e){return Object.assign({width:e},OP(e))},jP=function(e,t,n){var r,i=e.skeletonButtonCls;return Fe(r={},"".concat(n).concat(i,"-circle"),{width:t,minWidth:t,borderRadius:"50%"}),Fe(r,"".concat(n).concat(i,"-round"),{borderRadius:t}),r},RP=function(e){return Object.assign({width:2*e,minWidth:2*e},OP(e))},DP=function(e){var t,n,r,i,a,o=e.componentCls,s=e.skeletonAvatarCls,l=e.skeletonTitleCls,c=e.skeletonParagraphCls,u=e.skeletonButtonCls,d=e.skeletonInputCls,f=e.skeletonImageCls,h=e.controlHeight,p=e.controlHeightLG,m=e.controlHeightSM,v=e.color,g=e.padding,y=e.marginSM,x=e.borderRadius,b=e.skeletonTitleHeight,_=e.skeletonBlockRadius,w=e.skeletonParagraphLineHeight,k=e.controlHeightXS,S=e.skeletonParagraphMarginTop;return Fe(a={},"".concat(o),(Fe(r={display:"table",width:"100%"},"".concat(o,"-header"),(Fe(t={display:"table-cell",paddingInlineEnd:g,verticalAlign:"top"},"".concat(s),Object.assign({display:"inline-block",verticalAlign:"top",background:v},PP(h))),Fe(t,"".concat(s,"-circle"),{borderRadius:"50%"}),Fe(t,"".concat(s,"-lg"),Object.assign({},PP(p))),Fe(t,"".concat(s,"-sm"),Object.assign({},PP(m))),t)),Fe(r,"".concat(o,"-content"),(Fe(n={display:"table-cell",width:"100%",verticalAlign:"top"},"".concat(l),Fe({width:"100%",height:b,background:v,borderRadius:_},"+ ".concat(c),{marginBlockStart:m})),Fe(n,"".concat(c),{padding:0,"> li":{width:"100%",height:w,listStyle:"none",background:v,borderRadius:_,"+ li":{marginBlockStart:k}}}),Fe(n,"".concat(c,"> li:last-child:not(:first-child):not(:nth-child(2))"),{width:"61%"}),n)),Fe(r,"&-round ".concat(o,"-content"),Fe({},"".concat(l,", ").concat(c," > li"),{borderRadius:x})),r)),Fe(a,"".concat(o,"-with-avatar ").concat(o,"-content"),Fe({},"".concat(l),Fe({marginBlockStart:y},"+ ".concat(c),{marginBlockStart:S}))),Fe(a,"".concat(o).concat(o,"-element"),Object.assign(Object.assign(Object.assign(Object.assign({display:"inline-block",width:"auto"},function(e){var t=e.borderRadiusSM,n=e.skeletonButtonCls,r=e.controlHeight,i=e.controlHeightLG,a=e.controlHeightSM,o=e.color;return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Fe({},"".concat(n),Object.assign({display:"inline-block",verticalAlign:"top",background:o,borderRadius:t,width:2*r,minWidth:2*r},RP(r))),jP(e,r,n)),Fe({},"".concat(n,"-lg"),Object.assign({},RP(i)))),jP(e,i,"".concat(n,"-lg"))),Fe({},"".concat(n,"-sm"),Object.assign({},RP(a)))),jP(e,a,"".concat(n,"-sm")))}(e)),function(e){var t,n=e.skeletonAvatarCls,r=e.color,i=e.controlHeight,a=e.controlHeightLG,o=e.controlHeightSM;return Fe(t={},"".concat(n),Object.assign({display:"inline-block",verticalAlign:"top",background:r},PP(i))),Fe(t,"".concat(n).concat(n,"-circle"),{borderRadius:"50%"}),Fe(t,"".concat(n).concat(n,"-lg"),Object.assign({},PP(a))),Fe(t,"".concat(n).concat(n,"-sm"),Object.assign({},PP(o))),t}(e)),function(e){var t,n=e.controlHeight,r=e.borderRadiusSM,i=e.skeletonInputCls,a=e.controlHeightLG,o=e.controlHeightSM,s=e.color;return Fe(t={},"".concat(i),Object.assign({display:"inline-block",verticalAlign:"top",background:s,borderRadius:r},AP(n))),Fe(t,"".concat(i,"-lg"),Object.assign({},AP(a))),Fe(t,"".concat(i,"-sm"),Object.assign({},AP(o))),t}(e)),function(e){var t,n,r=e.skeletonImageCls,i=e.imageSizeBase,a=e.color,o=e.borderRadiusSM;return Fe(n={},"".concat(r),Object.assign(Object.assign({display:"flex",alignItems:"center",justifyContent:"center",verticalAlign:"top",background:a,borderRadius:o},zP(2*i)),(Fe(t={},"".concat(r,"-path"),{fill:"#bfbfbf"}),Fe(t,"".concat(r,"-svg"),Object.assign(Object.assign({},zP(i)),{maxWidth:4*i,maxHeight:4*i})),Fe(t,"".concat(r,"-svg").concat(r,"-svg-circle"),{borderRadius:"50%"}),t))),Fe(n,"".concat(r).concat(r,"-circle"),{borderRadius:"50%"}),n}(e))),Fe(a,"".concat(o).concat(o,"-block"),(Fe(i={width:"100%"},"".concat(u),{width:"100%"}),Fe(i,"".concat(d),{width:"100%"}),i)),Fe(a,"".concat(o).concat(o,"-active"),Fe({},"\n        ".concat(l,",\n        ").concat(c," > li,\n        ").concat(s,",\n        ").concat(u,",\n        ").concat(d,",\n        ").concat(f,"\n      "),Object.assign({},function(e){return{position:"relative",zIndex:0,overflow:"hidden",background:"transparent","&::after":{position:"absolute",top:0,insetInlineEnd:"-150%",bottom:0,insetInlineStart:"-150%",background:e.skeletonLoadingBackground,animationName:IP,animationDuration:e.skeletonLoadingMotionDuration,animationTimingFunction:"ease",animationIterationCount:"infinite",content:'""'}}}(e)))),a},LP=Xr("Skeleton",(function(e){var t=e.componentCls,n=Gr(e,{skeletonAvatarCls:"".concat(t,"-avatar"),skeletonTitleCls:"".concat(t,"-title"),skeletonParagraphCls:"".concat(t,"-paragraph"),skeletonButtonCls:"".concat(t,"-button"),skeletonInputCls:"".concat(t,"-input"),skeletonImageCls:"".concat(t,"-image"),imageSizeBase:1.5*e.controlHeight,skeletonTitleHeight:e.controlHeight/2,skeletonBlockRadius:e.borderRadiusSM,skeletonParagraphLineHeight:e.controlHeight/2,skeletonParagraphMarginTop:e.marginLG+e.marginXXS,borderRadius:100,skeletonLoadingBackground:"linear-gradient(90deg, ".concat(e.color," 25%, ").concat(e.colorGradientEnd," 37%, ").concat(e.color," 63%)"),skeletonLoadingMotionDuration:"1.4s"});return[DP(n)]}),(function(e){return{color:e.colorFillContent,colorGradientEnd:e.colorFill}})),NP=function(e){var n=e.prefixCls,r=e.className,i=e.active,a=e.shape,o=void 0===a?"circle":a,s=e.size,l=void 0===s?"default":s,c=(0,t.useContext(Ge).getPrefixCls)("skeleton",n),u=k(LP(c),2),d=u[0],f=u[1],h=Ai(e,["prefixCls","className"]),p=Ue()(c,"".concat(c,"-element"),Fe({},"".concat(c,"-active"),i),r,f);return d(t.createElement("div",{className:p},t.createElement(MP,Object.assign({prefixCls:"".concat(c,"-avatar"),shape:o,size:l},h))))},BP=function(e){var n,r=e.prefixCls,i=e.className,a=e.active,o=e.block,s=void 0!==o&&o,l=e.size,c=void 0===l?"default":l,u=(0,t.useContext(Ge).getPrefixCls)("skeleton",r),d=k(LP(u),2),f=d[0],h=d[1],p=Ai(e,["prefixCls"]),m=Ue()(u,"".concat(u,"-element"),(Fe(n={},"".concat(u,"-active"),a),Fe(n,"".concat(u,"-block"),s),n),i,h);return f(t.createElement("div",{className:m},t.createElement(MP,Object.assign({prefixCls:"".concat(u,"-button"),size:c},p))))},FP={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M888 792H200V168c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v688c0 4.4 3.6 8 8 8h752c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM288 604a64 64 0 10128 0 64 64 0 10-128 0zm118-224a48 48 0 1096 0 48 48 0 10-96 0zm158 228a96 96 0 10192 0 96 96 0 10-192 0zm148-314a56 56 0 10112 0 56 56 0 10-112 0z"}}]},name:"dot-chart",theme:"outlined"},VP=function(e,n){return t.createElement(ki,Xe(Xe({},e),{},{ref:n,icon:FP}))};VP.displayName="DotChartOutlined";var UP=t.forwardRef(VP),HP=function(e){var n=e.prefixCls,r=e.className,i=e.style,a=e.active,o=e.children,s=(0,t.useContext(Ge).getPrefixCls)("skeleton",n),l=k(LP(s),2),c=l[0],u=l[1],d=Ue()(s,"".concat(s,"-element"),Fe({},"".concat(s,"-active"),a),u,r),f=null!==o&&void 0!==o?o:t.createElement(UP,null);return c(t.createElement("div",{className:d},t.createElement("div",{className:Ue()("".concat(s,"-image"),r),style:i},f)))},GP=function(e){var n=e.prefixCls,r=e.className,i=e.style,a=e.active,o=(0,t.useContext(Ge).getPrefixCls)("skeleton",n),s=k(LP(o),2),l=s[0],c=s[1],u=Ue()(o,"".concat(o,"-element"),Fe({},"".concat(o,"-active"),a),r,c);return l(t.createElement("div",{className:u},t.createElement("div",{className:Ue()("".concat(o,"-image"),r),style:i},t.createElement("svg",{viewBox:"0 0 1098 1024",xmlns:"http://www.w3.org/2000/svg",className:"".concat(o,"-image-svg")},t.createElement("path",{d:"M365.714286 329.142857q0 45.714286-32.036571 77.677714t-77.677714 32.036571-77.677714-32.036571-32.036571-77.677714 32.036571-77.677714 77.677714-32.036571 77.677714 32.036571 32.036571 77.677714zM950.857143 548.571429l0 256-804.571429 0 0-109.714286 182.857143-182.857143 91.428571 91.428571 292.571429-292.571429zM1005.714286 146.285714l-914.285714 0q-7.460571 0-12.873143 5.412571t-5.412571 12.873143l0 694.857143q0 7.460571 5.412571 12.873143t12.873143 5.412571l914.285714 0q7.460571 0 12.873143-5.412571t5.412571-12.873143l0-694.857143q0-7.460571-5.412571-12.873143t-12.873143-5.412571zM1097.142857 164.571429l0 694.857143q0 37.741714-26.843429 64.585143t-64.585143 26.843429l-914.285714 0q-37.741714 0-64.585143-26.843429t-26.843429-64.585143l0-694.857143q0-37.741714 26.843429-64.585143t64.585143-26.843429l914.285714 0q37.741714 0 64.585143 26.843429t26.843429 64.585143z",className:"".concat(o,"-image-path")})))))},WP=function(e){var n,r=e.prefixCls,i=e.className,a=e.active,o=e.block,s=e.size,l=void 0===s?"default":s,c=(0,t.useContext(Ge).getPrefixCls)("skeleton",r),u=k(LP(c),2),d=u[0],f=u[1],h=Ai(e,["prefixCls"]),p=Ue()(c,"".concat(c,"-element"),(Fe(n={},"".concat(c,"-active"),a),Fe(n,"".concat(c,"-block"),o),n),i,f);return d(t.createElement("div",{className:p},t.createElement(MP,Object.assign({prefixCls:"".concat(c,"-input"),size:l},h))))},qP=function(e){var n=function(t){var n=e.width,r=e.rows,i=void 0===r?2:r;return Array.isArray(n)?n[t]:i-1===t?n:void 0},r=e.prefixCls,i=e.className,a=e.style,o=e.rows,s=l(Array(o)).map((function(e,r){return t.createElement("li",{key:r,style:{width:n(r)}})}));return t.createElement("ul",{className:Ue()(r,i),style:a},s)},XP=function(e){var n=e.prefixCls,r=e.className,i=e.width,a=e.style;return t.createElement("h3",{className:Ue()(n,r),style:Object.assign({width:i},a)})};function ZP(e){return e&&"object"===typeof e?e:{}}var KP=function(e){var n=e.prefixCls,r=e.loading,i=e.className,a=e.style,o=e.children,s=e.avatar,l=void 0!==s&&s,c=e.title,u=void 0===c||c,d=e.paragraph,f=void 0===d||d,h=e.active,p=e.round,m=t.useContext(Ge),v=m.getPrefixCls,g=m.direction,y=v("skeleton",n),x=k(LP(y),2),b=x[0],_=x[1];if(r||!("loading"in e)){var w,S,E,C=!!l,T=!!u,M=!!f;if(C){var I=Object.assign(Object.assign({prefixCls:"".concat(y,"-avatar")},function(e,t){return e&&!t?{size:"large",shape:"square"}:{size:"large",shape:"circle"}}(T,M)),ZP(l));S=t.createElement("div",{className:"".concat(y,"-header")},t.createElement(MP,Object.assign({},I)))}if(T||M){var O,P;if(T){var A=Object.assign(Object.assign({prefixCls:"".concat(y,"-title")},function(e,t){return!e&&t?{width:"38%"}:e&&t?{width:"50%"}:{}}(C,M)),ZP(u));O=t.createElement(XP,Object.assign({},A))}if(M){var z=Object.assign(Object.assign({prefixCls:"".concat(y,"-paragraph")},function(e,t){var n={};return e&&t||(n.width="61%"),n.rows=!e&&t?3:2,n}(C,T)),ZP(f));P=t.createElement(qP,Object.assign({},z))}E=t.createElement("div",{className:"".concat(y,"-content")},O,P)}var j=Ue()(y,(Fe(w={},"".concat(y,"-with-avatar"),C),Fe(w,"".concat(y,"-active"),h),Fe(w,"".concat(y,"-rtl"),"rtl"===g),Fe(w,"".concat(y,"-round"),p),w),i,_);return b(t.createElement("div",{className:j,style:a},S,E))}return"undefined"!==typeof o?o:null};KP.Button=BP,KP.Avatar=NP,KP.Input=WP,KP.Image=GP,KP.Node=HP;var YP=KP,$P=(0,t.createContext)(null),JP=t.forwardRef((function(e,n){var r=e.prefixCls,i=e.className,a=e.style,o=e.id,s=e.active,l=e.tabKey,c=e.children;return t.createElement("div",{id:o&&"".concat(o,"-panel-").concat(l),role:"tabpanel",tabIndex:s?0:-1,"aria-labelledby":o&&"".concat(o,"-tab-").concat(l),"aria-hidden":!s,style:a,className:Ue()(r,s&&"".concat(r,"-active"),i),ref:n},c)}));var QP=JP,eA=["key","forceRender","style","className"];function tA(e){var n=e.id,r=e.activeKey,i=e.animated,a=e.tabPosition,o=e.destroyInactiveTabPane,s=t.useContext($P),l=s.prefixCls,c=s.tabs,u=i.tabPane,d="".concat(l,"-tabpane");return t.createElement("div",{className:Ue()("".concat(l,"-content-holder"))},t.createElement("div",{className:Ue()("".concat(l,"-content"),"".concat(l,"-content-").concat(a),Fe({},"".concat(l,"-content-animated"),u))},c.map((function(e){var a=e.key,s=e.forceRender,l=e.style,c=e.className,f=li(e,eA),h=a===r;return t.createElement(Xc,Dt({key:a,visible:h,forceRender:s,removeOnLeave:!!o,leavedClassName:"".concat(d,"-hidden")},i.tabPaneMotion),(function(e,r){var i=e.style,o=e.className;return t.createElement(QP,Dt({},f,{prefixCls:d,id:n,tabKey:a,animated:u,active:h,style:Xe(Xe({},l),i),className:Ue()(c,o),ref:r}))}))}))))}var nA={width:0,height:0,left:0,top:0};function rA(e){var n=(0,t.useRef)(),r=(0,t.useRef)(!1);return(0,t.useEffect)((function(){return r.current=!1,function(){r.current=!0,js.cancel(n.current)}}),[]),function(){for(var t=arguments.length,i=new Array(t),a=0;a<t;a++)i[a]=arguments[a];r.current||(js.cancel(n.current),n.current=js((function(){e.apply(void 0,i)})))}}function iA(e,n){var r=t.useRef(e),i=k(t.useState({}),2)[1];return[r.current,function(e){var t="function"===typeof e?e(r.current):e;t!==r.current&&n(t,r.current),r.current=t,i({})}]}var aA=Math.pow(.995,20);var oA={width:0,height:0,left:0,top:0,right:0};function sA(e){var t;return e instanceof Map?(t={},e.forEach((function(e,n){t[n]=e}))):t=e,JSON.stringify(t)}function lA(e,n){var r=e.prefixCls,i=e.editable,a=e.locale,o=e.style;return i&&!1!==i.showAdd?t.createElement("button",{ref:n,type:"button",className:"".concat(r,"-nav-add"),style:o,"aria-label":(null===a||void 0===a?void 0:a.addAriaLabel)||"Add tab",onClick:function(e){i.onEdit("add",{event:e})}},i.addIcon||"+"):null}var cA=t.forwardRef(lA),uA=t.forwardRef((function(e,n){var r,i=e.position,a=e.prefixCls,o=e.extra;if(!o)return null;var s={};return"object"!==u(o)||t.isValidElement(o)?s.right=o:s=o,"right"===i&&(r=s.right),"left"===i&&(r=s.left),r?t.createElement("div",{className:"".concat(a,"-extra-content"),ref:n},r):null}));var dA=uA,fA={adjustX:1,adjustY:1},hA=[0,0],pA={topLeft:{points:["bl","tl"],overflow:fA,offset:[0,-4],targetOffset:hA},topCenter:{points:["bc","tc"],overflow:fA,offset:[0,-4],targetOffset:hA},topRight:{points:["br","tr"],overflow:fA,offset:[0,-4],targetOffset:hA},bottomLeft:{points:["tl","bl"],overflow:fA,offset:[0,4],targetOffset:hA},bottomCenter:{points:["tc","bc"],overflow:fA,offset:[0,4],targetOffset:hA},bottomRight:{points:["tr","br"],overflow:fA,offset:[0,4],targetOffset:hA}},mA=hl.ESC,vA=hl.TAB;var gA=["arrow","prefixCls","transitionName","animation","align","placement","placements","getPopupContainer","showAction","hideAction","overlayClassName","overlayStyle","visible","trigger","autoFocus"];function yA(e,n){var r=e.arrow,i=void 0!==r&&r,a=e.prefixCls,o=void 0===a?"rc-dropdown":a,s=e.transitionName,l=e.animation,c=e.align,u=e.placement,d=void 0===u?"bottomLeft":u,f=e.placements,h=void 0===f?pA:f,p=e.getPopupContainer,m=e.showAction,v=e.hideAction,g=e.overlayClassName,y=e.overlayStyle,x=e.visible,b=e.trigger,_=void 0===b?["hover"]:b,w=e.autoFocus,S=li(e,gA),E=k(t.useState(),2),C=E[0],T=E[1],M="visible"in e?x:C,I=t.useRef(null);t.useImperativeHandle(n,(function(){return I.current})),function(e){var n=e.visible,r=e.setTriggerVisible,i=e.triggerRef,a=e.onVisibleChange,o=e.autoFocus,s=t.useRef(!1),l=function(){var e,t,o,s;n&&i.current&&(null===(e=i.current)||void 0===e||null===(t=e.triggerRef)||void 0===t||null===(o=t.current)||void 0===o||null===(s=o.focus)||void 0===s||s.call(o),r(!1),"function"===typeof a&&a(!1))},c=function(){var e,t,n,r,a=vl(null===(e=i.current)||void 0===e||null===(t=e.popupRef)||void 0===t||null===(n=t.current)||void 0===n||null===(r=n.getElement)||void 0===r?void 0:r.call(n))[0];return!!(null===a||void 0===a?void 0:a.focus)&&(a.focus(),s.current=!0,!0)},u=function(e){switch(e.keyCode){case mA:l();break;case vA:var t=!1;s.current||(t=c()),t?e.preventDefault():l()}};t.useEffect((function(){return n?(window.addEventListener("keydown",u),o&&js(c,3),function(){window.removeEventListener("keydown",u),s.current=!1}):function(){s.current=!1}}),[n])}({visible:M,setTriggerVisible:T,triggerRef:I,onVisibleChange:e.onVisibleChange,autoFocus:w});var O=function(){var n=function(){var t=e.overlay;return"function"===typeof t?t():t}();return t.createElement(t.Fragment,null,i&&t.createElement("div",{className:"".concat(o,"-arrow")}),n)},P=v;return P||-1===_.indexOf("contextMenu")||(P=["click"]),t.createElement(gd,Xe(Xe({builtinPlacements:h},S),{},{prefixCls:o,ref:I,popupClassName:Ue()(g,Fe({},"".concat(o,"-show-arrow"),i)),popupStyle:y,action:_,showAction:m,hideAction:P||[],popupPlacement:d,popupAlign:c,popupTransitionName:s,popupAnimation:l,popupVisible:M,stretch:function(){var t=e.minOverlayWidthMatchTrigger,n=e.alignPoint;return"minOverlayWidthMatchTrigger"in e?t:!n}()?"minWidth":"",popup:"function"===typeof e.overlay?O:O(),onPopupVisibleChange:function(t){var n=e.onVisibleChange;T(t),"function"===typeof n&&n(t)},onPopupClick:function(t){var n=e.onOverlayClick;T(!1),n&&n(t)},getPopupContainer:p}),function(){var n=e.children,r=n.props?n.props:{},i=Ue()(r.className,function(){var t=e.openClassName;return void 0!==t?t:"".concat(o,"-open")}());return M&&n?t.cloneElement(n,{className:i}):n}())}var xA=t.forwardRef(yA);function bA(e,n){var r=e.prefixCls,i=e.id,a=e.tabs,o=e.locale,s=e.mobile,l=e.moreIcon,c=void 0===l?"More":l,u=e.moreTransitionName,d=e.style,f=e.className,h=e.editable,p=e.tabBarGutter,m=e.rtl,v=e.removeAriaLabel,g=e.onTabClick,y=e.getPopupContainer,x=e.popupClassName,b=k((0,t.useState)(!1),2),_=b[0],w=b[1],S=k((0,t.useState)(null),2),E=S[0],C=S[1],T="".concat(i,"-more-popup"),M="".concat(r,"-dropdown"),I=null!==E?"".concat(T,"-").concat(E):null,O=null===o||void 0===o?void 0:o.dropdownAriaLabel;var P=t.createElement(Nd,{onClick:function(e){var t=e.key,n=e.domEvent;g(t,n),w(!1)},prefixCls:"".concat(M,"-menu"),id:T,tabIndex:-1,role:"listbox","aria-activedescendant":I,selectedKeys:[E],"aria-label":void 0!==O?O:"expanded dropdown"},a.map((function(e){var n=h&&!1!==e.closable&&!e.disabled;return t.createElement(ql,{key:e.key,id:"".concat(T,"-").concat(e.key),role:"option","aria-controls":i&&"".concat(i,"-panel-").concat(e.key),disabled:e.disabled},t.createElement("span",null,e.label),n&&t.createElement("button",{type:"button","aria-label":v||"remove",tabIndex:0,className:"".concat(M,"-menu-item-remove"),onClick:function(t){t.stopPropagation(),function(e,t){e.preventDefault(),e.stopPropagation(),h.onEdit("remove",{key:t,event:e})}(t,e.key)}},e.closeIcon||h.removeIcon||"\xd7"))})));function A(e){for(var t=a.filter((function(e){return!e.disabled})),n=t.findIndex((function(e){return e.key===E}))||0,r=t.length,i=0;i<r;i+=1){var o=t[n=(n+e+r)%r];if(!o.disabled)return void C(o.key)}}(0,t.useEffect)((function(){var e=document.getElementById(I);e&&e.scrollIntoView&&e.scrollIntoView(!1)}),[E]),(0,t.useEffect)((function(){_||C(null)}),[_]);var z=Fe({},m?"marginRight":"marginLeft",p);a.length||(z.visibility="hidden",z.order=1);var j=Ue()(Fe({},"".concat(M,"-rtl"),m)),R=s?null:t.createElement(xA,{prefixCls:M,overlay:P,trigger:["hover"],visible:!!a.length&&_,transitionName:u,onVisibleChange:w,overlayClassName:Ue()(j,x),mouseEnterDelay:.1,mouseLeaveDelay:.1,getPopupContainer:y},t.createElement("button",{type:"button",className:"".concat(r,"-nav-more"),style:z,tabIndex:-1,"aria-hidden":"true","aria-haspopup":"listbox","aria-controls":T,id:"".concat(i,"-more"),"aria-expanded":_,onKeyDown:function(e){var t=e.which;if(_)switch(t){case hl.UP:A(-1),e.preventDefault();break;case hl.DOWN:A(1),e.preventDefault();break;case hl.ESC:w(!1);break;case hl.SPACE:case hl.ENTER:null!==E&&g(E,e)}else[hl.DOWN,hl.SPACE,hl.ENTER].includes(t)&&(w(!0),e.preventDefault())}},c));return t.createElement("div",{className:Ue()("".concat(r,"-nav-operations"),f),style:d,ref:n},R,t.createElement(cA,{prefixCls:r,locale:o,editable:h}))}var _A=t.memo(t.forwardRef(bA),(function(e,t){return t.tabMoving}));var wA=function(e){var n,r=e.prefixCls,i=e.id,a=e.active,o=e.tab,s=o.key,l=o.label,c=o.disabled,u=o.closeIcon,d=e.closable,f=e.renderWrapper,h=e.removeAriaLabel,p=e.editable,m=e.onClick,v=e.onFocus,g=e.style,y="".concat(r,"-tab"),x=p&&!1!==d&&!c;function b(e){c||m(e)}var _=t.createElement("div",{key:s,"data-node-key":s,className:Ue()(y,(n={},Fe(n,"".concat(y,"-with-remove"),x),Fe(n,"".concat(y,"-active"),a),Fe(n,"".concat(y,"-disabled"),c),n)),style:g,onClick:b},t.createElement("div",{role:"tab","aria-selected":a,id:i&&"".concat(i,"-tab-").concat(s),className:"".concat(y,"-btn"),"aria-controls":i&&"".concat(i,"-panel-").concat(s),"aria-disabled":c,tabIndex:c?null:0,onClick:function(e){e.stopPropagation(),b(e)},onKeyDown:function(e){[hl.SPACE,hl.ENTER].includes(e.which)&&(e.preventDefault(),b(e))},onFocus:v},l),x&&t.createElement("button",{type:"button","aria-label":h||"remove",tabIndex:0,className:"".concat(y,"-remove"),onClick:function(e){e.stopPropagation(),function(e){e.preventDefault(),e.stopPropagation(),p.onEdit("remove",{key:s,event:e})}(e)}},u||p.removeIcon||"\xd7"));return f?f(_):_},kA=function(e){var t=e.current||{},n=t.offsetWidth,r=void 0===n?0:n,i=t.offsetHeight;return[r,void 0===i?0:i]},SA=function(e,t){return e[t?0:1]};function EA(e,n){var r,i=t.useContext($P),a=i.prefixCls,o=i.tabs,s=e.className,c=e.style,u=e.id,d=e.animated,f=e.activeKey,h=e.rtl,p=e.extra,m=e.editable,v=e.locale,g=e.tabPosition,y=e.tabBarGutter,x=e.children,b=e.onTabClick,_=e.onTabScroll,w=(0,t.useRef)(),S=(0,t.useRef)(),E=(0,t.useRef)(),C=(0,t.useRef)(),T=(0,t.useRef)(),M=(0,t.useRef)(),I=(0,t.useRef)(),O="top"===g||"bottom"===g,P=iA(0,(function(e,t){O&&_&&_({direction:e>t?"left":"right"})})),A=k(P,2),z=A[0],j=A[1],R=iA(0,(function(e,t){!O&&_&&_({direction:e>t?"top":"bottom"})})),D=k(R,2),L=D[0],N=D[1],B=k((0,t.useState)([0,0]),2),F=B[0],V=B[1],U=k((0,t.useState)([0,0]),2),H=U[0],G=U[1],W=k((0,t.useState)([0,0]),2),q=W[0],X=W[1],Z=k((0,t.useState)([0,0]),2),K=Z[0],Y=Z[1],$=function(e){var n=(0,t.useRef)([]),r=k((0,t.useState)({}),2)[1],i=(0,t.useRef)("function"===typeof e?e():e),a=rA((function(){var e=i.current;n.current.forEach((function(t){e=t(e)})),n.current=[],i.current=e,r({})}));return[i.current,function(e){n.current.push(e),a()}]}(new Map),J=k($,2),Q=J[0],ee=J[1],te=function(e,n,r){return(0,t.useMemo)((function(){for(var t,r=new Map,i=n.get(null===(t=e[0])||void 0===t?void 0:t.key)||nA,a=i.left+i.width,o=0;o<e.length;o+=1){var s,l=e[o].key,c=n.get(l);c||(c=n.get(null===(s=e[o-1])||void 0===s?void 0:s.key)||nA);var u=r.get(l)||Xe({},c);u.right=a-u.left-u.width,r.set(l,u)}return r}),[e.map((function(e){return e.key})).join("_"),n,r])}(o,Q,H[0]),ne=SA(F,O),re=SA(H,O),ie=SA(q,O),ae=SA(K,O),oe=ne<re+ie?ne-ae:ne-ie,se="".concat(a,"-nav-operations-hidden"),le=0,ce=0;function ue(e){return e<le?le:e>ce?ce:e}O&&h?(le=0,ce=Math.max(0,re-oe)):(le=Math.min(0,oe-re),ce=0);var de=(0,t.useRef)(),fe=k((0,t.useState)(),2),he=fe[0],pe=fe[1];function me(){pe(Date.now())}function ve(){window.clearTimeout(de.current)}!function(e,n){var r=k((0,t.useState)(),2),i=r[0],a=r[1],o=k((0,t.useState)(0),2),s=o[0],l=o[1],c=k((0,t.useState)(0),2),u=c[0],d=c[1],f=k((0,t.useState)(),2),h=f[0],p=f[1],m=(0,t.useRef)(),v=(0,t.useRef)(),g=(0,t.useRef)(null);g.current={onTouchStart:function(e){var t=e.touches[0],n=t.screenX,r=t.screenY;a({x:n,y:r}),window.clearInterval(m.current)},onTouchMove:function(e){if(i){e.preventDefault();var t=e.touches[0],r=t.screenX,o=t.screenY;a({x:r,y:o});var c=r-i.x,u=o-i.y;n(c,u);var f=Date.now();l(f),d(f-s),p({x:c,y:u})}},onTouchEnd:function(){if(i&&(a(null),p(null),h)){var e=h.x/u,t=h.y/u,r=Math.abs(e),o=Math.abs(t);if(Math.max(r,o)<.1)return;var s=e,l=t;m.current=window.setInterval((function(){Math.abs(s)<.01&&Math.abs(l)<.01?window.clearInterval(m.current):n(20*(s*=aA),20*(l*=aA))}),20)}},onWheel:function(e){var t=e.deltaX,r=e.deltaY,i=0,a=Math.abs(t),o=Math.abs(r);a===o?i="x"===v.current?t:r:a>o?(i=t,v.current="x"):(i=r,v.current="y"),n(-i,-i)&&e.preventDefault()}},t.useEffect((function(){function t(e){g.current.onTouchMove(e)}function n(e){g.current.onTouchEnd(e)}return document.addEventListener("touchmove",t,{passive:!1}),document.addEventListener("touchend",n,{passive:!1}),e.current.addEventListener("touchstart",(function(e){g.current.onTouchStart(e)}),{passive:!1}),e.current.addEventListener("wheel",(function(e){g.current.onWheel(e)})),function(){document.removeEventListener("touchmove",t),document.removeEventListener("touchend",n)}}),[])}(C,(function(e,t){function n(e,t){e((function(e){return ue(e+t)}))}return!(ne>=re)&&(O?n(j,e):n(N,t),ve(),me(),!0)})),(0,t.useEffect)((function(){return ve(),he&&(de.current=window.setTimeout((function(){pe(0)}),100)),ve}),[he]);var ge=function(e,n,r,i,a,o,s){var l,c,u,d=s.tabs,f=s.tabPosition,h=s.rtl;return["top","bottom"].includes(f)?(l="width",c=h?"right":"left",u=Math.abs(r)):(l="height",c="top",u=-r),(0,t.useMemo)((function(){if(!d.length)return[0,0];for(var t=d.length,r=t,i=0;i<t;i+=1){var a=e.get(d[i].key)||oA;if(a[c]+a[l]>u+n){r=i-1;break}}for(var o=0,s=t-1;s>=0;s-=1)if((e.get(d[s].key)||oA)[c]<u){o=s+1;break}return[o,r]}),[e,n,i,a,o,u,f,d.map((function(e){return e.key})).join("_"),h])}(te,oe,O?z:L,re,ie,ae,Xe(Xe({},e),{},{tabs:o})),ye=k(ge,2),xe=ye[0],be=ye[1],_e=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,t=te.get(e)||{width:0,height:0,left:0,right:0,top:0};if(O){var n=z;h?t.right<z?n=t.right:t.right+t.width>z+oe&&(n=t.right+t.width-oe):t.left<-z?n=-t.left:t.left+t.width>-z+oe&&(n=-(t.left+t.width-oe)),N(0),j(ue(n))}else{var r=L;t.top<-L?r=-t.top:t.top+t.height>-L+oe&&(r=-(t.top+t.height-oe)),j(0),N(ue(r))}},we={};"top"===g||"bottom"===g?we[h?"marginRight":"marginLeft"]=y:we.marginTop=y;var ke=o.map((function(e,n){var r=e.key;return t.createElement(wA,{id:u,prefixCls:a,key:r,tab:e,style:0===n?void 0:we,closable:e.closable,editable:m,active:r===f,renderWrapper:x,removeAriaLabel:null===v||void 0===v?void 0:v.removeAriaLabel,onClick:function(e){b(r,e)},onFocus:function(){_e(r),me(),C.current&&(h||(C.current.scrollLeft=0),C.current.scrollTop=0)}})})),Se=function(){return ee((function(){var e=new Map;return o.forEach((function(t){var n,r=t.key,i=null===(n=T.current)||void 0===n?void 0:n.querySelector('[data-node-key="'.concat(r,'"]'));i&&e.set(r,{width:i.offsetWidth,height:i.offsetHeight,left:i.offsetLeft,top:i.offsetTop})})),e}))};(0,t.useEffect)((function(){Se()}),[o.map((function(e){return e.key})).join("_")]);var Ee=rA((function(){var e=kA(w),t=kA(S),n=kA(E);V([e[0]-t[0]-n[0],e[1]-t[1]-n[1]]);var r=kA(I);X(r);var i=kA(M);Y(i);var a=kA(T);G([a[0]-r[0],a[1]-r[1]]),Se()})),Ce=o.slice(0,xe),Te=o.slice(be+1),Me=[].concat(l(Ce),l(Te)),Ie=k((0,t.useState)(),2),Oe=Ie[0],Pe=Ie[1],Ae=te.get(f),ze=(0,t.useRef)();function je(){js.cancel(ze.current)}(0,t.useEffect)((function(){var e={};return Ae&&(O?(h?e.right=Ae.right:e.left=Ae.left,e.width=Ae.width):(e.top=Ae.top,e.height=Ae.height)),je(),ze.current=js((function(){Pe(e)})),je}),[Ae,O,h]),(0,t.useEffect)((function(){_e()}),[f,sA(Ae),sA(te),O]),(0,t.useEffect)((function(){Ee()}),[h]);var Re,De,Le,Ne,Be=!!Me.length,Ve="".concat(a,"-nav-wrap");return O?h?(De=z>0,Re=z+ne<re):(Re=z<0,De=-z+ne<re):(Le=L<0,Ne=-L+ne<re),t.createElement(xs,{onResize:Ee},t.createElement("div",{ref:Fo(n,w),role:"tablist",className:Ue()("".concat(a,"-nav"),s),style:c,onKeyDown:function(){me()}},t.createElement(dA,{ref:S,position:"left",extra:p,prefixCls:a}),t.createElement("div",{className:Ue()(Ve,(r={},Fe(r,"".concat(Ve,"-ping-left"),Re),Fe(r,"".concat(Ve,"-ping-right"),De),Fe(r,"".concat(Ve,"-ping-top"),Le),Fe(r,"".concat(Ve,"-ping-bottom"),Ne),r)),ref:C},t.createElement(xs,{onResize:Ee},t.createElement("div",{ref:T,className:"".concat(a,"-nav-list"),style:{transform:"translate(".concat(z,"px, ").concat(L,"px)"),transition:he?"none":void 0}},ke,t.createElement(cA,{ref:I,prefixCls:a,locale:v,editable:m,style:Xe(Xe({},0===ke.length?void 0:we),{},{visibility:Be?"hidden":null})}),t.createElement("div",{className:Ue()("".concat(a,"-ink-bar"),Fe({},"".concat(a,"-ink-bar-animated"),d.inkBar)),style:Oe})))),t.createElement(_A,Dt({},e,{removeAriaLabel:null===v||void 0===v?void 0:v.removeAriaLabel,ref:M,prefixCls:a,tabs:Me,className:!Be&&se,tabMoving:!!he})),t.createElement(dA,{ref:E,position:"right",extra:p,prefixCls:a})))}var CA=t.forwardRef(EA),TA=["renderTabBar"],MA=["label","key"];function IA(e){var n=e.renderTabBar,r=li(e,TA),i=t.useContext($P).tabs;return n?n(Xe(Xe({},r),{},{panes:i.map((function(e){var n=e.label,r=e.key,i=li(e,MA);return t.createElement(QP,Dt({tab:n,key:r,tabKey:r},i))}))}),CA):t.createElement(CA,r)}var OA=["id","prefixCls","className","items","direction","activeKey","defaultActiveKey","editable","animated","tabPosition","tabBarGutter","tabBarStyle","tabBarExtraContent","locale","moreIcon","moreTransitionName","destroyInactiveTabPane","renderTabBar","onChange","onTabClick","onTabScroll","getPopupContainer","popupClassName"],PA=0;function AA(e,n){var r,i=e.id,a=e.prefixCls,o=void 0===a?"rc-tabs":a,s=e.className,l=e.items,c=e.direction,d=e.activeKey,f=e.defaultActiveKey,h=e.editable,p=e.animated,m=e.tabPosition,v=void 0===m?"top":m,g=e.tabBarGutter,y=e.tabBarStyle,x=e.tabBarExtraContent,b=e.locale,_=e.moreIcon,w=e.moreTransitionName,S=e.destroyInactiveTabPane,E=e.renderTabBar,C=e.onChange,T=e.onTabClick,M=e.onTabScroll,I=e.getPopupContainer,O=e.popupClassName,P=li(e,OA),A=t.useMemo((function(){return(l||[]).filter((function(e){return e&&"object"===u(e)&&"key"in e}))}),[l]),z="rtl"===c,j=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{inkBar:!0,tabPane:!1};return(e=!1===t?{inkBar:!1,tabPane:!1}:!0===t?{inkBar:!0,tabPane:!1}:Xe({inkBar:!0},"object"===u(t)?t:{})).tabPaneMotion&&void 0===e.tabPane&&(e.tabPane=!0),!e.tabPaneMotion&&e.tabPane&&(e.tabPane=!1),e}(p),R=k((0,t.useState)(!1),2),D=R[0],L=R[1];(0,t.useEffect)((function(){L(ac())}),[]);var N=k(Js((function(){var e;return null===(e=A[0])||void 0===e?void 0:e.key}),{value:d,defaultValue:f}),2),B=N[0],F=N[1],V=k((0,t.useState)((function(){return A.findIndex((function(e){return e.key===B}))})),2),U=V[0],H=V[1];(0,t.useEffect)((function(){var e,t=A.findIndex((function(e){return e.key===B}));-1===t&&(t=Math.max(0,Math.min(U,A.length-1)),F(null===(e=A[t])||void 0===e?void 0:e.key));H(t)}),[A.map((function(e){return e.key})).join("_"),B,U]);var G=k(Js(null,{value:i}),2),W=G[0],q=G[1];(0,t.useEffect)((function(){i||(q("rc-tabs-".concat(PA)),PA+=1)}),[]);var X={id:W,activeKey:B,animated:j,tabPosition:v,rtl:z,mobile:D},Z=Xe(Xe({},X),{},{editable:h,locale:b,moreIcon:_,moreTransitionName:w,tabBarGutter:g,onTabClick:function(e,t){null===T||void 0===T||T(e,t);var n=e!==B;F(e),n&&(null===C||void 0===C||C(e))},onTabScroll:M,extra:x,style:y,panes:null,getPopupContainer:I,popupClassName:O});return t.createElement($P.Provider,{value:{tabs:A,prefixCls:o}},t.createElement("div",Dt({ref:n,id:i,className:Ue()(o,"".concat(o,"-").concat(v),(r={},Fe(r,"".concat(o,"-mobile"),D),Fe(r,"".concat(o,"-editable"),h),Fe(r,"".concat(o,"-rtl"),z),r),s)},P),undefined,t.createElement(IA,Dt({},Z,{renderTabBar:E})),t.createElement(tA,Dt({destroyInactiveTabPane:S},X,{animated:j}))))}var zA=t.forwardRef(AA),jA={motionAppear:!1,motionEnter:!0,motionLeave:!0};var RA=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};var DA=function(){return null},LA=function(e){var t=e.componentCls,n=e.motionDurationSlow;return[Fe({},t,Fe({},"".concat(t,"-switch"),{"&-appear, &-enter":{transition:"none","&-start":{opacity:0},"&-active":{opacity:1,transition:"opacity ".concat(n)}},"&-leave":{position:"absolute",transition:"none",inset:0,"&-start":{opacity:1},"&-active":{opacity:0,transition:"opacity ".concat(n)}}})),[hf(e,"slide-up"),hf(e,"slide-down")]]},NA=function(e){var t,n,r,i,a,o,s=e.componentCls,l=e.tabsCardHorizontalPadding,c=e.tabsCardHeadBackground,u=e.tabsCardGutter,d=e.colorSplit;return Fe({},"".concat(s,"-card"),(Fe(o={},"> ".concat(s,"-nav, > div > ").concat(s,"-nav"),(Fe(t={},"".concat(s,"-tab"),{margin:0,padding:l,background:c,border:"".concat(e.lineWidth,"px ").concat(e.lineType," ").concat(d),transition:"all ".concat(e.motionDurationSlow," ").concat(e.motionEaseInOut)}),Fe(t,"".concat(s,"-tab-active"),{color:e.colorPrimary,background:e.colorBgContainer}),Fe(t,"".concat(s,"-ink-bar"),{visibility:"hidden"}),t)),Fe(o,"&".concat(s,"-top, &").concat(s,"-bottom"),Fe({},"> ".concat(s,"-nav, > div > ").concat(s,"-nav"),Fe({},"".concat(s,"-tab + ").concat(s,"-tab"),{marginLeft:{_skip_check_:!0,value:"".concat(u,"px")}}))),Fe(o,"&".concat(s,"-top"),Fe({},"> ".concat(s,"-nav, > div > ").concat(s,"-nav"),(Fe(n={},"".concat(s,"-tab"),{borderRadius:"".concat(e.borderRadiusLG,"px ").concat(e.borderRadiusLG,"px 0 0")}),Fe(n,"".concat(s,"-tab-active"),{borderBottomColor:e.colorBgContainer}),n))),Fe(o,"&".concat(s,"-bottom"),Fe({},"> ".concat(s,"-nav, > div > ").concat(s,"-nav"),(Fe(r={},"".concat(s,"-tab"),{borderRadius:"0 0 ".concat(e.borderRadiusLG,"px ").concat(e.borderRadiusLG,"px")}),Fe(r,"".concat(s,"-tab-active"),{borderTopColor:e.colorBgContainer}),r))),Fe(o,"&".concat(s,"-left, &").concat(s,"-right"),Fe({},"> ".concat(s,"-nav, > div > ").concat(s,"-nav"),Fe({},"".concat(s,"-tab + ").concat(s,"-tab"),{marginTop:"".concat(u,"px")}))),Fe(o,"&".concat(s,"-left"),Fe({},"> ".concat(s,"-nav, > div > ").concat(s,"-nav"),(Fe(i={},"".concat(s,"-tab"),{borderRadius:{_skip_check_:!0,value:"".concat(e.borderRadiusLG,"px 0 0 ").concat(e.borderRadiusLG,"px")}}),Fe(i,"".concat(s,"-tab-active"),{borderRightColor:{_skip_check_:!0,value:e.colorBgContainer}}),i))),Fe(o,"&".concat(s,"-right"),Fe({},"> ".concat(s,"-nav, > div > ").concat(s,"-nav"),(Fe(a={},"".concat(s,"-tab"),{borderRadius:{_skip_check_:!0,value:"0 ".concat(e.borderRadiusLG,"px ").concat(e.borderRadiusLG,"px 0")}}),Fe(a,"".concat(s,"-tab-active"),{borderLeftColor:{_skip_check_:!0,value:e.colorBgContainer}}),a))),o))},BA=function(e){var t=e.componentCls,n=e.tabsHoverColor,r=e.dropdownEdgeChildVerticalPadding;return Fe({},"".concat(t,"-dropdown"),Object.assign(Object.assign({},Hn(e)),Fe({position:"absolute",top:-9999,left:{_skip_check_:!0,value:-9999},zIndex:e.zIndexPopup,display:"block","&-hidden":{display:"none"}},"".concat(t,"-dropdown-menu"),{maxHeight:e.tabsDropdownHeight,margin:0,padding:"".concat(r,"px 0"),overflowX:"hidden",overflowY:"auto",textAlign:{_skip_check_:!0,value:"left"},listStyleType:"none",backgroundColor:e.colorBgContainer,backgroundClip:"padding-box",borderRadius:e.borderRadiusLG,outline:"none",boxShadow:e.boxShadow,"&-item":Object.assign(Object.assign({},Un),{display:"flex",alignItems:"center",minWidth:e.tabsDropdownWidth,margin:0,padding:"".concat(e.paddingXXS,"px ").concat(e.paddingSM,"px"),color:e.colorText,fontWeight:"normal",fontSize:e.fontSize,lineHeight:e.lineHeight,cursor:"pointer",transition:"all ".concat(e.motionDurationSlow),"> span":{flex:1,whiteSpace:"nowrap"},"&-remove":{flex:"none",marginLeft:{_skip_check_:!0,value:e.marginSM},color:e.colorTextDescription,fontSize:e.fontSizeSM,background:"transparent",border:0,cursor:"pointer","&:hover":{color:n}},"&:hover":{background:e.controlItemBgHover},"&-disabled":{"&, &:hover":{color:e.colorTextDisabled,background:"transparent",cursor:"not-allowed"}}})})))},FA=function(e){var t,n,r,i,a,o,s,l,c=e.componentCls,u=e.margin,d=e.colorSplit;return Fe(l={},"".concat(c,"-top, ").concat(c,"-bottom"),Fe({flexDirection:"column"},"> ".concat(c,"-nav, > div > ").concat(c,"-nav"),(Fe(n={margin:"0 0 ".concat(u,"px 0"),"&::before":{position:"absolute",right:{_skip_check_:!0,value:0},left:{_skip_check_:!0,value:0},borderBottom:"".concat(e.lineWidth,"px ").concat(e.lineType," ").concat(d),content:"''"}},"".concat(c,"-ink-bar"),{height:e.lineWidthBold,"&-animated":{transition:"width ".concat(e.motionDurationSlow,", left ").concat(e.motionDurationSlow,",\n            right ").concat(e.motionDurationSlow)}}),Fe(n,"".concat(c,"-nav-wrap"),(Fe(t={"&::before, &::after":{top:0,bottom:0,width:e.controlHeight},"&::before":{left:{_skip_check_:!0,value:0},boxShadow:e.boxShadowTabsOverflowLeft},"&::after":{right:{_skip_check_:!0,value:0},boxShadow:e.boxShadowTabsOverflowRight}},"&".concat(c,"-nav-wrap-ping-left::before"),{opacity:1}),Fe(t,"&".concat(c,"-nav-wrap-ping-right::after"),{opacity:1}),t)),n))),Fe(l,"".concat(c,"-top"),Fe({},"> ".concat(c,"-nav,\n        > div > ").concat(c,"-nav"),Fe({"&::before":{bottom:0}},"".concat(c,"-ink-bar"),{bottom:0}))),Fe(l,"".concat(c,"-bottom"),(Fe(r={},"> ".concat(c,"-nav, > div > ").concat(c,"-nav"),Fe({order:1,marginTop:"".concat(u,"px"),marginBottom:0,"&::before":{top:0}},"".concat(c,"-ink-bar"),{top:0})),Fe(r,"> ".concat(c,"-content-holder, > div > ").concat(c,"-content-holder"),{order:0}),r)),Fe(l,"".concat(c,"-left, ").concat(c,"-right"),Fe({},"> ".concat(c,"-nav, > div > ").concat(c,"-nav"),(Fe(a={flexDirection:"column",minWidth:1.25*e.controlHeight},"".concat(c,"-tab"),{padding:"".concat(e.paddingXS,"px ").concat(e.paddingLG,"px"),textAlign:"center"}),Fe(a,"".concat(c,"-tab + ").concat(c,"-tab"),{margin:"".concat(e.margin,"px 0 0 0")}),Fe(a,"".concat(c,"-nav-wrap"),(Fe(i={flexDirection:"column","&::before, &::after":{right:{_skip_check_:!0,value:0},left:{_skip_check_:!0,value:0},height:e.controlHeight},"&::before":{top:0,boxShadow:e.boxShadowTabsOverflowTop},"&::after":{bottom:0,boxShadow:e.boxShadowTabsOverflowBottom}},"&".concat(c,"-nav-wrap-ping-top::before"),{opacity:1}),Fe(i,"&".concat(c,"-nav-wrap-ping-bottom::after"),{opacity:1}),i)),Fe(a,"".concat(c,"-ink-bar"),{width:e.lineWidthBold,"&-animated":{transition:"height ".concat(e.motionDurationSlow,", top ").concat(e.motionDurationSlow)}}),Fe(a,"".concat(c,"-nav-list, ").concat(c,"-nav-operations"),{flex:"1 0 auto",flexDirection:"column"}),a))),Fe(l,"".concat(c,"-left"),(Fe(o={},"> ".concat(c,"-nav, > div > ").concat(c,"-nav"),Fe({},"".concat(c,"-ink-bar"),{right:{_skip_check_:!0,value:0}})),Fe(o,"> ".concat(c,"-content-holder, > div > ").concat(c,"-content-holder"),Fe({marginLeft:{_skip_check_:!0,value:"-".concat(e.lineWidth,"px")},borderLeft:{_skip_check_:!0,value:"".concat(e.lineWidth,"px ").concat(e.lineType," ").concat(e.colorBorder)}},"> ".concat(c,"-content > ").concat(c,"-tabpane"),{paddingLeft:{_skip_check_:!0,value:e.paddingLG}})),o)),Fe(l,"".concat(c,"-right"),(Fe(s={},"> ".concat(c,"-nav, > div > ").concat(c,"-nav"),Fe({order:1},"".concat(c,"-ink-bar"),{left:{_skip_check_:!0,value:0}})),Fe(s,"> ".concat(c,"-content-holder, > div > ").concat(c,"-content-holder"),Fe({order:0,marginRight:{_skip_check_:!0,value:-e.lineWidth},borderRight:{_skip_check_:!0,value:"".concat(e.lineWidth,"px ").concat(e.lineType," ").concat(e.colorBorder)}},"> ".concat(c,"-content > ").concat(c,"-tabpane"),{paddingRight:{_skip_check_:!0,value:e.paddingLG}})),s)),l},VA=function(e){var t,n,r,i=e.componentCls,a=e.padding;return Fe(r={},i,{"&-small":Fe({},"> ".concat(i,"-nav"),Fe({},"".concat(i,"-tab"),{padding:"".concat(e.paddingXS,"px 0"),fontSize:e.fontSize})),"&-large":Fe({},"> ".concat(i,"-nav"),Fe({},"".concat(i,"-tab"),{padding:"".concat(a,"px 0"),fontSize:e.fontSizeLG}))}),Fe(r,"".concat(i,"-card"),(Fe(n={},"&".concat(i,"-small"),(Fe(t={},"> ".concat(i,"-nav"),Fe({},"".concat(i,"-tab"),{padding:"".concat(1.5*e.paddingXXS,"px ").concat(a,"px")})),Fe(t,"&".concat(i,"-bottom"),Fe({},"> ".concat(i,"-nav ").concat(i,"-tab"),{borderRadius:"0 0 ".concat(e.borderRadius,"px ").concat(e.borderRadius,"px")})),Fe(t,"&".concat(i,"-top"),Fe({},"> ".concat(i,"-nav ").concat(i,"-tab"),{borderRadius:"".concat(e.borderRadius,"px ").concat(e.borderRadius,"px 0 0")})),Fe(t,"&".concat(i,"-right"),Fe({},"> ".concat(i,"-nav ").concat(i,"-tab"),{borderRadius:{_skip_check_:!0,value:"0 ".concat(e.borderRadius,"px ").concat(e.borderRadius,"px 0")}})),Fe(t,"&".concat(i,"-left"),Fe({},"> ".concat(i,"-nav ").concat(i,"-tab"),{borderRadius:{_skip_check_:!0,value:"".concat(e.borderRadius,"px 0 0 ").concat(e.borderRadius,"px")}})),t)),Fe(n,"&".concat(i,"-large"),Fe({},"> ".concat(i,"-nav"),Fe({},"".concat(i,"-tab"),{padding:"".concat(e.paddingXS,"px ").concat(a,"px ").concat(1.5*e.paddingXXS,"px")}))),n)),r},UA=function(e){var t,n,r,i,a,o=e.componentCls,s=e.tabsHorizontalGutter,l=e.iconCls,c=e.tabsCardGutter;return Fe(a={},"".concat(o,"-rtl"),(Fe(i={direction:"rtl"},"".concat(o,"-nav"),Fe({},"".concat(o,"-tab"),(Fe(t={margin:{_skip_check_:!0,value:"0 0 0 ".concat(s,"px")}},"".concat(o,"-tab:last-of-type"),{marginLeft:{_skip_check_:!0,value:0}}),Fe(t,l,{marginRight:{_skip_check_:!0,value:0},marginLeft:{_skip_check_:!0,value:"".concat(e.marginSM,"px")}}),Fe(t,"".concat(o,"-tab-remove"),Fe({marginRight:{_skip_check_:!0,value:"".concat(e.marginXS,"px")},marginLeft:{_skip_check_:!0,value:"-".concat(e.marginXXS,"px")}},l,{margin:0})),t))),Fe(i,"&".concat(o,"-left"),(Fe(n={},"> ".concat(o,"-nav"),{order:1}),Fe(n,"> ".concat(o,"-content-holder"),{order:0}),n)),Fe(i,"&".concat(o,"-right"),(Fe(r={},"> ".concat(o,"-nav"),{order:0}),Fe(r,"> ".concat(o,"-content-holder"),{order:1}),r)),Fe(i,"&".concat(o,"-card").concat(o,"-top, &").concat(o,"-card").concat(o,"-bottom"),Fe({},"> ".concat(o,"-nav, > div > ").concat(o,"-nav"),Fe({},"".concat(o,"-tab + ").concat(o,"-tab"),{marginRight:{_skip_check_:!0,value:"".concat(c,"px")},marginLeft:{_skip_check_:!0,value:0}}))),i)),Fe(a,"".concat(o,"-dropdown-rtl"),{direction:"rtl"}),Fe(a,"".concat(o,"-menu-item"),Fe({},"".concat(o,"-dropdown-rtl"),{textAlign:{_skip_check_:!0,value:"right"}})),a},HA=function(e){var t,n,r,i,a=e.componentCls,o=e.tabsCardHorizontalPadding,s=e.tabsCardHeight,l=e.tabsCardGutter,c=e.tabsHoverColor,u=e.tabsActiveColor,d=e.colorSplit;return Fe(i={},a,Object.assign(Object.assign(Object.assign(Object.assign({},Hn(e)),(Fe(n={display:"flex"},"> ".concat(a,"-nav, > div > ").concat(a,"-nav"),(Fe(t={position:"relative",display:"flex",flex:"none",alignItems:"center"},"".concat(a,"-nav-wrap"),{position:"relative",display:"flex",flex:"auto",alignSelf:"stretch",overflow:"hidden",whiteSpace:"nowrap",transform:"translate(0)","&::before, &::after":{position:"absolute",zIndex:1,opacity:0,transition:"opacity ".concat(e.motionDurationSlow),content:"''",pointerEvents:"none"}}),Fe(t,"".concat(a,"-nav-list"),{position:"relative",display:"flex",transition:"opacity ".concat(e.motionDurationSlow)}),Fe(t,"".concat(a,"-nav-operations"),{display:"flex",alignSelf:"stretch"}),Fe(t,"".concat(a,"-nav-operations-hidden"),{position:"absolute",visibility:"hidden",pointerEvents:"none"}),Fe(t,"".concat(a,"-nav-more"),{position:"relative",padding:o,background:"transparent",border:0,"&::after":{position:"absolute",right:{_skip_check_:!0,value:0},bottom:0,left:{_skip_check_:!0,value:0},height:e.controlHeightLG/8,transform:"translateY(100%)",content:"''"}}),Fe(t,"".concat(a,"-nav-add"),Object.assign({minWidth:"".concat(s,"px"),marginLeft:{_skip_check_:!0,value:"".concat(l,"px")},padding:"0 ".concat(e.paddingXS,"px"),background:"transparent",border:"".concat(e.lineWidth,"px ").concat(e.lineType," ").concat(d),borderRadius:"".concat(e.borderRadiusLG,"px ").concat(e.borderRadiusLG,"px 0 0"),outline:"none",cursor:"pointer",color:e.colorText,transition:"all ".concat(e.motionDurationSlow," ").concat(e.motionEaseInOut),"&:hover":{color:c},"&:active, &:focus:not(:focus-visible)":{color:u}},Xn(e))),t)),Fe(n,"".concat(a,"-extra-content"),{flex:"none"}),Fe(n,"".concat(a,"-ink-bar"),{position:"absolute",background:e.colorPrimary,pointerEvents:"none"}),n)),function(e){var t,n,r=e.componentCls,i=e.tabsActiveColor,a=e.tabsHoverColor,o=e.iconCls,s=e.tabsHorizontalGutter,l="".concat(r,"-tab");return Fe(n={},l,(Fe(t={position:"relative",display:"inline-flex",alignItems:"center",padding:"".concat(e.paddingSM,"px 0"),fontSize:"".concat(e.fontSize,"px"),background:"transparent",border:0,outline:"none",cursor:"pointer","&-btn, &-remove":Object.assign({"&:focus:not(:focus-visible), &:active":{color:i}},Xn(e)),"&-btn":{outline:"none",transition:"all 0.3s"},"&-remove":{flex:"none",marginRight:{_skip_check_:!0,value:-e.marginXXS},marginLeft:{_skip_check_:!0,value:e.marginXS},color:e.colorTextDescription,fontSize:e.fontSizeSM,background:"transparent",border:"none",outline:"none",cursor:"pointer",transition:"all ".concat(e.motionDurationSlow),"&:hover":{color:e.colorTextHeading}},"&:hover":{color:a}},"&".concat(l,"-active ").concat(l,"-btn"),{color:e.colorPrimary,textShadow:e.tabsActiveTextShadow}),Fe(t,"&".concat(l,"-disabled"),{color:e.colorTextDisabled,cursor:"not-allowed"}),Fe(t,"&".concat(l,"-disabled ").concat(l,"-btn, &").concat(l,"-disabled ").concat(r,"-remove"),{"&:focus, &:active":{color:e.colorTextDisabled}}),Fe(t,"& ".concat(l,"-remove ").concat(o),{margin:0}),Fe(t,o,{marginRight:{_skip_check_:!0,value:e.marginSM}}),t)),Fe(n,"".concat(l," + ").concat(l),{margin:{_skip_check_:!0,value:"0 0 0 ".concat(s,"px")}}),n}(e)),(Fe(r={},"".concat(a,"-content"),{position:"relative",width:"100%"}),Fe(r,"".concat(a,"-content-holder"),{flex:"auto",minWidth:0,minHeight:0}),Fe(r,"".concat(a,"-tabpane"),{outline:"none","&-hidden":{display:"none"}}),r))),Fe(i,"".concat(a,"-centered"),Fe({},"> ".concat(a,"-nav, > div > ").concat(a,"-nav"),Fe({},"".concat(a,"-nav-wrap"),Fe({},"&:not([class*='".concat(a,"-nav-wrap-ping'])"),{justifyContent:"center"})))),i},GA=Xr("Tabs",(function(e){var t=e.controlHeightLG,n=Gr(e,{tabsHoverColor:e.colorPrimaryHover,tabsActiveColor:e.colorPrimaryActive,tabsCardHorizontalPadding:"".concat((t-Math.round(e.fontSize*e.lineHeight))/2-e.lineWidth,"px ").concat(e.padding,"px"),tabsCardHeight:t,tabsCardGutter:e.marginXXS/2,tabsHorizontalGutter:32,tabsCardHeadBackground:e.colorFillAlter,dropdownEdgeChildVerticalPadding:e.paddingXXS,tabsActiveTextShadow:"0 0 0.25px currentcolor",tabsDropdownHeight:200,tabsDropdownWidth:120});return[VA(n),UA(n),FA(n),BA(n),NA(n),HA(n),LA(n)]}),(function(e){return{zIndexPopup:e.zIndexPopupBase+50}})),WA=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};function qA(e){var n,r,i=e.type,a=e.className,o=e.size,s=e.onEdit,l=e.hideAdd,c=e.centered,u=e.addIcon,d=e.popupClassName,f=e.children,h=e.items,p=e.animated,m=WA(e,["type","className","size","onEdit","hideAdd","centered","addIcon","popupClassName","children","items","animated"]),v=m.prefixCls,g=m.moreIcon,y=void 0===g?t.createElement(Vd,null):g,x=t.useContext(Ge),b=x.direction,_=x.getPrefixCls,w=x.getPopupContainer,S=_("tabs",v),E=k(GA(S),2),C=E[0],T=E[1];"editable-card"===i&&(r={onEdit:function(e,t){var n=t.key,r=t.event;null===s||void 0===s||s("add"===e?r:n,e)},removeIcon:t.createElement(Wk,null),addIcon:u||t.createElement(uO,null),showAdd:!0!==l});var M=_(),I=function(e,n){if(e)return e;var r=Lo(n).map((function(e){if(t.isValidElement(e)){var n=e.key,r=e.props||{},i=r.tab,a=RA(r,["tab"]);return Object.assign(Object.assign({key:String(n)},a),{label:i})}return null}));return function(e){return e.filter((function(e){return e}))}(r)}(h,f),O=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{inkBar:!0,tabPane:!1};return(t=!1===n?{inkBar:!1,tabPane:!1}:!0===n?{inkBar:!0,tabPane:!0}:Object.assign({inkBar:!0},"object"===typeof n?n:{})).tabPane&&(t.tabPaneMotion=Object.assign(Object.assign({},jA),{motionName:Xd(e,"switch")})),t}(S,p),P=t.useContext($v),A=void 0!==o?o:P;return C(t.createElement(zA,Object.assign({direction:b,getPopupContainer:w,moreTransitionName:"".concat(M,"-slide-up")},m,{items:I,className:Ue()((n={},Fe(n,"".concat(S,"-").concat(A),A),Fe(n,"".concat(S,"-card"),["card","editable-card"].includes(i)),Fe(n,"".concat(S,"-editable-card"),"editable-card"===i),Fe(n,"".concat(S,"-centered"),c),n),a,T),popupClassName:Ue()(d,T),editable:r,moreIcon:y,prefixCls:S,animated:O})))}qA.TabPane=DA;var XA=qA,ZA=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},KA=function(e){var n=e.prefixCls,r=e.className,i=e.hoverable,a=void 0===i||i,o=ZA(e,["prefixCls","className","hoverable"]),s=(0,t.useContext(Ge).getPrefixCls)("card",n),l=Ue()("".concat(s,"-grid"),r,Fe({},"".concat(s,"-grid-hoverable"),a));return t.createElement("div",Object.assign({},o,{className:l}))},YA=function(e){var t,n,r,i=e.componentCls,a=e.cardShadow,o=e.cardHeadPadding,s=e.colorBorderSecondary,l=e.boxShadow,c=e.cardPaddingBase;return Fe(r={},i,Object.assign(Object.assign({},Hn(e)),(Fe(t={position:"relative",background:e.colorBgContainer,borderRadius:e.borderRadiusLG},"&:not(".concat(i,"-bordered)"),{boxShadow:l}),Fe(t,"".concat(i,"-head"),function(e){var t=e.antCls,n=e.componentCls,r=e.cardHeadHeight,i=e.cardPaddingBase,a=e.cardHeadTabsMarginBottom;return Object.assign(Object.assign({display:"flex",justifyContent:"center",flexDirection:"column",minHeight:r,marginBottom:-1,padding:"0 ".concat(i,"px"),color:e.colorTextHeading,fontWeight:e.fontWeightStrong,fontSize:e.fontSizeLG,background:"transparent",borderBottom:"".concat(e.lineWidth,"px ").concat(e.lineType," ").concat(e.colorBorderSecondary),borderRadius:"".concat(e.borderRadiusLG,"px ").concat(e.borderRadiusLG,"px 0 0")},{"&::before":{display:"table",content:'""'},"&::after":{display:"table",clear:"both",content:'""'}}),Fe({"&-wrapper":{width:"100%",display:"flex",alignItems:"center"},"&-title":Object.assign(Object.assign({display:"inline-block",flex:1},Un),Fe({},"\n          > ".concat(n,"-typography,\n          > ").concat(n,"-typography-edit-content\n        "),{insetInlineStart:0,marginTop:0,marginBottom:0}))},"".concat(t,"-tabs-top"),{clear:"both",marginBottom:a,color:e.colorText,fontWeight:"normal",fontSize:e.fontSize,"&-bar":{borderBottom:"".concat(e.lineWidth,"px ").concat(e.lineType," ").concat(e.colorBorderSecondary)}}))}(e)),Fe(t,"".concat(i,"-extra"),{marginInlineStart:"auto",color:"",fontWeight:"normal",fontSize:e.fontSize}),Fe(t,"".concat(i,"-body"),Object.assign({padding:c,borderRadius:" 0 0 ".concat(e.borderRadiusLG,"px ").concat(e.borderRadiusLG,"px")},{"&::before":{display:"table",content:'""'},"&::after":{display:"table",clear:"both",content:'""'}})),Fe(t,"".concat(i,"-grid"),function(e){var t=e.cardPaddingBase,n=e.colorBorderSecondary,r=e.cardShadow,i=e.lineWidth;return{width:"33.33%",padding:t,border:0,borderRadius:0,boxShadow:"\n      ".concat(i,"px 0 0 0 ").concat(n,",\n      0 ").concat(i,"px 0 0 ").concat(n,",\n      ").concat(i,"px ").concat(i,"px 0 0 ").concat(n,",\n      ").concat(i,"px 0 0 0 ").concat(n," inset,\n      0 ").concat(i,"px 0 0 ").concat(n," inset;\n    "),transition:"all ".concat(e.motionDurationMid),"&-hoverable:hover":{position:"relative",zIndex:1,boxShadow:r}}}(e)),Fe(t,"".concat(i,"-cover"),{"> *":{display:"block",width:"100%"},img:{borderRadius:"".concat(e.borderRadiusLG,"px ").concat(e.borderRadiusLG,"px 0 0")}}),Fe(t,"".concat(i,"-actions"),function(e){var t,n=e.componentCls,r=e.iconCls,i=e.cardActionsLiMargin,a=e.cardActionsIconSize,o=e.colorBorderSecondary;return Object.assign(Object.assign({margin:0,padding:0,listStyle:"none",background:e.colorBgContainer,borderTop:"".concat(e.lineWidth,"px ").concat(e.lineType," ").concat(o),display:"flex",borderRadius:"0 0 ".concat(e.borderRadiusLG,"px ").concat(e.borderRadiusLG,"px ")},{"&::before":{display:"table",content:'""'},"&::after":{display:"table",clear:"both",content:'""'}}),{"& > li":{margin:i,color:e.colorTextDescription,textAlign:"center","> span":(t={position:"relative",display:"block",minWidth:2*e.cardActionsIconSize,fontSize:e.fontSize,lineHeight:e.lineHeight,cursor:"pointer","&:hover":{color:e.colorPrimary,transition:"color ".concat(e.motionDurationMid)}},Fe(t,"a:not(".concat(n,"-btn), > ").concat(r),{display:"inline-block",width:"100%",color:e.colorTextDescription,lineHeight:"".concat(e.fontSize*e.lineHeight,"px"),transition:"color ".concat(e.motionDurationMid),"&:hover":{color:e.colorPrimary}}),Fe(t,"> ".concat(r),{fontSize:a,lineHeight:"".concat(a*e.lineHeight,"px")}),t),"&:not(:last-child)":{borderInlineEnd:"".concat(e.lineWidth,"px ").concat(e.lineType," ").concat(o)}}})}(e)),Fe(t,"".concat(i,"-meta"),function(e){return Object.assign(Object.assign({margin:"-".concat(e.marginXXS,"px 0"),display:"flex"},{"&::before":{display:"table",content:'""'},"&::after":{display:"table",clear:"both",content:'""'}}),{"&-avatar":{paddingInlineEnd:e.padding},"&-detail":{overflow:"hidden",flex:1,"> div:not(:last-child)":{marginBottom:e.marginXS}},"&-title":Object.assign({color:e.colorTextHeading,fontWeight:e.fontWeightStrong,fontSize:e.fontSizeLG},Un),"&-description":{color:e.colorTextDescription}})}(e)),t))),Fe(r,"".concat(i,"-bordered"),Fe({border:"".concat(e.lineWidth,"px ").concat(e.lineType," ").concat(s)},"".concat(i,"-cover"),{marginTop:-1,marginInlineStart:-1,marginInlineEnd:-1})),Fe(r,"".concat(i,"-hoverable"),{cursor:"pointer",transition:"box-shadow ".concat(e.motionDurationMid,", border-color ").concat(e.motionDurationMid),"&:hover":{borderColor:"transparent",boxShadow:a}}),Fe(r,"".concat(i,"-contain-grid"),(Fe(n={},"".concat(i,"-body"),{display:"flex",flexWrap:"wrap"}),Fe(n,"&:not(".concat(i,"-loading) ").concat(i,"-body"),{marginBlockStart:-e.lineWidth,marginInlineStart:-e.lineWidth,padding:0}),n)),Fe(r,"".concat(i,"-contain-tabs"),Fe({},"> ".concat(i,"-head"),Fe({},"".concat(i,"-head-title, ").concat(i,"-extra"),{paddingTop:o}))),Fe(r,"".concat(i,"-type-inner"),function(e){var t,n=e.componentCls,r=e.cardPaddingBase,i=e.colorFillAlter;return Fe(t={},"".concat(n,"-head"),{padding:"0 ".concat(r,"px"),background:i,"&-title":{fontSize:e.fontSize}}),Fe(t,"".concat(n,"-body"),{padding:"".concat(e.padding,"px ").concat(r,"px")}),t}(e)),Fe(r,"".concat(i,"-loading"),function(e){var t=e.componentCls;return Fe({overflow:"hidden"},"".concat(t,"-body"),{userSelect:"none"})}(e)),Fe(r,"".concat(i,"-rtl"),{direction:"rtl"}),r},$A=function(e){var t,n,r=e.componentCls,i=e.cardPaddingSM,a=e.cardHeadHeightSM;return Fe(n={},"".concat(r,"-small"),(Fe(t={},"> ".concat(r,"-head"),Fe({minHeight:a,padding:"0 ".concat(i,"px"),fontSize:e.fontSize},"> ".concat(r,"-head-wrapper"),Fe({},"> ".concat(r,"-extra"),{fontSize:e.fontSize}))),Fe(t,"> ".concat(r,"-body"),{padding:i}),t)),Fe(n,"".concat(r,"-small").concat(r,"-contain-tabs"),Fe({},"> ".concat(r,"-head"),Fe({},"".concat(r,"-head-title, ").concat(r,"-extra"),{minHeight:a,paddingTop:0,display:"flex",alignItems:"center"}))),n},JA=Xr("Card",(function(e){var t=Gr(e,{cardShadow:e.boxShadowCard,cardHeadHeight:e.fontSizeLG*e.lineHeightLG+2*e.padding,cardHeadHeightSM:e.fontSize*e.lineHeight+2*e.paddingXS,cardHeadPadding:e.padding,cardPaddingBase:e.paddingLG,cardHeadTabsMarginBottom:-e.padding-e.lineWidth,cardActionsLiMargin:"".concat(e.paddingSM,"px 0"),cardActionsIconSize:e.fontSize,cardPaddingSM:12});return[YA(t),$A(t)]})),QA=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};var ez=t.forwardRef((function(e,n){var r,i,a,o=t.useContext(Ge),s=o.getPrefixCls,l=o.direction,c=t.useContext($v),u=e.prefixCls,d=e.className,f=e.extra,h=e.headStyle,p=void 0===h?{}:h,m=e.bodyStyle,v=void 0===m?{}:m,g=e.title,y=e.loading,x=e.bordered,b=void 0===x||x,_=e.size,w=e.type,S=e.cover,E=e.actions,C=e.tabList,T=e.children,M=e.activeTabKey,I=e.defaultActiveTabKey,O=e.tabBarExtraContent,P=e.hoverable,A=e.tabProps,z=void 0===A?{}:A,j=QA(e,["prefixCls","className","extra","headStyle","bodyStyle","title","loading","bordered","size","type","cover","actions","tabList","children","activeTabKey","defaultActiveTabKey","tabBarExtraContent","hoverable","tabProps"]),R=s("card",u),D=k(JA(R),2),L=D[0],N=D[1],B=t.createElement(YP,{loading:!0,active:!0,paragraph:{rows:4},title:!1},T),F=void 0!==M,V=Object.assign(Object.assign({},z),(Fe(r={},F?"activeKey":"defaultActiveKey",F?M:I),Fe(r,"tabBarExtraContent",O),r)),U=C&&C.length?t.createElement(XA,Object.assign({size:"large"},V,{className:"".concat(R,"-head-tabs"),onChange:function(t){var n;null===(n=e.onTabChange)||void 0===n||n.call(e,t)},items:C.map((function(e){var t;return{label:e.tab,key:e.key,disabled:null!==(t=e.disabled)&&void 0!==t&&t}}))})):null;(g||f||U)&&(a=t.createElement("div",{className:"".concat(R,"-head"),style:p},t.createElement("div",{className:"".concat(R,"-head-wrapper")},g&&t.createElement("div",{className:"".concat(R,"-head-title")},g),f&&t.createElement("div",{className:"".concat(R,"-extra")},f)),U));var H=S?t.createElement("div",{className:"".concat(R,"-cover")},S):null,G=t.createElement("div",{className:"".concat(R,"-body"),style:v},y?B:T),W=E&&E.length?t.createElement("ul",{className:"".concat(R,"-actions")},function(e){var n=e.map((function(n,r){return t.createElement("li",{style:{width:"".concat(100/e.length,"%")},key:"action-".concat(r)},t.createElement("span",null,n))}));return n}(E)):null,q=Ai(j,["onTabChange"]),X=_||c,Z=Ue()(R,(Fe(i={},"".concat(R,"-loading"),y),Fe(i,"".concat(R,"-bordered"),b),Fe(i,"".concat(R,"-hoverable"),P),Fe(i,"".concat(R,"-contain-grid"),function(){var n;return t.Children.forEach(e.children,(function(e){e&&e.type&&e.type===KA&&(n=!0)})),n}()),Fe(i,"".concat(R,"-contain-tabs"),C&&C.length),Fe(i,"".concat(R,"-").concat(X),X),Fe(i,"".concat(R,"-type-").concat(w),!!w),Fe(i,"".concat(R,"-rtl"),"rtl"===l),i),d,N);return L(t.createElement("div",Object.assign({ref:n},q,{className:Z}),a,H,G,W))})),tz=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},nz=function(e){var n=e.prefixCls,r=e.className,i=e.avatar,a=e.title,o=e.description,s=tz(e,["prefixCls","className","avatar","title","description"]),l=(0,t.useContext(Ge).getPrefixCls)("card",n),c=Ue()("".concat(l,"-meta"),r),u=i?t.createElement("div",{className:"".concat(l,"-meta-avatar")},i):null,d=a?t.createElement("div",{className:"".concat(l,"-meta-title")},a):null,f=o?t.createElement("div",{className:"".concat(l,"-meta-description")},o):null,h=d||f?t.createElement("div",{className:"".concat(l,"-meta-detail")},d,f):null;return t.createElement("div",Object.assign({},s,{className:c}),u,h)},rz=ez;rz.Grid=KA,rz.Meta=nz;var iz=rz,az={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M877.1 238.7L770.6 132.3c-13-13-30.4-20.3-48.8-20.3s-35.8 7.2-48.8 20.3L558.3 246.8c-13 13-20.3 30.5-20.3 48.9 0 18.5 7.2 35.8 20.3 48.9l89.6 89.7a405.46 405.46 0 01-86.4 127.3c-36.7 36.9-79.6 66-127.2 86.6l-89.6-89.7c-13-13-30.4-20.3-48.8-20.3a68.2 68.2 0 00-48.8 20.3L132.3 673c-13 13-20.3 30.5-20.3 48.9 0 18.5 7.2 35.8 20.3 48.9l106.4 106.4c22.2 22.2 52.8 34.9 84.2 34.9 6.5 0 12.8-.5 19.2-1.6 132.4-21.8 263.8-92.3 369.9-198.3C818 606 888.4 474.6 910.4 342.1c6.3-37.6-6.3-76.3-33.3-103.4zm-37.6 91.5c-19.5 117.9-82.9 235.5-178.4 331s-213 158.9-330.9 178.4c-14.8 2.5-30-2.5-40.8-13.2L184.9 721.9 295.7 611l119.8 120 .9.9 21.6-8a481.29 481.29 0 00285.7-285.8l8-21.6-120.8-120.7 110.8-110.9 104.5 104.5c10.8 10.8 15.8 26 13.3 40.8z"}}]},name:"phone",theme:"outlined"},oz=function(e,n){return t.createElement(ki,Xe(Xe({},e),{},{ref:n,icon:az}))};oz.displayName="PhoneOutlined";var sz=t.forwardRef(oz),lz=function(){var e=k((0,t.useState)([]),2),n=e[0],r=e[1],i=function(){var e=Be(Le().mark((function e(){var t,n;return Le().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Po.get("/all-agency");case 3:t=e.sent,n=t.data,r(n),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),h_.error("Failed, try again");case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();return(0,t.useEffect)((function(){i()}),[]),(0,zo.jsxs)("div",{className:"mt-24",children:[(0,zo.jsx)(bP,{orientation:"left",children:(0,zo.jsx)("h4",{style:{marginBottom:"-10px",fontWeight:"bold"},className:"text-5xl text-blue-400",children:"Agencies"})}),(0,zo.jsx)("section",{className:"text-gray-600 body-font",children:(0,zo.jsx)("div",{className:"container px-5 pb-24 mx-auto",children:(0,zo.jsx)(Kp,{className:"",children:null===n||void 0===n?void 0:n.map((function(e){var t;return(0,zo.jsx)(em,{md:5,sm:23,xs:23,offset:1,className:"my-5",children:(0,zo.jsx)(iz,{className:"bg-gray-50 here-card",hoverable:!0,actions:[(0,zo.jsx)("a",{href:"https://facebook.com",target:"_blank",style:{fontSize:"20px"},children:(0,zo.jsx)(sz,{className:"text-blue-700"},"setting")}),(0,zo.jsx)("a",{href:"https://facebook.com",target:"_blank",style:{fontSize:"20px"},children:(0,zo.jsx)(xb,{className:"text-blue-700"},"setting")})],children:(0,zo.jsx)(iz.Meta,{avatar:(0,zo.jsx)(BO,{src:null===(t=e.image)||void 0===t?void 0:t.url}),title:(0,zo.jsx)(Mh,{to:"/ven-service/".concat(e._id),children:e.name}),description:e.about.substring(0,16)})})})}))})})})]})};function cz(e){return null!==e&&"object"===typeof e&&"constructor"in e&&e.constructor===Object}function uz(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Object.keys(t).forEach((function(n){"undefined"===typeof e[n]?e[n]=t[n]:cz(t[n])&&cz(e[n])&&Object.keys(t[n]).length>0&&uz(e[n],t[n])}))}var dz={body:{},addEventListener:function(){},removeEventListener:function(){},activeElement:{blur:function(){},nodeName:""},querySelector:function(){return null},querySelectorAll:function(){return[]},getElementById:function(){return null},createEvent:function(){return{initEvent:function(){}}},createElement:function(){return{children:[],childNodes:[],style:{},setAttribute:function(){},getElementsByTagName:function(){return[]}}},createElementNS:function(){return{}},importNode:function(){return null},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function fz(){var e="undefined"!==typeof document?document:{};return uz(e,dz),e}var hz,pz,mz,vz={document:dz,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState:function(){},pushState:function(){},go:function(){},back:function(){}},CustomEvent:function(){return this},addEventListener:function(){},removeEventListener:function(){},getComputedStyle:function(){return{getPropertyValue:function(){return""}}},Image:function(){},Date:function(){},screen:{},setTimeout:function(){},clearTimeout:function(){},matchMedia:function(){return{}},requestAnimationFrame:function(e){return"undefined"===typeof setTimeout?(e(),null):setTimeout(e,0)},cancelAnimationFrame:function(e){"undefined"!==typeof setTimeout&&clearTimeout(e)}};function gz(){var e="undefined"!==typeof window?window:{};return uz(e,vz),e}function yz(e){var t=e;Object.keys(t).forEach((function(e){try{t[e]=null}catch(Jv){}try{delete t[e]}catch(Jv){}}))}function xz(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return setTimeout(e,t)}function bz(){return Date.now()}function _z(e){var t,n=gz();return n.getComputedStyle&&(t=n.getComputedStyle(e,null)),!t&&e.currentStyle&&(t=e.currentStyle),t||(t=e.style),t}function wz(e){var t,n,r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"x",a=gz(),o=_z(e);return a.WebKitCSSMatrix?((n=o.transform||o.webkitTransform).split(",").length>6&&(n=n.split(", ").map((function(e){return e.replace(",",".")})).join(", ")),r=new a.WebKitCSSMatrix("none"===n?"":n)):t=(r=o.MozTransform||o.OTransform||o.MsTransform||o.msTransform||o.transform||o.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,")).toString().split(","),"x"===i&&(n=a.WebKitCSSMatrix?r.m41:16===t.length?parseFloat(t[12]):parseFloat(t[4])),"y"===i&&(n=a.WebKitCSSMatrix?r.m42:16===t.length?parseFloat(t[13]):parseFloat(t[5])),n||0}function kz(e){return"object"===typeof e&&null!==e&&e.constructor&&"Object"===Object.prototype.toString.call(e).slice(8,-1)}function Sz(e){return"undefined"!==typeof window&&"undefined"!==typeof window.HTMLElement?e instanceof HTMLElement:e&&(1===e.nodeType||11===e.nodeType)}function Ez(){for(var e=Object(arguments.length<=0?void 0:arguments[0]),t=["__proto__","constructor","prototype"],n=1;n<arguments.length;n+=1){var r=n<0||arguments.length<=n?void 0:arguments[n];if(void 0!==r&&null!==r&&!Sz(r))for(var i=Object.keys(Object(r)).filter((function(e){return t.indexOf(e)<0})),a=0,o=i.length;a<o;a+=1){var s=i[a],l=Object.getOwnPropertyDescriptor(r,s);void 0!==l&&l.enumerable&&(kz(e[s])&&kz(r[s])?r[s].__swiper__?e[s]=r[s]:Ez(e[s],r[s]):!kz(e[s])&&kz(r[s])?(e[s]={},r[s].__swiper__?e[s]=r[s]:Ez(e[s],r[s])):e[s]=r[s])}}return e}function Cz(e,t,n){e.style.setProperty(t,n)}function Tz(e){var t,n=e.swiper,r=e.targetPosition,i=e.side,a=gz(),o=-n.translate,s=null,l=n.params.speed;n.wrapperEl.style.scrollSnapType="none",a.cancelAnimationFrame(n.cssModeFrameID);var c=r>o?"next":"prev",u=function(e,t){return"next"===c&&e>=t||"prev"===c&&e<=t};!function e(){t=(new Date).getTime(),null===s&&(s=t);var c=Math.max(Math.min((t-s)/l,1),0),d=.5-Math.cos(c*Math.PI)/2,f=o+d*(r-o);if(u(f,r)&&(f=r),n.wrapperEl.scrollTo(Fe({},i,f)),u(f,r))return n.wrapperEl.style.overflow="hidden",n.wrapperEl.style.scrollSnapType="",setTimeout((function(){n.wrapperEl.style.overflow="",n.wrapperEl.scrollTo(Fe({},i,f))})),void a.cancelAnimationFrame(n.cssModeFrameID);n.cssModeFrameID=a.requestAnimationFrame(e)}()}function Mz(e){return e.querySelector(".swiper-slide-transform")||e.shadowEl&&e.shadowEl.querySelector(".swiper-slide-transform")||e}function Iz(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return l(e.children).filter((function(e){return e.matches(t)}))}function Oz(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=document.createElement(e);return(t=r.classList).add.apply(t,l(Array.isArray(n)?n:[n])),r}function Pz(e,t){return gz().getComputedStyle(e,null).getPropertyValue(t)}function Az(e){var t,n=e;if(n){for(t=0;null!==(n=n.previousSibling);)1===n.nodeType&&(t+=1);return t}}function zz(e,t,n){var r=gz();return n?e["width"===t?"offsetWidth":"offsetHeight"]+parseFloat(r.getComputedStyle(e,null).getPropertyValue("width"===t?"margin-right":"margin-top"))+parseFloat(r.getComputedStyle(e,null).getPropertyValue("width"===t?"margin-left":"margin-bottom")):e.offsetWidth}function jz(){return hz||(hz=function(){var e=gz(),t=fz();return{smoothScroll:t.documentElement&&"scrollBehavior"in t.documentElement.style,touch:!!("ontouchstart"in e||e.DocumentTouch&&t instanceof e.DocumentTouch)}}()),hz}function Rz(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.userAgent,n=jz(),r=gz(),i=r.navigator.platform,a=t||r.navigator.userAgent,o={ios:!1,android:!1},s=r.screen.width,l=r.screen.height,c=a.match(/(Android);?[\s\/]+([\d.]+)?/),u=a.match(/(iPad).*OS\s([\d_]+)/),d=a.match(/(iPod)(.*OS\s([\d_]+))?/),f=!u&&a.match(/(iPhone\sOS|iOS)\s([\d_]+)/),h="Win32"===i,p="MacIntel"===i,m=["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"];return!u&&p&&n.touch&&m.indexOf("".concat(s,"x").concat(l))>=0&&((u=a.match(/(Version)\/([\d.]+)/))||(u=[0,1,"13_0_0"]),p=!1),c&&!h&&(o.os="android",o.android=!0),(u||f||d)&&(o.os="ios",o.ios=!0),o}function Dz(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return pz||(pz=Rz(e)),pz}function Lz(){return mz||(mz=function(){var e=gz(),t=!1;function n(){var t=e.navigator.userAgent.toLowerCase();return t.indexOf("safari")>=0&&t.indexOf("chrome")<0&&t.indexOf("android")<0}if(n()){var r=String(e.navigator.userAgent);if(r.includes("Version/")){var i=k(r.split("Version/")[1].split(" ")[0].split(".").map((function(e){return Number(e)})),2),a=i[0],o=i[1];t=a<16||16===a&&o<2}}return{isSafari:t||n(),needPerspectiveFix:t,isWebView:/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(e.navigator.userAgent)}}()),mz}var Nz={on:function(e,t,n){var r=this;if(!r.eventsListeners||r.destroyed)return r;if("function"!==typeof t)return r;var i=n?"unshift":"push";return e.split(" ").forEach((function(e){r.eventsListeners[e]||(r.eventsListeners[e]=[]),r.eventsListeners[e][i](t)})),r},once:function(e,t,n){var r=this;if(!r.eventsListeners||r.destroyed)return r;if("function"!==typeof t)return r;function i(){r.off(e,i),i.__emitterProxy&&delete i.__emitterProxy;for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];t.apply(r,a)}return i.__emitterProxy=t,r.on(e,i,n)},onAny:function(e,t){var n=this;if(!n.eventsListeners||n.destroyed)return n;if("function"!==typeof e)return n;var r=t?"unshift":"push";return n.eventsAnyListeners.indexOf(e)<0&&n.eventsAnyListeners[r](e),n},offAny:function(e){var t=this;if(!t.eventsListeners||t.destroyed)return t;if(!t.eventsAnyListeners)return t;var n=t.eventsAnyListeners.indexOf(e);return n>=0&&t.eventsAnyListeners.splice(n,1),t},off:function(e,t){var n=this;return!n.eventsListeners||n.destroyed?n:n.eventsListeners?(e.split(" ").forEach((function(e){"undefined"===typeof t?n.eventsListeners[e]=[]:n.eventsListeners[e]&&n.eventsListeners[e].forEach((function(r,i){(r===t||r.__emitterProxy&&r.__emitterProxy===t)&&n.eventsListeners[e].splice(i,1)}))})),n):n},emit:function(){var e,t,n,r=this;if(!r.eventsListeners||r.destroyed)return r;if(!r.eventsListeners)return r;for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];"string"===typeof a[0]||Array.isArray(a[0])?(e=a[0],t=a.slice(1,a.length),n=r):(e=a[0].events,t=a[0].data,n=a[0].context||r),t.unshift(n);var s=Array.isArray(e)?e:e.split(" ");return s.forEach((function(e){r.eventsAnyListeners&&r.eventsAnyListeners.length&&r.eventsAnyListeners.forEach((function(r){r.apply(n,[e].concat(l(t)))})),r.eventsListeners&&r.eventsListeners[e]&&r.eventsListeners[e].forEach((function(e){e.apply(n,t)}))})),r}};var Bz={updateSize:function(){var e,t,n=this,r=n.el;e="undefined"!==typeof n.params.width&&null!==n.params.width?n.params.width:r.clientWidth,t="undefined"!==typeof n.params.height&&null!==n.params.height?n.params.height:r.clientHeight,0===e&&n.isHorizontal()||0===t&&n.isVertical()||(e=e-parseInt(Pz(r,"padding-left")||0,10)-parseInt(Pz(r,"padding-right")||0,10),t=t-parseInt(Pz(r,"padding-top")||0,10)-parseInt(Pz(r,"padding-bottom")||0,10),Number.isNaN(e)&&(e=0),Number.isNaN(t)&&(t=0),Object.assign(n,{width:e,height:t,size:n.isHorizontal()?e:t}))},updateSlides:function(){var e=this;function t(t){return e.isHorizontal()?t:{width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"}[t]}function n(e,n){return parseFloat(e.getPropertyValue(t(n))||0)}var r=e.params,i=e.wrapperEl,a=e.slidesEl,o=e.size,s=e.rtlTranslate,l=e.wrongRTL,c=e.virtual&&r.virtual.enabled,u=c?e.virtual.slides.length:e.slides.length,d=Iz(a,".".concat(e.params.slideClass,", swiper-slide")),f=c?e.virtual.slides.length:d.length,h=[],p=[],m=[],v=r.slidesOffsetBefore;"function"===typeof v&&(v=r.slidesOffsetBefore.call(e));var g=r.slidesOffsetAfter;"function"===typeof g&&(g=r.slidesOffsetAfter.call(e));var y=e.snapGrid.length,x=e.slidesGrid.length,b=r.spaceBetween,_=-v,w=0,k=0;if("undefined"!==typeof o){"string"===typeof b&&b.indexOf("%")>=0&&(b=parseFloat(b.replace("%",""))/100*o),e.virtualSize=-b,d.forEach((function(e){s?e.style.marginLeft="":e.style.marginRight="",e.style.marginBottom="",e.style.marginTop=""})),r.centeredSlides&&r.cssMode&&(Cz(i,"--swiper-centered-offset-before",""),Cz(i,"--swiper-centered-offset-after",""));var S,E=r.grid&&r.grid.rows>1&&e.grid;E&&e.grid.initSlides(f);for(var C="auto"===r.slidesPerView&&r.breakpoints&&Object.keys(r.breakpoints).filter((function(e){return"undefined"!==typeof r.breakpoints[e].slidesPerView})).length>0,T=0;T<f;T+=1){S=0;var M=void 0;if(d[T]&&(M=d[T]),E&&e.grid.updateSlide(T,M,f,t),!d[T]||"none"!==Pz(M,"display")){if("auto"===r.slidesPerView){C&&(d[T].style[t("width")]="");var I=getComputedStyle(M),O=M.style.transform,P=M.style.webkitTransform;if(O&&(M.style.transform="none"),P&&(M.style.webkitTransform="none"),r.roundLengths)S=e.isHorizontal()?zz(M,"width",!0):zz(M,"height",!0);else{var A=n(I,"width"),z=n(I,"padding-left"),j=n(I,"padding-right"),R=n(I,"margin-left"),D=n(I,"margin-right"),L=I.getPropertyValue("box-sizing");if(L&&"border-box"===L)S=A+R+D;else{var N=M,B=N.clientWidth;S=A+z+j+R+D+(N.offsetWidth-B)}}O&&(M.style.transform=O),P&&(M.style.webkitTransform=P),r.roundLengths&&(S=Math.floor(S))}else S=(o-(r.slidesPerView-1)*b)/r.slidesPerView,r.roundLengths&&(S=Math.floor(S)),d[T]&&(d[T].style[t("width")]="".concat(S,"px"));d[T]&&(d[T].swiperSlideSize=S),m.push(S),r.centeredSlides?(_=_+S/2+w/2+b,0===w&&0!==T&&(_=_-o/2-b),0===T&&(_=_-o/2-b),Math.abs(_)<.001&&(_=0),r.roundLengths&&(_=Math.floor(_)),k%r.slidesPerGroup===0&&h.push(_),p.push(_)):(r.roundLengths&&(_=Math.floor(_)),(k-Math.min(e.params.slidesPerGroupSkip,k))%e.params.slidesPerGroup===0&&h.push(_),p.push(_),_=_+S+b),e.virtualSize+=S+b,w=S,k+=1}}if(e.virtualSize=Math.max(e.virtualSize,o)+g,s&&l&&("slide"===r.effect||"coverflow"===r.effect)&&(i.style.width="".concat(e.virtualSize+r.spaceBetween,"px")),r.setWrapperSize&&(i.style[t("width")]="".concat(e.virtualSize+r.spaceBetween,"px")),E&&e.grid.updateWrapperSize(S,h,t),!r.centeredSlides){for(var F=[],V=0;V<h.length;V+=1){var U=h[V];r.roundLengths&&(U=Math.floor(U)),h[V]<=e.virtualSize-o&&F.push(U)}h=F,Math.floor(e.virtualSize-o)-Math.floor(h[h.length-1])>1&&h.push(e.virtualSize-o)}if(c&&r.loop){var H=m[0]+b;if(r.slidesPerGroup>1)for(var G=Math.ceil((e.virtual.slidesBefore+e.virtual.slidesAfter)/r.slidesPerGroup),W=H*r.slidesPerGroup,q=0;q<G;q+=1)h.push(h[h.length-1]+W);for(var X=0;X<e.virtual.slidesBefore+e.virtual.slidesAfter;X+=1)1===r.slidesPerGroup&&h.push(h[h.length-1]+H),p.push(p[p.length-1]+H),e.virtualSize+=H}if(0===h.length&&(h=[0]),0!==r.spaceBetween){var Z=e.isHorizontal()&&s?"marginLeft":t("marginRight");d.filter((function(e,t){return!(r.cssMode&&!r.loop)||t!==d.length-1})).forEach((function(e){e.style[Z]="".concat(b,"px")}))}if(r.centeredSlides&&r.centeredSlidesBounds){var K=0;m.forEach((function(e){K+=e+(r.spaceBetween?r.spaceBetween:0)}));var Y=(K-=r.spaceBetween)-o;h=h.map((function(e){return e<0?-v:e>Y?Y+g:e}))}if(r.centerInsufficientSlides){var $=0;if(m.forEach((function(e){$+=e+(r.spaceBetween?r.spaceBetween:0)})),($-=r.spaceBetween)<o){var J=(o-$)/2;h.forEach((function(e,t){h[t]=e-J})),p.forEach((function(e,t){p[t]=e+J}))}}if(Object.assign(e,{slides:d,snapGrid:h,slidesGrid:p,slidesSizesGrid:m}),r.centeredSlides&&r.cssMode&&!r.centeredSlidesBounds){Cz(i,"--swiper-centered-offset-before","".concat(-h[0],"px")),Cz(i,"--swiper-centered-offset-after","".concat(e.size/2-m[m.length-1]/2,"px"));var Q=-e.snapGrid[0],ee=-e.slidesGrid[0];e.snapGrid=e.snapGrid.map((function(e){return e+Q})),e.slidesGrid=e.slidesGrid.map((function(e){return e+ee}))}if(f!==u&&e.emit("slidesLengthChange"),h.length!==y&&(e.params.watchOverflow&&e.checkOverflow(),e.emit("snapGridLengthChange")),p.length!==x&&e.emit("slidesGridLengthChange"),r.watchSlidesProgress&&e.updateSlidesOffset(),!c&&!r.cssMode&&("slide"===r.effect||"fade"===r.effect)){var te="".concat(r.containerModifierClass,"backface-hidden"),ne=e.el.classList.contains(te);f<=r.maxBackfaceHiddenSlides?ne||e.el.classList.add(te):ne&&e.el.classList.remove(te)}}},updateAutoHeight:function(e){var t,n=this,r=[],i=n.virtual&&n.params.virtual.enabled,a=0;"number"===typeof e?n.setTransition(e):!0===e&&n.setTransition(n.params.speed);var o=function(e){return i?n.slides.filter((function(t){return parseInt(t.getAttribute("data-swiper-slide-index"),10)===e}))[0]:n.slides[e]};if("auto"!==n.params.slidesPerView&&n.params.slidesPerView>1)if(n.params.centeredSlides)(n.visibleSlides||[]).forEach((function(e){r.push(e)}));else for(t=0;t<Math.ceil(n.params.slidesPerView);t+=1){var s=n.activeIndex+t;if(s>n.slides.length&&!i)break;r.push(o(s))}else r.push(o(n.activeIndex));for(t=0;t<r.length;t+=1)if("undefined"!==typeof r[t]){var l=r[t].offsetHeight;a=l>a?l:a}(a||0===a)&&(n.wrapperEl.style.height="".concat(a,"px"))},updateSlidesOffset:function(){for(var e=this,t=e.slides,n=e.isElement?e.isHorizontal()?e.wrapperEl.offsetLeft:e.wrapperEl.offsetTop:0,r=0;r<t.length;r+=1)t[r].swiperSlideOffset=(e.isHorizontal()?t[r].offsetLeft:t[r].offsetTop)-n},updateSlidesProgress:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this&&this.translate||0,t=this,n=t.params,r=t.slides,i=t.rtlTranslate,a=t.snapGrid;if(0!==r.length){"undefined"===typeof r[0].swiperSlideOffset&&t.updateSlidesOffset();var o=-e;i&&(o=e),r.forEach((function(e){e.classList.remove(n.slideVisibleClass)})),t.visibleSlidesIndexes=[],t.visibleSlides=[];for(var s=0;s<r.length;s+=1){var l=r[s],c=l.swiperSlideOffset;n.cssMode&&n.centeredSlides&&(c-=r[0].swiperSlideOffset);var u=(o+(n.centeredSlides?t.minTranslate():0)-c)/(l.swiperSlideSize+n.spaceBetween),d=(o-a[0]+(n.centeredSlides?t.minTranslate():0)-c)/(l.swiperSlideSize+n.spaceBetween),f=-(o-c),h=f+t.slidesSizesGrid[s],p=f>=0&&f<t.size-1||h>1&&h<=t.size||f<=0&&h>=t.size;p&&(t.visibleSlides.push(l),t.visibleSlidesIndexes.push(s),r[s].classList.add(n.slideVisibleClass)),l.progress=i?-u:u,l.originalProgress=i?-d:d}}},updateProgress:function(e){var t=this;if("undefined"===typeof e){var n=t.rtlTranslate?-1:1;e=t&&t.translate&&t.translate*n||0}var r=t.params,i=t.maxTranslate()-t.minTranslate(),a=t.progress,o=t.isBeginning,s=t.isEnd,l=t.progressLoop,c=o,u=s;if(0===i)a=0,o=!0,s=!0;else{a=(e-t.minTranslate())/i;var d=Math.abs(e-t.minTranslate())<1,f=Math.abs(e-t.maxTranslate())<1;o=d||a<=0,s=f||a>=1,d&&(a=0),f&&(a=1)}if(r.loop){var h=Az(t.slides.filter((function(e){return"0"===e.getAttribute("data-swiper-slide-index")}))[0]),p=Az(t.slides.filter((function(e){return 1*e.getAttribute("data-swiper-slide-index")===t.slides.length-1}))[0]),m=t.slidesGrid[h],v=t.slidesGrid[p],g=t.slidesGrid[t.slidesGrid.length-1],y=Math.abs(e);(l=y>=m?(y-m)/g:(y+g-v)/g)>1&&(l-=1)}Object.assign(t,{progress:a,progressLoop:l,isBeginning:o,isEnd:s}),(r.watchSlidesProgress||r.centeredSlides&&r.autoHeight)&&t.updateSlidesProgress(e),o&&!c&&t.emit("reachBeginning toEdge"),s&&!u&&t.emit("reachEnd toEdge"),(c&&!o||u&&!s)&&t.emit("fromEdge"),t.emit("progress",a)},updateSlidesClasses:function(){var e,t=this,n=t.slides,r=t.params,i=t.slidesEl,a=t.activeIndex,o=t.virtual&&r.virtual.enabled,s=function(e){return Iz(i,".".concat(r.slideClass).concat(e,", swiper-slide").concat(e))[0]};if(n.forEach((function(e){e.classList.remove(r.slideActiveClass,r.slideNextClass,r.slidePrevClass)})),o)if(r.loop){var l=a-t.virtual.slidesBefore;l<0&&(l=t.virtual.slides.length+l),l>=t.virtual.slides.length&&(l-=t.virtual.slides.length),e=s('[data-swiper-slide-index="'.concat(l,'"]'))}else e=s('[data-swiper-slide-index="'.concat(a,'"]'));else e=n[a];if(e){e.classList.add(r.slideActiveClass);var c=function(e,t){for(var n=[];e.nextElementSibling;){var r=e.nextElementSibling;t?r.matches(t)&&n.push(r):n.push(r),e=r}return n}(e,".".concat(r.slideClass,", swiper-slide"))[0];r.loop&&!c&&(c=n[0]),c&&c.classList.add(r.slideNextClass);var u=function(e,t){for(var n=[];e.previousElementSibling;){var r=e.previousElementSibling;t?r.matches(t)&&n.push(r):n.push(r),e=r}return n}(e,".".concat(r.slideClass,", swiper-slide"))[0];r.loop&&0===!u&&(u=n[n.length-1]),u&&u.classList.add(r.slidePrevClass)}t.emitSlidesClasses()},updateActiveIndex:function(e){var t,n,r=this,i=r.rtlTranslate?r.translate:-r.translate,a=r.snapGrid,o=r.params,s=r.activeIndex,l=r.realIndex,c=r.snapIndex,u=e,d=function(e){var t=e-r.virtual.slidesBefore;return t<0&&(t=r.virtual.slides.length+t),t>=r.virtual.slides.length&&(t-=r.virtual.slides.length),t};if("undefined"===typeof u&&(u=function(e){for(var t,n=e.slidesGrid,r=e.params,i=e.rtlTranslate?e.translate:-e.translate,a=0;a<n.length;a+=1)"undefined"!==typeof n[a+1]?i>=n[a]&&i<n[a+1]-(n[a+1]-n[a])/2?t=a:i>=n[a]&&i<n[a+1]&&(t=a+1):i>=n[a]&&(t=a);return r.normalizeSlideIndex&&(t<0||"undefined"===typeof t)&&(t=0),t}(r)),a.indexOf(i)>=0)t=a.indexOf(i);else{var f=Math.min(o.slidesPerGroupSkip,u);t=f+Math.floor((u-f)/o.slidesPerGroup)}if(t>=a.length&&(t=a.length-1),u===s)return t!==c&&(r.snapIndex=t,r.emit("snapIndexChange")),void(r.params.loop&&r.virtual&&r.params.virtual.enabled&&(r.realIndex=d(u)));n=r.virtual&&o.virtual.enabled&&o.loop?d(u):r.slides[u]?parseInt(r.slides[u].getAttribute("data-swiper-slide-index")||u,10):u,Object.assign(r,{snapIndex:t,realIndex:n,previousIndex:s,activeIndex:u}),r.emit("activeIndexChange"),r.emit("snapIndexChange"),l!==n&&r.emit("realIndexChange"),(r.initialized||r.params.runCallbacksOnInit)&&r.emit("slideChange")},updateClickedSlide:function(e){var t,n=this,r=n.params,i=e.closest(".".concat(r.slideClass,", swiper-slide")),a=!1;if(i)for(var o=0;o<n.slides.length;o+=1)if(n.slides[o]===i){a=!0,t=o;break}if(!i||!a)return n.clickedSlide=void 0,void(n.clickedIndex=void 0);n.clickedSlide=i,n.virtual&&n.params.virtual.enabled?n.clickedIndex=parseInt(i.getAttribute("data-swiper-slide-index"),10):n.clickedIndex=t,r.slideToClickedSlide&&void 0!==n.clickedIndex&&n.clickedIndex!==n.activeIndex&&n.slideToClickedSlide()}};var Fz={getTranslate:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.isHorizontal()?"x":"y",t=this,n=t.params,r=t.rtlTranslate,i=t.translate,a=t.wrapperEl;if(n.virtualTranslate)return r?-i:i;if(n.cssMode)return i;var o=wz(a,e);return r&&(o=-o),o||0},setTranslate:function(e,t){var n=this,r=n.rtlTranslate,i=n.params,a=n.wrapperEl,o=n.progress,s=0,l=0;n.isHorizontal()?s=r?-e:e:l=e,i.roundLengths&&(s=Math.floor(s),l=Math.floor(l)),i.cssMode?a[n.isHorizontal()?"scrollLeft":"scrollTop"]=n.isHorizontal()?-s:-l:i.virtualTranslate||(a.style.transform="translate3d(".concat(s,"px, ").concat(l,"px, ").concat(0,"px)")),n.previousTranslate=n.translate,n.translate=n.isHorizontal()?s:l;var c=n.maxTranslate()-n.minTranslate();(0===c?0:(e-n.minTranslate())/c)!==o&&n.updateProgress(e),n.emit("setTranslate",n.translate,t)},minTranslate:function(){return-this.snapGrid[0]},maxTranslate:function(){return-this.snapGrid[this.snapGrid.length-1]},translateTo:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.params.speed,n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],i=arguments.length>4?arguments[4]:void 0,a=this,o=a.params,s=a.wrapperEl;if(a.animating&&o.preventInteractionOnTransition)return!1;var l,c=a.minTranslate(),u=a.maxTranslate();if(l=r&&e>c?c:r&&e<u?u:e,a.updateProgress(l),o.cssMode){var d=a.isHorizontal();if(0===t)s[d?"scrollLeft":"scrollTop"]=-l;else{var f;if(!a.support.smoothScroll)return Tz({swiper:a,targetPosition:-l,side:d?"left":"top"}),!0;s.scrollTo((Fe(f={},d?"left":"top",-l),Fe(f,"behavior","smooth"),f))}return!0}return 0===t?(a.setTransition(0),a.setTranslate(l),n&&(a.emit("beforeTransitionStart",t,i),a.emit("transitionEnd"))):(a.setTransition(t),a.setTranslate(l),n&&(a.emit("beforeTransitionStart",t,i),a.emit("transitionStart")),a.animating||(a.animating=!0,a.onTranslateToWrapperTransitionEnd||(a.onTranslateToWrapperTransitionEnd=function(e){a&&!a.destroyed&&e.target===this&&(a.wrapperEl.removeEventListener("transitionend",a.onTranslateToWrapperTransitionEnd),a.onTranslateToWrapperTransitionEnd=null,delete a.onTranslateToWrapperTransitionEnd,n&&a.emit("transitionEnd"))}),a.wrapperEl.addEventListener("transitionend",a.onTranslateToWrapperTransitionEnd))),!0}};function Vz(e){var t=e.swiper,n=e.runCallbacks,r=e.direction,i=e.step,a=t.activeIndex,o=t.previousIndex,s=r;if(s||(s=a>o?"next":a<o?"prev":"reset"),t.emit("transition".concat(i)),n&&a!==o){if("reset"===s)return void t.emit("slideResetTransition".concat(i));t.emit("slideChangeTransition".concat(i)),"next"===s?t.emit("slideNextTransition".concat(i)):t.emit("slidePrevTransition".concat(i))}}var Uz={setTransition:function(e,t){var n=this;n.params.cssMode||(n.wrapperEl.style.transitionDuration="".concat(e,"ms")),n.emit("setTransition",e,t)},transitionStart:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1?arguments[1]:void 0,n=this,r=n.params;r.cssMode||(r.autoHeight&&n.updateAutoHeight(),Vz({swiper:n,runCallbacks:e,direction:t,step:"Start"}))},transitionEnd:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1?arguments[1]:void 0,n=this,r=n.params;n.animating=!1,r.cssMode||(n.setTransition(0),Vz({swiper:n,runCallbacks:e,direction:t,step:"End"}))}};var Hz={slideTo:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.params.speed,n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=arguments.length>3?arguments[3]:void 0,i=arguments.length>4?arguments[4]:void 0;"string"===typeof e&&(e=parseInt(e,10));var a=this,o=e;o<0&&(o=0);var s=a.params,l=a.snapGrid,c=a.slidesGrid,u=a.previousIndex,d=a.activeIndex,f=a.rtlTranslate,h=a.wrapperEl,p=a.enabled;if(a.animating&&s.preventInteractionOnTransition||!p&&!r&&!i)return!1;var m=Math.min(a.params.slidesPerGroupSkip,o),v=m+Math.floor((o-m)/a.params.slidesPerGroup);v>=l.length&&(v=l.length-1);var g,y=-l[v];if(s.normalizeSlideIndex)for(var x=0;x<c.length;x+=1){var b=-Math.floor(100*y),_=Math.floor(100*c[x]),w=Math.floor(100*c[x+1]);"undefined"!==typeof c[x+1]?b>=_&&b<w-(w-_)/2?o=x:b>=_&&b<w&&(o=x+1):b>=_&&(o=x)}if(a.initialized&&o!==d){if(!a.allowSlideNext&&y<a.translate&&y<a.minTranslate())return!1;if(!a.allowSlidePrev&&y>a.translate&&y>a.maxTranslate()&&(d||0)!==o)return!1}if(o!==(u||0)&&n&&a.emit("beforeSlideChangeStart"),a.updateProgress(y),g=o>d?"next":o<d?"prev":"reset",f&&-y===a.translate||!f&&y===a.translate)return a.updateActiveIndex(o),s.autoHeight&&a.updateAutoHeight(),a.updateSlidesClasses(),"slide"!==s.effect&&a.setTranslate(y),"reset"!==g&&(a.transitionStart(n,g),a.transitionEnd(n,g)),!1;if(s.cssMode){var k=a.isHorizontal(),S=f?y:-y;if(0===t){var E=a.virtual&&a.params.virtual.enabled;E&&(a.wrapperEl.style.scrollSnapType="none",a._immediateVirtual=!0),E&&!a._cssModeVirtualInitialSet&&a.params.initialSlide>0?(a._cssModeVirtualInitialSet=!0,requestAnimationFrame((function(){h[k?"scrollLeft":"scrollTop"]=S}))):h[k?"scrollLeft":"scrollTop"]=S,E&&requestAnimationFrame((function(){a.wrapperEl.style.scrollSnapType="",a._immediateVirtual=!1}))}else{var C;if(!a.support.smoothScroll)return Tz({swiper:a,targetPosition:S,side:k?"left":"top"}),!0;h.scrollTo((Fe(C={},k?"left":"top",S),Fe(C,"behavior","smooth"),C))}return!0}return a.setTransition(t),a.setTranslate(y),a.updateActiveIndex(o),a.updateSlidesClasses(),a.emit("beforeTransitionStart",t,r),a.transitionStart(n,g),0===t?a.transitionEnd(n,g):a.animating||(a.animating=!0,a.onSlideToWrapperTransitionEnd||(a.onSlideToWrapperTransitionEnd=function(e){a&&!a.destroyed&&e.target===this&&(a.wrapperEl.removeEventListener("transitionend",a.onSlideToWrapperTransitionEnd),a.onSlideToWrapperTransitionEnd=null,delete a.onSlideToWrapperTransitionEnd,a.transitionEnd(n,g))}),a.wrapperEl.addEventListener("transitionend",a.onSlideToWrapperTransitionEnd)),!0},slideToLoop:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.params.speed,n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=arguments.length>3?arguments[3]:void 0;if("string"===typeof e){var i=parseInt(e,10);e=i}var a=this,o=e;return a.params.loop&&(a.virtual&&a.params.virtual.enabled?o+=a.virtual.slidesBefore:o=Az(a.slides.filter((function(e){return 1*e.getAttribute("data-swiper-slide-index")===o}))[0])),a.slideTo(o,t,n,r)},slideNext:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.params.speed,t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2?arguments[2]:void 0,r=this,i=r.enabled,a=r.params,o=r.animating;if(!i)return r;var s=a.slidesPerGroup;"auto"===a.slidesPerView&&1===a.slidesPerGroup&&a.slidesPerGroupAuto&&(s=Math.max(r.slidesPerViewDynamic("current",!0),1));var l=r.activeIndex<a.slidesPerGroupSkip?1:s,c=r.virtual&&a.virtual.enabled;if(a.loop){if(o&&!c&&a.loopPreventsSliding)return!1;r.loopFix({direction:"next"}),r._clientLeft=r.wrapperEl.clientLeft}return a.rewind&&r.isEnd?r.slideTo(0,e,t,n):r.slideTo(r.activeIndex+l,e,t,n)},slidePrev:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.params.speed,t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2?arguments[2]:void 0,r=this,i=r.params,a=r.snapGrid,o=r.slidesGrid,s=r.rtlTranslate,l=r.enabled,c=r.animating;if(!l)return r;var u=r.virtual&&i.virtual.enabled;if(i.loop){if(c&&!u&&i.loopPreventsSliding)return!1;r.loopFix({direction:"prev"}),r._clientLeft=r.wrapperEl.clientLeft}var d=s?r.translate:-r.translate;function f(e){return e<0?-Math.floor(Math.abs(e)):Math.floor(e)}var h,p=f(d),m=a.map((function(e){return f(e)})),v=a[m.indexOf(p)-1];"undefined"===typeof v&&i.cssMode&&(a.forEach((function(e,t){p>=e&&(h=t)})),"undefined"!==typeof h&&(v=a[h>0?h-1:h]));var g=0;if("undefined"!==typeof v&&((g=o.indexOf(v))<0&&(g=r.activeIndex-1),"auto"===i.slidesPerView&&1===i.slidesPerGroup&&i.slidesPerGroupAuto&&(g=g-r.slidesPerViewDynamic("previous",!0)+1,g=Math.max(g,0))),i.rewind&&r.isBeginning){var y=r.params.virtual&&r.params.virtual.enabled&&r.virtual?r.virtual.slides.length-1:r.slides.length-1;return r.slideTo(y,e,t,n)}return r.slideTo(g,e,t,n)},slideReset:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.params.speed,t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2?arguments[2]:void 0,r=this;return r.slideTo(r.activeIndex,e,t,n)},slideToClosest:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.params.speed,t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5,i=this,a=i.activeIndex,o=Math.min(i.params.slidesPerGroupSkip,a),s=o+Math.floor((a-o)/i.params.slidesPerGroup),l=i.rtlTranslate?i.translate:-i.translate;if(l>=i.snapGrid[s]){var c=i.snapGrid[s],u=i.snapGrid[s+1];l-c>(u-c)*r&&(a+=i.params.slidesPerGroup)}else{var d=i.snapGrid[s-1],f=i.snapGrid[s];l-d<=(f-d)*r&&(a-=i.params.slidesPerGroup)}return a=Math.max(a,0),a=Math.min(a,i.slidesGrid.length-1),i.slideTo(a,e,t,n)},slideToClickedSlide:function(){var e,t=this,n=t.params,r=t.slidesEl,i="auto"===n.slidesPerView?t.slidesPerViewDynamic():n.slidesPerView,a=t.clickedIndex,o=t.isElement?"swiper-slide":".".concat(n.slideClass);if(n.loop){if(t.animating)return;e=parseInt(t.clickedSlide.getAttribute("data-swiper-slide-index"),10),n.centeredSlides?a<t.loopedSlides-i/2||a>t.slides.length-t.loopedSlides+i/2?(t.loopFix(),a=Az(Iz(r,"".concat(o,'[data-swiper-slide-index="').concat(e,'"]'))[0]),xz((function(){t.slideTo(a)}))):t.slideTo(a):a>t.slides.length-i?(t.loopFix(),a=Az(Iz(r,"".concat(o,'[data-swiper-slide-index="').concat(e,'"]'))[0]),xz((function(){t.slideTo(a)}))):t.slideTo(a)}else t.slideTo(a)}};var Gz,Wz={loopCreate:function(e){var t=this,n=t.params,r=t.slidesEl;!n.loop||t.virtual&&t.params.virtual.enabled||(Iz(r,".".concat(n.slideClass,", swiper-slide")).forEach((function(e,t){e.setAttribute("data-swiper-slide-index",t)})),t.loopFix({slideRealIndex:e,direction:n.centeredSlides?void 0:"next"}))},loopFix:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.slideRealIndex,n=e.slideTo,r=void 0===n||n,i=e.direction,a=e.setTranslate,o=e.activeSlideIndex,s=e.byController,l=e.byMousewheel,c=this;if(c.params.loop){c.emit("beforeLoopFix");var u=c.slides,d=c.allowSlidePrev,f=c.allowSlideNext,h=c.slidesEl,p=c.params;if(c.allowSlidePrev=!0,c.allowSlideNext=!0,c.virtual&&p.virtual.enabled)return r&&(p.centeredSlides||0!==c.snapIndex?p.centeredSlides&&c.snapIndex<p.slidesPerView?c.slideTo(c.virtual.slides.length+c.snapIndex,0,!1,!0):c.snapIndex===c.snapGrid.length-1&&c.slideTo(c.virtual.slidesBefore,0,!1,!0):c.slideTo(c.virtual.slides.length,0,!1,!0)),c.allowSlidePrev=d,c.allowSlideNext=f,void c.emit("loopFix");var m="auto"===p.slidesPerView?c.slidesPerViewDynamic():Math.ceil(parseFloat(p.slidesPerView,10)),v=p.loopedSlides||m;v%p.slidesPerGroup!==0&&(v+=p.slidesPerGroup-v%p.slidesPerGroup),c.loopedSlides=v;var g=[],y=[],x=c.activeIndex;"undefined"===typeof o?o=Az(c.slides.filter((function(e){return e.classList.contains("swiper-slide-active")}))[0]):x=o;var b="next"===i||!i,_="prev"===i||!i,w=0,k=0;if(o<v){w=v-o;for(var S=0;S<v-o;S+=1){var E=S-Math.floor(S/u.length)*u.length;g.push(u.length-E-1)}}else if(o>c.slides.length-2*v){k=o-(c.slides.length-2*v);for(var C=0;C<k;C+=1){var T=C-Math.floor(C/u.length)*u.length;y.push(T)}}if(_&&g.forEach((function(e){h.prepend(c.slides[e])})),b&&y.forEach((function(e){h.append(c.slides[e])})),c.recalcSlides(),p.watchSlidesProgress&&c.updateSlidesOffset(),r)if(g.length>0&&_)if("undefined"===typeof t){var M=c.slidesGrid[x],I=c.slidesGrid[x+w],O=I-M;l?c.setTranslate(c.translate-O):(c.slideTo(x+w,0,!1,!0),a&&(c.touches[c.isHorizontal()?"startX":"startY"]+=O))}else a&&c.slideToLoop(t,0,!1,!0);else if(y.length>0&&b)if("undefined"===typeof t){var P=c.slidesGrid[x],A=c.slidesGrid[x-k],z=A-P;l?c.setTranslate(c.translate-z):(c.slideTo(x-k,0,!1,!0),a&&(c.touches[c.isHorizontal()?"startX":"startY"]+=z))}else c.slideToLoop(t,0,!1,!0);if(c.allowSlidePrev=d,c.allowSlideNext=f,c.controller&&c.controller.control&&!s){var j={slideRealIndex:t,slideTo:!1,direction:i,setTranslate:a,activeSlideIndex:o,byController:!0};Array.isArray(c.controller.control)?c.controller.control.forEach((function(e){e.params.loop&&e.loopFix(j)})):c.controller.control instanceof c.constructor&&c.controller.control.params.loop&&c.controller.control.loopFix(j)}c.emit("loopFix")}},loopDestroy:function(){var e=this,t=e.slides,n=e.params,r=e.slidesEl;if(!(!n.loop||e.virtual&&e.params.virtual.enabled)){e.recalcSlides();var i=[];t.forEach((function(e){var t="undefined"===typeof e.swiperSlideIndex?1*e.getAttribute("data-swiper-slide-index"):e.swiperSlideIndex;i[t]=e})),t.forEach((function(e){e.removeAttribute("data-swiper-slide-index")})),i.forEach((function(e){r.append(e)})),e.recalcSlides(),e.slideTo(e.realIndex,0)}}};function qz(e){var t=this,n=fz(),r=gz(),i=t.touchEventsData;i.evCache.push(e);var a=t.params,o=t.touches;if(t.enabled&&(a.simulateTouch||"mouse"!==e.pointerType)&&(!t.animating||!a.preventInteractionOnTransition)){!t.animating&&a.cssMode&&a.loop&&t.loopFix();var s=e;s.originalEvent&&(s=s.originalEvent);var l=s.target;if(("wrapper"!==a.touchEventsTarget||t.wrapperEl.contains(l))&&(!("which"in s)||3!==s.which)&&!("button"in s&&s.button>0)&&(!i.isTouched||!i.isMoved)){var c=!!a.noSwipingClass&&""!==a.noSwipingClass,u=e.composedPath?e.composedPath():e.path;c&&s.target&&s.target.shadowRoot&&u&&(l=u[0]);var d=a.noSwipingSelector?a.noSwipingSelector:".".concat(a.noSwipingClass),f=!(!s.target||!s.target.shadowRoot);if(a.noSwiping&&(f?function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this;function n(t){if(!t||t===fz()||t===gz())return null;t.assignedSlot&&(t=t.assignedSlot);var r=t.closest(e);return r||t.getRootNode?r||n(t.getRootNode().host):null}return n(t)}(d,l):l.closest(d)))t.allowClick=!0;else if(!a.swipeHandler||l.closest(a.swipeHandler)){o.currentX=s.pageX,o.currentY=s.pageY;var h=o.currentX,p=o.currentY,m=a.edgeSwipeDetection||a.iOSEdgeSwipeDetection,v=a.edgeSwipeThreshold||a.iOSEdgeSwipeThreshold;if(m&&(h<=v||h>=r.innerWidth-v)){if("prevent"!==m)return;e.preventDefault()}Object.assign(i,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),o.startX=h,o.startY=p,i.touchStartTime=bz(),t.allowClick=!0,t.updateSize(),t.swipeDirection=void 0,a.threshold>0&&(i.allowThresholdMove=!1);var g=!0;l.matches(i.focusableElements)&&(g=!1,"SELECT"===l.nodeName&&(i.isTouched=!1)),n.activeElement&&n.activeElement.matches(i.focusableElements)&&n.activeElement!==l&&n.activeElement.blur();var y=g&&t.allowTouchMove&&a.touchStartPreventDefault;!a.touchStartForcePreventDefault&&!y||l.isContentEditable||s.preventDefault(),t.params.freeMode&&t.params.freeMode.enabled&&t.freeMode&&t.animating&&!a.cssMode&&t.freeMode.onTouchStart(),t.emit("touchStart",s)}}}}function Xz(e){var t=fz(),n=this,r=n.touchEventsData,i=n.params,a=n.touches,o=n.rtlTranslate;if(n.enabled&&(i.simulateTouch||"mouse"!==e.pointerType)){var s=e;if(s.originalEvent&&(s=s.originalEvent),r.isTouched){var l=r.evCache.findIndex((function(e){return e.pointerId===s.pointerId}));l>=0&&(r.evCache[l]=s);var c=r.evCache.length>1?r.evCache[0]:s,u=c.pageX,d=c.pageY;if(s.preventedByNestedSwiper)return a.startX=u,void(a.startY=d);if(!n.allowTouchMove)return s.target.matches(r.focusableElements)||(n.allowClick=!1),void(r.isTouched&&(Object.assign(a,{startX:u,startY:d,prevX:n.touches.currentX,prevY:n.touches.currentY,currentX:u,currentY:d}),r.touchStartTime=bz()));if(i.touchReleaseOnEdges&&!i.loop)if(n.isVertical()){if(d<a.startY&&n.translate<=n.maxTranslate()||d>a.startY&&n.translate>=n.minTranslate())return r.isTouched=!1,void(r.isMoved=!1)}else if(u<a.startX&&n.translate<=n.maxTranslate()||u>a.startX&&n.translate>=n.minTranslate())return;if(t.activeElement&&s.target===t.activeElement&&s.target.matches(r.focusableElements))return r.isMoved=!0,void(n.allowClick=!1);if(r.allowTouchCallbacks&&n.emit("touchMove",s),!(s.targetTouches&&s.targetTouches.length>1)){a.currentX=u,a.currentY=d;var f=a.currentX-a.startX,h=a.currentY-a.startY;if(!(n.params.threshold&&Math.sqrt(Math.pow(f,2)+Math.pow(h,2))<n.params.threshold)){var p;if("undefined"===typeof r.isScrolling)n.isHorizontal()&&a.currentY===a.startY||n.isVertical()&&a.currentX===a.startX?r.isScrolling=!1:f*f+h*h>=25&&(p=180*Math.atan2(Math.abs(h),Math.abs(f))/Math.PI,r.isScrolling=n.isHorizontal()?p>i.touchAngle:90-p>i.touchAngle);if(r.isScrolling&&n.emit("touchMoveOpposite",s),"undefined"===typeof r.startMoving&&(a.currentX===a.startX&&a.currentY===a.startY||(r.startMoving=!0)),r.isScrolling||n.zoom&&n.params.zoom&&n.params.zoom.enabled&&r.evCache.length>1)r.isTouched=!1;else if(r.startMoving){n.allowClick=!1,!i.cssMode&&s.cancelable&&s.preventDefault(),i.touchMoveStopPropagation&&!i.nested&&s.stopPropagation();var m=n.isHorizontal()?f:h,v=n.isHorizontal()?a.currentX-a.previousX:a.currentY-a.previousY;i.oneWayMovement&&(m=Math.abs(m)*(o?1:-1),v=Math.abs(v)*(o?1:-1)),a.diff=m,m*=i.touchRatio,o&&(m=-m,v=-v);var g=n.touchesDirection;n.swipeDirection=m>0?"prev":"next",n.touchesDirection=v>0?"prev":"next";var y,x=n.params.loop&&!i.cssMode;if(!r.isMoved){if(x&&n.loopFix({direction:n.swipeDirection}),r.startTranslate=n.getTranslate(),n.setTransition(0),n.animating){var b=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0});n.wrapperEl.dispatchEvent(b)}r.allowMomentumBounce=!1,!i.grabCursor||!0!==n.allowSlideNext&&!0!==n.allowSlidePrev||n.setGrabCursor(!0),n.emit("sliderFirstMove",s)}r.isMoved&&g!==n.touchesDirection&&x&&Math.abs(m)>=1&&(n.loopFix({direction:n.swipeDirection,setTranslate:!0}),y=!0),n.emit("sliderMove",s),r.isMoved=!0,r.currentTranslate=m+r.startTranslate;var _=!0,w=i.resistanceRatio;if(i.touchReleaseOnEdges&&(w=0),m>0?(x&&!y&&r.currentTranslate>(i.centeredSlides?n.minTranslate()-n.size/2:n.minTranslate())&&n.loopFix({direction:"prev",setTranslate:!0,activeSlideIndex:0}),r.currentTranslate>n.minTranslate()&&(_=!1,i.resistance&&(r.currentTranslate=n.minTranslate()-1+Math.pow(-n.minTranslate()+r.startTranslate+m,w)))):m<0&&(x&&!y&&r.currentTranslate<(i.centeredSlides?n.maxTranslate()+n.size/2:n.maxTranslate())&&n.loopFix({direction:"next",setTranslate:!0,activeSlideIndex:n.slides.length-("auto"===i.slidesPerView?n.slidesPerViewDynamic():Math.ceil(parseFloat(i.slidesPerView,10)))}),r.currentTranslate<n.maxTranslate()&&(_=!1,i.resistance&&(r.currentTranslate=n.maxTranslate()+1-Math.pow(n.maxTranslate()-r.startTranslate-m,w)))),_&&(s.preventedByNestedSwiper=!0),!n.allowSlideNext&&"next"===n.swipeDirection&&r.currentTranslate<r.startTranslate&&(r.currentTranslate=r.startTranslate),!n.allowSlidePrev&&"prev"===n.swipeDirection&&r.currentTranslate>r.startTranslate&&(r.currentTranslate=r.startTranslate),n.allowSlidePrev||n.allowSlideNext||(r.currentTranslate=r.startTranslate),i.threshold>0){if(!(Math.abs(m)>i.threshold||r.allowThresholdMove))return void(r.currentTranslate=r.startTranslate);if(!r.allowThresholdMove)return r.allowThresholdMove=!0,a.startX=a.currentX,a.startY=a.currentY,r.currentTranslate=r.startTranslate,void(a.diff=n.isHorizontal()?a.currentX-a.startX:a.currentY-a.startY)}i.followFinger&&!i.cssMode&&((i.freeMode&&i.freeMode.enabled&&n.freeMode||i.watchSlidesProgress)&&(n.updateActiveIndex(),n.updateSlidesClasses()),n.params.freeMode&&i.freeMode.enabled&&n.freeMode&&n.freeMode.onTouchMove(),n.updateProgress(r.currentTranslate),n.setTranslate(r.currentTranslate))}}}}else r.startMoving&&r.isScrolling&&n.emit("touchMoveOpposite",s)}}function Zz(e){var t=this,n=t.touchEventsData,r=n.evCache.findIndex((function(t){return t.pointerId===e.pointerId}));if(r>=0&&n.evCache.splice(r,1),!["pointercancel","pointerout","pointerleave"].includes(e.type)){var i=t.params,a=t.touches,o=t.rtlTranslate,s=t.slidesGrid;if(t.enabled&&(i.simulateTouch||"mouse"!==e.pointerType)){var l=e;if(l.originalEvent&&(l=l.originalEvent),n.allowTouchCallbacks&&t.emit("touchEnd",l),n.allowTouchCallbacks=!1,!n.isTouched)return n.isMoved&&i.grabCursor&&t.setGrabCursor(!1),n.isMoved=!1,void(n.startMoving=!1);i.grabCursor&&n.isMoved&&n.isTouched&&(!0===t.allowSlideNext||!0===t.allowSlidePrev)&&t.setGrabCursor(!1);var c,u=bz(),d=u-n.touchStartTime;if(t.allowClick){var f=l.path||l.composedPath&&l.composedPath();t.updateClickedSlide(f&&f[0]||l.target),t.emit("tap click",l),d<300&&u-n.lastClickTime<300&&t.emit("doubleTap doubleClick",l)}if(n.lastClickTime=bz(),xz((function(){t.destroyed||(t.allowClick=!0)})),!n.isTouched||!n.isMoved||!t.swipeDirection||0===a.diff||n.currentTranslate===n.startTranslate)return n.isTouched=!1,n.isMoved=!1,void(n.startMoving=!1);if(n.isTouched=!1,n.isMoved=!1,n.startMoving=!1,c=i.followFinger?o?t.translate:-t.translate:-n.currentTranslate,!i.cssMode)if(t.params.freeMode&&i.freeMode.enabled)t.freeMode.onTouchEnd({currentPos:c});else{for(var h=0,p=t.slidesSizesGrid[0],m=0;m<s.length;m+=m<i.slidesPerGroupSkip?1:i.slidesPerGroup){var v=m<i.slidesPerGroupSkip-1?1:i.slidesPerGroup;"undefined"!==typeof s[m+v]?c>=s[m]&&c<s[m+v]&&(h=m,p=s[m+v]-s[m]):c>=s[m]&&(h=m,p=s[s.length-1]-s[s.length-2])}var g=null,y=null;i.rewind&&(t.isBeginning?y=t.params.virtual&&t.params.virtual.enabled&&t.virtual?t.virtual.slides.length-1:t.slides.length-1:t.isEnd&&(g=0));var x=(c-s[h])/p,b=h<i.slidesPerGroupSkip-1?1:i.slidesPerGroup;if(d>i.longSwipesMs){if(!i.longSwipes)return void t.slideTo(t.activeIndex);"next"===t.swipeDirection&&(x>=i.longSwipesRatio?t.slideTo(i.rewind&&t.isEnd?g:h+b):t.slideTo(h)),"prev"===t.swipeDirection&&(x>1-i.longSwipesRatio?t.slideTo(h+b):null!==y&&x<0&&Math.abs(x)>i.longSwipesRatio?t.slideTo(y):t.slideTo(h))}else{if(!i.shortSwipes)return void t.slideTo(t.activeIndex);t.navigation&&(l.target===t.navigation.nextEl||l.target===t.navigation.prevEl)?l.target===t.navigation.nextEl?t.slideTo(h+b):t.slideTo(h):("next"===t.swipeDirection&&t.slideTo(null!==g?g:h+b),"prev"===t.swipeDirection&&t.slideTo(null!==y?y:h))}}}}}function Kz(){var e=this,t=e.params,n=e.el;if(!n||0!==n.offsetWidth){t.breakpoints&&e.setBreakpoint();var r=e.allowSlideNext,i=e.allowSlidePrev,a=e.snapGrid,o=e.virtual&&e.params.virtual.enabled;e.allowSlideNext=!0,e.allowSlidePrev=!0,e.updateSize(),e.updateSlides(),e.updateSlidesClasses();var s=o&&t.loop;!("auto"===t.slidesPerView||t.slidesPerView>1)||!e.isEnd||e.isBeginning||e.params.centeredSlides||s?e.params.loop&&!o?e.slideToLoop(e.realIndex,0,!1,!0):e.slideTo(e.activeIndex,0,!1,!0):e.slideTo(e.slides.length-1,0,!1,!0),e.autoplay&&e.autoplay.running&&e.autoplay.paused&&(clearTimeout(Gz),Gz=setTimeout((function(){e.autoplay.resume()}),500)),e.allowSlidePrev=i,e.allowSlideNext=r,e.params.watchOverflow&&a!==e.snapGrid&&e.checkOverflow()}}function Yz(e){var t=this;t.enabled&&(t.allowClick||(t.params.preventClicks&&e.preventDefault(),t.params.preventClicksPropagation&&t.animating&&(e.stopPropagation(),e.stopImmediatePropagation())))}function $z(){var e=this,t=e.wrapperEl,n=e.rtlTranslate;if(e.enabled){e.previousTranslate=e.translate,e.isHorizontal()?e.translate=-t.scrollLeft:e.translate=-t.scrollTop,0===e.translate&&(e.translate=0),e.updateActiveIndex(),e.updateSlidesClasses();var r=e.maxTranslate()-e.minTranslate();(0===r?0:(e.translate-e.minTranslate())/r)!==e.progress&&e.updateProgress(n?-e.translate:e.translate),e.emit("setTranslate",e.translate,!1)}}var Jz=function(e,t){if(e&&!e.destroyed&&e.params){var n=t.closest(e.isElement?"swiper-slide":".".concat(e.params.slideClass));if(n){var r=n.querySelector(".".concat(e.params.lazyPreloaderClass));r&&r.remove()}}};function Qz(e){Jz(this,e.target),this.update()}var ej=!1;function tj(){}var nj=function(e,t){var n=fz(),r=e.params,i=e.el,a=e.wrapperEl,o=e.device,s=!!r.nested,l="on"===t?"addEventListener":"removeEventListener",c=t;i[l]("pointerdown",e.onTouchStart,{passive:!1}),n[l]("pointermove",e.onTouchMove,{passive:!1,capture:s}),n[l]("pointerup",e.onTouchEnd,{passive:!0}),n[l]("pointercancel",e.onTouchEnd,{passive:!0}),n[l]("pointerout",e.onTouchEnd,{passive:!0}),n[l]("pointerleave",e.onTouchEnd,{passive:!0}),(r.preventClicks||r.preventClicksPropagation)&&i[l]("click",e.onClick,!0),r.cssMode&&a[l]("scroll",e.onScroll),r.updateOnWindowResize?e[c](o.ios||o.android?"resize orientationchange observerUpdate":"resize observerUpdate",Kz,!0):e[c]("observerUpdate",Kz,!0),i[l]("load",e.onLoad,{capture:!0})};var rj=function(e,t){return e.grid&&t.grid&&t.grid.rows>1};var ij={setBreakpoint:function(){var e=this,t=e.realIndex,n=e.initialized,r=e.params,i=e.el,a=r.breakpoints;if(a&&(!a||0!==Object.keys(a).length)){var o=e.getBreakpoint(a,e.params.breakpointsBase,e.el);if(o&&e.currentBreakpoint!==o){var s=(o in a?a[o]:void 0)||e.originalParams,l=rj(e,r),c=rj(e,s),u=r.enabled;l&&!c?(i.classList.remove("".concat(r.containerModifierClass,"grid"),"".concat(r.containerModifierClass,"grid-column")),e.emitContainerClasses()):!l&&c&&(i.classList.add("".concat(r.containerModifierClass,"grid")),(s.grid.fill&&"column"===s.grid.fill||!s.grid.fill&&"column"===r.grid.fill)&&i.classList.add("".concat(r.containerModifierClass,"grid-column")),e.emitContainerClasses()),["navigation","pagination","scrollbar"].forEach((function(t){var n=r[t]&&r[t].enabled,i=s[t]&&s[t].enabled;n&&!i&&e[t].disable(),!n&&i&&e[t].enable()}));var d=s.direction&&s.direction!==r.direction,f=r.loop&&(s.slidesPerView!==r.slidesPerView||d);d&&n&&e.changeDirection(),Ez(e.params,s);var h=e.params.enabled;Object.assign(e,{allowTouchMove:e.params.allowTouchMove,allowSlideNext:e.params.allowSlideNext,allowSlidePrev:e.params.allowSlidePrev}),u&&!h?e.disable():!u&&h&&e.enable(),e.currentBreakpoint=o,e.emit("_beforeBreakpoint",s),f&&n&&(e.loopDestroy(),e.loopCreate(t),e.updateSlides()),e.emit("breakpoint",s)}}},getBreakpoint:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"window",n=arguments.length>2?arguments[2]:void 0;if(e&&("container"!==t||n)){var r=!1,i=gz(),a="window"===t?i.innerHeight:n.clientHeight,o=Object.keys(e).map((function(e){if("string"===typeof e&&0===e.indexOf("@")){var t=parseFloat(e.substr(1));return{value:a*t,point:e}}return{value:e,point:e}}));o.sort((function(e,t){return parseInt(e.value,10)-parseInt(t.value,10)}));for(var s=0;s<o.length;s+=1){var l=o[s],c=l.point,u=l.value;"window"===t?i.matchMedia("(min-width: ".concat(u,"px)")).matches&&(r=c):u<=n.clientWidth&&(r=c)}return r||"max"}}};var aj={addClasses:function(){var e,t=this,n=t.classNames,r=t.params,i=t.rtl,a=t.el,o=t.device,s=function(e,t){var n=[];return e.forEach((function(e){"object"===typeof e?Object.keys(e).forEach((function(r){e[r]&&n.push(t+r)})):"string"===typeof e&&n.push(t+e)})),n}(["initialized",r.direction,{"free-mode":t.params.freeMode&&r.freeMode.enabled},{autoheight:r.autoHeight},{rtl:i},{grid:r.grid&&r.grid.rows>1},{"grid-column":r.grid&&r.grid.rows>1&&"column"===r.grid.fill},{android:o.android},{ios:o.ios},{"css-mode":r.cssMode},{centered:r.cssMode&&r.centeredSlides},{"watch-progress":r.watchSlidesProgress}],r.containerModifierClass);n.push.apply(n,l(s)),(e=a.classList).add.apply(e,l(n)),t.emitContainerClasses()},removeClasses:function(){var e,t=this,n=t.el,r=t.classNames;(e=n.classList).remove.apply(e,l(r)),t.emitContainerClasses()}};var oj={init:!0,direction:"horizontal",oneWayMovement:!1,touchEventsTarget:"wrapper",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!0,nested:!1,createElements:!1,enabled:!0,focusableElements:"input, select, option, textarea, button, video, label",width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerGroup:1,slidesPerGroupSkip:0,slidesPerGroupAuto:!1,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:5,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,loop:!1,loopedSlides:null,loopPreventsSliding:!0,rewind:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,maxBackfaceHiddenSlides:10,containerModifierClass:"swiper-",slideClass:"swiper-slide",slideActiveClass:"swiper-slide-active",slideVisibleClass:"swiper-slide-visible",slideNextClass:"swiper-slide-next",slidePrevClass:"swiper-slide-prev",wrapperClass:"swiper-wrapper",lazyPreloaderClass:"swiper-lazy-preloader",runCallbacksOnInit:!0,_emitClasses:!1};function sj(e,t){return function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=Object.keys(n)[0],i=n[r];"object"===typeof i&&null!==i?(["navigation","pagination","scrollbar"].indexOf(r)>=0&&!0===e[r]&&(e[r]={auto:!0}),r in e&&"enabled"in i?(!0===e[r]&&(e[r]={enabled:!0}),"object"!==typeof e[r]||"enabled"in e[r]||(e[r].enabled=!0),e[r]||(e[r]={enabled:!1}),Ez(t,n)):Ez(t,n)):Ez(t,n)}}var lj={eventsEmitter:Nz,update:Bz,translate:Fz,transition:Uz,slide:Hz,loop:Wz,grabCursor:{setGrabCursor:function(e){var t=this;if(!(!t.params.simulateTouch||t.params.watchOverflow&&t.isLocked||t.params.cssMode)){var n="container"===t.params.touchEventsTarget?t.el:t.wrapperEl;n.style.cursor="move",n.style.cursor=e?"grabbing":"grab"}},unsetGrabCursor:function(){var e=this;e.params.watchOverflow&&e.isLocked||e.params.cssMode||(e["container"===e.params.touchEventsTarget?"el":"wrapperEl"].style.cursor="")}},events:{attachEvents:function(){var e=this,t=fz(),n=e.params;e.onTouchStart=qz.bind(e),e.onTouchMove=Xz.bind(e),e.onTouchEnd=Zz.bind(e),n.cssMode&&(e.onScroll=$z.bind(e)),e.onClick=Yz.bind(e),e.onLoad=Qz.bind(e),ej||(t.addEventListener("touchstart",tj),ej=!0),nj(e,"on")},detachEvents:function(){nj(this,"off")}},breakpoints:ij,checkOverflow:{checkOverflow:function(){var e=this,t=e.isLocked,n=e.params,r=n.slidesOffsetBefore;if(r){var i=e.slides.length-1,a=e.slidesGrid[i]+e.slidesSizesGrid[i]+2*r;e.isLocked=e.size>a}else e.isLocked=1===e.snapGrid.length;!0===n.allowSlideNext&&(e.allowSlideNext=!e.isLocked),!0===n.allowSlidePrev&&(e.allowSlidePrev=!e.isLocked),t&&t!==e.isLocked&&(e.isEnd=!1),t!==e.isLocked&&e.emit(e.isLocked?"lock":"unlock")}},classes:aj},cj={},uj=function(){function e(){var t,n;c(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];1===i.length&&i[0].constructor&&"Object"===Object.prototype.toString.call(i[0]).slice(8,-1)?n=i[0]:(t=i[0],n=i[1]),n||(n={}),n=Ez({},n),t&&!n.el&&(n.el=t);var o=fz();if(n.el&&"string"===typeof n.el&&o.querySelectorAll(n.el).length>1){var s=[];return o.querySelectorAll(n.el).forEach((function(t){var r=Ez({},n,{el:t});s.push(new e(r))})),s}var u,d=this;(d.__swiper__=!0,d.support=jz(),d.device=Dz({userAgent:n.userAgent}),d.browser=Lz(),d.eventsListeners={},d.eventsAnyListeners=[],d.modules=l(d.__modules__),n.modules&&Array.isArray(n.modules))&&(u=d.modules).push.apply(u,l(n.modules));var f={};d.modules.forEach((function(e){e({params:n,swiper:d,extendParams:sj(n,f),on:d.on.bind(d),once:d.once.bind(d),off:d.off.bind(d),emit:d.emit.bind(d)})}));var h=Ez({},oj,f);return d.params=Ez({},h,cj,n),d.originalParams=Ez({},d.params),d.passedParams=Ez({},n),d.params&&d.params.on&&Object.keys(d.params.on).forEach((function(e){d.on(e,d.params.on[e])})),d.params&&d.params.onAny&&d.onAny(d.params.onAny),Object.assign(d,{enabled:d.params.enabled,el:t,classNames:[],slides:[],slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal:function(){return"horizontal"===d.params.direction},isVertical:function(){return"vertical"===d.params.direction},activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,allowSlideNext:d.params.allowSlideNext,allowSlidePrev:d.params.allowSlidePrev,touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,focusableElements:d.params.focusableElements,lastClickTime:bz(),clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,startMoving:void 0,evCache:[]},allowClick:!0,allowTouchMove:d.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),d.emit("_swiper"),d.params.init&&d.init(),d}return h(e,[{key:"recalcSlides",value:function(){var e=this,t=e.slidesEl,n=e.params;e.slides=Iz(t,".".concat(n.slideClass,", swiper-slide"))}},{key:"enable",value:function(){var e=this;e.enabled||(e.enabled=!0,e.params.grabCursor&&e.setGrabCursor(),e.emit("enable"))}},{key:"disable",value:function(){var e=this;e.enabled&&(e.enabled=!1,e.params.grabCursor&&e.unsetGrabCursor(),e.emit("disable"))}},{key:"setProgress",value:function(e,t){var n=this;e=Math.min(Math.max(e,0),1);var r=n.minTranslate(),i=(n.maxTranslate()-r)*e+r;n.translateTo(i,"undefined"===typeof t?0:t),n.updateActiveIndex(),n.updateSlidesClasses()}},{key:"emitContainerClasses",value:function(){var e=this;if(e.params._emitClasses&&e.el){var t=e.el.className.split(" ").filter((function(t){return 0===t.indexOf("swiper")||0===t.indexOf(e.params.containerModifierClass)}));e.emit("_containerClasses",t.join(" "))}}},{key:"getSlideClasses",value:function(e){var t=this;return t.destroyed?"":e.className.split(" ").filter((function(e){return 0===e.indexOf("swiper-slide")||0===e.indexOf(t.params.slideClass)})).join(" ")}},{key:"emitSlidesClasses",value:function(){var e=this;if(e.params._emitClasses&&e.el){var t=[];e.slides.forEach((function(n){var r=e.getSlideClasses(n);t.push({slideEl:n,classNames:r}),e.emit("_slideClass",n,r)})),e.emit("_slideClasses",t)}}},{key:"slidesPerViewDynamic",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"current",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this,r=n.params,i=n.slides,a=n.slidesGrid,o=n.slidesSizesGrid,s=n.size,l=n.activeIndex,c=1;if(r.centeredSlides){for(var u,d=i[l].swiperSlideSize,f=l+1;f<i.length;f+=1)i[f]&&!u&&(c+=1,(d+=i[f].swiperSlideSize)>s&&(u=!0));for(var h=l-1;h>=0;h-=1)i[h]&&!u&&(c+=1,(d+=i[h].swiperSlideSize)>s&&(u=!0))}else if("current"===e)for(var p=l+1;p<i.length;p+=1){var m=t?a[p]+o[p]-a[l]<s:a[p]-a[l]<s;m&&(c+=1)}else for(var v=l-1;v>=0;v-=1){var g=a[l]-a[v]<s;g&&(c+=1)}return c}},{key:"update",value:function(){var e=this;if(e&&!e.destroyed){var t=e.snapGrid,n=e.params;n.breakpoints&&e.setBreakpoint(),l(e.el.querySelectorAll('[loading="lazy"]')).forEach((function(t){t.complete&&Jz(e,t)})),e.updateSize(),e.updateSlides(),e.updateProgress(),e.updateSlidesClasses(),e.params.freeMode&&e.params.freeMode.enabled?(r(),e.params.autoHeight&&e.updateAutoHeight()):(("auto"===e.params.slidesPerView||e.params.slidesPerView>1)&&e.isEnd&&!e.params.centeredSlides?e.slideTo(e.slides.length-1,0,!1,!0):e.slideTo(e.activeIndex,0,!1,!0))||r(),n.watchOverflow&&t!==e.snapGrid&&e.checkOverflow(),e.emit("update")}function r(){var t=e.rtlTranslate?-1*e.translate:e.translate,n=Math.min(Math.max(t,e.maxTranslate()),e.minTranslate());e.setTranslate(n),e.updateActiveIndex(),e.updateSlidesClasses()}}},{key:"changeDirection",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this,r=n.params.direction;return e||(e="horizontal"===r?"vertical":"horizontal"),e===r||"horizontal"!==e&&"vertical"!==e||(n.el.classList.remove("".concat(n.params.containerModifierClass).concat(r)),n.el.classList.add("".concat(n.params.containerModifierClass).concat(e)),n.emitContainerClasses(),n.params.direction=e,n.slides.forEach((function(t){"vertical"===e?t.style.width="":t.style.height=""})),n.emit("changeDirection"),t&&n.update()),n}},{key:"changeLanguageDirection",value:function(e){var t=this;t.rtl&&"rtl"===e||!t.rtl&&"ltr"===e||(t.rtl="rtl"===e,t.rtlTranslate="horizontal"===t.params.direction&&t.rtl,t.rtl?(t.el.classList.add("".concat(t.params.containerModifierClass,"rtl")),t.el.dir="rtl"):(t.el.classList.remove("".concat(t.params.containerModifierClass,"rtl")),t.el.dir="ltr"),t.update())}},{key:"mount",value:function(e){var t=this;if(t.mounted)return!0;var n=e||t.params.el;if("string"===typeof n&&(n=document.querySelector(n)),!n)return!1;n.swiper=t,n.shadowEl&&(t.isElement=!0);var r=function(){return".".concat((t.params.wrapperClass||"").trim().split(" ").join("."))},i=n&&n.shadowRoot&&n.shadowRoot.querySelector?n.shadowRoot.querySelector(r()):Iz(n,r())[0];return!i&&t.params.createElements&&(i=Oz("div",t.params.wrapperClass),n.append(i),Iz(n,".".concat(t.params.slideClass)).forEach((function(e){i.append(e)}))),Object.assign(t,{el:n,wrapperEl:i,slidesEl:t.isElement?n:i,mounted:!0,rtl:"rtl"===n.dir.toLowerCase()||"rtl"===Pz(n,"direction"),rtlTranslate:"horizontal"===t.params.direction&&("rtl"===n.dir.toLowerCase()||"rtl"===Pz(n,"direction")),wrongRTL:"-webkit-box"===Pz(i,"display")}),!0}},{key:"init",value:function(e){var t=this;return t.initialized||!1===t.mount(e)||(t.emit("beforeInit"),t.params.breakpoints&&t.setBreakpoint(),t.addClasses(),t.updateSize(),t.updateSlides(),t.params.watchOverflow&&t.checkOverflow(),t.params.grabCursor&&t.enabled&&t.setGrabCursor(),t.params.loop&&t.virtual&&t.params.virtual.enabled?t.slideTo(t.params.initialSlide+t.virtual.slidesBefore,0,t.params.runCallbacksOnInit,!1,!0):t.slideTo(t.params.initialSlide,0,t.params.runCallbacksOnInit,!1,!0),t.params.loop&&t.loopCreate(),t.attachEvents(),l(t.el.querySelectorAll('[loading="lazy"]')).forEach((function(e){e.complete?Jz(t,e):e.addEventListener("load",(function(e){Jz(t,e.target)}))})),t.initialized=!0,t.emit("init"),t.emit("afterInit")),t}},{key:"destroy",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this,r=n.params,i=n.el,a=n.wrapperEl,o=n.slides;return"undefined"===typeof n.params||n.destroyed||(n.emit("beforeDestroy"),n.initialized=!1,n.detachEvents(),r.loop&&n.loopDestroy(),t&&(n.removeClasses(),i.removeAttribute("style"),a.removeAttribute("style"),o&&o.length&&o.forEach((function(e){e.classList.remove(r.slideVisibleClass,r.slideActiveClass,r.slideNextClass,r.slidePrevClass),e.removeAttribute("style"),e.removeAttribute("data-swiper-slide-index")}))),n.emit("destroy"),Object.keys(n.eventsListeners).forEach((function(e){n.off(e)})),!1!==e&&(n.el.swiper=null,yz(n)),n.destroyed=!0),null}}],[{key:"extendDefaults",value:function(e){Ez(cj,e)}},{key:"extendedDefaults",get:function(){return cj}},{key:"defaults",get:function(){return oj}},{key:"installModule",value:function(t){e.prototype.__modules__||(e.prototype.__modules__=[]);var n=e.prototype.__modules__;"function"===typeof t&&n.indexOf(t)<0&&n.push(t)}},{key:"use",value:function(t){return Array.isArray(t)?(t.forEach((function(t){return e.installModule(t)})),e):(e.installModule(t),e)}}]),e}();Object.keys(lj).forEach((function(e){Object.keys(lj[e]).forEach((function(t){uj.prototype[t]=lj[e][t]}))})),uj.use([function(e){var t=e.swiper,n=e.on,r=e.emit,i=gz(),a=null,o=null,s=function(){t&&!t.destroyed&&t.initialized&&(r("beforeResize"),r("resize"))},l=function(){t&&!t.destroyed&&t.initialized&&r("orientationchange")};n("init",(function(){t.params.resizeObserver&&"undefined"!==typeof i.ResizeObserver?t&&!t.destroyed&&t.initialized&&(a=new ResizeObserver((function(e){o=i.requestAnimationFrame((function(){var n=t.width,r=t.height,i=n,a=r;e.forEach((function(e){var n=e.contentBoxSize,r=e.contentRect,o=e.target;o&&o!==t.el||(i=r?r.width:(n[0]||n).inlineSize,a=r?r.height:(n[0]||n).blockSize)})),i===n&&a===r||s()}))}))).observe(t.el):(i.addEventListener("resize",s),i.addEventListener("orientationchange",l))})),n("destroy",(function(){o&&i.cancelAnimationFrame(o),a&&a.unobserve&&t.el&&(a.unobserve(t.el),a=null),i.removeEventListener("resize",s),i.removeEventListener("orientationchange",l)}))},function(e){var t=e.swiper,n=e.extendParams,r=e.on,i=e.emit,a=[],o=gz(),s=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=o.MutationObserver||o.WebkitMutationObserver,r=new n((function(e){if(1!==e.length){var t=function(){i("observerUpdate",e[0])};o.requestAnimationFrame?o.requestAnimationFrame(t):o.setTimeout(t,0)}else i("observerUpdate",e[0])}));r.observe(e,{attributes:"undefined"===typeof t.attributes||t.attributes,childList:"undefined"===typeof t.childList||t.childList,characterData:"undefined"===typeof t.characterData||t.characterData}),a.push(r)};n({observer:!1,observeParents:!1,observeSlideChildren:!1}),r("init",(function(){if(t.params.observer){if(t.params.observeParents)for(var e=function(e,t){for(var n=[],r=e.parentElement;r;)t?r.matches(t)&&n.push(r):n.push(r),r=r.parentElement;return n}(t.el),n=0;n<e.length;n+=1)s(e[n]);s(t.el,{childList:t.params.observeSlideChildren}),s(t.wrapperEl,{attributes:!1})}})),r("destroy",(function(){a.forEach((function(e){e.disconnect()})),a.splice(0,a.length)}))}]);var dj=uj;function fj(e,t){var n=Mz(t);return n!==t&&(n.style.backfaceVisibility="hidden",n.style["-webkit-backface-visibility"]="hidden"),n}function hj(e,t,n){var r="swiper-slide-shadow".concat(n?"-".concat(n):""),i=Mz(t),a=i.querySelector(".".concat(r));return a||(a=Oz("div","swiper-slide-shadow".concat(n?"-".concat(n):"")),i.append(a)),a}function pj(e){var t=e.swiper,n=e.extendParams,r=e.on;n({coverflowEffect:{rotate:50,stretch:0,depth:100,scale:1,modifier:1,slideShadows:!0}});!function(e){var t,n=e.effect,r=e.swiper,i=e.on,a=e.setTranslate,o=e.setTransition,s=e.overwriteParams,l=e.perspective,c=e.recreateShadows,u=e.getEffectParams;i("beforeInit",(function(){if(r.params.effect===n){r.classNames.push("".concat(r.params.containerModifierClass).concat(n)),l&&l()&&r.classNames.push("".concat(r.params.containerModifierClass,"3d"));var e=s?s():{};Object.assign(r.params,e),Object.assign(r.originalParams,e)}})),i("setTranslate",(function(){r.params.effect===n&&a()})),i("setTransition",(function(e,t){r.params.effect===n&&o(t)})),i("transitionEnd",(function(){if(r.params.effect===n&&c){if(!u||!u().slideShadows)return;r.slides.forEach((function(e){e.querySelectorAll(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").forEach((function(e){return e.remove()}))})),c()}})),i("virtualUpdate",(function(){r.params.effect===n&&(r.slides.length||(t=!0),requestAnimationFrame((function(){t&&r.slides&&r.slides.length&&(a(),t=!1)})))}))}({effect:"coverflow",swiper:t,on:r,setTranslate:function(){for(var e=t.width,n=t.height,r=t.slides,i=t.slidesSizesGrid,a=t.params.coverflowEffect,o=t.isHorizontal(),s=t.translate,l=o?e/2-s:n/2-s,c=o?a.rotate:-a.rotate,u=a.depth,d=0,f=r.length;d<f;d+=1){var h=r[d],p=i[d],m=(l-h.swiperSlideOffset-p/2)/p,v="function"===typeof a.modifier?a.modifier(m):m*a.modifier,g=o?c*v:0,y=o?0:c*v,x=-u*Math.abs(v),b=a.stretch;"string"===typeof b&&-1!==b.indexOf("%")&&(b=parseFloat(a.stretch)/100*p);var _=o?0:b*v,w=o?b*v:0,k=1-(1-a.scale)*Math.abs(v);Math.abs(w)<.001&&(w=0),Math.abs(_)<.001&&(_=0),Math.abs(x)<.001&&(x=0),Math.abs(g)<.001&&(g=0),Math.abs(y)<.001&&(y=0),Math.abs(k)<.001&&(k=0);var S="translate3d(".concat(w,"px,").concat(_,"px,").concat(x,"px)  rotateX(").concat(y,"deg) rotateY(").concat(g,"deg) scale(").concat(k,")");if(fj(0,h).style.transform=S,h.style.zIndex=1-Math.abs(Math.round(v)),a.slideShadows){var E=o?h.querySelector(".swiper-slide-shadow-left"):h.querySelector(".swiper-slide-shadow-top"),C=o?h.querySelector(".swiper-slide-shadow-right"):h.querySelector(".swiper-slide-shadow-bottom");E||(E=hj(0,h,o?"left":"top")),C||(C=hj(0,h,o?"right":"bottom")),E&&(E.style.opacity=v>0?v:0),C&&(C.style.opacity=-v>0?-v:0)}}},setTransition:function(e){t.slides.map((function(e){return Mz(e)})).forEach((function(t){t.style.transitionDuration="".concat(e,"ms"),t.querySelectorAll(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").forEach((function(t){t.style.transitionDuration="".concat(e,"ms")}))}))},perspective:function(){return!0},overwriteParams:function(){return{watchSlidesProgress:!0}}})}function mj(e){return"object"===typeof e&&null!==e&&e.constructor&&"Object"===Object.prototype.toString.call(e).slice(8,-1)}function vj(e,t){var n=["__proto__","constructor","prototype"];Object.keys(t).filter((function(e){return n.indexOf(e)<0})).forEach((function(n){"undefined"===typeof e[n]?e[n]=t[n]:mj(t[n])&&mj(e[n])&&Object.keys(t[n]).length>0?t[n].__swiper__?e[n]=t[n]:vj(e[n],t[n]):e[n]=t[n]}))}function gj(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.navigation&&"undefined"===typeof e.navigation.nextEl&&"undefined"===typeof e.navigation.prevEl}function yj(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.pagination&&"undefined"===typeof e.pagination.el}function xj(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.scrollbar&&"undefined"===typeof e.scrollbar.el}function bj(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=e.split(" ").map((function(e){return e.trim()})).filter((function(e){return!!e})),n=[];return t.forEach((function(e){n.indexOf(e)<0&&n.push(e)})),n.join(" ")}function _j(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e?e.includes("swiper-wrapper")?e:"swiper-wrapper ".concat(e):"swiper-wrapper"}var wj=["modules","init","_direction","oneWayMovement","touchEventsTarget","initialSlide","_speed","cssMode","updateOnWindowResize","resizeObserver","nested","focusableElements","_enabled","_width","_height","preventInteractionOnTransition","userAgent","url","_edgeSwipeDetection","_edgeSwipeThreshold","_freeMode","_autoHeight","setWrapperSize","virtualTranslate","_effect","breakpoints","_spaceBetween","_slidesPerView","maxBackfaceHiddenSlides","_grid","_slidesPerGroup","_slidesPerGroupSkip","_slidesPerGroupAuto","_centeredSlides","_centeredSlidesBounds","_slidesOffsetBefore","_slidesOffsetAfter","normalizeSlideIndex","_centerInsufficientSlides","_watchOverflow","roundLengths","touchRatio","touchAngle","simulateTouch","_shortSwipes","_longSwipes","longSwipesRatio","longSwipesMs","_followFinger","allowTouchMove","_threshold","touchMoveStopPropagation","touchStartPreventDefault","touchStartForcePreventDefault","touchReleaseOnEdges","uniqueNavElements","_resistance","_resistanceRatio","_watchSlidesProgress","_grabCursor","preventClicks","preventClicksPropagation","_slideToClickedSlide","_loop","loopedSlides","loopPreventsSliding","_rewind","_allowSlidePrev","_allowSlideNext","_swipeHandler","_noSwiping","noSwipingClass","noSwipingSelector","passiveListeners","containerModifierClass","slideClass","slideActiveClass","slideVisibleClass","slideNextClass","slidePrevClass","wrapperClass","lazyPreloaderClass","runCallbacksOnInit","observer","observeParents","observeSlideChildren","a11y","_autoplay","_controller","coverflowEffect","cubeEffect","fadeEffect","flipEffect","creativeEffect","cardsEffect","hashNavigation","history","keyboard","mousewheel","_navigation","_pagination","parallax","_scrollbar","_thumbs","virtual","zoom","control","injectStyles","injectStylesUrls"];function kj(e){return e.type&&e.type.displayName&&e.type.displayName.includes("SwiperSlide")}function Sj(e){var n=[];return t.Children.toArray(e).forEach((function(e){kj(e)?n.push(e):e.props&&e.props.children&&Sj(e.props.children).forEach((function(e){return n.push(e)}))})),n}function Ej(e){var n=[],r={"container-start":[],"container-end":[],"wrapper-start":[],"wrapper-end":[]};return t.Children.toArray(e).forEach((function(e){if(kj(e))n.push(e);else if(e.props&&e.props.slot&&r[e.props.slot])r[e.props.slot].push(e);else if(e.props&&e.props.children){var t=Sj(e.props.children);t.length>0?t.forEach((function(e){return n.push(e)})):r["container-end"].push(e)}else r["container-end"].push(e)})),{slides:n,slots:r}}function Cj(e){var t,n,r,i,a,o,s,l,c=e.swiper,u=e.slides,d=e.passedParams,f=e.changedParams,h=e.nextEl,p=e.prevEl,m=e.scrollbarEl,v=e.paginationEl,g=f.filter((function(e){return"children"!==e&&"direction"!==e&&"wrapperClass"!==e})),y=c.params,x=c.pagination,b=c.navigation,_=c.scrollbar,w=c.virtual,k=c.thumbs;f.includes("thumbs")&&d.thumbs&&d.thumbs.swiper&&y.thumbs&&!y.thumbs.swiper&&(t=!0),f.includes("controller")&&d.controller&&d.controller.control&&y.controller&&!y.controller.control&&(n=!0),f.includes("pagination")&&d.pagination&&(d.pagination.el||v)&&(y.pagination||!1===y.pagination)&&x&&!x.el&&(r=!0),f.includes("scrollbar")&&d.scrollbar&&(d.scrollbar.el||m)&&(y.scrollbar||!1===y.scrollbar)&&_&&!_.el&&(i=!0),f.includes("navigation")&&d.navigation&&(d.navigation.prevEl||p)&&(d.navigation.nextEl||h)&&(y.navigation||!1===y.navigation)&&b&&!b.prevEl&&!b.nextEl&&(a=!0);(f.includes("loop")&&c.isElement&&(y.loop&&!d.loop?o=!0:!y.loop&&d.loop?s=!0:l=!0),g.forEach((function(e){if(mj(y[e])&&mj(d[e]))vj(y[e],d[e]);else{var t=d[e];!0!==t&&!1!==t||"navigation"!==e&&"pagination"!==e&&"scrollbar"!==e?y[e]=d[e]:!1===t&&c[n=e]&&(c[n].destroy(),"navigation"===n?(c.isElement&&(c[n].prevEl.remove(),c[n].nextEl.remove()),y[n].prevEl=void 0,y[n].nextEl=void 0,c[n].prevEl=void 0,c[n].nextEl=void 0):(c.isElement&&c[n].el.remove(),y[n].el=void 0,c[n].el=void 0))}var n})),g.includes("controller")&&!n&&c.controller&&c.controller.control&&y.controller&&y.controller.control&&(c.controller.control=y.controller.control),f.includes("children")&&u&&w&&y.virtual.enabled&&(w.slides=u,w.update(!0)),f.includes("children")&&u&&y.loop&&(l=!0),t)&&(k.init()&&k.update(!0));n&&(c.controller.control=y.controller.control),r&&(!c.isElement||v&&"string"!==typeof v||((v=document.createElement("div")).classList.add("swiper-pagination"),c.el.shadowEl.appendChild(v)),v&&(y.pagination.el=v),x.init(),x.render(),x.update()),i&&(!c.isElement||m&&"string"!==typeof m||((m=document.createElement("div")).classList.add("swiper-scrollbar"),c.el.shadowEl.appendChild(m)),m&&(y.scrollbar.el=m),_.init(),_.updateSize(),_.setTranslate()),a&&(c.isElement&&(h&&"string"!==typeof h||((h=document.createElement("div")).classList.add("swiper-button-next"),c.el.shadowEl.appendChild(h)),p&&"string"!==typeof p||((p=document.createElement("div")).classList.add("swiper-button-prev"),c.el.shadowEl.appendChild(p))),h&&(y.navigation.nextEl=h),p&&(y.navigation.prevEl=p),b.init(),b.update()),f.includes("allowSlideNext")&&(c.allowSlideNext=d.allowSlideNext),f.includes("allowSlidePrev")&&(c.allowSlidePrev=d.allowSlidePrev),f.includes("direction")&&c.changeDirection(d.direction,!1),(o||l)&&c.loopDestroy(),(s||l)&&c.loopCreate(),c.update()}function Tj(e,n){return"undefined"===typeof window?(0,t.useEffect)(e,n):(0,t.useLayoutEffect)(e,n)}var Mj=(0,t.createContext)(null),Ij=(0,t.createContext)(null),Oj=["className","tag","wrapperTag","children","onSwiper"];function Pj(){return Pj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Pj.apply(this,arguments)}var Aj=(0,t.forwardRef)((function(e,n){var r=void 0===e?{}:e,i=r.className,a=r.tag,o=void 0===a?"div":a,s=r.wrapperTag,l=void 0===s?"div":s,c=r.children,u=r.onSwiper,d=li(r,Oj),f=!1,h=k((0,t.useState)("swiper"),2),p=h[0],m=h[1],v=k((0,t.useState)(null),2),g=v[0],y=v[1],x=k((0,t.useState)(!1),2),b=x[0],_=x[1],w=(0,t.useRef)(!1),S=(0,t.useRef)(null),E=(0,t.useRef)(null),C=(0,t.useRef)(null),T=(0,t.useRef)(null),M=(0,t.useRef)(null),I=(0,t.useRef)(null),O=(0,t.useRef)(null),P=(0,t.useRef)(null),A=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n={on:{}},r={},i={};vj(n,dj.defaults),vj(n,dj.extendedDefaults),n._emitClasses=!0,n.init=!1;var a={},o=wj.map((function(e){return e.replace(/_/,"")})),s=Object.assign({},e);return Object.keys(s).forEach((function(s){"undefined"!==typeof e[s]&&(o.indexOf(s)>=0?mj(e[s])?(n[s]={},i[s]={},vj(n[s],e[s]),vj(i[s],e[s])):(n[s]=e[s],i[s]=e[s]):0===s.search(/on[A-Z]/)&&"function"===typeof e[s]?t?r["".concat(s[2].toLowerCase()).concat(s.substr(3))]=e[s]:n.on["".concat(s[2].toLowerCase()).concat(s.substr(3))]=e[s]:a[s]=e[s])})),["navigation","pagination","scrollbar"].forEach((function(e){!0===n[e]&&(n[e]={}),!1===n[e]&&delete n[e]})),{params:n,passedParams:i,rest:a,events:r}}(d),z=A.params,j=A.passedParams,R=A.rest,D=A.events,L=Ej(c),N=L.slides,B=L.slots,F=function(){_(!b)};Object.assign(z.on,{_containerClasses:function(e,t){m(t)}});var V=function(){Object.assign(z.on,D),f=!0;var e=Xe({},z);if(delete e.wrapperClass,E.current=new dj(e),E.current.virtual&&E.current.params.virtual.enabled){E.current.virtual.slides=N;var t={cache:!1,slides:N,renderExternal:y,renderExternalUpdate:!1};vj(E.current.params.virtual,t),vj(E.current.originalParams.virtual,t)}};S.current||V(),E.current&&E.current.on("_beforeBreakpoint",F);return(0,t.useEffect)((function(){return function(){E.current&&E.current.off("_beforeBreakpoint",F)}})),(0,t.useEffect)((function(){!w.current&&E.current&&(E.current.emitSlidesClasses(),w.current=!0)})),Tj((function(){if(n&&(n.current=S.current),S.current)return E.current.destroyed&&V(),function(e,t){var n=e.el,r=e.nextEl,i=e.prevEl,a=e.paginationEl,o=e.scrollbarEl,s=e.swiper;gj(t)&&r&&i&&(s.params.navigation.nextEl=r,s.originalParams.navigation.nextEl=r,s.params.navigation.prevEl=i,s.originalParams.navigation.prevEl=i),yj(t)&&a&&(s.params.pagination.el=a,s.originalParams.pagination.el=a),xj(t)&&o&&(s.params.scrollbar.el=o,s.originalParams.scrollbar.el=o),s.init(n)}({el:S.current,nextEl:M.current,prevEl:I.current,paginationEl:O.current,scrollbarEl:P.current,swiper:E.current},z),u&&u(E.current),function(){E.current&&!E.current.destroyed&&E.current.destroy(!0,!1)}}),[]),Tj((function(){!f&&D&&E.current&&Object.keys(D).forEach((function(e){E.current.on(e,D[e])}));var e=function(e,t,n,r,i){var a=[];if(!t)return a;var o=function(e){a.indexOf(e)<0&&a.push(e)};if(n&&r){var s=r.map(i),l=n.map(i);s.join("")!==l.join("")&&o("children"),r.length!==n.length&&o("children")}return wj.filter((function(e){return"_"===e[0]})).map((function(e){return e.replace(/_/,"")})).forEach((function(n){if(n in e&&n in t)if(mj(e[n])&&mj(t[n])){var r=Object.keys(e[n]),i=Object.keys(t[n]);r.length!==i.length?o(n):(r.forEach((function(r){e[n][r]!==t[n][r]&&o(n)})),i.forEach((function(r){e[n][r]!==t[n][r]&&o(n)})))}else e[n]!==t[n]&&o(n)})),a}(j,C.current,N,T.current,(function(e){return e.key}));return C.current=j,T.current=N,e.length&&E.current&&!E.current.destroyed&&Cj({swiper:E.current,slides:N,passedParams:j,changedParams:e,nextEl:M.current,prevEl:I.current,scrollbarEl:P.current,paginationEl:O.current}),function(){D&&E.current&&Object.keys(D).forEach((function(e){E.current.off(e,D[e])}))}})),Tj((function(){var e;!(e=E.current)||e.destroyed||!e.params.virtual||e.params.virtual&&!e.params.virtual.enabled||(e.updateSlides(),e.updateProgress(),e.updateSlidesClasses(),e.parallax&&e.params.parallax&&e.params.parallax.enabled&&e.parallax.setTranslate())}),[g]),t.createElement(o,Pj({ref:S,className:bj("".concat(p).concat(i?" ".concat(i):""))},R),t.createElement(Ij.Provider,{value:E.current},B["container-start"],t.createElement(l,{className:_j(z.wrapperClass)},B["wrapper-start"],z.virtual?function(e,n,r){if(!r)return null;for(var i=function(e){var t=e;return e<0?t=n.length+e:t>=n.length&&(t-=n.length),t},a=e.isHorizontal()?Fe({},e.rtlTranslate?"right":"left","".concat(r.offset,"px")):{top:"".concat(r.offset,"px")},o=r.from,s=r.to,l=e.params.loop?-n.length:0,c=e.params.loop?2*n.length:n.length,u=[],d=l;d<c;d+=1)d>=o&&d<=s&&u.push(n[i(d)]);return u.map((function(n){return t.cloneElement(n,{swiper:e,style:a})}))}(E.current,N,g):N.map((function(e,n){return t.cloneElement(e,{swiper:E.current,swiperSlideIndex:n})})),B["wrapper-end"]),gj(z)&&t.createElement(t.Fragment,null,t.createElement("div",{ref:I,className:"swiper-button-prev"}),t.createElement("div",{ref:M,className:"swiper-button-next"})),xj(z)&&t.createElement("div",{ref:P,className:"swiper-scrollbar"}),yj(z)&&t.createElement("div",{ref:O,className:"swiper-pagination"}),B["container-end"]))}));Aj.displayName="Swiper";var zj=["tag","children","className","swiper","zoom","lazy","virtualIndex","swiperSlideIndex"];function jj(){return jj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},jj.apply(this,arguments)}var Rj=(0,t.forwardRef)((function(e,n){var r=void 0===e?{}:e,i=r.tag,a=void 0===i?"div":i,o=r.children,s=r.className,l=void 0===s?"":s,c=r.swiper,u=r.zoom,d=r.lazy,f=r.virtualIndex,h=r.swiperSlideIndex,p=li(r,zj),m=(0,t.useRef)(null),v=k((0,t.useState)("swiper-slide"),2),g=v[0],y=v[1],x=k((0,t.useState)(!1),2),b=x[0],_=x[1];function w(e,t,n){t===m.current&&y(n)}Tj((function(){if("undefined"!==typeof h&&(m.current.swiperSlideIndex=h),n&&(n.current=m.current),m.current&&c){if(!c.destroyed)return c.on("_slideClass",w),function(){c&&c.off("_slideClass",w)};"swiper-slide"!==g&&y("swiper-slide")}})),Tj((function(){c&&m.current&&!c.destroyed&&y(c.getSlideClasses(m.current))}),[c]);var S={isActive:g.indexOf("swiper-slide-active")>=0,isVisible:g.indexOf("swiper-slide-visible")>=0,isPrev:g.indexOf("swiper-slide-prev")>=0,isNext:g.indexOf("swiper-slide-next")>=0},E=function(){return"function"===typeof o?o(S):o};return t.createElement(a,jj({ref:m,className:bj("".concat(g).concat(l?" ".concat(l):"")),"data-swiper-slide-index":f,onLoad:function(){_(!0)}},p),u&&t.createElement(Mj.Provider,{value:S},t.createElement("div",{className:"swiper-zoom-container","data-swiper-zoom":"number"===typeof u?u:void 0},E(),d&&!b&&t.createElement("div",{className:"swiper-lazy-preloader"}))),!u&&t.createElement(Mj.Provider,{value:S},E(),d&&!b&&t.createElement("div",{className:"swiper-lazy-preloader"})))}));Rj.displayName="SwiperSlide";var Dj=JSON.parse('[{"url":"./image/flat1.jpg"},{"url":"./image/flat2.jpg"},{"url":"./image/flat3.jpg"},{"url":"./image/flat4.jpg"},{"url":"./image/flat5.jpg"},{"url":"./image/flat6.jpg"},{"url":"./image/flat7.jpg"},{"url":"./image/flat9.jpg"},{"url":"./image/flat8.jpg"},{"url":"./image/flat10.jpg"},{"url":"./image/flat11.jpg"},{"url":"./image/house1.jpg"},{"url":"./image/house2.jpg"},{"url":"./image/house3.jpg"},{"url":"./image/house4.jpg"},{"url":"./image/house5.jpg"},{"url":"./image/house6.jpg"},{"url":"./image/house7.jpg"},{"url":"./image/house8.jpg"},{"url":"./image/house9.jpg"},{"url":"./image/house10.jpg"},{"url":"./image/p1.jpg"},{"url":"./image/p2.jpg"},{"url":"./image/p3.jpg"},{"url":"./image/p4.jpg"},{"url":"./image/p5.jpg"},{"url":"./image/p6.jpg"},{"url":"./image/p7.jpg"}]'),Lj=function(){return(0,zo.jsxs)("div",{className:"my-20 py-5 bg-gray-50",children:[(0,zo.jsx)(bP,{orientation:"left",children:(0,zo.jsx)("h4",{style:{marginBottom:"-10px",fontWeight:"bold"},className:"text-5xl mb-5 text-blue-400",children:"Gallery"})}),(0,zo.jsx)(Aj,{effect:"coverflow",grabCursor:!0,centeredSlides:!0,slidesPerView:"auto",coverflowEffect:{rotate:50,stretch:0,depth:100,modifier:1,slideShadows:!0},modules:[pj],className:"mySwiper",children:null===Dj||void 0===Dj?void 0:Dj.map((function(e){return(0,zo.jsx)(Rj,{children:(0,zo.jsx)(vT,{src:e.url})},e.url)}))})]})};function Nj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Bj(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Nj(Object(n),!0).forEach((function(t){Hj(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Nj(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Fj(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Vj(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Uj(e,t,n){return t&&Vj(e.prototype,t),n&&Vj(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Hj(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Gj(){return(Gj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Wj(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Xj(e,t)}function qj(e){return(qj=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Xj(e,t){return(Xj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function Zj(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Kj(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Yj(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Kj(e)}function $j(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=qj(e);if(t){var i=qj(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Yj(this,n)}}function Jj(e){return function(e){if(Array.isArray(e))return Qj(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return Qj(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Qj(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Qj(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function eR(e,t){return e(t={exports:{}},t.exports),t.exports}function tR(){}function nR(){}function rR(e){return e.map((function(e){return!1===e?null:e})).join(" ").replace(/\s+/g," ").trim()}function iR(e,t){return 100/e*t/t}function aR(e,t){return 100*e/t}function oR(e){return"".concat(e,"%")}function sR(e,t,n){if(e===t)return!0;var r=ER[SR(e)],i=ER[SR(t)];return!(!r||r!==i)&&r(e,t,n)}function lR(e){return function(t,n,r){if(!r)return e(t,n,[]);for(var i,a=r.length;i=r[--a];)if(i[0]===t&&i[1]===n)return!0;return e(t,n,r)}}function cR(e){var t=[];for(var n in e)"constructor"!==n&&t.push(n);return t}function uR(e){var t=Object.prototype.toString.call(e);return"[object RegExp]"===t||"[object Date]"===t||function(e){return e.$$typeof===MR}(e)}function dR(e,t){return!1!==t.clone&&t.isMergeableObject(e)?hR(function(e){return Array.isArray(e)?[]:{}}(e),e,t):e}function fR(e,t,n){return e.concat(t).map((function(e){return dR(e,n)}))}function hR(e,t,n){(n=n||{}).arrayMerge=n.arrayMerge||fR,n.isMergeableObject=n.isMergeableObject||TR;var r=Array.isArray(t);return r===Array.isArray(e)?r?n.arrayMerge(e,t,n):function(e,t,n){var r={};return n.isMergeableObject(e)&&Object.keys(e).forEach((function(t){r[t]=dR(e[t],n)})),Object.keys(t).forEach((function(i){n.isMergeableObject(t[i])&&e[i]?r[i]=hR(e[i],t[i],n):r[i]=dR(t[i],n)})),r}(e,t,n):dR(t,n)}function pR(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){return{}},r=function(r){function i(e,t){var r;return Fj(this,i),(r=a.call(this,e,t)).state=n(Bj({},t.state)),r.updateStateProps=r.updateStateProps.bind(Kj(r)),r}Wj(i,r);var a=$j(i);return Uj(i,[{key:"componentDidMount",value:function(){this.context.subscribe(this.updateStateProps)}},{key:"shouldComponentUpdate",value:function(e,t){return!CR(t,this.state)||!CR(e,this.props)}},{key:"componentWillUnmount",value:function(){this.context.unsubscribe(this.updateStateProps)}},{key:"updateStateProps",value:function(){this.setState(n(Bj({},this.context.state)))}},{key:"render",value:function(){var n=this,r=OR(this.state,this.props);return t.createElement(e,Gj({ref:function(e){n.instance=e}},r,{carouselStore:{getStoreState:this.context.getStoreState,masterSpinnerError:this.context.masterSpinnerError,masterSpinnerSuccess:this.context.masterSpinnerSuccess,setStoreState:this.context.setStoreState,subscribeMasterSpinner:this.context.subscribeMasterSpinner,unsubscribeAllMasterSpinner:this.context.unsubscribeAllMasterSpinner,unsubscribeMasterSpinner:this.context.unsubscribeMasterSpinner}}),this.props.children)}}]),i}(t.Component);return Hj(r,"contextType",PR),Hj(r,"propTypes",{children:xR.children}),Hj(r,"defaultProps",{children:null}),r}nR.resetWarningCache=tR;var mR=eR((function(e){e.exports=function(){function e(e,t,n,r,i,a){if("SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"!==a){var o=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw o.name="Invariant Violation",o}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:nR,resetWarningCache:tR};return n.PropTypes=n,n}()})),vR="loading",gR="success",yR="error",xR={children:mR.oneOfType([mR.arrayOf(mR.node),mR.node]),direction:mR.oneOf(["forward","backward"]),height:function(e,t){var n=e[t];return"vertical"!==e.orientation||null!==n&&"number"==typeof n?null:new Error("Missing required property '".concat(t,"' when orientation is vertical.  You must supply a number representing the height in pixels"))},orientation:mR.oneOf(["horizontal","vertical"]),isBgImage:function(e,t){return!0===e[t]&&"img"===e.tag?new Error("HTML img elements should not have a backgroundImage.  Please use ".concat(t," for other block-level HTML tags, like div, a, section, etc...")):null}},bR=function(e){var t=e.min,n=e.max,r=e.x;return Math.min(n,Math.max(t,r))},_R="buttonBack___1mlaL",wR=["carouselStore","className","currentSlide","disabled","onClick","step","totalSlides","visibleSlides","infinite"],kR=function(e){function n(e){var t;return Fj(this,n),(t=r.call(this,e)).handleOnClick=t.handleOnClick.bind(Kj(t)),t}Wj(n,e);var r=$j(n);return Uj(n,[{key:"handleOnClick",value:function(e){var t=this.props,n=t.carouselStore,r=t.currentSlide,i=t.onClick,a=t.step,o=t.infinite,s=t.visibleSlides,l=t.totalSlides-s,c=Math.max(r-a,0);o&&(c=0===r?l:c),n.setStoreState({currentSlide:c,isPlaying:!1},null!==i&&i.call(this,e))}},{key:"render",value:function(){var e=this.props,r=(e.carouselStore,e.className),i=(e.currentSlide,e.disabled,e.onClick,e.step,e.totalSlides,e.visibleSlides,e.infinite),a=Zj(e,wR),o=rR([_R,"carousel__back-button",r]),s=n.setDisabled(this.props.disabled,this.props.currentSlide,i);return t.createElement("button",Gj({type:"button","aria-label":"previous",className:o,onClick:this.handleOnClick,disabled:s},a),this.props.children)}}],[{key:"setDisabled",value:function(e,t,n){return null!==e?e:0===t&&!n}}]),n}(t.Component);Hj(kR,"propTypes",{carouselStore:mR.object.isRequired,children:xR.children.isRequired,className:mR.string,currentSlide:mR.number.isRequired,disabled:mR.bool,onClick:mR.func,step:mR.number.isRequired,totalSlides:mR.number.isRequired,visibleSlides:mR.number.isRequired,infinite:mR.bool}),Hj(kR,"defaultProps",{className:null,disabled:null,onClick:null,infinite:!1});var SR=eR((function(e,t){var n={}.toString,r="undefined"!=typeof window?window.Node:Function;e.exports=t=function(e){var t=typeof e;if("object"!=t)return t;if(t=i[n.call(e)],"object"==t)return e instanceof Map?"map":e instanceof Set?"set":"object";if(t)return t;if(e instanceof r)switch(e.nodeType){case 1:return"element";case 3:return"text-node";case 9:return"document";case 11:return"document-fragment";default:return"dom-node"}};var i=t.types={"[object Function]":"function","[object Date]":"date","[object RegExp]":"regexp","[object Arguments]":"arguments","[object Array]":"array","[object Set]":"set","[object String]":"string","[object Null]":"null","[object Undefined]":"undefined","[object Number]":"number","[object Boolean]":"boolean","[object Object]":"object","[object Map]":"map","[object Text]":"text-node","[object Uint8Array]":"bit-array","[object Uint16Array]":"bit-array","[object Uint32Array]":"bit-array","[object Uint8ClampedArray]":"bit-array","[object Error]":"error","[object FormData]":"form-data","[object File]":"file","[object Blob]":"blob"}})),ER=(SR.types,{number:function(e,t){return e!==e&&t!==t},function:function(e,t,n){return e.toString()===t.toString()&&ER.object(e,t,n)&&sR(e.prototype,t.prototype)},date:function(e,t){return+e==+t},regexp:function(e,t){return e.toString()===t.toString()},element:function(e,t){return e.outerHTML===t.outerHTML},textnode:function(e,t){return e.textContent===t.textContent}});ER.arguments=ER["bit-array"]=ER.array=lR((function(e,t,n){var r=e.length;if(r!==t.length)return!1;for(n.push([e,t]);r--;)if(!sR(e[r],t[r],n))return!1;return!0})),ER.object=lR((function(e,t,n){if("function"==typeof e.equal)return n.push([e,t]),e.equal(t,n);var r=cR(e),i=cR(t),a=r.length;if(a!==i.length)return!1;for(r.sort(),i.sort();a--;)if(r[a]!==i[a])return!1;for(n.push([e,t]),a=r.length;a--;){var o=r[a];if(!sR(e[o],t[o],n))return!1}return!0}));var CR=sR,TR=function(e){return function(e){return!!e&&"object"==typeof e}(e)&&!uR(e)},MR="function"==typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103;hR.all=function(e,t){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce((function(e,n){return hR(e,n,t)}),{})};var IR,OR=hR,PR=t.createContext(),AR=function e(t){return Object.freeze(t),Object.getOwnPropertyNames(t).forEach((function(n){!t.hasOwnProperty(n)||null===t[n]||"object"!=typeof t[n]&&"function"!=typeof t[n]||Object.isFrozen(t[n])||e(t[n])})),t},zR={masterSpinnerFinished:!1},jR=function(){function e(t){Fj(this,e),this.state=AR(OR(zR,t)),this.subscriptions=[],this.masterSpinnerSubscriptions={},this.setStoreState=this.setStoreState.bind(this),this.getStoreState=this.getStoreState.bind(this),this.subscribe=this.subscribe.bind(this),this.unsubscribe=this.unsubscribe.bind(this),this.updateSubscribers=this.updateSubscribers.bind(this),this.subscribeMasterSpinner=this.subscribeMasterSpinner.bind(this),this.unsubscribeMasterSpinner=this.unsubscribeMasterSpinner.bind(this),this.unsubscribeAllMasterSpinner=this.unsubscribeAllMasterSpinner.bind(this),this.masterSpinnerSuccess=this.masterSpinnerSuccess.bind(this),this.masterSpinnerError=this.masterSpinnerError.bind(this)}return Uj(e,[{key:"setStoreState",value:function(e,t){this.state=AR(OR(this.state,e)),this.updateSubscribers(t)}},{key:"getStoreState",value:function(){return OR({},this.state)}},{key:"subscribe",value:function(e){this.subscriptions.push(e)}},{key:"unsubscribe",value:function(e){var t=this.subscriptions.indexOf(e);-1!==t&&this.subscriptions.splice(t,1)}},{key:"updateSubscribers",value:function(e){this.subscriptions.forEach((function(e){return e()})),"function"==typeof e&&e(this.getStoreState())}},{key:"subscribeMasterSpinner",value:function(e){-1===Object.keys(this.masterSpinnerSubscriptions).indexOf(e)&&(this.masterSpinnerSubscriptions[e]={success:!1,error:!1,complete:!1})}},{key:"unsubscribeMasterSpinner",value:function(e){return-1!==Object.keys(this.masterSpinnerSubscriptions).indexOf(e)&&(this.setMasterSpinnerFinished(),delete this.masterSpinnerSubscriptions[e])}},{key:"unsubscribeAllMasterSpinner",value:function(){this.masterSpinnerSubscriptions={},this.setMasterSpinnerFinished()}},{key:"masterSpinnerSuccess",value:function(e){this.masterSpinnerSubscriptions[e].success=!0,this.masterSpinnerSubscriptions[e].complete=!0,this.setMasterSpinnerFinished()}},{key:"masterSpinnerError",value:function(e){this.masterSpinnerSubscriptions[e].error=!0,this.masterSpinnerSubscriptions[e].complete=!0,this.setMasterSpinnerFinished()}},{key:"setMasterSpinnerFinished",value:function(){this.setStoreState({masterSpinnerFinished:this.isMasterSpinnerFinished()})}},{key:"isMasterSpinnerFinished",value:function(){var e=this;return 0===Object.keys(this.masterSpinnerSubscriptions).filter((function(t){return!0!==e.masterSpinnerSubscriptions[t].complete})).length}}]),e}(),RR=["children","className","currentSlide","disableAnimation","disableKeyboard","hasMasterSpinner","interval","isPageScrollLocked","isPlaying","lockOnWindowScroll","naturalSlideHeight","naturalSlideWidth","orientation","playDirection","step","dragStep","tag","totalSlides","touchEnabled","dragEnabled","visibleSlides","infinite","isIntrinsicHeight"],DR=(IR=function(e){function n(e){var t;if(Fj(this,n),t=r.call(this,e),e.isIntrinsicHeight&&"horizontal"!==e.orientation)throw Error('isIntrinsicHeight can only be used in "horizontal" orientation. See Readme for more information.');var i={currentSlide:e.currentSlide,disableAnimation:e.disableAnimation,disableKeyboard:e.disableKeyboard,hasMasterSpinner:e.hasMasterSpinner,imageErrorCount:0,imageSuccessCount:0,interval:e.interval,isPageScrollLocked:e.isPageScrollLocked,isPlaying:e.isPlaying,lockOnWindowScroll:e.lockOnWindowScroll,masterSpinnerThreshold:0,naturalSlideHeight:e.naturalSlideHeight,naturalSlideWidth:e.naturalSlideWidth,orientation:e.orientation,playDirection:e.playDirection,privateUnDisableAnimation:!1,slideSize:iR(e.totalSlides,e.visibleSlides),slideTraySize:aR(e.totalSlides,e.visibleSlides),step:e.step,dragStep:e.dragStep,totalSlides:e.totalSlides,touchEnabled:e.touchEnabled,dragEnabled:e.dragEnabled,visibleSlides:e.visibleSlides,infinite:e.infinite,isIntrinsicHeight:e.isIntrinsicHeight};return t.carouselStore=new jR(i),t}Wj(n,e);var r=$j(n);return Uj(n,[{key:"componentDidUpdate",value:function(e){var t=this,n={};["currentSlide","disableAnimation","disableKeyboard","hasMasterSpinner","interval","isPlaying","naturalSlideHeight","naturalSlideWidth","lockOnWindowScroll","orientation","playDirection","step","dragStep","totalSlides","touchEnabled","dragEnabled","visibleSlides"].forEach((function(r){e[r]!==t.props[r]&&(n[r]=t.props[r])})),this.props.currentSlide!==e.currentSlide&&!this.props.disableAnimation&&(n.disableAnimation=!0,n.privateUnDisableAnimation=!0),this.props.totalSlides===e.totalSlides&&this.props.visibleSlides===e.visibleSlides||(n.slideSize=iR(this.props.totalSlides,this.props.visibleSlides),n.slideTraySize=aR(this.props.totalSlides,this.props.visibleSlides)),this.carouselStore.state.currentSlide>=this.props.totalSlides&&(n.currentSlide=Math.max(this.props.totalSlides-1,0)),Object.keys(n).length>0&&this.carouselStore.setStoreState(n)}},{key:"componentWillUnmount",value:function(){this.carouselStore.unsubscribeAllMasterSpinner()}},{key:"getStore",value:function(){return this.carouselStore}},{key:"render",value:function(){var e=this.props,n=(e.children,e.className,e.currentSlide,e.disableAnimation,e.disableKeyboard,e.hasMasterSpinner,e.interval,e.isPageScrollLocked,e.isPlaying,e.lockOnWindowScroll,e.naturalSlideHeight,e.naturalSlideWidth,e.orientation,e.playDirection,e.step,e.dragStep,e.tag),r=(e.totalSlides,e.touchEnabled,e.dragEnabled,e.visibleSlides,e.infinite,e.isIntrinsicHeight,Zj(e,RR)),i=rR(["carousel",this.props.className]);return t.createElement(n,Gj({className:i},r),t.createElement(PR.Provider,{value:this.carouselStore},this.props.children))}}]),n}(t.Component),Hj(IR,"propTypes",{children:xR.children.isRequired,className:mR.string,currentSlide:mR.number,disableAnimation:mR.bool,disableKeyboard:mR.bool,hasMasterSpinner:mR.bool,interval:mR.number,isPageScrollLocked:mR.bool,isPlaying:mR.bool,lockOnWindowScroll:mR.bool,naturalSlideHeight:mR.number.isRequired,naturalSlideWidth:mR.number.isRequired,orientation:xR.orientation,playDirection:xR.direction,step:mR.number,dragStep:mR.number,tag:mR.string,totalSlides:mR.number.isRequired,touchEnabled:mR.bool,dragEnabled:mR.bool,visibleSlides:mR.number,infinite:mR.bool,isIntrinsicHeight:mR.bool}),Hj(IR,"defaultProps",{className:null,currentSlide:0,disableAnimation:!1,disableKeyboard:!1,hasMasterSpinner:!1,interval:5e3,isPageScrollLocked:!1,isPlaying:!1,lockOnWindowScroll:!1,orientation:"horizontal",playDirection:"forward",step:1,dragStep:1,tag:"div",touchEnabled:!0,dragEnabled:!0,visibleSlides:1,infinite:!1,isIntrinsicHeight:!1}),IR);PR.Consumer;var LR,NR,BR,FR,VR,UR,HR=pR(kR,(function(e){return{currentSlide:e.currentSlide,step:e.step,totalSlides:e.totalSlides,visibleSlides:e.visibleSlides,infinite:e.infinite}})),GR="buttonFirst___2rhFr",WR=["carouselStore","className","currentSlide","disabled","onClick","totalSlides"],qR=(LR=function(e){function n(){var e;return Fj(this,n),(e=r.call(this)).handleOnClick=e.handleOnClick.bind(Kj(e)),e}Wj(n,e);var r=$j(n);return Uj(n,[{key:"handleOnClick",value:function(e){var t=this.props,n=t.carouselStore,r=t.onClick;n.setStoreState({currentSlide:0,isPlaying:!1},null!==r&&r.call(this,e))}},{key:"render",value:function(){var e=this.props,n=(e.carouselStore,e.className),r=e.currentSlide,i=e.disabled,a=(e.onClick,e.totalSlides,Zj(e,WR)),o=rR([GR,"carousel__first-button",n]),s=null!==i?i:0===r;return t.createElement("button",Gj({type:"button","aria-label":"first",className:o,onClick:this.handleOnClick,disabled:s},a),this.props.children)}}]),n}(t.Component),Hj(LR,"propTypes",{carouselStore:mR.object.isRequired,children:xR.children.isRequired,className:mR.string,currentSlide:mR.number.isRequired,disabled:mR.bool,onClick:mR.func,totalSlides:mR.number.isRequired}),Hj(LR,"defaultProps",{className:null,disabled:null,onClick:null}),LR),XR=(pR(qR,(function(e){return{currentSlide:e.currentSlide,totalSlides:e.totalSlides}})),"buttonNext___2mOCa"),ZR=["carouselStore","className","currentSlide","disabled","onClick","step","totalSlides","visibleSlides","infinite"],KR=(NR=function(e){function n(e){var t;return Fj(this,n),(t=r.call(this,e)).handleOnClick=t.handleOnClick.bind(Kj(t)),t}Wj(n,e);var r=$j(n);return Uj(n,[{key:"handleOnClick",value:function(e){var t=this.props,n=t.currentSlide,r=t.onClick,i=t.step,a=t.carouselStore,o=t.infinite,s=t.totalSlides-t.visibleSlides,l=i+n,c=Math.min(l,s);o&&(c=s===n?0:c),a.setStoreState({currentSlide:c,isPlaying:!1},null!==r&&r.call(this,e))}},{key:"render",value:function(){var e=this.props,r=(e.carouselStore,e.className),i=e.currentSlide,a=e.disabled,o=(e.onClick,e.step,e.totalSlides),s=e.visibleSlides,l=e.infinite,c=Zj(e,ZR),u=rR([XR,"carousel__next-button",r]),d=n.setDisabled(a,i,s,o,l);return t.createElement("button",Gj({type:"button","aria-label":"next",className:u,onClick:this.handleOnClick,disabled:d},c),this.props.children)}}],[{key:"setDisabled",value:function(e,t,n,r,i){return null!==e?e:t>=r-n&&!i}}]),n}(t.PureComponent),Hj(NR,"propTypes",{carouselStore:mR.object.isRequired,children:xR.children.isRequired,className:mR.string,currentSlide:mR.number.isRequired,disabled:mR.bool,onClick:mR.func,step:mR.number.isRequired,totalSlides:mR.number.isRequired,visibleSlides:mR.number.isRequired,infinite:mR.bool}),Hj(NR,"defaultProps",{className:null,disabled:null,onClick:null,infinite:!1}),NR),YR=pR(KR,(function(e){return{currentSlide:e.currentSlide,step:e.step,totalSlides:e.totalSlides,visibleSlides:e.visibleSlides,infinite:e.infinite}})),$R="buttonLast___2yuh0",JR=["carouselStore","className","currentSlide","disabled","onClick","totalSlides","visibleSlides"],QR=(BR=function(e){function n(){var e;return Fj(this,n),(e=r.call(this)).handleOnClick=e.handleOnClick.bind(Kj(e)),e}Wj(n,e);var r=$j(n);return Uj(n,[{key:"handleOnClick",value:function(e){var t=this.props,n=t.carouselStore,r=t.onClick,i=t.totalSlides,a=t.visibleSlides;n.setStoreState({currentSlide:i-a,isPlaying:!1},null!==r&&r.call(this,e))}},{key:"render",value:function(){var e=this.props,n=(e.carouselStore,e.className),r=e.currentSlide,i=e.disabled,a=(e.onClick,e.totalSlides),o=e.visibleSlides,s=Zj(e,JR),l=rR([$R,"carousel__last-button",n]),c=null!==i?i:r>=a-o;return t.createElement("button",Gj({type:"button","aria-label":"last",className:l,onClick:this.handleOnClick,disabled:c},s),this.props.children)}}]),n}(t.Component),Hj(BR,"propTypes",{carouselStore:mR.object.isRequired,children:xR.children.isRequired,className:mR.string,currentSlide:mR.number.isRequired,disabled:mR.bool,onClick:mR.func,totalSlides:mR.number.isRequired,visibleSlides:mR.number.isRequired}),Hj(BR,"defaultProps",{className:null,disabled:null,onClick:null}),BR),eD=(pR(QR,(function(e){return{currentSlide:e.currentSlide,totalSlides:e.totalSlides,visibleSlides:e.visibleSlides}})),"buttonNext___3Lm3s"),tD=["carouselStore","children","childrenPaused","childrenPlaying","className","isPlaying","onClick"],nD=(FR=function(e){function n(e){var t;return Fj(this,n),(t=r.call(this,e)).handleOnClick=t.handleOnClick.bind(Kj(t)),t}Wj(n,e);var r=$j(n);return Uj(n,[{key:"handleOnClick",value:function(e){var t=this.props.onClick;this.props.carouselStore.setStoreState({isPlaying:!this.props.isPlaying},null!==t&&t.call(this,e))}},{key:"render",value:function(){var e=this.props,n=(e.carouselStore,e.children,e.childrenPaused),r=e.childrenPlaying,i=e.className,a=e.isPlaying,o=(e.onClick,Zj(e,tD)),s=rR([eD,"carousel__play-button",i]);return t.createElement("button",Gj({type:"button","aria-label":"play",className:s,onClick:this.handleOnClick},o),a&&r,!a&&n,this.props.children)}}]),n}(t.PureComponent),Hj(FR,"propTypes",{carouselStore:mR.object.isRequired,children:mR.node,childrenPaused:mR.node,childrenPlaying:mR.node,className:mR.string,isPlaying:mR.bool.isRequired,onClick:mR.func}),Hj(FR,"defaultProps",{children:null,childrenPaused:null,childrenPlaying:null,className:null,onClick:null}),FR),rD=(pR(nD,(function(e){return{isPlaying:e.isPlaying}})),{dot:"dot___3c3SI"}),iD=["carouselStore","children","className","currentSlide","disabled","onClick","selected","slide","totalSlides","visibleSlides"],aD=(VR=function(e){function n(e){var t;return Fj(this,n),(t=r.call(this,e)).handleOnClick=t.handleOnClick.bind(Kj(t)),t}Wj(n,e);var r=$j(n);return Uj(n,[{key:"handleOnClick",value:function(e){var t=this.props,n=t.carouselStore,r=t.onClick,i=t.slide,a=t.totalSlides,o=t.visibleSlides,s=i>=a-o?a-o:i;n.setStoreState({currentSlide:s,isPlaying:!1},null!==r&&r.call(this,e))}},{key:"render",value:function(){var e=this.props,n=(e.carouselStore,e.children,e.className),r=e.currentSlide,i=e.disabled,a=(e.onClick,e.selected),o=e.slide,s=(e.totalSlides,e.visibleSlides),l=Zj(e,iD),c=o>=r&&o<r+s,u="boolean"==typeof a?a:c,d="boolean"==typeof i?i:!0===c,f=rR([rD.dot,u&&rD.dotSelected,"carousel__dot","carousel__dot--".concat(o),u&&"carousel__dot--selected",n]);return t.createElement("button",Gj({"aria-label":"slide dot",type:"button",onClick:this.handleOnClick,className:f,disabled:d},l),this.props.children)}}]),n}(t.Component),Hj(VR,"propTypes",{carouselStore:mR.object.isRequired,children:xR.children,className:mR.string,currentSlide:mR.number.isRequired,disabled:mR.bool,onClick:mR.func,selected:mR.bool,slide:mR.number.isRequired,totalSlides:mR.number.isRequired,visibleSlides:mR.number.isRequired}),Hj(VR,"defaultProps",{children:null,className:null,disabled:null,onClick:null,selected:null}),VR),oD=pR(aD,(function(e){return{currentSlide:e.currentSlide,totalSlides:e.totalSlides,visibleSlides:e.visibleSlides}})),sD={},lD=["renderDots"],cD=["carouselStore","children","className","currentSlide","dotNumbers","totalSlides","visibleSlides","disableActiveDots","showAsSelectedForCurrentSlideOnly","renderDots"],uD=(UR=function(e){function n(){return Fj(this,n),r.apply(this,arguments)}Wj(n,e);var r=$j(n);return Uj(n,[{key:"renderDots",value:function(){var e=this.props,n=e.currentSlide,r=e.totalSlides,i=e.visibleSlides,a=e.disableActiveDots,o=e.showAsSelectedForCurrentSlideOnly,s=e.renderDots;if(s){var l=this.props;return l.renderDots,s(Zj(l,lD))}for(var c=[],u=0;u<r;u+=1){var d=o?u===n:u>=n&&u<n+i,f=u>=r-i?r-i:u;c.push(t.createElement(oD,{key:u,slide:f,selected:d,disabled:!!a&&d},t.createElement("span",{className:rR["carousel__dot-group-dot"]},this.props.dotNumbers&&u+1)))}return c}},{key:"render",value:function(){var e=this.props,n=(e.carouselStore,e.children),r=e.className,i=(e.currentSlide,e.dotNumbers,e.totalSlides,e.visibleSlides,e.disableActiveDots,e.showAsSelectedForCurrentSlideOnly,e.renderDots,Zj(e,cD)),a=rR([sD.DotGroup,"carousel__dot-group",r]);return t.createElement("div",Gj({className:a},i),this.renderDots(),n)}}]),n}(t.Component),Hj(UR,"propTypes",{children:xR.children,className:mR.string,currentSlide:mR.number.isRequired,carouselStore:mR.object.isRequired,totalSlides:mR.number.isRequired,visibleSlides:mR.number.isRequired,dotNumbers:mR.bool,disableActiveDots:mR.bool,showAsSelectedForCurrentSlideOnly:mR.bool,renderDots:mR.func}),Hj(UR,"defaultProps",{children:null,className:null,dotNumbers:!1,disableActiveDots:!0,showAsSelectedForCurrentSlideOnly:!1,renderDots:null}),UR),dD=(pR(uD,(function(e){return{currentSlide:e.currentSlide,totalSlides:e.totalSlides,visibleSlides:e.visibleSlides}})),{image:"image___xtQGH"}),fD=["src","alt"],hD=["carouselStore","children","className","hasMasterSpinner","isBgImage","onError","onLoad","renderError","renderLoading","style","tag"],pD=function(e){function n(e){var t;return Fj(this,n),(t=r.call(this,e)).state={imageStatus:vR},t.handleImageLoad=t.handleImageLoad.bind(Kj(t)),t.handleImageError=t.handleImageError.bind(Kj(t)),t.image=null,t}Wj(n,e);var r=$j(n);return Uj(n,[{key:"componentDidMount",value:function(){n.subscribeMasterSpinner(this.props),this.initImage()}},{key:"componentDidUpdate",value:function(e){e.src!==this.props.src&&(n.unsubscribeMasterSpinner(e),n.subscribeMasterSpinner(this.props),this.initImage())}},{key:"componentWillUnmount",value:function(){n.unsubscribeMasterSpinner(this.props),this.image.removeEventListener("load",this.handleImageLoad),this.image.removeEventListener("error",this.handleImageError),this.image=null}},{key:"initImage",value:function(){if(this.setState({imageStatus:vR}),this.image=document.createElement("img"),this.image.addEventListener("load",this.handleImageLoad,!1),this.image.addEventListener("error",this.handleImageError,!1),this.image.src=this.props.src,this.image.readyState||this.image.complete){var e=this.image.src;this.image.src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==",this.image.src=e}}},{key:"handleImageLoad",value:function(e){this.setState({imageStatus:gR}),this.props.hasMasterSpinner&&this.props.carouselStore.masterSpinnerSuccess(this.props.src),this.props.onLoad&&this.props.onLoad(e)}},{key:"handleImageError",value:function(e){this.setState({imageStatus:yR}),this.props.hasMasterSpinner&&this.props.carouselStore.masterSpinnerError(this.props.src),this.props.onError&&this.props.onError(e)}},{key:"tempTag",value:function(){return"img"===this.props.tag?"div":this.props.tag}},{key:"customRender",value:function(e){return"function"==typeof this.props[e]?this.props[e]():this.props.children}},{key:"renderLoading",value:function(e){var n=this.tempTag(),r=rR([dD.image,dD.imageLoading,"carousel__image",this.props.isBgImage&&"carousel__image--with-background","carousel__image--loading",this.props.className]);return t.createElement(n,Gj({className:r},e),this.customRender("renderLoading"))}},{key:"renderError",value:function(e){var n=this.tempTag(),r=rR([dD.image,dD.imageError,"carousel__image",this.props.isBgImage&&"carousel__image--with-background","carousel__image--error",this.props.className]);return t.createElement(n,Gj({className:r},e),this.customRender("renderError"))}},{key:"renderSuccess",value:function(e){var n=this.props,r=n.style,i=n.tag,a=rR([dD.image,"carousel__image",this.props.isBgImage&&"carousel__image--with-background","carousel__image--success",this.props.className]),o=Gj({},r),s=e;if("img"!==i){var l=e.src;e.alt,s=Zj(e,fD),o=Gj({},r,{backgroundImage:'url("'.concat(l,'")'),backgroundSize:"cover"})}return t.createElement(i,Gj({className:a,style:o},s),this.props.children)}},{key:"render",value:function(){var e=this.props,t=(e.carouselStore,e.children,e.className,e.hasMasterSpinner,e.isBgImage,e.onError,e.onLoad,e.renderError,e.renderLoading,e.style,e.tag,Zj(e,hD));switch(this.state.imageStatus){case vR:return this.renderLoading(t);case gR:return this.renderSuccess(t);case yR:return this.renderError(t);default:throw new Error("unknown value for this.state.imageStatus")}}}],[{key:"subscribeMasterSpinner",value:function(e){e.hasMasterSpinner&&e.carouselStore.subscribeMasterSpinner(e.src)}},{key:"unsubscribeMasterSpinner",value:function(e){e.hasMasterSpinner&&e.carouselStore.unsubscribeMasterSpinner(e.src)}}]),n}(t.Component);Hj(pD,"propTypes",{alt:mR.string,carouselStore:mR.object.isRequired,children:xR.children,className:mR.string,hasMasterSpinner:mR.bool.isRequired,isBgImage:xR.isBgImage,onError:mR.func,onLoad:mR.func,renderError:mR.func,renderLoading:mR.func,src:mR.string.isRequired,style:mR.object,tag:mR.string}),Hj(pD,"defaultProps",{alt:"",children:null,className:null,isBgImage:!1,onError:null,onLoad:null,renderError:null,renderLoading:null,style:null,tag:"img"});var mD,vD,gD,yD,xD=pR(pD,(function(e){return{hasMasterSpinner:e.hasMasterSpinner,orientation:e.orientation}})),bD="spinner___27VUp",_D=["className"],wD=(mD=function(e){function n(){return Fj(this,n),r.apply(this,arguments)}Wj(n,e);var r=$j(n);return Uj(n,[{key:"render",value:function(){var e=this.props,n=e.className,r=Zj(e,_D),i=rR([bD,"carousel__spinner",n]);return t.createElement("div",Gj({className:i},r))}}]),n}(t.PureComponent),Hj(mD,"propTypes",{className:mR.string}),Hj(mD,"defaultProps",{className:null}),mD),kD={container:"container___2O72F",overlay:"overlay___IV4qY",hover:"hover___MYy31",zoom:"zoom___3kqYk",loading:"loading___1pvNI",imageLoadingSpinnerContainer:"imageLoadingSpinnerContainer___3UIPD"},SD=["alt","bgImageProps","bgImageTag","carouselStore","className","imageClassName","overlayClassName","isPinchZoomEnabled","spinner","src","srcZoomed","tag"],ED=(vD=function(e){function n(e){var t;return Fj(this,n),(t=r.call(this,e)).state={isImageLoading:!0,isHovering:!1,isZooming:!1,x:null,y:null,scale:1},t.tpCache={},t.handleImageComplete=t.handleImageComplete.bind(Kj(t)),t.handleOnMouseMove=t.handleOnMouseMove.bind(Kj(t)),t.handleOnMouseOut=t.handleOnMouseOut.bind(Kj(t)),t.handleOnMouseOver=t.handleOnMouseOver.bind(Kj(t)),t.handleOnTouchEnd=t.handleOnTouchEnd.bind(Kj(t)),t.handleOnTouchMove=t.handleOnTouchMove.bind(Kj(t)),t.handleOnTouchStart=t.handleOnTouchStart.bind(Kj(t)),t}Wj(n,e);var r=$j(n);return Uj(n,[{key:"componentDidUpdate",value:function(e,t){!1===t.isZooming&&!0===this.state.isZooming&&this.props.carouselStore.setStoreState({isPageScrollLocked:!0}),!0===t.isZooming&&!1===this.state.isZooming&&this.props.carouselStore.setStoreState({isPageScrollLocked:!1})}},{key:"handleImageComplete",value:function(){this.setState({isImageLoading:!1})}},{key:"handleOnMouseOver",value:function(){this.state.isZooming||this.setState({isHovering:!0,scale:2})}},{key:"handleOnMouseOut",value:function(){this.state.isZooming||this.setState({isHovering:!1,scale:1})}},{key:"handleOnMouseMove",value:function(e){if(!this.state.isZooming){var t=oR(e.nativeEvent.offsetX/e.target.offsetWidth*100),n=oR(e.nativeEvent.offsetY/e.target.offsetHeight*100);this.setState({x:t,y:n})}}},{key:"handleOnTouchStart",value:function(e){var t=this;this.props.isPinchZoomEnabled&&(Jj(e.targetTouches).forEach((function(e){t.tpCache[e.identifier]={clientX:e.clientX,clientY:e.clientY}})),this.setState((function(e){return{isZooming:e.isZooming||Object.keys(t.tpCache).length>1}})))}},{key:"handleOnTouchMove",value:function(e){var t=this;if(this.state.isZooming){e.persist();var r=Jj(e.targetTouches).filter((function(e){return t.tpCache[e.identifier]})).slice(0,2);if(2===r.length){e.stopPropagation();var i=e.target.getBoundingClientRect(),a=r[0].identifier,o=r[1].identifier,s={x1:this.tpCache[a].clientX,y1:this.tpCache[a].clientY,x2:this.tpCache[o].clientX,y2:this.tpCache[o].clientY};s.distance=n.distanceBetweenTwoTouches(Bj({},s));var l=n.midpointBetweenTwoTouches(Bj({},s));s.cx=l.x,s.cy=l.y;var c={x1:r[0].clientX,y1:r[0].clientY,x2:r[1].clientX,y2:r[1].clientY};c.distance=n.distanceBetweenTwoTouches(Bj({},c));var u=n.midpointBetweenTwoTouches(Bj({},c));c.cx=u.x,c.cy=u.y;var d=oR(bR({min:0,max:100,x:(c.cx-i.left)/i.width*100})),f=oR(bR({min:0,max:100,x:(c.cy-i.top)/i.height*100})),h=function(e){return bR({min:1,max:3,x:e.scale+(c.distance-s.distance)/100})};this.setState((function(e){return{isZooming:1!==h(e),scale:h(e),x:d,y:f}}))}}}},{key:"handleOnTouchEnd",value:function(e){var t=this;this.props.isPinchZoomEnabled&&(Jj(e.changedTouches).forEach((function(e){delete t.tpCache[e.identifier]})),0===Object.keys(this.tpCache).length&&this.setState({isZooming:!1}))}},{key:"renderLoading",value:function(){if(this.state.isImageLoading){var e=this.props.spinner;return t.createElement("div",{className:rR([kD.imageLoadingSpinnerContainer,"carousel__image-loading-spinner-container"])},e&&e(),!e&&t.createElement(wD,null))}return null}},{key:"render",value:function(){var e=this.props,n=e.alt,r=e.bgImageProps,i=e.bgImageTag,a=(e.carouselStore,e.className),o=e.imageClassName,s=e.overlayClassName,l=(e.isPinchZoomEnabled,e.spinner,e.src),c=e.srcZoomed,u=e.tag,d=Zj(e,SD),f=rR([kD.container,a]),h=rR([kD.image,"carousel__zoom-image",o]),p=rR([kD.overlay,"carousel__zoom-image-overlay",this.state.isHovering&&kD.hover,this.state.isZooming&&kD.zoom,this.state.isHovering&&"carousel__zoom-image-overlay--hovering",this.state.isZooming&&"carousel__zoom-image-overlay--zooming",s]),m={};return(this.state.isHovering||this.state.isZooming)&&(m.transformOrigin="".concat(this.state.x," ").concat(this.state.y),m.transform="scale(".concat(this.state.scale,")")),t.createElement(u,Gj({className:f},d),t.createElement(xD,Gj({alt:n,className:h,tag:i,src:l,onLoad:this.handleImageComplete,onError:this.handleImageComplete},r)),t.createElement(xD,{className:p,tag:"div",src:c||l,style:m,isBgImage:!0,onFocus:this.handleOnMouseOver,onMouseOver:this.handleOnMouseOver,onBlur:this.handleOnMouseOut,onMouseOut:this.handleOnMouseOut,onMouseMove:this.handleOnMouseMove,onTouchStart:this.handleOnTouchStart,onTouchEnd:this.handleOnTouchEnd,onTouchMove:this.handleOnTouchMove}),this.renderLoading())}}],[{key:"midpointBetweenTwoTouches",value:function(e){var t=e.x1,n=e.y1;return{x:(t+e.x2)/2,y:(n+e.y2)/2}}},{key:"distanceBetweenTwoTouches",value:function(e){var t=e.x1,n=e.y1,r=e.x2,i=e.y2;return Math.sqrt(Math.pow(r-t,2)+Math.pow(i-n,2))}}]),n}(t.Component),Hj(vD,"propTypes",{alt:mR.string,bgImageProps:mR.object,bgImageTag:mR.string,carouselStore:mR.object.isRequired,className:mR.string,imageClassName:mR.string,overlayClassName:mR.string,spinner:mR.func,src:mR.string.isRequired,srcZoomed:mR.string,tag:mR.string,isPinchZoomEnabled:mR.bool}),Hj(vD,"defaultProps",{alt:void 0,bgImageProps:{},bgImageTag:"div",className:null,imageClassName:null,overlayClassName:null,isPinchZoomEnabled:!0,spinner:null,srcZoomed:null,tag:"div"}),vD),CD=(pR(ED,(function(){return{}})),{slide:"slide___3-Nqo",slideHorizontal:"slideHorizontal___1NzNV",slideInner:"slideInner___2mfX9",focusRing:"focusRing___1airF"}),TD=["ariaLabel","carouselStore","children","className","classNameHidden","classNameVisible","currentSlide","index","innerClassName","innerTag","naturalSlideHeight","naturalSlideWidth","onBlur","onFocus","orientation","slideSize","style","tabIndex","tag","totalSlides","visibleSlides","isIntrinsicHeight"],MD=(gD=function(e){function n(e){var t;return Fj(this,n),(t=r.call(this,e)).handleOnFocus=t.handleOnFocus.bind(Kj(t)),t.handleOnBlur=t.handleOnBlur.bind(Kj(t)),t.state={focused:!1},t}Wj(n,e);var r=$j(n);return Uj(n,[{key:"isVisible",value:function(){var e=this.props,t=e.currentSlide,n=e.index,r=e.visibleSlides;return n>=t&&n<t+r}},{key:"handleOnFocus",value:function(e){var t=this,n=this.props.onFocus;this.setState({focused:!0},(function(){null!==n&&n.call(t,e)}))}},{key:"handleOnBlur",value:function(e){var t=this,n=this.props.onBlur;this.setState({focused:!1},(function(){null!==n&&n.call(t,e)}))}},{key:"renderFocusRing",value:function(){return this.state.focused?t.createElement("div",{className:[CD.focusRing,"carousel__slide-focus-ring"].join(" ")}):null}},{key:"render",value:function(){var e=this,n=this.props,r=n.ariaLabel,i=(n.carouselStore,n.children,n.className),a=n.classNameHidden,o=n.classNameVisible,s=(n.currentSlide,n.index,n.innerClassName),l=n.innerTag,c=n.naturalSlideHeight,u=n.naturalSlideWidth,d=(n.onBlur,n.onFocus,n.orientation),f=n.slideSize,h=n.style,p=n.tabIndex,m=n.tag,v=n.totalSlides,g=(n.visibleSlides,n.isIntrinsicHeight),y=Zj(n,TD),x={};"horizontal"===d?(x.width=oR(f),x.paddingBottom=oR(100*c/(u*v))):(x.width=oR(100),x.paddingBottom=oR(100*c/u));var b={};g&&("horizontal"===d?x.height="unset":x.width="unset",x.paddingBottom="unset",b.position="unset");var _=Gj({},x,h),w=this.isVisible(),k=rR([CD.slide,"horizontal"===d&&CD.slideHorizontal,"carousel__slide",this.state.focused&&"carousel__slide--focused",w&&o,w&&"carousel__slide--visible",!w&&a,!w&&"carousel__slide--hidden",i]),S=rR([CD.slideInner,"carousel__inner-slide",s]),E=this.isVisible()?0:-1,C="number"==typeof p?p:E;return t.createElement(m,Gj({ref:function(t){e.tagRef=t},tabIndex:C,"aria-selected":this.isVisible(),"aria-label":r,role:"option",onFocus:this.handleOnFocus,onBlur:this.handleOnBlur,className:k,style:_},y),t.createElement(l,{ref:function(t){e.innerTagRef=t},className:S,style:b},this.props.children,this.renderFocusRing()))}}]),n}(t.PureComponent),Hj(gD,"propTypes",{ariaLabel:mR.string,carouselStore:mR.object,children:xR.children,className:mR.string,classNameHidden:mR.string,classNameVisible:mR.string,currentSlide:mR.number.isRequired,index:mR.number.isRequired,innerClassName:mR.string,innerTag:mR.string,naturalSlideHeight:mR.number.isRequired,naturalSlideWidth:mR.number.isRequired,onBlur:mR.func,onFocus:mR.func,orientation:xR.orientation.isRequired,slideSize:mR.number.isRequired,style:mR.object,tabIndex:mR.number,tag:mR.string,totalSlides:mR.number.isRequired,visibleSlides:mR.number.isRequired,isIntrinsicHeight:mR.bool}),Hj(gD,"defaultProps",{ariaLabel:"slide",carouselStore:null,children:null,className:null,classNameHidden:null,classNameVisible:null,innerClassName:null,innerTag:"div",onBlur:null,onFocus:null,style:{},tabIndex:null,tag:"div",isIntrinsicHeight:!1}),gD),ID=pR(MD,(function(e){return{currentSlide:e.currentSlide,naturalSlideHeight:e.naturalSlideHeight,naturalSlideWidth:e.naturalSlideWidth,orientation:e.orientation,slideSize:e.slideSize,totalSlides:e.totalSlides,visibleSlides:e.visibleSlides,isIntrinsicHeight:e.isIntrinsicHeight}})),OD=function(){function e(){Fj(this,e)}return Uj(e,[{key:"parents",value:function(e,t){return null===e.parentNode?t:this.parents(e.parentNode,t.concat([e]))}},{key:"scrollParent",value:function(t){for(var n=this.parents(t.parentNode,[]),r=0;r<n.length;r+=1)if(e.scroll(n[r]))return n[r];return document.scrollingElement||document.documentElement}},{key:"getScrollParent",value:function(t){return e.isNodeValid(t)?this.scrollParent(t):null}}],[{key:"style",value:function(e,t){return getComputedStyle(e,null).getPropertyValue(t)}},{key:"overflow",value:function(t){return e.style(t,"overflow")+e.style(t,"overflow-y")+e.style(t,"overflow-x")}},{key:"scroll",value:function(t){return/(auto|scroll)/.test(e.overflow(t))}},{key:"isNodeValid",value:function(e){return e instanceof HTMLElement||e instanceof SVGElement}}]),e}(),PD={horizontalSlider:"horizontalSlider___281Ls",horizontalSliderTray:"horizontalSliderTray___1L-0W",verticalSlider:"verticalSlider___34ZFD",verticalSliderTray:"verticalSliderTray___267D8",verticalTray:"verticalTray___12Key",verticalSlideTrayWrap:"verticalSlideTrayWrap___2nO7o",sliderTray:"sliderTray___-vHFQ",sliderAnimation:"sliderAnimation___300FY",masterSpinnerContainer:"masterSpinnerContainer___1Z6hB"},AD=["ariaLabel","carouselStore","children","className","classNameAnimation","classNameTray","classNameTrayWrap","currentSlide","disableAnimation","disableKeyboard","dragEnabled","hasMasterSpinner","interval","isPageScrollLocked","isPlaying","lockOnWindowScroll","masterSpinnerFinished","moveThreshold","naturalSlideHeight","naturalSlideWidth","onMasterSpinner","orientation","playDirection","privateUnDisableAnimation","slideSize","slideTraySize","spinner","style","tabIndex","totalSlides","touchEnabled","trayProps","trayTag","visibleSlides","isIntrinsicHeight"],zD=["dragStep","step","infinite","preventVerticalScrollOnTouch","preventingVerticalScroll","horizontalPixelThreshold","verticalPixelThreshold"],jD=["className","onClickCapture","onMouseDown","onTouchCancel","onTouchEnd","onTouchMove","onTouchStart","ref","style"],RD=(yD=function(e){function n(e){var t;return Fj(this,n),(t=r.call(this,e)).getSliderRef=t.getSliderRef.bind(Kj(t)),t.handleDocumentScroll=t.handleDocumentScroll.bind(Kj(t)),t.handleOnClickCapture=t.handleOnClickCapture.bind(Kj(t)),t.handleOnKeyDown=t.handleOnKeyDown.bind(Kj(t)),t.handleOnMouseDown=t.handleOnMouseDown.bind(Kj(t)),t.handleOnMouseMove=t.handleOnMouseMove.bind(Kj(t)),t.handleOnMouseUp=t.handleOnMouseUp.bind(Kj(t)),t.handleOnTouchCancel=t.handleOnTouchCancel.bind(Kj(t)),t.handleOnTouchEnd=t.handleOnTouchEnd.bind(Kj(t)),t.handleOnTouchMove=t.handleOnTouchMove.bind(Kj(t)),t.handleOnTouchStart=t.handleOnTouchStart.bind(Kj(t)),t.playBackward=t.playBackward.bind(Kj(t)),t.playForward=t.playForward.bind(Kj(t)),t.callCallback=t.callCallback.bind(Kj(t)),t.blockWindowScroll=t.blockWindowScroll.bind(Kj(t)),t.state={cancelNextClick:!1,deltaX:0,deltaY:0,isBeingMouseDragged:!1,isBeingTouchDragged:!1,preventingVerticalScroll:!1,startX:0,startY:0},t.interval=null,t.isDocumentScrolling=null,t.moveTimer=null,t.originalOverflow=null,t.scrollParent=null,t.scrollStopTimer=null,t}Wj(n,e);var r=$j(n);return Uj(n,[{key:"componentDidMount",value:function(){this.props.lockOnWindowScroll&&window.addEventListener("scroll",this.handleDocumentScroll,!1),(this.props.touchEnabled||this.props.preventVerticalScrollOnTouch)&&window.addEventListener("touchmove",this.blockWindowScroll,!1),document.documentElement.addEventListener("mouseleave",this.handleOnMouseUp,!1),document.documentElement.addEventListener("mousemove",this.handleOnMouseMove,!1),document.documentElement.addEventListener("mouseup",this.handleOnMouseUp,!1),this.props.isPlaying&&this.play()}},{key:"componentDidUpdate",value:function(e){!e.isPlaying&&this.props.isPlaying&&this.play(),e.isPlaying&&!this.props.isPlaying&&this.stop(),!e.isPageScrollLocked&&this.props.isPageScrollLocked&&this.lockScroll(),e.isPageScrollLocked&&!this.props.isPageScrollLocked&&this.unlockScroll(),!1===e.privateUnDisableAnimation&&!0===this.props.privateUnDisableAnimation&&this.props.carouselStore.setStoreState({privateUnDisableAnimation:!1,disableAnimation:!1})}},{key:"componentWillUnmount",value:function(){document.documentElement.removeEventListener("mouseleave",this.handleOnMouseUp,!1),document.documentElement.removeEventListener("mousemove",this.handleOnMouseMove,!1),document.documentElement.removeEventListener("mouseup",this.handleOnMouseUp,!1),window.removeEventListener("scroll",this.handleDocumentScroll,!1),window.removeEventListener("touchmove",this.blockWindowScroll,!1),this.stop(),window.cancelAnimationFrame.call(window,this.moveTimer),window.clearTimeout(this.scrollStopTimer),this.isDocumentScrolling=null,this.moveTimer=null,this.scrollStopTimer=null}},{key:"getSliderRef",value:function(e){this.sliderTrayElement=e}},{key:"fakeOnDragStart",value:function(e){var t=e.screenX,n=e.screenY,r=e.touchDrag,i=void 0!==r&&r,a=e.mouseDrag,o=void 0!==a&&a;this.props.carouselStore.setStoreState({isPlaying:!1}),window.cancelAnimationFrame.call(window,this.moveTimer),"vertical"===this.props.orientation&&this.props.carouselStore.setStoreState({isPageScrollLocked:!0}),this.setState({isBeingTouchDragged:i,isBeingMouseDragged:o,startX:t,startY:n})}},{key:"fakeOnDragMove",value:function(e,t){var n=this;this.moveTimer=window.requestAnimationFrame.call(window,(function(){n.setState((function(r){return{deltaX:e-r.startX,deltaY:t-r.startY,preventingVerticalScroll:Math.abs(t-r.startY)<=n.props.verticalPixelThreshold&&Math.abs(e-r.startX)>=n.props.horizontalPixelThreshold}}))}))}},{key:"fakeOnDragEnd",value:function(){window.cancelAnimationFrame.call(window,this.moveTimer),this.computeCurrentSlide(),"vertical"===this.props.orientation&&this.props.carouselStore.setStoreState({isPageScrollLocked:!1}),this.setState({deltaX:0,deltaY:0,isBeingTouchDragged:!1,isBeingMouseDragged:!1}),this.isDocumentScrolling=!this.props.lockOnWindowScroll&&null}},{key:"callCallback",value:function(e,t){var n=this.props.trayProps;n&&"function"==typeof n[e]&&(t.persist(),n[e](t))}},{key:"handleOnMouseDown",value:function(e){this.props.dragEnabled?(e.preventDefault(),this.fakeOnDragStart({screenX:e.screenX,screenY:e.screenY,mouseDrag:!0}),this.callCallback("onMouseDown",e)):this.callCallback("onMouseDown",e)}},{key:"handleOnMouseMove",value:function(e){this.state.isBeingMouseDragged&&(this.setState({cancelNextClick:!0}),e.preventDefault(),this.fakeOnDragMove(e.screenX,e.screenY))}},{key:"handleOnMouseUp",value:function(e){this.state.isBeingMouseDragged&&(e.preventDefault(),this.fakeOnDragEnd())}},{key:"handleOnClickCapture",value:function(e){this.state.cancelNextClick?(e.preventDefault(),this.setState({cancelNextClick:!1}),this.callCallback("onClickCapture",e)):this.callCallback("onClickCapture",e)}},{key:"handleOnTouchStart",value:function(e){if(this.props.touchEnabled){"vertical"===this.props.orientation&&e.preventDefault();var t=e.targetTouches[0];this.fakeOnDragStart({screenX:t.screenX,screenY:t.screenY,touchDrag:!0}),this.callCallback("onTouchStart",e)}else this.callCallback("onTouchStart",e)}},{key:"handleDocumentScroll",value:function(){var e=this;this.props.touchEnabled&&(this.isDocumentScrolling=!0,window.clearTimeout(this.scrollStopTimer),this.scrollStopTimer=window.setTimeout((function(){e.isDocumentScrolling=!1}),66))}},{key:"handleOnTouchMove",value:function(e){if(!this.props.touchEnabled||this.props.lockOnWindowScroll&&this.isDocumentScrolling)this.callCallback("onTouchMove",e);else{window.cancelAnimationFrame.call(window,this.moveTimer);var t=e.targetTouches[0];t&&(this.fakeOnDragMove(t.screenX,t.screenY),this.callCallback("onTouchMove",e))}}},{key:"forward",value:function(){var e=this.props,t=e.currentSlide,n=e.step,r=e.totalSlides,i=e.visibleSlides;return Math.min(t+n,r-i)}},{key:"backward",value:function(){var e=this.props,t=e.currentSlide,n=e.step;return Math.max(t-n,0)}},{key:"handleOnKeyDown",value:function(e){var t=e.keyCode,n=this.props,r=n.carouselStore,i=n.currentSlide,a=n.disableKeyboard,o=n.totalSlides,s=n.visibleSlides,l={};!0===a||o<=s||(37===t&&(e.preventDefault(),this.focus(),l.currentSlide=Math.max(0,i-1),l.isPlaying=!1),39===t&&(e.preventDefault(),this.focus(),l.currentSlide=Math.min(o-s,i+1),l.isPlaying=!1),r.setStoreState(l))}},{key:"playForward",value:function(){var e=this.props,t=e.carouselStore,n=e.currentSlide;t.setStoreState({currentSlide:this.forward()===n?0:this.forward()})}},{key:"playBackward",value:function(){var e=this.props,t=e.carouselStore,n=e.currentSlide,r=e.totalSlides,i=e.visibleSlides;t.setStoreState({currentSlide:this.backward()===n?r-i:this.backward()})}},{key:"play",value:function(){var e=this.props.playDirection;this.interval=setInterval("forward"===e?this.playForward:this.playBackward,this.props.interval)}},{key:"stop",value:function(){window.clearInterval(this.interval),this.interval=null}},{key:"lockScroll",value:function(){var e=new OD;this.scrollParent=e.getScrollParent(this.sliderTrayElement),this.scrollParent&&(this.originalOverflow=this.originalOverflow||this.scrollParent.style.overflow,this.scrollParent.style.overflow="hidden")}},{key:"unlockScroll",value:function(){this.scrollParent&&(this.scrollParent.style.overflow=this.originalOverflow,this.originalOverflow=null,this.scrollParent=null)}},{key:"blockWindowScroll",value:function(e){this.state.preventingVerticalScroll&&(e.preventDefault(),e.stopImmediatePropagation())}},{key:"computeCurrentSlide",value:function(){var e=n.slideSizeInPx(this.props.orientation,this.sliderTrayElement.clientWidth,this.sliderTrayElement.clientHeight,this.props.totalSlides),t=n.slidesMoved(this.props.moveThreshold,this.props.orientation,this.state.deltaX,this.state.deltaY,e,this.props.dragStep),r=this.props.totalSlides-Math.min(this.props.totalSlides,this.props.visibleSlides),i=bR({min:0,max:r,x:this.props.currentSlide+t});this.props.infinite&&(this.props.currentSlide>=r&&t>0&&(i=0),0===this.props.currentSlide&&t<0&&(i=r)),this.props.carouselStore.setStoreState({currentSlide:i})}},{key:"focus",value:function(){this.sliderElement.focus()}},{key:"handleOnTouchEnd",value:function(e){this.endTouchMove(),this.callCallback("onTouchEnd",e)}},{key:"handleOnTouchCancel",value:function(e){this.endTouchMove(),this.callCallback("onTouchCancel",e)}},{key:"endTouchMove",value:function(){this.props.touchEnabled&&this.fakeOnDragEnd()}},{key:"renderMasterSpinner",value:function(){var e=this.props,n=e.hasMasterSpinner,r=e.masterSpinnerFinished,i=e.spinner;return n&&!r?("function"==typeof this.props.onMasterSpinner&&this.props.onMasterSpinner(),t.createElement("div",{className:rR([PD.masterSpinnerContainer,"carousel__master-spinner-container"])},i&&i(),!i&&t.createElement(wD,null))):null}},{key:"render",value:function(){var e=this,n=this.props,r=n.ariaLabel,i=(n.carouselStore,n.children),a=n.className,o=n.classNameAnimation,s=n.classNameTray,l=n.classNameTrayWrap,c=n.currentSlide,u=n.disableAnimation,d=(n.disableKeyboard,n.dragEnabled,n.hasMasterSpinner,n.interval,n.isPageScrollLocked,n.isPlaying,n.lockOnWindowScroll,n.masterSpinnerFinished,n.moveThreshold,n.naturalSlideHeight),f=n.naturalSlideWidth,h=(n.onMasterSpinner,n.orientation),p=(n.playDirection,n.privateUnDisableAnimation,n.slideSize),m=n.slideTraySize,v=(n.spinner,n.style),g=n.tabIndex,y=(n.totalSlides,n.touchEnabled,n.trayProps),x=n.trayTag,b=n.visibleSlides,_=n.isIntrinsicHeight,w=Zj(n,AD),k=Gj({},v),S={};"vertical"===h&&(S.height=0,S.paddingBottom=oR(100*d*b/f),S.width=oR(100));var E={},C=oR(p*c*-1);(this.state.isBeingTouchDragged||this.state.isBeingMouseDragged||u)&&(E.transition="none"),_&&(E.display="flex",E.alignItems="stretch"),"vertical"===h?(E.transform="translateY(".concat(C,") translateY(").concat(this.state.deltaY,"px)"),E.width=oR(100),E.flexDirection="column"):(E.width=oR(m),E.transform="translateX(".concat(C,") translateX(").concat(this.state.deltaX,"px)"),E.flexDirection="row");var T=rR(["vertical"===h?PD.verticalSlider:PD.horizontalSlider,"carousel__slider","vertical"===h?"carousel__slider--vertical":"carousel__slider--horizontal",a]),M=rR([PD.sliderTrayWrap,"carousel__slider-tray-wrapper","vertical"===h?PD.verticalSlideTrayWrap:PD.horizontalTrayWrap,"vertical"===h?"carousel__slider-tray-wrap--vertical":"carousel__slider-tray-wrap--horizontal",l]),I=rR([PD.sliderTray,o||PD.sliderAnimation,"carousel__slider-tray","vertical"===h?PD.verticalTray:PD.horizontalTray,"vertical"===h?"carousel__slider-tray--vertical":"carousel__slider-tray--horizontal",s]),O=null!==g?g:0,P=(w.dragStep,w.step,w.infinite,w.preventVerticalScrollOnTouch,w.preventingVerticalScroll,w.horizontalPixelThreshold,w.verticalPixelThreshold,Zj(w,zD)),A=(y.className,y.onClickCapture,y.onMouseDown,y.onTouchCancel,y.onTouchEnd,y.onTouchMove,y.onTouchStart,y.ref,y.style,Zj(y,jD));return t.createElement("div",Gj({ref:function(t){e.sliderElement=t},className:T,"aria-live":"polite","aria-label":r,style:k,tabIndex:O,onKeyDown:this.handleOnKeyDown,role:"listbox"},P),t.createElement("div",{className:M,style:S},t.createElement(x,Gj({ref:this.getSliderRef,className:I,style:E,onTouchStart:this.handleOnTouchStart,onTouchMove:this.handleOnTouchMove,onTouchEnd:this.handleOnTouchEnd,onTouchCancel:this.handleOnTouchCancel,onMouseDown:this.handleOnMouseDown,onClickCapture:this.handleOnClickCapture},A),i),this.renderMasterSpinner()))}}],[{key:"slideSizeInPx",value:function(e,t,n,r){return("horizontal"===e?t:n)/r}},{key:"slidesMoved",value:function(e,t,n,r,i,a){var o="horizontal"===t?n:r,s=Math.abs(Math.round(o/i)),l=Math.abs(o)>=i*e?a:0,c=Math.max(l,s);if(o<0)return c;var u=-c;return 0===u?0:u}}]),n}(t.Component),Hj(yD,"propTypes",{ariaLabel:mR.string,carouselStore:mR.object.isRequired,children:mR.node.isRequired,className:mR.string,classNameAnimation:mR.string,classNameTray:mR.string,classNameTrayWrap:mR.string,currentSlide:mR.number.isRequired,disableAnimation:mR.bool,disableKeyboard:mR.bool,dragEnabled:mR.bool.isRequired,dragStep:mR.number,hasMasterSpinner:mR.bool.isRequired,infinite:mR.bool,interval:mR.number.isRequired,isPageScrollLocked:mR.bool.isRequired,isPlaying:mR.bool.isRequired,lockOnWindowScroll:mR.bool.isRequired,preventVerticalScrollOnTouch:mR.bool,horizontalPixelThreshold:mR.number,verticalPixelThreshold:mR.number,masterSpinnerFinished:mR.bool.isRequired,moveThreshold:mR.number,naturalSlideHeight:mR.number.isRequired,naturalSlideWidth:mR.number.isRequired,onMasterSpinner:mR.func,orientation:xR.orientation.isRequired,playDirection:xR.direction.isRequired,privateUnDisableAnimation:mR.bool,slideSize:mR.number.isRequired,slideTraySize:mR.number.isRequired,spinner:mR.func,step:mR.number.isRequired,style:mR.object,tabIndex:mR.number,totalSlides:mR.number.isRequired,touchEnabled:mR.bool.isRequired,trayProps:mR.shape({className:mR.string,onClickCapture:mR.func,onMouseDown:mR.func,onTouchCancel:mR.func,onTouchEnd:mR.func,onTouchMove:mR.func,onTouchStart:mR.func,ref:mR.shape({}),style:mR.string}),trayTag:mR.string,visibleSlides:mR.number,isIntrinsicHeight:mR.bool}),Hj(yD,"defaultProps",{ariaLabel:"slider",className:null,classNameAnimation:null,classNameTray:null,classNameTrayWrap:null,disableAnimation:!1,disableKeyboard:!1,dragStep:1,infinite:!1,preventVerticalScrollOnTouch:!0,horizontalPixelThreshold:15,verticalPixelThreshold:10,moveThreshold:.1,onMasterSpinner:null,privateUnDisableAnimation:!1,spinner:null,style:{},tabIndex:null,trayProps:{},trayTag:"div",visibleSlides:1,isIntrinsicHeight:!1}),yD),DD=pR(RD,(function(e){return{currentSlide:e.currentSlide,disableAnimation:e.disableAnimation,privateUnDisableAnimation:e.privateUnDisableAnimation,disableKeyboard:e.disableKeyboard,dragEnabled:e.dragEnabled,hasMasterSpinner:e.hasMasterSpinner,infinite:e.infinite,interval:e.interval,isPageScrollLocked:e.isPageScrollLocked,isPlaying:e.isPlaying,lockOnWindowScroll:e.lockOnWindowScroll,preventingVerticalScroll:e.preventingVerticalScroll,masterSpinnerFinished:e.masterSpinnerFinished,naturalSlideHeight:e.naturalSlideHeight,naturalSlideWidth:e.naturalSlideWidth,orientation:e.orientation,playDirection:e.playDirection,slideSize:e.slideSize,slideTraySize:e.slideTraySize,step:e.step,dragStep:e.dragStep,totalSlides:e.totalSlides,touchEnabled:e.touchEnabled,visibleSlides:e.visibleSlides,isIntrinsicHeight:e.isIntrinsicHeight}})),LD=function(e){var n=e.title,r=e.list,i=e.handleLike,a=e.handleUnlike,o=k((0,t.useContext)(jo),1)[0],s=be();return(0,zo.jsxs)("div",{className:"",children:[(0,zo.jsx)(bP,{orientation:"left",children:(0,zo.jsx)("h4",{style:{marginBottom:"-10px",fontWeight:"bold"},className:"text-5xl mb-5 text-blue-400",children:n})}),(0,zo.jsxs)("div",{className:"flex items-center justify-center w-full h-full py-24 sm:py-8 px-4",children:[(0,zo.jsx)(DR,{className:"lg:block hidden",naturalSlideWidth:100,isIntrinsicHeight:!0,totalSlides:12,visibleSlides:4,step:1,infinite:!0,children:(0,zo.jsxs)("div",{className:"w-full relative flex items-center justify-center",children:[(0,zo.jsx)(HR,{role:"button","aria-label":"slide backward",className:"absolute z-30 left-0 ml-8 focus:outline-none focus:bg-gray-400 focus:ring-2 focus:ring-offset-2 focus:ring-gray-400 cursor-pointer",id:"prev",children:(0,zo.jsx)("svg",{width:8,height:14,viewBox:"0 0 8 14",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,zo.jsx)("path",{d:"M7 1L1 7L7 13",stroke:"white",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})})}),(0,zo.jsx)("div",{className:"w-full h-full mx-auto overflow-x-hidden overflow-y-hidden",children:(0,zo.jsx)(DD,{children:(0,zo.jsx)("div",{id:"slider",className:"h-full flex lg:gap-8 md:gap-6 gap-14 items-center justify-start transition ease-out duration-700",children:null===r||void 0===r?void 0:r.map((function(e,t){var n;return(0,zo.jsx)(ID,{index:t,onClick:function(){return s("/service-detail/".concat(e._id))},children:(0,zo.jsxs)("div",{className:"flex flex-shrink-0 relative w-full sm:w-auto cursor-pointer",children:[(0,zo.jsx)("img",{src:null===(n=e.featuredImages[0])||void 0===n?void 0:n.url,alt:"black chair and white table",className:"object-cover object-center w-full"}),(0,zo.jsxs)("div",{className:"bg-gray-800 bg-opacity-30 absolute w-full h-full p-6",children:[(0,zo.jsxs)("h2",{className:"lg:text-xl inline-flex items-center gap-2 leading-4 text-base lg:leading-5 text-white",children:[e.content.substring(0,10),"... ",(0,zo.jsx)(tp,{})]}),(0,zo.jsx)("div",{className:"flex h-full items-end pb-6",children:(0,zo.jsxs)("h3",{className:"text-xl inline-flex items-center gap-2  lg:text-2xl font-semibold leading-5 lg:leading-6 text-white",children:[e.title,o.user&&e.likes&&e.likes.includes(o.user._id)?(0,zo.jsx)(kp,{size:15,onClick:function(){return a(e._id)}}):(0,zo.jsx)(Sp,{size:15,onClick:function(){return i(e._id)}})]})})]})]})})}))})})}),(0,zo.jsx)(YR,{role:"button","aria-label":"slide forward",className:"absolute z-30 right-0 mr-8 focus:outline-none focus:bg-gray-400 focus:ring-2 focus:ring-offset-2 focus:ring-gray-400",id:"next",children:(0,zo.jsx)("svg",{width:8,height:14,viewBox:"0 0 8 14",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,zo.jsx)("path",{d:"M1 1L7 7L1 13",stroke:"white",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})})})]})}),(0,zo.jsx)(DR,{className:"lg:hidden md:block hidden",naturalSlideWidth:100,isIntrinsicHeight:!0,totalSlides:12,visibleSlides:2,step:1,infinite:!0,children:(0,zo.jsxs)("div",{className:"w-full relative flex items-center justify-center",children:[(0,zo.jsx)(HR,{role:"button","aria-label":"slide backward",className:"absolute z-30 left-0 ml-8 focus:outline-none focus:bg-gray-400 focus:ring-2 focus:ring-offset-2 focus:ring-gray-400 cursor-pointer",id:"prev",children:(0,zo.jsx)("svg",{width:8,height:14,viewBox:"0 0 8 14",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,zo.jsx)("path",{d:"M7 1L1 7L7 13",stroke:"white",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})})}),(0,zo.jsx)("div",{className:"w-full h-full mx-auto overflow-x-hidden overflow-y-hidden",children:(0,zo.jsx)(DD,{children:(0,zo.jsx)("div",{id:"slider",className:"h-full flex lg:gap-8 md:gap-6 gap-14 items-center justify-start transition ease-out duration-700",children:null===r||void 0===r?void 0:r.map((function(e,t){var n;return(0,zo.jsx)(ID,{index:t,onClick:function(){return s("/service-detail/".concat(e._id))},children:(0,zo.jsxs)("div",{className:"flex flex-shrink-0 relative w-full sm:w-auto cursor-pointer",children:[(0,zo.jsx)("img",{src:null===(n=e.featuredImages[0])||void 0===n?void 0:n.url,alt:"black chair and white table",className:"object-cover object-center w-full"}),(0,zo.jsxs)("div",{className:"bg-gray-800 bg-opacity-30 absolute w-full h-full p-6",children:[(0,zo.jsxs)("h2",{className:"lg:text-xl inline-flex items-center gap-2 leading-4 text-base lg:leading-5 text-white",children:[e.content.substring(0,10),"... ",(0,zo.jsx)(tp,{})]}),(0,zo.jsx)("div",{className:"flex h-full items-end pb-6",children:(0,zo.jsxs)("h3",{className:"text-xl inline-flex items-center gap-2  lg:text-2xl font-semibold leading-5 lg:leading-6 text-white",children:[e.title,o.user&&e.likes&&e.likes.includes(o.user._id)?(0,zo.jsx)(kp,{size:15,onClick:function(){return a(e._id)}}):(0,zo.jsx)(Sp,{size:15,onClick:function(){return i(e._id)}})]})})]})]})})}))})})}),(0,zo.jsx)(YR,{role:"button","aria-label":"slide forward",className:"absolute z-30 right-0 mr-8 focus:outline-none focus:bg-gray-400 focus:ring-2 focus:ring-offset-2 focus:ring-gray-400",id:"next",children:(0,zo.jsx)("svg",{width:8,height:14,viewBox:"0 0 8 14",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,zo.jsx)("path",{d:"M1 1L7 7L1 13",stroke:"white",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})})})]})}),(0,zo.jsx)(DR,{className:"block md:hidden ",naturalSlideWidth:100,isIntrinsicHeight:!0,totalSlides:12,visibleSlides:1,step:1,infinite:!0,children:(0,zo.jsxs)("div",{className:"w-full relative flex items-center justify-center",children:[(0,zo.jsx)(HR,{role:"button","aria-label":"slide backward",className:"absolute z-30 left-0 ml-8 focus:outline-none focus:bg-gray-400 focus:ring-2 focus:ring-offset-2 focus:ring-gray-400 cursor-pointer",id:"prev",children:(0,zo.jsx)("svg",{width:8,height:14,viewBox:"0 0 8 14",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,zo.jsx)("path",{d:"M7 1L1 7L7 13",stroke:"white",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})})}),(0,zo.jsx)("div",{className:"w-full h-full mx-auto overflow-x-hidden overflow-y-hidden",children:(0,zo.jsx)(DD,{children:(0,zo.jsx)("div",{id:"slider",className:"h-full w-full flex lg:gap-8 md:gap-6 items-center justify-start transition ease-out duration-700",children:null===r||void 0===r?void 0:r.map((function(e,t){var n;return(0,zo.jsx)(ID,{index:t,onClick:function(){return s("/service-detail/".concat(e._id))},children:(0,zo.jsxs)("div",{className:"flex flex-shrink-0 relative w-full sm:w-auto cursor-pointer",children:[(0,zo.jsx)("img",{src:null===(n=e.featuredImages[0])||void 0===n?void 0:n.url,alt:"black chair and white table",className:"object-cover object-center w-full"}),(0,zo.jsxs)("div",{className:"bg-gray-800 bg-opacity-30 absolute w-full h-full p-6",children:[(0,zo.jsxs)("h2",{className:"lg:text-xl inline-flex items-center gap-2 leading-4 text-base lg:leading-5 text-white",children:[e.content.substring(0,10),"... ",(0,zo.jsx)(tp,{})]}),(0,zo.jsx)("div",{className:"flex h-full items-end pb-6",children:(0,zo.jsxs)("h3",{className:"text-xl inline-flex items-center gap-2  lg:text-2xl font-semibold leading-5 lg:leading-6 text-white",children:[e.title,o.user&&e.likes&&e.likes.includes(o.user._id)?(0,zo.jsx)(kp,{size:15,onClick:function(){return a(e._id)}}):(0,zo.jsx)(Sp,{size:15,onClick:function(){return i(e._id)}})]})})]})]})})}))})})}),(0,zo.jsx)(YR,{role:"button","aria-label":"slide forward",className:"absolute z-30 right-0 mr-8 focus:outline-none focus:bg-gray-400 focus:ring-2 focus:ring-offset-2 focus:ring-gray-400",id:"next",children:(0,zo.jsx)("svg",{width:8,height:14,viewBox:"0 0 8 14",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,zo.jsx)("path",{d:"M1 1L7 7L1 13",stroke:"white",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})})})]})})]})]})},ND=function(e){var n=e.title,r=e.list,i=e.handleLike,a=e.handleUnlike,o=k((0,t.useContext)(jo),1)[0],s=be();return(0,zo.jsxs)("div",{className:"mb-5 pt-5 bg-gray-50",children:[(0,zo.jsx)(bP,{orientation:"left",children:(0,zo.jsx)("h4",{style:{marginBottom:"-10px",fontWeight:"bold"},className:"text-5xl mb-5 text-blue-400",children:n})}),(0,zo.jsx)(Aj,{slidesPerView:3,spaceBetween:30,pagination:!0,className:"mySwiper swiper-services",children:null===r||void 0===r?void 0:r.map((function(e,t){var n;return(0,zo.jsx)(Rj,{className:"swiper-slide-services",onClick:function(){return s("/service-detail/".concat(e._id))},children:(0,zo.jsx)("section",{className:"text-gray-600 body-font",children:(0,zo.jsxs)("div",{className:"container mx-auto flex px-5 py-24 md:flex-row flex-col items-center",children:[(0,zo.jsx)("div",{className:"lg:max-w-lg lg:w-full md:w-1/2 w-5/6 mb-10 md:mb-0",children:(0,zo.jsx)(vT,{preview:!1,className:"object-cover object-center rounded",alt:"hero",src:null===(n=e.featuredImages[0])||void 0===n?void 0:n.url})}),(0,zo.jsxs)("div",{className:"lg:flex-grow md:w-1/2 lg:pl-24 md:pl-16 flex flex-col md:items-start md:text-left items-center text-center",children:[(0,zo.jsx)("h1",{className:"title-font sm:text-2xl text-2xl mb-4 font-bold text-gray-900",children:e.title}),(0,zo.jsxs)("p",{className:"mb-8 ",children:[e.content.substring(0,80),"..."]}),(0,zo.jsxs)("div",{className:"flex justify-center items-center",children:[(0,zo.jsx)("button",{className:"inline-flex text-center text-blue-500 hover:text-blue-600  border-0 py-2 px-6 rounded text-lg",children:o.user&&e.likes&&e.likes.includes(o.user._id)?(0,zo.jsx)(kp,{onClick:function(){return a(e._id)}}):(0,zo.jsx)(Sp,{onClick:function(){return i(e._id)}})}),(0,zo.jsxs)(Mh,{to:"/service-detail/".concat(e._id),style:{display:"flex",flexDirection:"row",alignItems:"center",gap:"2px"},className:"ml-4text-center  text-gray-700 text-gray-500 hover:text-gray-600 border-0 py-2 px-6  rounded text-lg",children:[(0,zo.jsx)(tp,{})," Detail"]})]})]})]})})},t)}))})]})},BD=n(5483),FD=n.n(BD);FD().accessToken="pk.eyJ1IjoiaGFkaXJhemEiLCJhIjoiY2xkbHo5cHZnMDRjZjNxbGgxNXE5bWU5OCJ9.tAiRG76vqyb7E82f5YkwkA";var VD=function(e){var n=e.cords,r=(e.setCords,k((0,t.useState)(),2)),i=(r[0],r[1]);(0,t.useEffect)((function(){var e=new(FD().Map)({container:"map",style:"mapbox://styles/drakosi/ckvcwq3rwdw4314o3i2ho8tph",center:n,zoom:0});n&&a(e),console.log(n,"from map"),n&&e.fitBounds([n,n],{padding:60})}),[n]);var a=function(e){var t=new(FD().Marker)({draggable:!0}).setLngLat(n).addTo(e);t.on("dragend",(function(){var e=t.getLngLat();i([e.lat,e.lng])}))};return(0,zo.jsx)(zo.Fragment,{children:(0,zo.jsx)("div",{id:"map",style:{height:"50vh",width:"100%"},onClick:function(e){return console.log(e)}})})},UD=function(){var e=k((0,t.useState)(),2),n=e[0],r=e[1],i=k((0,t.useState)("Karachi"),2),a=i[0];i[1];(0,t.useEffect)((function(){fetch("https://api.mapbox.com/geocoding/v5/mapbox.places/".concat(a,".json?")+new URLSearchParams({access_token:"pk.eyJ1IjoiaGFkaXJhemEiLCJhIjoiY2xkbHo5cHZnMDRjZjNxbGgxNXE5bWU5OCJ9.tAiRG76vqyb7E82f5YkwkA",limit:1})).then((function(e){return e.json()})).then((function(e){r(e.features[0].center)}))}),[a]);return(0,zo.jsx)(zo.Fragment,{children:(0,zo.jsx)(VD,{cords:n,setCords:r})})},HD=function(){var e=k((0,t.useContext)(gE),2),n=e[0],r=e[1],i=n.service;(0,t.useEffect)((function(){a()}),[]);var a=function(){var e=Be(Le().mark((function e(){var t,n;return Le().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Po.get("/services");case 3:t=e.sent,n=t.data,r((function(e){return Xe(Xe({},e),{},{service:n})})),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),o=null===i||void 0===i?void 0:i.filter((function(e){return"projects"==e.category.toLowerCase()})),s=null===i||void 0===i?void 0:i.filter((function(e){return"flats"==e.category.toLowerCase()})),l=null===i||void 0===i?void 0:i.filter((function(e){return"houses"==e.category.toLowerCase()})),c=function(){var e=Be(Le().mark((function e(t){var n;return Le().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Po.put("/like",{_id:t});case 3:n=e.sent,n.data,a(),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),u=function(){var e=Be(Le().mark((function e(t){var n;return Le().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Po.put("/unlike",{_id:t});case 3:n=e.sent,n.data,a(),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}();return(0,zo.jsxs)("div",{className:"",children:[(0,zo.jsx)(UD,{}),(0,zo.jsx)(lz,{}),(0,zo.jsx)(LD,{title:"Flats",list:s,handleLike:c,handleUnlike:u}),(0,zo.jsx)(LD,{title:"Houses",list:l,handleLike:c,handleUnlike:u}),(0,zo.jsx)(ND,{title:"Projects",list:o,handleLike:c,handleUnlike:u}),(0,zo.jsx)(Lj,{})]})},GD=function(e){var n,r=e.service,i=e.handleLike,a=e.handleUnlike,o=k((0,t.useContext)(jo),1)[0];return(0,zo.jsx)(iz,{hoverable:!0,children:(0,zo.jsxs)("div",{className:" mx-auto flex px-5 py-5 md:flex-row flex-col items-center",children:[(0,zo.jsx)("div",{className:"lg:max-w-lg lg:w-full md:w-1/2 w-5/6 mb-10 md:mb-0",children:(0,zo.jsx)("img",{className:"object-cover object-center",style:{width:"100%",height:"500px"},alt:"hero",src:null===(n=r.featuredImages[0])||void 0===n?void 0:n.url})}),(0,zo.jsxs)("div",{className:"lg:flex-grow md:w-1/2 lg:pl-24 md:pl-16 flex flex-col md:items-start md:text-left items-center text-center",children:[(0,zo.jsx)("h1",{style:{overflow:"hidden"},className:"title-font sm:text-xl text-xl mb-4 text-blue-600 font-bold",children:r.title}),(0,zo.jsx)("br",{}),(0,zo.jsx)("p",{className:"mb-8 leading-relaxed",children:"Copper mug try-hard pitchfork pour-over freegan heirloom neutra air plant cold-pressed tacos poke beard tote bag. Heirloom echo park mlkshk tote bag selvage hot chicken authentic tumeric truffaut hexagon try-hard chambray."}),(0,zo.jsxs)("p",{style:{fontWeight:"bold",display:"flex",flexDirection:"row",alignItems:"center",gap:"2px"},children:[" ",(0,zo.jsx)(gp,{className:"text-blue-500"})," ",r.city,","," ",r.area]}),(0,zo.jsxs)("p",{style:{fontWeight:"bold",display:"flex",flexDirection:"row",alignItems:"center",gap:"2px"},children:[" ",(0,zo.jsx)(ep,{})," ",r.category]}),(0,zo.jsx)("br",{}),(0,zo.jsxs)("div",{className:"flex justify-center items-center",children:[(0,zo.jsx)("button",{className:"inline-flex text-center text-blue-500 hover:text-blue-600  border-0 py-2 px-6 rounded text-lg",children:o.user&&r.likes&&r.likes.includes(o.user._id)?(0,zo.jsx)(kp,{onClick:function(){return a(r._id)}}):(0,zo.jsx)(Sp,{onClick:function(){return i(r._id)}})}),(0,zo.jsxs)(Mh,{to:"/service-detail/".concat(r._id),style:{display:"flex",flexDirection:"row",alignItems:"center",gap:"2px"},className:"ml-4text-center  text-gray-700 text-gray-500 hover:text-gray-600 border-0 py-2 px-6  rounded text-lg",children:[(0,zo.jsx)(tp,{})," Detail"]})]})]})]})})},WD=[{_id:0,name:"Any",array:[]},{_id:1,name:"$0 to $10K",array:[0,1e4]},{_id:2,name:"$10K to $30K",array:[1e4,3e4]},{_id:3,name:"$30K to $60K",array:[3e4,6e4]},{_id:4,name:"More than $60K",array:[6e4,2e9]}],qD=[{_id:1,name:"Karachi"},{_id:2,name:"Lahore"},{_id:3,name:"Peshawar"},{_id:4,name:"Quetta"},{_id:5,name:"Hyderabad"},{_id:6,name:"Rawalpindi"},{_id:7,name:"Islamabad"}],XD=function(e){var n=k((0,t.useState)([]),2),r=n[0],i=n[1];return e.list&&e.list.map((function(n,a){return(0,zo.jsx)(t.Fragment,{children:(0,zo.jsx)(em,{span:8,children:(0,zo.jsx)(aP,{className:"text-blue-800 font-bold",onChange:function(){return function(t){console.log("from cityes",t);var n=r.indexOf(t),a=l(r);-1===n?a.push(t):a.splice(n,1),i(a),e.handleFilters(a)}(n.name)},type:"checkbox",checked:-1!==r.indexOf(n.name),children:n.name})})},a)}))},ZD=function(e){var n=k((0,t.useState)([]),2),r=n[0],i=n[1];return e.list&&e.list.map((function(n,a){return(0,zo.jsx)(t.Fragment,{children:(0,zo.jsx)(em,{span:8,children:(0,zo.jsx)(aP,{className:"text-blue-800 font-bold",onChange:function(){return function(t){console.log("from cityes",t);var n=r.indexOf(t),a=l(r);-1===n?a.push(t):a.splice(n,1),i(a),e.handleFilters(a)}(n.name)},type:"checkbox",checked:-1!==r.indexOf(n.name),children:n.name})})},a)}))},KD=function(){var e=k((0,t.useState)([]),2),n=e[0],r=e[1],i=k((0,t.useState)(0),2),a=i[0],o=i[1],s=k((0,t.useState)(8),2),c=s[0],u=(s[1],k((0,t.useState)(),2)),d=(u[0],u[1]),f=k((0,t.useState)(""),2),h=(f[0],f[1],k((0,t.useState)([]),2)),p=h[0],m=h[1],v=k((0,t.useState)([]),2),g=(v[0],v[1],k((0,t.useState)({city:[],price:[],apartment:[],category:[]}),2)),y=g[0],x=g[1];(0,t.useEffect)((function(){b({skip:a,limit:c})}),[]);var b=function(e){Po.post("/filtered/services",e).then((function(t){t.data.success?(e.loadMore?r([].concat(l(n),l(t.data.properties))):r(t.data.properties),d(t.data.postSize)):alert("Failed to fectch property data...")}))};(0,t.useEffect)((function(){_()}),[]);var _=function(){var e=Be(Le().mark((function e(){var t,n;return Le().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Po.get("/categories");case 3:t=e.sent,n=t.data,m(n),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),w=function(e,t){var n=Xe({},y);if(n[t]=e,"price"===t){var r=function(e){var t=WD,n=[];for(var r in t)t[r]._id===parseInt(e,10)&&(n=t[r].array);return console.log("array",n),n}(e);n[t]=r}console.log(n),function(e){b({skip:0,limit:c,filters:e}),o(0)}(n),x(n)},S=function(){var e=Be(Le().mark((function e(t){var n;return Le().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Po.put("/like",{_id:t});case 3:n=e.sent,n.data,b(),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),E=function(){var e=Be(Le().mark((function e(t){var n;return Le().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Po.put("/unlike",{_id:t});case 3:n=e.sent,n.data,b(),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}();return(0,zo.jsx)(zo.Fragment,{children:(0,zo.jsxs)(Kp,{className:"p-3 bg-gray-100",children:[(0,zo.jsxs)(em,{md:7,children:[(0,zo.jsx)(iz,{hoverable:!0,children:(0,zo.jsxs)(Kp,{children:[(0,zo.jsx)(bP,{orientation:"left",children:(0,zo.jsx)("h1",{className:"title-font text-xl mb-4 text-blue-600 font-bold",children:"Cities"})}),(0,zo.jsx)(XD,{list:qD,handleFilters:function(e){return w(e,"city")}})]})}),(0,zo.jsx)(iz,{hoverable:!0,className:"my-2",children:(0,zo.jsxs)(Kp,{children:[(0,zo.jsx)(bP,{orientation:"left",children:(0,zo.jsx)("h1",{className:"title-font text-xl mb-4 text-blue-600 font-bold",children:"Categories"})}),(0,zo.jsx)(ZD,{list:p,handleFilters:function(e){return w(e,"category")}})]})})]}),(0,zo.jsx)(em,{md:1,className:""}),(0,zo.jsx)(em,{md:16,className:"",children:null===n||void 0===n?void 0:n.map((function(e){return(0,zo.jsxs)(zo.Fragment,{children:[(0,zo.jsx)(GD,{service:e,handleLike:S,handleUnlike:E},e._id),(0,zo.jsx)("div",{className:"py-2"})]})}))})]})})},YD=function(){var e,n,r,i,a=_e().DetailedID,o=k((0,t.useState)({}),2),s=o[0],l=o[1],c=k((0,t.useState)(!1),2),u=c[0],d=c[1],f=function(){var e=Be(Le().mark((function e(){var t,n;return Le().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,d(!0),e.next=4,Po.get("/service/".concat(a));case 4:t=e.sent,n=t.data,l(n),d(!1),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),d(!1),h_.error("Failed, try again.");case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}();be();return(0,t.useEffect)((function(){f()}),[]),(0,zo.jsx)("section",{children:(0,zo.jsxs)("div",{className:"relative max-w-screen-xl px-4 py-8 mx-auto",children:[u&&(0,zo.jsx)("p",{children:"loading..."}),(0,zo.jsxs)("div",{className:"grid items-start grid-cols-1 gap-8 md:grid-cols-2",children:[(0,zo.jsxs)("div",{className:"grid grid-cols-2 gap-4 md:grid-cols-1",children:[s.featuredImages&&(0,zo.jsx)(vT,{alt:"Les Paul",src:s.featuredImages[0].url,className:"object-cover w-full aspect-square rounded-xl"}),(0,zo.jsx)("div",{className:"grid grid-cols-2 gap-4 lg:mt-4",children:s.featuredImages&&s.featuredImages.length>1&&s.featuredImages.map((function(e){return(0,zo.jsx)(vT,{alt:"Les Paul",src:e.url,className:"object-cover w-full aspect-square rounded-xl"},e.url)}))})]}),(0,zo.jsxs)("div",{className:"sticky top-0",children:[(0,zo.jsxs)("div",{className:"flex justify-between mt-8",children:[(0,zo.jsx)("div",{className:"max-w-[35ch]",children:(0,zo.jsx)("h1",{className:"text-2xl font-bold",children:s.title})}),(0,zo.jsx)("p",{className:"text-sm",children:s.category})]}),(0,zo.jsx)("details",{className:"group relative mt-4 [&_summary::-webkit-details-marker]:hidden",children:(0,zo.jsx)("summary",{className:"block",children:(0,zo.jsx)("div",{children:(0,zo.jsx)("div",{className:"prose max-w-none group-open:hidden",children:(0,zo.jsx)("p",{children:s.content})})})})}),(0,zo.jsx)(bP,{}),(0,zo.jsxs)("form",{className:"mt-8",children:[(0,zo.jsxs)("fieldset",{children:[(0,zo.jsx)("legend",{className:"mb-1 text-sm font-bold text-blue-600",children:"Location"}),(0,zo.jsx)("div",{className:"flow-root",children:(0,zo.jsxs)("div",{className:"-m-0.5 flex flex-wrap",children:[(0,zo.jsx)("label",{for:"color_tt",className:"cursor-pointer p-0.5",children:(0,zo.jsx)("span",{className:"inline-block px-3 py-1 text-xs font-medium border rounded-full group peer-checked:bg-black peer-checked:text-white",children:s.city})}),(0,zo.jsx)("label",{for:"color_fr",className:"cursor-pointer p-0.5",children:(0,zo.jsx)("span",{className:"inline-block px-3 py-1 text-xs font-medium border rounded-full group peer-checked:bg-black peer-checked:text-white",children:s.area})}),(0,zo.jsx)("label",{for:"color_cb",className:"cursor-pointer p-0.5",children:(0,zo.jsx)("span",{className:"inline-block px-3 py-1 text-xs font-medium border rounded-full group peer-checked:bg-black peer-checked:text-white",children:s.fullAddress})})]})})]}),(0,zo.jsx)(bP,{}),(0,zo.jsxs)("fieldset",{className:"mt-4",children:[(0,zo.jsx)("legend",{className:"mb-1 text-2xl font-bold text-blue-600",children:null===(e=s.postedBy)||void 0===e?void 0:e.name}),(0,zo.jsx)("div",{className:"flow-root",children:(0,zo.jsx)("div",{className:"-m-0.5 flex flex-wrap",children:(0,zo.jsx)("label",{for:"size_xs",className:"cursor-pointer p-0.5",children:(0,zo.jsxs)("p",{children:[" ",null===(n=s.postedBy)||void 0===n?void 0:n.about]})})})})]}),(0,zo.jsxs)("div",{className:"flex mt-8",children:[(0,zo.jsxs)("button",{type:"submit",className:"block px-5 py-3 ml-3 inline-flex items-center gap-2  font-medium text-blue-600  hover:text-blue-500",children:[(0,zo.jsx)(lp,{size:25})," 03XX-XXXXXX"]}),(0,zo.jsx)("button",{type:"submit",className:"block px-5 py-3 ml-3  font-medium text-blue-600  hover:text-blue-500",children:(0,zo.jsxs)("a",{href:"mailto:".concat(null===(r=s.postedBy)||void 0===r?void 0:r.email),className:"inline-flex items-center gap-2",target:"_blank",children:[(0,zo.jsx)(rp,{size:25})," ",null===(i=s.postedBy)||void 0===i?void 0:i.email]})})]})]})]})]})]})})};var $D=function(e){m(r,e);var n=b(r);function r(){var e;return c(this,r),(e=n.apply(this,arguments)).state={error:void 0,info:{componentStack:""}},e}return h(r,[{key:"componentDidCatch",value:function(e,t){this.setState({error:e,info:t})}},{key:"render",value:function(){var e=this.props,n=e.message,r=e.description,i=e.children,a=this.state,o=a.error,s=a.info,l=s&&s.componentStack?s.componentStack:null,c="undefined"===typeof n?(o||"").toString():n,u="undefined"===typeof r?l:r;return o?t.createElement(uL,{type:"error",message:c,description:t.createElement("pre",{style:{fontSize:"0.9em",overflowX:"auto"}},u)}):i}}]),r}(t.Component),JD=$D,QD=function(e,t,n,r,i){return Fe({backgroundColor:e,border:"".concat(r.lineWidth,"px ").concat(r.lineType," ").concat(t)},"".concat(i,"-icon"),{color:n})},eL=function(e){var t,n,r,i=e.componentCls,a=e.motionDurationSlow,o=e.marginXS,s=e.marginSM,l=e.fontSize,c=e.fontSizeLG,u=e.lineHeight,d=e.borderRadiusLG,f=e.motionEaseInOutCirc,h=e.alertIconSizeLG,p=e.colorText,m=e.paddingContentVerticalSM,v=e.alertPaddingHorizontal,g=e.paddingMD,y=e.paddingContentHorizontalLG;return Fe(r={},i,Object.assign(Object.assign({},Hn(e)),(Fe(t={position:"relative",display:"flex",alignItems:"center",padding:"".concat(m,"px ").concat(v,"px"),wordWrap:"break-word",borderRadius:d},"&".concat(i,"-rtl"),{direction:"rtl"}),Fe(t,"".concat(i,"-content"),{flex:1,minWidth:0}),Fe(t,"".concat(i,"-icon"),{marginInlineEnd:o,lineHeight:0}),Fe(t,"&-description",{display:"none",fontSize:l,lineHeight:u}),Fe(t,"&-message",{color:p}),Fe(t,"&".concat(i,"-motion-leave"),{overflow:"hidden",opacity:1,transition:"max-height ".concat(a," ").concat(f,", opacity ").concat(a," ").concat(f,",\n        padding-top ").concat(a," ").concat(f,", padding-bottom ").concat(a," ").concat(f,",\n        margin-bottom ").concat(a," ").concat(f)}),Fe(t,"&".concat(i,"-motion-leave-active"),{maxHeight:0,marginBottom:"0 !important",paddingTop:0,paddingBottom:0,opacity:0}),t))),Fe(r,"".concat(i,"-with-description"),(Fe(n={alignItems:"flex-start",paddingInline:y,paddingBlock:g},"".concat(i,"-icon"),{marginInlineEnd:s,fontSize:h,lineHeight:0}),Fe(n,"".concat(i,"-message"),{display:"block",marginBottom:o,color:p,fontSize:c}),Fe(n,"".concat(i,"-description"),{display:"block"}),n)),Fe(r,"".concat(i,"-banner"),{marginBottom:0,border:"0 !important",borderRadius:0}),r},tL=function(e){var t=e.componentCls,n=e.colorSuccess,r=e.colorSuccessBorder,i=e.colorSuccessBg,a=e.colorWarning,o=e.colorWarningBorder,s=e.colorWarningBg,l=e.colorError,c=e.colorErrorBorder,u=e.colorErrorBg,d=e.colorInfo,f=e.colorInfoBorder,h=e.colorInfoBg;return Fe({},t,{"&-success":QD(i,r,n,e,t),"&-info":QD(h,f,d,e,t),"&-warning":QD(s,o,a,e,t),"&-error":Object.assign(Object.assign({},QD(u,c,l,e,t)),Fe({},"".concat(t,"-description > pre"),{margin:0,padding:0}))})},nL=function(e){var t,n=e.componentCls,r=e.iconCls,i=e.motionDurationMid,a=e.marginXS,o=e.fontSizeIcon,s=e.colorIcon,l=e.colorIconHover;return Fe({},n,(Fe(t={},"&-action",{marginInlineStart:a}),Fe(t,"".concat(n,"-close-icon"),Fe({marginInlineStart:a,padding:0,overflow:"hidden",fontSize:o,lineHeight:"".concat(o,"px"),backgroundColor:"transparent",border:"none",outline:"none",cursor:"pointer"},"".concat(r,"-close"),{color:s,transition:"color ".concat(i),"&:hover":{color:l}})),Fe(t,"&-close-text",{color:s,transition:"color ".concat(i),"&:hover":{color:l}}),t))},rL=function(e){return[eL(e),tL(e),nL(e)]},iL=Xr("Alert",(function(e){var t=Gr(e,{alertIconSizeLG:e.fontSizeHeading3,alertPaddingHorizontal:12});return[rL(t)]})),aL=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},oL={success:gg,info:_E,error:bg,warning:kg},sL=function(e){var n=e.icon,r=e.prefixCls,i=e.type,a=oL[i]||null;return n?$d(n,t.createElement("span",{className:"".concat(r,"-icon")},n),(function(){return{className:Ue()("".concat(r,"-icon"),Fe({},n.props.className,n.props.className))}})):t.createElement(a,{className:"".concat(r,"-icon")})},lL=function(e){var n=e.isClosable,r=e.closeText,i=e.prefixCls,a=e.closeIcon,o=e.handleClose;return n?t.createElement("button",{type:"button",onClick:o,className:"".concat(i,"-close-icon"),tabIndex:0},r?t.createElement("span",{className:"".concat(i,"-close-text")},r):a):null},cL=function(e){var n,r=e.description,i=e.prefixCls,a=e.message,o=e.banner,s=e.className,l=void 0===s?"":s,c=e.style,u=e.onMouseEnter,d=e.onMouseLeave,f=e.onClick,h=e.afterClose,p=e.showIcon,m=e.closable,v=e.closeText,g=e.closeIcon,y=void 0===g?t.createElement(Wk,null):g,x=e.action,b=aL(e,["description","prefixCls","message","banner","className","style","onMouseEnter","onMouseLeave","onClick","afterClose","showIcon","closable","closeText","closeIcon","action"]),_=k(t.useState(!1),2),w=_[0],S=_[1],E=t.useRef(),C=t.useContext(Ge),T=C.getPrefixCls,M=C.direction,I=T("alert",i),O=k(iL(I),2),P=O[0],A=O[1],z=function(e){var t;S(!0),null===(t=b.onClose)||void 0===t||t.call(b,e)},j=!!v||m,R=function(){var e=b.type;return void 0!==e?e:o?"warning":"info"}(),D=!(!o||void 0!==p)||p,L=Ue()(I,"".concat(I,"-").concat(R),(Fe(n={},"".concat(I,"-with-description"),!!r),Fe(n,"".concat(I,"-no-icon"),!D),Fe(n,"".concat(I,"-banner"),!!o),Fe(n,"".concat(I,"-rtl"),"rtl"===M),n),l,A),N=function(e){return Object.keys(e).reduce((function(t,n){return!n.startsWith("data-")&&!n.startsWith("aria-")&&"role"!==n||n.startsWith("data-__")||(t[n]=e[n]),t}),{})}(b);return P(t.createElement(Xc,{visible:!w,motionName:"".concat(I,"-motion"),motionAppear:!1,motionEnter:!1,onLeaveStart:function(e){return{maxHeight:e.offsetHeight}},onLeaveEnd:h},(function(e){var n=e.className,i=e.style;return t.createElement("div",Object.assign({ref:E,"data-show":!w,className:Ue()(L,n),style:Object.assign(Object.assign({},c),i),onMouseEnter:u,onMouseLeave:d,onClick:f,role:"alert"},N),D?t.createElement(sL,{description:r,icon:b.icon,prefixCls:I,type:R}):null,t.createElement("div",{className:"".concat(I,"-content")},a?t.createElement("div",{className:"".concat(I,"-message")},a):null,r?t.createElement("div",{className:"".concat(I,"-description")},r):null),x?t.createElement("div",{className:"".concat(I,"-action")},x):null,t.createElement(lL,{isClosable:!!j,closeText:v,prefixCls:I,closeIcon:y,handleClose:z}))})))};cL.ErrorBoundary=JD;var uL=cL,dL=function(){var e,n,r=k((0,t.useState)(""),2),i=r[0],a=r[1],o=k((0,t.useState)(""),2),s=o[0],l=o[1],c=k((0,t.useState)(""),2),u=c[0],d=c[1],f=k((0,t.useState)(""),2),h=f[0],p=f[1],m=k((0,t.useState)(),2),v=m[0],g=m[1],y=k((0,t.useState)(""),2),x=y[0],b=y[1],_=k((0,t.useState)(""),2),w=_[0],S=_[1],E=k((0,t.useState)(""),2),C=E[0],T=E[1],M=k((0,t.useState)({}),2),I=M[0],O=M[1],P=k((0,t.useState)(!1),2),A=P[0],z=P[1],j=k((0,t.useState)(!1),2),R=j[0],D=j[1],L=k((0,t.useContext)(jo),2),N=L[0],B=L[1],F=k((0,t.useContext)(bT),2),V=F[0],U=(F[1],be());(0,t.useEffect)((function(){var e=function(){var e=Be(Le().mark((function e(){var t,n,r;return Le().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Po.get("/user/".concat(null===N||void 0===N||null===(t=N.user)||void 0===t?void 0:t._id));case 3:n=e.sent,r=n.data,console.log(r,"from profile"),a(r._id),l(r.name),d(r.email),p(r.about),b(r.role),O(r.image),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),console.log(e.t0);case 17:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(){return e.apply(this,arguments)}}();null!==N&&void 0!==N&&N.token&&e()}),[N,null===U||void 0===U||null===(e=U.query)||void 0===e?void 0:e.id]);var H=function(){var e=Be(Le().mark((function e(t){var n,r,a,o;return Le().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,Po.put("/update-user-by-user",{id:i,name:s,email:u,password:v,about:h,phNumber:w,agencyAddress:C,role:x,image:null!==V&&void 0!==V&&V.selected[0]?null===V||void 0===V?void 0:V.selected[0]:null!==I&&void 0!==I&&I._id?null===I||void 0===I?void 0:I._id:void 0});case 4:n=e.sent,null!==(r=n.data)&&void 0!==r&&r.error?h_.error(r.error):((null===N||void 0===N||null===(a=N.user)||void 0===a?void 0:a._id)===r._id&&(B(Xe(Xe({},N),{},{user:r})),(o=JSON.parse(localStorage.getItem("auth"))).user=r,localStorage.setItem("auth",JSON.stringify(o))),h_.success("User updated successfully")),e.next=14;break;case 9:e.prev=9,e.t0=e.catch(1),console.log(e.t0),h_.error("User update failed. Try again."),z(!1);case 14:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}(),G=function(){var e=Be(Le().mark((function e(t){var n,r,a,o;return Le().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,D(!0),e.next=5,Po.put("/apply",{id:i,name:s,email:u,phNumber:w,agencyAddress:C,password:v,about:h,role:x,image:null!==V&&void 0!==V&&V.selected[0]?null===V||void 0===V?void 0:V.selected[0]:null!==I&&void 0!==I&&I._id?null===I||void 0===I?void 0:I._id:void 0});case 5:n=e.sent,null!==(r=n.data)&&void 0!==r&&r.error?(h_.error(r.error),D(!1)):((null===N||void 0===N||null===(a=N.user)||void 0===a?void 0:a._id)===r._id&&(B(Xe(Xe({},N),{},{user:r})),(o=JSON.parse(localStorage.getItem("auth"))).user=r,localStorage.setItem("auth",JSON.stringify(o))),h_.info("Your request has been send"),D(!1)),e.next=15;break;case 10:e.prev=10,e.t0=e.catch(1),console.log(e.t0),h_.error("User update failed. Try again."),D(!1);case 15:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}();return(0,zo.jsxs)(Kp,{children:[(0,zo.jsx)(em,{sm:0,xs:0,md:6,className:"mt-24 p-5",children:(0,zo.jsx)(uL,{message:"For Request",description:"Fill you all information.",type:"info",showIcon:!0})}),(0,zo.jsxs)(em,{sm:24,xs:24,md:12,children:[(0,zo.jsx)("div",{style:{marginBottom:20,textAlign:"center"},children:null!==I&&void 0!==I&&I.url?(0,zo.jsxs)(zo.Fragment,{children:[(0,zo.jsx)("div",{style:{marginBottom:15}}),(0,zo.jsx)(BO,{src:I.url,size:100})]}):V.selected?(0,zo.jsxs)(zo.Fragment,{children:[(0,zo.jsx)("div",{style:{marginBottom:15}}),(0,zo.jsx)(BO,{src:null===(n=V.selected[0])||void 0===n?void 0:n.url,size:100})]}):""}),(0,zo.jsx)(rO,{}),(0,zo.jsx)(vb,{style:{margin:"20px 0px 10px 0px"},size:"large",placeholder:"Full name",value:s,onChange:function(e){return l(e.target.value)}}),(0,zo.jsx)(vb,{style:{margin:"10px 0px 10px 0px"},size:"large",placeholder:"Email",value:u,onChange:function(e){return d(e.target.value)}}),(0,zo.jsx)(vb.TextArea,{style:{margin:"10px 0px 10px 0px"},size:"large",placeholder:"About...",value:h,onChange:function(e){return p(e.target.value)}}),(0,zo.jsx)(vb,{style:{margin:"10px 0px 10px 0px"},size:"large",placeholder:"Your Phone Number",value:w,onChange:function(e){return S(e.target.value)}}),(0,zo.jsx)(vb,{style:{margin:"10px 0px 10px 0px"},size:"large",type:"text",placeholder:"Your agency address",value:C,onChange:function(e){return T(e.target.value)}}),(0,zo.jsx)(vb.Password,{style:{margin:"10px 0px 10px 0px"},size:"large",placeholder:"Password",value:v,onChange:function(e){return g(e.target.value)}}),(0,zo.jsx)(Xx,{onClick:H,type:"default",style:{margin:"10px 0px 10px 0px"},loading:A,block:!0,children:"Submit"}),(0,zo.jsx)("br",{}),(0,zo.jsx)("br",{}),(0,zo.jsx)(bP,{orientation:"left",children:" Apply for agency "}),"notConfirm"===(null===N||void 0===N?void 0:N.user.confirm)?(0,zo.jsxs)("span",{onClick:G,type:"default",style:{margin:"10px 0px 10px 0px"},loading:R,className:"flex justify-content-center items-center gap-2 text-blue-600 cursor-pointer",children:[(0,zo.jsx)(ap,{})," Send Request"]}):(0,zo.jsxs)("span",{type:"default",style:{margin:"10px 0px 10px 0px"},loading:R,className:"flex justify-content-center items-center gap-2 text-blue-600 font-bold",children:[(0,zo.jsx)(ap,{})," Your Request has been send"]})]}),(0,zo.jsx)(em,{sm:0,xs:0,md:6})]})},fL=function(){var e=k((0,t.useContext)(jo),2),n=e[0],r=(e[1],k((0,t.useState)([]),2)),i=r[0],a=r[1],o=(be(),k((0,t.useState)(""),2)),s=o[0],l=o[1];(0,t.useEffect)((function(){null!==n&&void 0!==n&&n.token&&c()}),[null===n||void 0===n?void 0:n.token]);var c=function(){var e=Be(Le().mark((function e(){var t,n;return Le().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Po.get("/users");case 3:t=e.sent,n=t.data,a(n),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),u=i&&(null===i||void 0===i?void 0:i.filter((function(e){return"requested"===e.confirm})));return(0,zo.jsx)(zp,{children:(0,zo.jsx)(Kp,{children:(0,zo.jsxs)(em,{span:23,offset:1,children:[(0,zo.jsx)("h4",{style:{marginBottom:"-10px",fontWeight:"bold"},className:"text-2xl mb-5 text-blue-400",children:"All Requests (Agencies)"}),(0,zo.jsx)("br",{}),(0,zo.jsx)(vb,{placeholder:"Search",type:"search",value:s,onChange:function(e){return l(e.target.value.toLowerCase())}}),(0,zo.jsx)(hE,{itemLayout:"horizontal",dataSource:u,renderItem:function(e){var t,r;return(0,zo.jsxs)(hE.Item,{actions:[(0,zo.jsx)(Mh,{to:"/user/".concat(e._id),className:"text-green-700",children:"edit"}),(0,zo.jsx)("span",{className:"text-red-700",disabled:e._id===n.user._id,children:"delete"})],children:[(0,zo.jsx)(BO,{src:null===(t=e.image)||void 0===t?void 0:t.url,children:e.name[0]}),(0,zo.jsx)(hE.Item.Meta,{title:e.name,style:{marginLeft:10}}),(0,zo.jsx)(hE.Item.Meta,{description:e.email,style:{marginLeft:10}}),(0,zo.jsx)(hE.Item.Meta,{description:e.about.substring(0,20),style:{marginLeft:10}}),(0,zo.jsx)(hE.Item.Meta,{description:"".concat(null===(r=e.services)||void 0===r?void 0:r.length," Service"),style:{marginLeft:10}})]})}})]})})})},hL=function(){var e,n=_e().ID,r=k((0,t.useState)(!1),2),i=r[0],a=r[1],o=k((0,t.useState)({}),2),s=o[0],l=o[1],c=k((0,t.useState)(!1),2),u=c[0],d=c[1],f=k((0,t.useState)([]),2),h=f[0],p=f[1],m=function(){var e=Be(Le().mark((function e(){var t,r;return Le().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,d(!0),e.next=4,Po.get("/vendors-services/".concat(n));case 4:t=e.sent,r=t.data,p(r),d(!1),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),d(!1),h_.error("Failed, try again");case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}(),v=function(){var e=Be(Le().mark((function e(){var t,r;return Le().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a(!0),e.next=4,Po.get("/current-vendor-profile/".concat(n));case 4:t=e.sent,r=t.data,l(r),a(!1),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),a(!1),h_.error("Failed, try again");case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}();return(0,t.useEffect)((function(){v()}),[]),(0,t.useEffect)((function(){m()}),[]),(0,zo.jsxs)(zo.Fragment,{children:[(0,zo.jsx)("section",{className:"container mt-10 mx-auto ",children:(0,zo.jsxs)(Kp,{className:"w-full p-5",children:[i&&(0,zo.jsx)("p",{children:"loading..."}),(0,zo.jsxs)("div",{className:"flex items-center lg:w-3/5 mx-auto border-b pb-10 mb-10 border-gray-200 sm:flex-row flex-col",children:[(0,zo.jsx)("div",{className:"sm:w-32 sm:h-32 h-20 w-20 sm:mr-10 inline-flex items-center justify-center rounded-full bg-indigo-100 text-indigo-500 flex-shrink-0",children:(0,zo.jsx)(BO,{src:null===(e=s.image)||void 0===e?void 0:e.url,style:{height:"100%",width:"100%"}})}),(0,zo.jsxs)("div",{className:"flex-grow sm:text-left text-center mt-6 sm:mt-0",children:[(0,zo.jsx)("h2",{className:"text-blue-600 text-lg title-font font-bold mb-2",children:s.name}),(0,zo.jsx)("p",{className:"leading-relaxed text-base",children:s.about}),(0,zo.jsxs)("div",{className:"mt-3 text-indigo-500 flex items-center gap-3",children:[(0,zo.jsx)(lp,{size:25}),(0,zo.jsx)(rp,{size:25}),(0,zo.jsxs)("span",{className:"inline-flex items-center",children:[(0,zo.jsx)(gp,{size:25})," ",s.agencyAddress]}),(0,zo.jsxs)("span",{className:"inline-flex items-center",children:[(0,zo.jsx)(Cp,{size:25})," House sellers"]})]})]})]})]})}),u&&(0,zo.jsx)("p",{children:"loading..."}),(0,zo.jsx)(ND,{title:"Our Services",list:h})]})},pL=function(){var e=k((0,t.useState)([]),2),n=e[0],r=e[1],i=k((0,t.useState)(!1),2),a=i[0],o=i[1],s=function(){var e=Be(Le().mark((function e(){var t,n;return Le().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,o(!0),e.next=4,Po.get("/mylikes");case 4:t=e.sent,n=t.data,r(n),o(!1),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),o(!1),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}();return(0,t.useEffect)((function(){s()}),[]),(0,zo.jsxs)(Kp,{className:"my-10",children:[(0,zo.jsx)(em,{sm:0,xs:0,md:6}),(0,zo.jsxs)(em,{sm:24,xs:24,md:12,children:[(0,zo.jsxs)("h4",{style:{marginBottom:"-10px",fontWeight:"bold"},className:"inline-flex text-center items-center gap-2 text-2xl mb-5 text-blue-400",children:["Likes ",(0,zo.jsx)(Sp,{})]}),(0,zo.jsx)("br",{}),a?(0,zo.jsx)("p",{children:"loading"}):(0,zo.jsx)(hE,{itemLayout:"horizontal",dataSource:n,renderItem:function(e){var t;return(0,zo.jsxs)(hE.Item,{actions:[(0,zo.jsx)(kp,{size:25,color:"blue"})],children:[(0,zo.jsx)(BO,{src:null===(t=e.featuredImages[0])||void 0===t?void 0:t.url}),(0,zo.jsx)(hE.Item.Meta,{title:(0,zo.jsx)(Mh,{to:"/service-detail/".concat(e._id),className:"ml-2 font-bold",children:e.title})}),(0,zo.jsx)(hE.Item.Meta,{description:(0,zo.jsx)("span",{className:"",children:e.content.substring(0,100)})})]})}})]}),(0,zo.jsx)(em,{sm:0,xs:0,md:6})]})},mL=function(e,t){var n,r;return t[0]._id===e._id?null===(n=t[1].image)||void 0===n?void 0:n.url:null===(r=t[0].image)||void 0===r?void 0:r.url},vL=(0,t.createContext)(),gL=function(){return(0,t.useContext)(vL)},yL=function(e){var n=e.children,r=k((0,t.useState)(),2),i=r[0],a=r[1],o=k((0,t.useState)([]),2),s=o[0],l=o[1],c=k((0,t.useState)([]),2),u=c[0],d=c[1];return(0,zo.jsx)(vL.Provider,{value:{selectedChat:i,setSelectedChat:a,notification:s,setNotification:l,chats:u,setChats:d},children:n})},xL=function(e){var n=e.fetchAgain,r=k((0,t.useContext)(jo),1)[0],i=gL(),a=i.setSelectedChat,o=(i.user,i.notification,i.setNotification,i.chats),s=i.setChats,l=function(){var e=Be(Le().mark((function e(){var t,n;return Le().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Po.get("/chat");case 3:t=e.sent,n=t.data,s(n),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),h_.error("Failed, try again");case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();return(0,t.useEffect)((function(){l()}),[n]),(0,zo.jsx)("div",{style:{display:"flex",flexDirection:"row",alignItems:"center",gap:"2"},children:null===o||void 0===o?void 0:o.map((function(e){return(0,zo.jsx)("div",{onClick:function(){return a(e)},className:"inline-flex items-center",children:(0,zo.jsx)(BO,{src:mL(r.user,e.users),size:"large"})},e._id)}))})},bL=function(e){var n=e.fetchAgain,r=k((0,t.useContext)(jo),1)[0],i=gL(),a=i.selectedChat,o=i.setSelectedChat,s=i.chats,l=i.setChats,c=function(){var e=Be(Le().mark((function e(){var t,n;return Le().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Po.get("/chat");case 3:t=e.sent,n=t.data,l(n),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),h_.error("Failed, try again");case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();return(0,t.useEffect)((function(){c()}),[n]),(0,zo.jsx)("div",{children:s?(0,zo.jsx)(hE,{itemLayout:"horizontal",dataSource:s,renderItem:function(e){var t,n,i,s,l,c,u;return(0,zo.jsxs)(hE.Item,{style:{backgroundColor:" ".concat(a===e?"#bfdbfe":""),borderRadius:"5px"},actions:[(0,zo.jsx)("span",{onClick:function(){return o(e)},className:"text-green-700 cursor-pointer",children:"Chat"})],children:[(0,zo.jsx)(BO,{src:mL(null===r||void 0===r?void 0:r.user,null===e||void 0===e?void 0:e.users),size:"large"}),(0,zo.jsx)(hE.Item.Meta,{title:(0,zo.jsxs)("b",{children:[(c=null===r||void 0===r?void 0:r.user,u=null===e||void 0===e?void 0:e.users,u[0]._id===c._id?u[1].name:u[0].name)," "]}),description:(0,zo.jsx)(zo.Fragment,{children:(null===(t=e.latestMessage)||void 0===t||null===(n=t.content)||void 0===n?void 0:n.length)>20?(null===(i=e.latestMessage)||void 0===i||null===(s=i.content)||void 0===s?void 0:s.substring(0,10))+"...":null===(l=e.latestMessage)||void 0===l?void 0:l.content}),style:{marginLeft:10}})]})}}):(0,zo.jsx)(zo.Fragment,{children:"loading.."})})},_L=function(){var e=k((0,t.useContext)(jo),1)[0],n=k((0,t.useState)([]),2),r=n[0],i=n[1],a=k((0,t.useState)(!1),2),o=(a[0],a[1]),s=gL(),c=s.setSelectedChat,u=(s.user,s.notification,s.setNotification,s.chats),d=s.setChats,f=k((0,t.useState)(""),2),h=f[0],p=f[1];(0,t.useEffect)((function(){null!==e&&void 0!==e&&e.token&&m()}),[null===e||void 0===e?void 0:e.token]);var m=function(){var e=Be(Le().mark((function e(){var t,n;return Le().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Po.get("/users");case 3:t=e.sent,n=t.data,i(n),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),v=function(){var e=Be(Le().mark((function e(t){var n,r;return Le().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,o(!0),e.next=4,Po.post("/chat",{userId:t});case 4:n=e.sent,r=n.data,u.find((function(e){return e._id===r._id}))||d([r].concat(l(u))),console.log(r,"from search users"),c(r),o(!1),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(0),o(!1),h_.error("Failed, try again");case 16:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t){return e.apply(this,arguments)}}(),g=r&&(null===r||void 0===r?void 0:r.filter((function(e){return e.name.toLowerCase().includes(h)})));return(0,zo.jsxs)("div",{children:[(0,zo.jsx)(vb,{placeholder:"Search",type:"search",value:h,onChange:function(e){return p(e.target.value.toLowerCase())}}),(0,zo.jsx)(hE,{itemLayout:"horizontal",dataSource:g,renderItem:function(e){var t,n;return(0,zo.jsxs)(hE.Item,{actions:[(0,zo.jsx)("span",{onClick:function(){return v(e._id)},className:"text-green-700 cursor-pointer",children:"Chat"})],children:[(0,zo.jsx)(BO,{src:null===(t=e.image)||void 0===t?void 0:t.url,children:e.name[0]}),(0,zo.jsx)(hE.Item.Meta,{title:e.name,style:{marginLeft:10}}),(0,zo.jsx)(hE.Item.Meta,{description:e.email,style:{marginLeft:10}}),(0,zo.jsx)(hE.Item.Meta,{description:e.role,style:{marginLeft:10}}),(0,zo.jsx)(hE.Item.Meta,{description:"".concat(null===(n=e.services)||void 0===n?void 0:n.length," Service"),style:{marginLeft:10}})]})}})]})},wL=function(e,t){return wL=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},wL(e,t)};var kL="styles_scrollable-div__prSCv";!function(e,t){void 0===t&&(t={});var n=t.insertAt;if(e&&"undefined"!==typeof document){var r=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css","top"===n&&r.firstChild?r.insertBefore(i,r.firstChild):r.appendChild(i),i.styleSheet?i.styleSheet.cssText=e:i.appendChild(document.createTextNode(e))}}(".styles_scrollable-div__prSCv {\r\n  max-height: inherit;\r\n  height: inherit;\r\n  overflow-y: auto;\r\n}\r\n");!function(e){function n(n){var r=e.call(this,n)||this;return r.bottomRef=(0,t.createRef)(),r.wrapperRef=(0,t.createRef)(),r.handleScroll=r.handleScroll.bind(r),r}(function(e,t){function n(){this.constructor=e}wL(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)})(n,e),n.prototype.getSnapshotBeforeUpdate=function(){if(this.wrapperRef.current&&this.bottomRef.current){var e=this.props.viewableDetectionEpsilon;return n.isViewable(this.wrapperRef.current,this.bottomRef.current,e)}return!1},n.prototype.componentDidUpdate=function(e,t,n){var r=this.props,i=r.forceScroll;(0,r.changeDetectionFilter)(e,this.props)&&(i||n)&&this.bottomRef.current&&this.wrapperRef.current&&this.scrollParentToChild(this.wrapperRef.current,this.bottomRef.current)},n.prototype.componentDidMount=function(){this.bottomRef.current&&this.wrapperRef.current&&this.scrollParentToChild(this.wrapperRef.current,this.bottomRef.current)},n.prototype.scrollParentToChild=function(e,t){var r=this.props.viewableDetectionEpsilon;if(!n.isViewable(e,t,r)){var i=e.getBoundingClientRect(),a=t.getBoundingClientRect().top+e.scrollTop-i.top,o=this.props,s=o.animateScroll,l=o.onScrollComplete;s&&(s(e,a),l())}},n.isViewable=function(e,t,n){n=n||0;var r=e.getBoundingClientRect(),i=t.getBoundingClientRect(),a=i.top>=r.top,o=r.top+e.clientHeight-i.top;return a&&o+n>=0},n.prototype.handleScroll=function(){var e=this.props,t=e.viewableDetectionEpsilon,r=e.onScroll;r&&this.bottomRef.current&&this.wrapperRef.current&&r(n.isViewable(this.wrapperRef.current,this.bottomRef.current,t))},n.prototype.scrollToBottom=function(){this.bottomRef.current&&this.wrapperRef.current&&this.scrollParentToChild(this.wrapperRef.current,this.bottomRef.current)},n.prototype.render=function(){var e=this.props,n=e.children,r=e.className,i=kL+(r?" "+r:"");return(0,t.createElement)("div",{className:i,ref:this.wrapperRef,onScroll:this.handleScroll},n,(0,t.createElement)("div",{ref:this.bottomRef}))},n.defaultProps={forceScroll:!1,animateScroll:function(e,t){e.scrollBy?e.scrollBy({top:t}):e.scrollTop=t},onScrollComplete:function(){},changeDetectionFilter:function(){return!0},viewableDetectionEpsilon:2,onScroll:function(){}}}(t.Component);var SL,EL,CL=n(5394),TL=(CL.Manager,CL),ML=function(e){var n=e.fetchAgain,r=e.setFetchAgain,i=k((0,t.useContext)(jo),1)[0],a=k((0,t.useState)([]),2),o=a[0],s=a[1],c=k((0,t.useState)(!1),2),u=(c[0],c[1]),d=k((0,t.useState)(""),2),f=d[0],h=d[1],p=k((0,t.useState)(!1),2),m=p[0],v=p[1],g=k((0,t.useState)(!1),2),y=g[0],x=g[1],b=k((0,t.useState)(!1),2),_=b[0],w=b[1],S=gL(),E=S.selectedChat,C=(S.setSelectedChat,S.user,S.notification),T=S.setNotification,M=function(){var e=Be(Le().mark((function e(){var t,n;return Le().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(E){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,Po.get("/message/".concat(E._id));case 5:t=e.sent,n=t.data,s(n),u(!1),SL.emit("join chat",null===E||void 0===E?void 0:E._id),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),console.log(e.t0),h_.error("failed, try again");case 16:case"end":return e.stop()}}),e,null,[[2,12]])})));return function(){return e.apply(this,arguments)}}(),I=function(){var e=Be(Le().mark((function e(t){var n,r;return Le().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!f){e.next=16;break}return SL.emit("stop typing",null===E||void 0===E?void 0:E._id),e.prev=3,h(""),e.next=7,Po.post("/message",{content:f,chatId:E});case 7:n=e.sent,r=n.data,SL.emit("new message",r),s([].concat(l(o),[r])),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(3),h_.error("Failed, try again");case 16:case"end":return e.stop()}}),e,null,[[3,13]])})));return function(t){return e.apply(this,arguments)}}();(0,t.useEffect)((function(){(SL=TL("http://localhost:8080")).emit("setup",null===i||void 0===i?void 0:i.user),SL.on("connected",(function(){return v(!0)})),SL.on("typing",(function(){return x(!0)})),SL.on("stop typing",(function(){return x(!1)}))}),[]),(0,t.useEffect)((function(){M(),EL=E}),[E]),(0,t.useEffect)((function(){SL.on("message recieved",(function(e){EL&&EL._id===e.chat._id?s([].concat(l(o),[e])):C.includes(e)||(T([e].concat(l(C))),r(!n))}))}));return(0,zo.jsx)("div",{style:{height:"80vh"},className:"flex antialiased text-gray-800",children:(0,zo.jsx)("div",{className:"flex flex-row h-full w-full overflow-x-hidden",children:(0,zo.jsx)("div",{className:"flex flex-col flex-auto h-full p-2",children:E?(0,zo.jsxs)("div",{className:"flex flex-col flex-auto flex-shrink-0 rounded-2xl bg-gray-100 h-full p-4",children:[(0,zo.jsx)("div",{className:"flex flex-col h-full overflow-x-auto mb-4",children:(0,zo.jsx)("div",{className:"flex flex-col h-full",children:(0,zo.jsx)("div",{className:"grid grid-cols-12 gap-y-2",children:null===o||void 0===o?void 0:o.map((function(e,t){var n;return(0,zo.jsx)(zo.Fragment,{children:e.sender._id!==(null===i||void 0===i||null===(n=i.user)||void 0===n?void 0:n._id)?(0,zo.jsx)("div",{className:"col-start-1 col-end-8 p-3 rounded-lg",children:(0,zo.jsxs)("div",{className:"flex flex-row items-center",children:[(0,zo.jsx)("div",{className:"flex items-center justify-center h-10 w-10 rounded-full bg-indigo-500 flex-shrink-0",children:"A"}),(0,zo.jsx)("div",{className:"relative ml-3 text-sm bg-white py-2 px-4 shadow rounded-xl",children:(0,zo.jsx)("div",{children:e.content})})]})}):(0,zo.jsx)("div",{class:"col-start-6 col-end-13 p-3 rounded-lg",children:(0,zo.jsxs)("div",{class:"flex items-center justify-start flex-row-reverse",children:[(0,zo.jsx)("div",{class:"flex items-center justify-center h-10 w-10 rounded-full bg-indigo-500 flex-shrink-0",children:"A"}),(0,zo.jsx)("div",{class:"relative mr-3 text-sm bg-indigo-100 py-2 px-4 shadow rounded-xl",children:(0,zo.jsx)("div",{children:e.content})})]})})})}))})})}),(0,zo.jsxs)("div",{className:"flex flex-row items-center h-16 rounded-xl bg-white w-full px-4",children:[y&&(0,zo.jsx)(zo.Fragment,{children:"typing..."}),(0,zo.jsx)("div",{className:"flex-grow ml-4",children:(0,zo.jsx)("div",{className:"relative w-full",children:(0,zo.jsx)("input",{type:"text",required:!0,placeholder:"Type your message...",value:f,onChange:function(e){return function(e){if(h(e.target.value),m){_||(w(!0),SL.emit("typing",null===E||void 0===E?void 0:E._id));var t=(new Date).getTime();setTimeout((function(){(new Date).getTime()-t>=3e3&&_&&(SL.emit("stop typing",null===E||void 0===E?void 0:E._id),w(!1))}),3e3)}}(e)},className:"flex w-full border rounded-xl focus:outline-none focus:border-indigo-300 pl-4 h-10"})})}),(0,zo.jsx)("div",{className:"ml-4",children:(0,zo.jsxs)("button",{onClick:function(e){return I(e)},className:"flex items-center justify-center bg-indigo-500 hover:bg-indigo-600 rounded-xl text-white px-4 py-1 flex-shrink-0",children:[(0,zo.jsx)("span",{children:"Send"}),(0,zo.jsx)("span",{className:"ml-2",children:(0,zo.jsx)("svg",{className:"w-4 h-4 transform rotate-45 -mt-px",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,zo.jsx)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 19l9 2-9-18-9 18 9-2zm0 0v-8"})})})]})})]})]}):(0,zo.jsx)("h2",{className:"font-bold text-blue-600 text-3xl text-center items-center",children:" Start chatting "})})})})},IL=function(){var e=k((0,t.useContext)(jo),1)[0],n=k((0,t.useState)(!1),2),r=n[0],i=n[1],a=k((0,t.useState)(!1),2),o=a[0],s=a[1],l=k((0,t.useState)(!1),2),c=l[0],u=l[1],d=Bh();return(0,t.useEffect)((function(){d<768?u(!0):d>768&&u(!1)}),[d<768]),e.user||function(e,t){void 0===t&&(t=302);var n=t;"number"===typeof n?n={status:n}:"undefined"===typeof n.status&&(n.status=302);var r=new Headers(n.headers);r.set("Location",e),new Response(null,T({},n,{headers:r}))}("/signin"),(0,zo.jsxs)(zo.Fragment,{children:[(0,zo.jsx)("section",{className:"p-5",children:(0,zo.jsxs)(Kp,{children:[(null===e||void 0===e?void 0:e.user)&&(0,zo.jsxs)(em,{sm:24,xs:24,md:5,children:[(0,zo.jsx)("span",{className:"text-blue-600 font-bold cursor-pointer",onClick:function(){return i(!0)},children:"Search for chat"}),c?(0,zo.jsx)("div",{id:"",className:"p-2",children:(null===e||void 0===e?void 0:e.user)&&(0,zo.jsx)(xL,{fetchAgain:o})}):(0,zo.jsx)("div",{id:"",className:"p-2",children:(null===e||void 0===e?void 0:e.user)&&(0,zo.jsx)(bL,{fetchAgain:o})})]}),(0,zo.jsx)(em,{sm:0,xs:0,md:1}),(0,zo.jsx)(em,{sm:24,xs:24,md:18,className:"bg-gray-200 p-5",style:{borderRadius:"10px"},children:(null===e||void 0===e?void 0:e.user)&&(0,zo.jsx)(ML,{fetchAgain:o,setFetchAgain:s})})]})}),(0,zo.jsx)(IC,{title:"Media",open:r,onOk:function(){return i(!1)},onCancel:function(){return i(!1)},width:720,footer:null,children:(0,zo.jsx)(_L,{})})]})},OL=function(){return(0,zo.jsxs)(je,{children:[(0,zo.jsx)(Ae,{path:"/",element:(0,zo.jsx)(HD,{})}),(0,zo.jsx)(Ae,{path:"/explore",element:(0,zo.jsx)(KD,{})}),(0,zo.jsx)(Ae,{path:"/signin",element:(0,zo.jsx)(F_,{})}),(0,zo.jsx)(Ae,{path:"/signup",element:(0,zo.jsx)(G_,{})}),(0,zo.jsx)(Ae,{path:"/converter",element:(0,zo.jsx)(kP,{})}),(0,zo.jsx)(Ae,{path:"/category/:slug",element:(0,zo.jsx)(EP,{})}),(0,zo.jsx)(Ae,{path:"/service-detail/:DetailedID",element:(0,zo.jsx)(YD,{})}),(0,zo.jsx)(Ae,{path:"/dashboard",element:(0,zo.jsx)(jp,{})}),(0,zo.jsx)(Ae,{path:"/create/category",element:(0,zo.jsx)(PC,{})}),(0,zo.jsx)(Ae,{path:"/create/service",element:(0,zo.jsx)(oO,{})}),(0,zo.jsx)(Ae,{path:"/media",element:(0,zo.jsx)(sO,{})}),(0,zo.jsx)(Ae,{path:"/rent/house",element:(0,zo.jsx)(fO,{})}),(0,zo.jsx)(Ae,{path:"/sell/house",element:(0,zo.jsx)(vO,{})}),(0,zo.jsx)(Ae,{path:"/edit/:ID",element:(0,zo.jsx)(mO,{})}),(0,zo.jsx)(Ae,{path:"/users",element:(0,zo.jsx)(FO,{})}),(0,zo.jsx)(Ae,{path:"/vendors",element:(0,zo.jsx)(VO,{})}),(0,zo.jsx)(Ae,{path:"/subscriber",element:(0,zo.jsx)(UO,{})}),(0,zo.jsx)(Ae,{path:"/user/:ID",element:(0,zo.jsx)(HO,{})}),(0,zo.jsx)(Ae,{path:"/create-user",element:(0,zo.jsx)(oP,{})}),(0,zo.jsx)(Ae,{path:"/requests",element:(0,zo.jsx)(sP,{})}),(0,zo.jsx)(Ae,{path:"/my/profile",element:(0,zo.jsx)(SP,{})}),(0,zo.jsx)(Ae,{path:"/all/requests",element:(0,zo.jsx)(fL,{})}),(0,zo.jsx)(Ae,{path:"/vendor/dashboard",element:(0,zo.jsx)(fP,{})}),(0,zo.jsx)(Ae,{path:"/vendor/create/services",element:(0,zo.jsx)(hP,{})}),(0,zo.jsx)(Ae,{path:"/vendor/rent/house",element:(0,zo.jsx)(pP,{})}),(0,zo.jsx)(Ae,{path:"/vendor/sell/house",element:(0,zo.jsx)(mP,{})}),(0,zo.jsx)(Ae,{path:"/vendor/service/:ID",element:(0,zo.jsx)(vP,{})}),(0,zo.jsx)(Ae,{path:"/vendor/category/:slug",element:(0,zo.jsx)(CP,{})}),(0,zo.jsx)(Ae,{path:"/vendor/profile",element:(0,zo.jsx)(TP,{})}),(0,zo.jsx)(Ae,{path:"/subs/profile",element:(0,zo.jsx)(dL,{})}),(0,zo.jsx)(Ae,{path:"/ven-service/:ID",element:(0,zo.jsx)(hL,{})}),(0,zo.jsx)(Ae,{path:"/my-likes",element:(0,zo.jsx)(pL,{})}),(0,zo.jsx)(Ae,{path:"/chatting",element:(0,zo.jsx)(IL,{})})]})},PL={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M832 64H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V96c0-17.7-14.3-32-32-32zm-600 72h560v208H232V136zm560 480H232V408h560v208zm0 272H232V680h560v208zM304 240a40 40 0 1080 0 40 40 0 10-80 0zm0 272a40 40 0 1080 0 40 40 0 10-80 0zm0 272a40 40 0 1080 0 40 40 0 10-80 0z"}}]},name:"database",theme:"outlined"},AL=function(e,n){return t.createElement(ki,Xe(Xe({},e),{},{ref:n,icon:PL}))};AL.displayName="DatabaseOutlined";var zL=t.forwardRef(AL),jL={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M678.3 642.4c24.2-13 51.9-20.4 81.4-20.4h.1c3 0 4.4-3.6 2.2-5.6a371.67 371.67 0 00-103.7-65.8c-.4-.2-.8-.3-1.2-.5C719.2 505 759.6 431.7 759.6 349c0-137-110.8-248-247.5-248S264.7 212 264.7 349c0 82.7 40.4 156 102.6 201.1-.4.2-.8.3-1.2.5-44.7 18.9-84.8 46-119.3 80.6a373.42 373.42 0 00-80.4 119.5A373.6 373.6 0 00137 888.8a8 8 0 008 8.2h59.9c4.3 0 7.9-3.5 8-7.8 2-77.2 32.9-149.5 87.6-204.3C357 628.2 432.2 597 512.2 597c56.7 0 111.1 15.7 158 45.1a8.1 8.1 0 008.1.3zM512.2 521c-45.8 0-88.9-17.9-121.4-50.4A171.2 171.2 0 01340.5 349c0-45.9 17.9-89.1 50.3-121.6S466.3 177 512.2 177s88.9 17.9 121.4 50.4A171.2 171.2 0 01683.9 349c0 45.9-17.9 89.1-50.3 121.6C601.1 503.1 558 521 512.2 521zM880 759h-84v-84c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v84h-84c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h84v84c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-84h84c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8z"}}]},name:"user-add",theme:"outlined"},RL=function(e,n){return t.createElement(ki,Xe(Xe({},e),{},{ref:n,icon:jL}))};RL.displayName="UserAddOutlined";var DL=t.forwardRef(RL),LL={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M868 732h-70.3c-4.8 0-9.3 2.1-12.3 5.8-7 8.5-14.5 16.7-22.4 24.5a353.84 353.84 0 01-112.7 75.9A352.8 352.8 0 01512.4 866c-47.9 0-94.3-9.4-137.9-27.8a353.84 353.84 0 01-112.7-75.9 353.28 353.28 0 01-76-112.5C167.3 606.2 158 559.9 158 512s9.4-94.2 27.8-137.8c17.8-42.1 43.4-80 76-112.5s70.5-58.1 112.7-75.9c43.6-18.4 90-27.8 137.9-27.8 47.9 0 94.3 9.3 137.9 27.8 42.2 17.8 80.1 43.4 112.7 75.9 7.9 7.9 15.3 16.1 22.4 24.5 3 3.7 7.6 5.8 12.3 5.8H868c6.3 0 10.2-7 6.7-12.3C798 160.5 663.8 81.6 511.3 82 271.7 82.6 79.6 277.1 82 516.4 84.4 751.9 276.2 942 512.4 942c152.1 0 285.7-78.8 362.3-197.7 3.4-5.3-.4-12.3-6.7-12.3zm88.9-226.3L815 393.7c-5.3-4.2-13-.4-13 6.3v76H488c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h314v76c0 6.7 7.8 10.5 13 6.3l141.9-112a8 8 0 000-12.6z"}}]},name:"logout",theme:"outlined"},NL=function(e,n){return t.createElement(ki,Xe(Xe({},e),{},{ref:n,icon:LL}))};NL.displayName="LogoutOutlined";var BL=t.forwardRef(NL);function FL(e){return $h({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M880 112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32zM440.2 765h-50.8c-2.2 0-4.5-1.1-5.9-2.9L348 718.6l-35.5 43.5a7.38 7.38 0 0 1-5.9 2.9h-50.8c-6.6 0-10.2-7.9-5.8-13.1l62.7-76.8-61.2-74.9c-4.3-5.2-.7-13.1 5.9-13.1h50.9c2.2 0 4.5 1.1 5.9 2.9l34 41.6 34-41.6c1.5-1.9 3.6-2.9 5.9-2.9h50.8c6.6 0 10.2 7.9 5.9 13.1L383.5 675l62.7 76.8c4.2 5.3.6 13.2-6 13.2zm7.8-382c0 2.2-1.4 4-3.2 4H376v68.7c0 1.9-1.8 3.3-4 3.3h-48c-2.2 0-4-1.4-4-3.2V387h-68.8c-1.8 0-3.2-1.8-3.2-4v-48c0-2.2 1.4-4 3.2-4H320v-68.8c0-1.8 1.8-3.2 4-3.2h48c2.2 0 4 1.4 4 3.2V331h68.7c1.9 0 3.3 1.8 3.3 4v48zm328 369c0 2.2-1.4 4-3.2 4H579.2c-1.8 0-3.2-1.8-3.2-4v-48c0-2.2 1.4-4 3.2-4h193.5c1.9 0 3.3 1.8 3.3 4v48zm0-104c0 2.2-1.4 4-3.2 4H579.2c-1.8 0-3.2-1.8-3.2-4v-48c0-2.2 1.4-4 3.2-4h193.5c1.9 0 3.3 1.8 3.3 4v48zm0-265c0 2.2-1.4 4-3.2 4H579.2c-1.8 0-3.2-1.8-3.2-4v-48c0-2.2 1.4-4 3.2-4h193.5c1.9 0 3.3 1.8 3.3 4v48z"}}]})(e)}var VL=wh.SubMenu,UL=function(){var e,n,r,i,a,o,s=k((0,t.useContext)(jo),2),l=s[0],c=s[1],u=k((0,t.useState)("mail"),2),d=u[0],f=u[1],h=be();console.log(l,"frim header");var p=function(){localStorage.removeItem("auth"),c({user:null,token:""}),h("/signin")};return(0,zo.jsxs)(wh,{onClick:function(e){console.log("click ",e),f(e.key)},selectedKeys:[d],mode:"horizontal",theme:"light",children:[(0,zo.jsx)(wh.Item,{icon:(0,zo.jsx)(Qh,{size:20.5}),children:(0,zo.jsx)(Mh,{to:"/",className:"text-lg",children:"Housers"})},"mail"),(0,zo.jsx)(wh.Item,{icon:(0,zo.jsx)(zL,{}),children:(0,zo.jsx)(Mh,{to:"/explore",children:"Explore"})},"explore"),(0,zo.jsx)(wh.Item,{icon:(0,zo.jsx)(zL,{}),children:(0,zo.jsx)(Mh,{to:"/chatting",children:(0,zo.jsx)("a",{children:"Messages"})})},"chatting"),(0,zo.jsx)(wh.Item,{icon:(0,zo.jsx)(xb,{}),children:(0,zo.jsx)("a",{href:"https://hadiraza.com/#contact",target:"_blank",children:"Contact"})},"contact"),(0,zo.jsx)(wh.Item,{icon:(0,zo.jsx)(FL,{}),children:(0,zo.jsx)(Mh,{to:"/converter",children:"Converter"})},"converter"),null===(null===l||void 0===l?void 0:l.user)&&(0,zo.jsxs)(zo.Fragment,{children:[(0,zo.jsx)(wh.Item,{style:{marginLeft:"auto"},icon:(0,zo.jsx)(DL,{}),children:(0,zo.jsx)(Mh,{to:"/signup",children:(0,zo.jsx)("a",{children:"Signup"})})},"signup"),(0,zo.jsx)(wh.Item,{icon:(0,zo.jsx)(H_,{}),children:(0,zo.jsx)(Mh,{to:"/signin",children:(0,zo.jsx)("a",{children:"Signin"})})},"signin")]}),null!==(null===l||void 0===l?void 0:l.user)&&"Admin"===(null===l||void 0===l||null===(e=l.user)||void 0===e?void 0:e.role)&&(0,zo.jsxs)(zo.Fragment,{children:[(0,zo.jsx)(VL,{icon:(0,zo.jsx)(Uh,{}),title:(null===l||void 0===l||null===(n=l.user)||void 0===n?void 0:n.name)||"Dashboard",style:{marginLeft:"auto"},children:(0,zo.jsxs)(wh.ItemGroup,{title:"Management",children:[(0,zo.jsx)(wh.Item,{children:(0,zo.jsx)(Mh,{to:"/dashboard",children:(0,zo.jsx)("a",{children:"Dashboard"})})},"Admin:2"),(0,zo.jsx)(wh.Item,{icon:(0,zo.jsx)(Sp,{color:"blue"}),children:(0,zo.jsx)(Mh,{to:"/my-likes",children:(0,zo.jsx)("a",{children:"Liked"})})},"Admin:3")]})},"SubMenu"),(0,zo.jsx)(wh.Item,{onClick:function(){return p()},icon:(0,zo.jsx)(BL,{}),children:(0,zo.jsx)("a",{children:"Sign out"})},"signout")]}),null!==(null===l||void 0===l?void 0:l.user)&&"Vendor"===(null===l||void 0===l||null===(r=l.user)||void 0===r?void 0:r.role)&&(0,zo.jsxs)(zo.Fragment,{children:[(0,zo.jsx)(VL,{icon:(0,zo.jsx)(Uh,{}),title:(null===l||void 0===l||null===(i=l.user)||void 0===i?void 0:i.name)||"Dashboard",style:{marginLeft:"auto"},children:(0,zo.jsxs)(wh.ItemGroup,{title:"Management",children:[(0,zo.jsx)(wh.Item,{children:(0,zo.jsx)(Mh,{to:"/vendor/dashboard",children:(0,zo.jsx)("a",{children:"Dashboard"})})},"Vendor:2"),(0,zo.jsx)(wh.Item,{icon:(0,zo.jsx)(Sp,{color:"blue"}),children:(0,zo.jsx)(Mh,{to:"/my-likes",children:(0,zo.jsx)("a",{children:"Liked"})})},"Vendor:3")]})},"SubMenu"),(0,zo.jsx)(wh.Item,{onClick:function(){return p()},icon:(0,zo.jsx)(BL,{}),children:(0,zo.jsx)("a",{children:"Sign out"})},"signout")]}),null!==(null===l||void 0===l?void 0:l.user)&&"subscriber"===(null===l||void 0===l||null===(a=l.user)||void 0===a?void 0:a.role)&&(0,zo.jsxs)(zo.Fragment,{children:[(0,zo.jsx)(VL,{icon:(0,zo.jsx)(Uh,{}),title:(null===l||void 0===l||null===(o=l.user)||void 0===o?void 0:o.name)||"Dashboard",style:{marginLeft:"auto"},children:(0,zo.jsxs)(wh.ItemGroup,{title:"Management",children:[(0,zo.jsx)(wh.Item,{icon:(0,zo.jsx)(vp,{color:"blue"}),children:(0,zo.jsx)(Mh,{to:"/subs/profile",children:(0,zo.jsx)("a",{children:"profile"})})},"subscriber:1"),(0,zo.jsx)(wh.Item,{icon:(0,zo.jsx)(Sp,{color:"blue"}),children:(0,zo.jsx)(Mh,{to:"/my-likes",children:(0,zo.jsx)("a",{children:"Liked"})})},"subscriber:2")]})},"SubMenu"),(0,zo.jsx)(wh.Item,{onClick:function(){return p()},icon:(0,zo.jsx)(BL,{}),children:(0,zo.jsx)("a",{children:"Sign out"})},"signout")]})]})},HL=function(){return(0,zo.jsx)("div",{className:"mx-auto container xl:px-20 lg:px-12 sm:px-6 px-4 px-4 py-12",children:(0,zo.jsxs)("div",{className:"flex flex-col items-center justify-center",children:[(0,zo.jsx)("div",{children:(0,zo.jsx)(bP,{children:(0,zo.jsx)("h4",{className:"text-3xl font-bold text-blue-400",children:"Housers"})})}),(0,zo.jsxs)("div",{className:"flex flex-wrap sm:gap-10 gap-8 items-center justify-center mt-8",children:[(0,zo.jsx)("p",{className:"hover:text-blue-500 text-base cursor-pointer leading-4 text-gray-800",children:(0,zo.jsx)(Mh,{to:"/",children:" Home"})}),(0,zo.jsx)("p",{className:"hover:text-blue-500 text-base cursor-pointer leading-4 text-gray-800",children:(0,zo.jsx)(Mh,{to:"/explore",children:"Explore"})}),(0,zo.jsx)("p",{className:"hover:text-blue-500 text-base cursor-pointer leading-4 text-gray-800",children:(0,zo.jsx)("a",{href:"https://hadiraza.com/#contact",target:"_blank",children:"Contact"})}),(0,zo.jsx)("p",{className:"hover:text-blue-500 text-base cursor-pointer leading-4 text-gray-800",children:(0,zo.jsx)(Mh,{to:"/chatting",children:"Messages"})})]}),(0,zo.jsxs)("div",{className:"flex items-center gap-x-8 mt-6",children:[(0,zo.jsx)("div",{className:"cursor-pointer",children:(0,zo.jsx)("svg",{className:"fill-current text-gray-800 hover:text-blue-500",width:"22",height:"22",viewBox:"0 0 22 22",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,zo.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M21.5 11.0631C21.5 5.26467 16.7984 0.56311 11 0.56311C5.20156 0.56311 0.5 5.26467 0.5 11.0631C0.5 16.3037 4.33906 20.6476 9.35938 21.4361V14.0992H6.69266V11.0631H9.35938V8.74983C9.35938 6.11873 10.9273 4.6642 13.3255 4.6642C14.4744 4.6642 15.6763 4.86952 15.6763 4.86952V7.45373H14.3516C13.048 7.45373 12.6402 8.2628 12.6402 9.09436V11.0631H15.552L15.087 14.0992H12.6406V21.437C17.6609 20.649 21.5 16.3051 21.5 11.0631Z",fill:"currentColor"})})}),(0,zo.jsx)("div",{className:"cursor-pointer",children:(0,zo.jsxs)("svg",{className:"fill-current text-gray-800 hover:text-blue-500",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,zo.jsx)("path",{d:"M14.2969 12C14.2969 13.2686 13.2686 14.2969 12 14.2969C10.7314 14.2969 9.70312 13.2686 9.70312 12C9.70312 10.7314 10.7314 9.70312 12 9.70312C13.2686 9.70312 14.2969 10.7314 14.2969 12Z",fill:"currentColor"}),(0,zo.jsx)("path",{d:"M17.3716 7.93616C17.2612 7.63696 17.085 7.36615 16.8561 7.14386C16.6339 6.91498 16.3632 6.73883 16.0638 6.62842C15.821 6.53412 15.4563 6.42188 14.7845 6.3913C14.0577 6.35815 13.8398 6.35101 12 6.35101C10.16 6.35101 9.94208 6.35797 9.21552 6.39111C8.5437 6.42188 8.17877 6.53412 7.93616 6.62842C7.63678 6.73883 7.36597 6.91498 7.14386 7.14386C6.91498 7.36615 6.73883 7.63678 6.62823 7.93616C6.53394 8.17896 6.42169 8.54388 6.39111 9.2157C6.35797 9.94226 6.35083 10.1602 6.35083 12.0002C6.35083 13.84 6.35797 14.0579 6.39111 14.7847C6.42169 15.4565 6.53394 15.8212 6.62823 16.064C6.73883 16.3634 6.91479 16.634 7.14368 16.8563C7.36597 17.0852 7.6366 17.2614 7.93597 17.3718C8.17877 17.4662 8.5437 17.5785 9.21552 17.6091C9.94208 17.6422 10.1598 17.6492 11.9998 17.6492C13.84 17.6492 14.0579 17.6422 14.7843 17.6091C15.4561 17.5785 15.821 17.4662 16.0638 17.3718C16.6648 17.14 17.1398 16.665 17.3716 16.064C17.4659 15.8212 17.5781 15.4565 17.6089 14.7847C17.642 14.0579 17.649 13.84 17.649 12.0002C17.649 10.1602 17.642 9.94226 17.6089 9.2157C17.5783 8.54388 17.4661 8.17896 17.3716 7.93616ZM12 15.5383C10.0457 15.5383 8.46149 13.9543 8.46149 12C8.46149 10.0457 10.0457 8.46167 12 8.46167C13.9541 8.46167 15.5383 10.0457 15.5383 12C15.5383 13.9543 13.9541 15.5383 12 15.5383ZM15.6782 9.14868C15.2216 9.14868 14.8513 8.77844 14.8513 8.32178C14.8513 7.86511 15.2216 7.49487 15.6782 7.49487C16.1349 7.49487 16.5051 7.86511 16.5051 8.32178C16.5049 8.77844 16.1349 9.14868 15.6782 9.14868Z",fill:"currentColor"}),(0,zo.jsx)("path",{d:"M12 0C5.3736 0 0 5.3736 0 12C0 18.6264 5.3736 24 12 24C18.6264 24 24 18.6264 24 12C24 5.3736 18.6264 0 12 0ZM18.8491 14.8409C18.8157 15.5744 18.6991 16.0752 18.5288 16.5135C18.1708 17.4391 17.4391 18.1708 16.5135 18.5288C16.0754 18.6991 15.5744 18.8156 14.8411 18.8491C14.1063 18.8826 13.8715 18.8906 12.0002 18.8906C10.1287 18.8906 9.8941 18.8826 9.15912 18.8491C8.42578 18.8156 7.9248 18.6991 7.48663 18.5288C7.02667 18.3558 6.61029 18.0846 6.26605 17.7339C5.91559 17.3899 5.64441 16.9733 5.47137 16.5135C5.30109 16.0754 5.18445 15.5744 5.15112 14.8411C5.11725 14.1061 5.10938 13.8713 5.10938 12C5.10938 10.1287 5.11725 9.89392 5.15094 9.15912C5.18427 8.4256 5.30072 7.9248 5.47101 7.48645C5.64404 7.02667 5.91541 6.61011 6.26605 6.26605C6.61011 5.91541 7.02667 5.64423 7.48645 5.47119C7.9248 5.3009 8.4256 5.18445 9.15912 5.15094C9.89392 5.11743 10.1287 5.10938 12 5.10938C13.8713 5.10938 14.1061 5.11743 14.8409 5.15112C15.5744 5.18445 16.0752 5.3009 16.5135 5.47101C16.9733 5.64404 17.3899 5.91541 17.7341 6.26605C18.0846 6.61029 18.356 7.02667 18.5288 7.48645C18.6993 7.9248 18.8157 8.4256 18.8492 9.15912C18.8828 9.89392 18.8906 10.1287 18.8906 12C18.8906 13.8713 18.8828 14.1061 18.8491 14.8409Z",fill:"currentColor"})]})}),(0,zo.jsx)("div",{className:"cursor-pointer",children:(0,zo.jsx)("svg",{className:"fill-current text-gray-800 hover:text-blue-500",width:"24",height:"25",viewBox:"0 0 24 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,zo.jsx)("path",{d:"M12.0027 0.554382C5.37441 0.554382 0 5.94525 0 12.5938C0 17.5224 2.9578 21.7577 7.18553 23.6228C7.15338 22.7843 7.18017 21.7739 7.39451 20.8602C7.62492 19.882 8.93771 14.2976 8.93771 14.2976C8.93771 14.2976 8.55191 13.529 8.55191 12.3949C8.55191 10.6105 9.58071 9.27759 10.8667 9.27759C11.9598 9.27759 12.4849 10.0999 12.4849 11.0835C12.4849 12.1853 11.783 13.83 11.424 15.3564C11.1239 16.6356 12.0616 17.6729 13.3208 17.6729C15.5928 17.6729 17.1253 14.7437 17.1253 11.2716C17.1253 8.63262 15.3516 6.66009 12.1313 6.66009C8.49297 6.66009 6.22103 9.38508 6.22103 12.4272C6.22103 13.4753 6.53181 14.217 7.01407 14.7867C7.23376 15.0501 7.26591 15.1576 7.18553 15.4585C7.12659 15.6789 6.99799 16.211 6.93905 16.426C6.85867 16.7324 6.61219 16.8398 6.33891 16.727C4.66176 16.039 3.87944 14.2008 3.87944 12.1262C3.87944 8.70786 6.75686 4.60694 12.4581 4.60694C17.0395 4.60694 20.0563 7.9339 20.0563 11.5027C20.0563 16.2271 17.436 19.753 13.578 19.753C12.2813 19.753 11.065 19.0489 10.647 18.2534C10.647 18.2534 9.95043 21.0268 9.8004 21.5642C9.54856 22.4941 9.05023 23.4185 8.59478 24.1441C9.6996 24.471 10.8454 24.6376 11.9973 24.6386C18.6256 24.6386 24 19.2477 24 12.5992C24 5.95062 18.6309 0.554382 12.0027 0.554382Z",fill:"currentColor"})})})]}),(0,zo.jsxs)("div",{className:"flex items-center mt-6",children:[(0,zo.jsxs)("p",{className:"text-base leading-4 text-gray-800",children:["2023 ",(0,zo.jsx)("span",{className:"font-semibold",children:"Housers"})]}),(0,zo.jsx)("div",{className:"border-l border-gray-800 pl-2 ml-2",children:(0,zo.jsx)("p",{className:"text-base leading-4 text-gray-800 hover:text-blue-500",children:(0,zo.jsx)("a",{href:"https://hadiraza.com/",target:"_blank",children:"Hadi Raza"})})})]})]})})};i.createRoot(document.getElementById("root")).render((0,zo.jsx)(Ch,{children:(0,zo.jsx)(Ro,{children:(0,zo.jsx)(yE,{children:(0,zo.jsx)(_T,{children:(0,zo.jsxs)(yL,{children:[(0,zo.jsx)(N_,{}),(0,zo.jsx)(UL,{}),(0,zo.jsx)(OL,{}),(0,zo.jsx)(HL,{})]})})})})}))}()}();
//# sourceMappingURL=main.c4ea42ff.js.map